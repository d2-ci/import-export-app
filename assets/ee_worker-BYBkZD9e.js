(function(){"use strict";const proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),throwMarker=Symbol("Comlink.thrown"),isObject=e=>typeof e=="object"&&e!==null||typeof e=="function",proxyTransferHandler={canHandle:e=>isObject(e)&&e[proxyMarker],serialize(e){const{port1:t,port2:n}=new MessageChannel;return expose(e,t),[n,[n]]},deserialize(e){return e.start(),wrap(e)}},throwTransferHandler={canHandle:e=>isObject(e)&&throwMarker in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function expose(e,t=self){t.addEventListener("message",function n(i){if(!i||!i.data)return;const{id:r,type:u,path:d}=Object.assign({path:[]},i.data),c=(i.data.argumentList||[]).map(fromWireValue);let v;try{const S=d.slice(0,-1).reduce((O,R)=>O[R],e),C=d.reduce((O,R)=>O[R],e);switch(u){case"GET":v=C;break;case"SET":S[d.slice(-1)[0]]=fromWireValue(i.data.value),v=!0;break;case"APPLY":v=C.apply(S,c);break;case"CONSTRUCT":{const O=new C(...c);v=proxy(O)}break;case"ENDPOINT":{const{port1:O,port2:R}=new MessageChannel;expose(e,R),v=transfer(O,[O])}break;case"RELEASE":v=void 0;break;default:return}}catch(S){v={value:S,[throwMarker]:0}}Promise.resolve(v).catch(S=>({value:S,[throwMarker]:0})).then(S=>{const[C,O]=toWireValue(S);t.postMessage(Object.assign(Object.assign({},C),{id:r}),O),u==="RELEASE"&&(t.removeEventListener("message",n),closeEndPoint(t))})}),t.start&&t.start()}function isMessagePort(e){return e.constructor.name==="MessagePort"}function closeEndPoint(e){isMessagePort(e)&&e.close()}function wrap(e,t){return createProxy(e,[],t)}function throwIfProxyReleased(e){if(e)throw new Error("Proxy has been released and is not useable")}function createProxy(e,t=[],n=function(){}){let i=!1;const r=new Proxy(n,{get(u,d){if(throwIfProxyReleased(i),d===releaseProxy)return()=>requestResponseMessage(e,{type:"RELEASE",path:t.map(c=>c.toString())}).then(()=>{closeEndPoint(e),i=!0});if(d==="then"){if(t.length===0)return{then:()=>r};const c=requestResponseMessage(e,{type:"GET",path:t.map(v=>v.toString())}).then(fromWireValue);return c.then.bind(c)}return createProxy(e,[...t,d])},set(u,d,c){throwIfProxyReleased(i);const[v,S]=toWireValue(c);return requestResponseMessage(e,{type:"SET",path:[...t,d].map(C=>C.toString()),value:v},S).then(fromWireValue)},apply(u,d,c){throwIfProxyReleased(i);const v=t[t.length-1];if(v===createEndpoint)return requestResponseMessage(e,{type:"ENDPOINT"}).then(fromWireValue);if(v==="bind")return createProxy(e,t.slice(0,-1));const[S,C]=processArguments(c);return requestResponseMessage(e,{type:"APPLY",path:t.map(O=>O.toString()),argumentList:S},C).then(fromWireValue)},construct(u,d){throwIfProxyReleased(i);const[c,v]=processArguments(d);return requestResponseMessage(e,{type:"CONSTRUCT",path:t.map(S=>S.toString()),argumentList:c},v).then(fromWireValue)}});return r}function myFlat(e){return Array.prototype.concat.apply([],e)}function processArguments(e){const t=e.map(toWireValue);return[t.map(n=>n[0]),myFlat(t.map(n=>n[1]))]}const transferCache=new WeakMap;function transfer(e,t){return transferCache.set(e,t),e}function proxy(e){return Object.assign(e,{[proxyMarker]:!0})}function toWireValue(e){for(const[t,n]of transferHandlers)if(n.canHandle(e)){const[i,r]=n.serialize(e);return[{type:"HANDLER",name:t,value:i},r]}return[{type:"RAW",value:e},transferCache.get(e)||[]]}function fromWireValue(e){switch(e.type){case"HANDLER":return transferHandlers.get(e.name).deserialize(e.value);case"RAW":return e.value}}function requestResponseMessage(e,t,n){return new Promise(i=>{const r=generateUUID();e.addEventListener("message",function u(d){!d.data||!d.data.id||d.data.id!==r||(e.removeEventListener("message",u),i(d.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:r},t),n)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},$jscomp.getGlobal=function(e){for(var t=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal],n=0;n<t.length;++n){var i=t[n];if(i&&i.Math==Math)return i}return function(){throw Error("Cannot find global object")}()},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$",$jscomp.polyfill=function(e,t,n,i){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,i):$jscomp.polyfillUnisolated(e,t,n,i))},$jscomp.polyfillUnisolated=function(e,t,n,i){for(var r=$jscomp.global,u=e.split("."),d=0;d<u.length-1;d++){var c=u[d];if(!(c in r))return;r=r[c]}var v=u[u.length-1],S=r[v],C=t(S);C!=S&&C!=null&&$jscomp.defineProperty(r,v,{configurable:!0,writable:!0,value:C})},$jscomp.polyfillIsolated=function(e,t,n,i){for(var r=e.split("."),u=r.length===1,d=r[0],c=!u&&(d in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,v=0;v<r.length-1;v++){var S=r[v];if(!(S in c))return;c=c[S]}var C=r[r.length-1],O=$jscomp.IS_SYMBOL_NATIVE&&n==="es6"?c[C]:null,R=t(O);if(R!=null){if(u)$jscomp.defineProperty($jscomp.polyfills,C,{configurable:!0,writable:!0,value:R});else if(R!==O){if($jscomp.propertyToPolyfillSymbol[C]===void 0){var H=1e9*Math.random()>>>0;$jscomp.propertyToPolyfillSymbol[C]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(C):$jscomp.POLYFILL_PREFIX+H+"$"+C}$jscomp.defineProperty(c,$jscomp.propertyToPolyfillSymbol[C],{configurable:!0,writable:!0,value:R})}}},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(e){if(e)return e;var t=function(u,d){this.$jscomp$symbol$id_=u,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0,r=function(u){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new t(n+(u||"")+"_"+i++,u)};return r},"es6","es3"),$jscomp.polyfill("Symbol.iterator",function(e){if(e)return e;for(var t=Symbol("Symbol.iterator"),n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var r=$jscomp.global[n[i]];typeof r=="function"&&typeof r.prototype[t]!="function"&&$jscomp.defineProperty(r.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t},"es6","es3"),$jscomp.iteratorPrototype=function(e){var t={next:e};return t[Symbol.iterator]=function(){return this},t},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},$jscomp.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.getConstructImplementation=function(){function e(){function n(){}return Reflect.construct(n,[],function(){}),new n instanceof n}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(n,i,r){var u=t(n,i);return r&&Reflect.setPrototypeOf(u,r.prototype),u}}return function(i,r,u){u===void 0&&(u=i);var d=$jscomp.objectCreate(u.prototype||Object.prototype);return Function.prototype.apply.call(i,d,r)||d}},$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf(),$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(e,t)}else for(var i in t)if(i!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,i);r&&Object.defineProperty(e,i,r)}else e[i]=t[i];e.superClass_=t.prototype},$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,t){var n=$jscomp.makeIterator(e),i=n.next();if($jscomp.generator.ensureIteratorResultIsObject_(i),i.done)this.yieldResult=i.value,this.nextAddress=t;else return this.yieldAllIterator_=n,this.yield(i.value,t)},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;var t=this.abruptCompletion_.exception;return this.abruptCompletion_=null,t},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,t,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,t){var n=this.finallyContexts_.splice(t||0)[0],i=this.abruptCompletion_=this.abruptCompletion_||n;if(i){if(i.isException)return this.jumpToErrorHandler_();i.jumpTo!=null&&this.finallyAddress_<i.jumpTo?(this.nextAddress=i.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(n){return{value:n,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,t,n){try{var i=e.call(this.context_.yieldAllIterator_,t);if($jscomp.generator.ensureIteratorResultIsObject_(i),!i.done)return this.context_.stop_(),i;var r=i.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}return this.context_.yieldAllIterator_=null,n.call(this.context_,r),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(n){this.context_.yieldResult=void 0,this.context_.throw_(n)}if(this.context_.stop_(),this.context_.abruptCompletion_){var t=this.context_.abruptCompletion_;if(this.context_.abruptCompletion_=null,t.isException)throw t.exception;return{value:t.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,t){var n=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(t));return $jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(n,e.prototype),n},$jscomp.asyncExecutePromiseGenerator=function(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function u(d){d.done?i(d.value):Promise.resolve(d.value).then(t,n).then(u,r)}u(e.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},$jscomp.polyfill("Reflect",function(e){return e||{}},"es6","es3"),$jscomp.polyfill("Reflect.construct",function(e){return $jscomp.construct},"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(n,i){try{return t(n,i),!0}catch{return!1}}}return null},"es6","es5"),$jscomp.polyfill("Promise",function(e){function t(){return typeof $jscomp.global.PromiseRejectionEvent<"u"}function n(){return $jscomp.global.Promise&&$jscomp.global.Promise.toString().indexOf("[native code]")!==-1}function i(){return($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&!t())&&n()}function r(){this.batch_=null}function u(O){switch(typeof O){case"object":return O!=null;case"function":return!0;default:return!1}}function d(O){return O instanceof S?O:new S(function(R,H){R(O)})}if(e&&!i())return e;r.prototype.asyncExecute=function(O){if(this.batch_==null){this.batch_=[];var R=this;this.asyncExecuteFunction(function(){R.executeBatch_()})}this.batch_.push(O)};var c=$jscomp.global.setTimeout;r.prototype.asyncExecuteFunction=function(O){c(O,0)},r.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var O=this.batch_;this.batch_=[];for(var R=0;R<O.length;++R){var H=O[R];O[R]=null;try{H()}catch(K){this.asyncThrow_(K)}}}this.batch_=null},r.prototype.asyncThrow_=function(O){this.asyncExecuteFunction(function(){throw O})};var v={PENDING:0,FULFILLED:1,REJECTED:2},S=function(O){this.state_=v.PENDING,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var R=this.createResolveAndReject_();try{O(R.resolve,R.reject)}catch(H){R.reject(H)}};S.prototype.createResolveAndReject_=function(){function O(K){return function(le){H||(H=!0,K.call(R,le))}}var R=this,H=!1;return{resolve:O(this.resolveTo_),reject:O(this.reject_)}},S.prototype.resolveTo_=function(O){O===this?this.reject_(new TypeError("A Promise cannot resolve to itself")):O instanceof S?this.settleSameAsPromise_(O):u(O)?this.resolveToNonPromiseObj_(O):this.fulfill_(O)},S.prototype.resolveToNonPromiseObj_=function(O){var R=void 0;try{R=O.then}catch(H){this.reject_(H);return}typeof R=="function"?this.settleSameAsThenable_(R,O):this.fulfill_(O)},S.prototype.reject_=function(O){this.settle_(v.REJECTED,O)},S.prototype.fulfill_=function(O){this.settle_(v.FULFILLED,O)},S.prototype.settle_=function(O,R){if(this.state_!=v.PENDING)throw Error("Cannot settle("+O+", "+R+"): Promise already settled in state"+this.state_);this.state_=O,this.result_=R,this.state_===v.REJECTED&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},S.prototype.scheduleUnhandledRejectionCheck_=function(){var O=this;c(function(){if(O.notifyUnhandledRejection_()){var R=$jscomp.global.console;typeof R<"u"&&R.error(O.result_)}},1)},S.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var O=$jscomp.global.CustomEvent,R=$jscomp.global.Event,H=$jscomp.global.dispatchEvent;if(typeof H>"u")return!0;if(typeof O=="function")var K=new O("unhandledrejection",{cancelable:!0});else typeof R=="function"?K=new R("unhandledrejection",{cancelable:!0}):(K=$jscomp.global.document.createEvent("CustomEvent"),K.initCustomEvent("unhandledrejection",!1,!0,K));return K.promise=this,K.reason=this.result_,H(K)},S.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var O=0;O<this.onSettledCallbacks_.length;++O)C.asyncExecute(this.onSettledCallbacks_[O]);this.onSettledCallbacks_=null}};var C=new r;return S.prototype.settleSameAsPromise_=function(O){var R=this.createResolveAndReject_();O.callWhenSettled_(R.resolve,R.reject)},S.prototype.settleSameAsThenable_=function(O,R){var H=this.createResolveAndReject_();try{O.call(R,H.resolve,H.reject)}catch(K){H.reject(K)}},S.prototype.then=function(O,R){function H(ye,xe){return typeof ye=="function"?function(Pe){try{K(ye(Pe))}catch(Re){le(Re)}}:xe}var K,le,fe=new S(function(ye,xe){K=ye,le=xe});return this.callWhenSettled_(H(O,K),H(R,le)),fe},S.prototype.catch=function(O){return this.then(void 0,O)},S.prototype.callWhenSettled_=function(O,R){function H(){switch(K.state_){case v.FULFILLED:O(K.result_);break;case v.REJECTED:R(K.result_);break;default:throw Error("Unexpected state: "+K.state_)}}var K=this;this.onSettledCallbacks_==null?C.asyncExecute(H):this.onSettledCallbacks_.push(H),this.isRejectionHandled_=!0},S.resolve=d,S.reject=function(O){return new S(function(R,H){H(O)})},S.race=function(O){return new S(function(R,H){for(var K=$jscomp.makeIterator(O),le=K.next();!le.done;le=K.next())d(le.value).callWhenSettled_(R,H)})},S.all=function(O){var R=$jscomp.makeIterator(O),H=R.next();return H.done?d([]):new S(function(K,le){function fe(Pe){return function(Re){ye[Pe]=Re,xe--,xe==0&&K(ye)}}var ye=[],xe=0;do ye.push(void 0),xe++,d(H.value).callWhenSettled_(fe(ye.length-1),le),H=R.next();while(!H.done)})},S},"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new $jscomp.global.Proxy(e,{get:function(n,i,r){return n==e&&i=="q"&&r==t}}));return t.q===!0}catch{return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$jscomp.polyfill("WeakMap",function(e){function t(){if(!e||!Object.seal)return!1;try{var S=Object.seal({}),C=Object.seal({}),O=new e([[S,2],[C,3]]);return O.get(S)!=2||O.get(C)!=3?!1:(O.delete(S),O.set(C,4),!O.has(S)&&O.get(C)==4)}catch{return!1}}function n(){}function i(S){var C=typeof S;return C==="object"&&S!==null||C==="function"}function r(S){if(!$jscomp.owns(S,d)){var C=new n;$jscomp.defineProperty(S,d,{value:C})}}function u(S){if(!$jscomp.ISOLATE_POLYFILLS){var C=Object[S];C&&(Object[S]=function(O){return O instanceof n?O:(Object.isExtensible(O)&&r(O),C(O))})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var d="$jscomp_hidden_"+Math.random();u("freeze"),u("preventExtensions"),u("seal");var c=0,v=function(S){if(this.id_=(c+=Math.random()+1).toString(),S)for(var C=$jscomp.makeIterator(S),O;!(O=C.next()).done;){var R=O.value;this.set(R[0],R[1])}};return v.prototype.set=function(S,C){if(!i(S))throw Error("Invalid WeakMap key");if(r(S),!$jscomp.owns(S,d))throw Error("WeakMap key fail: "+S);return S[d][this.id_]=C,this},v.prototype.get=function(S){return i(S)&&$jscomp.owns(S,d)?S[d][this.id_]:void 0},v.prototype.has=function(S){return i(S)&&$jscomp.owns(S,d)&&$jscomp.owns(S[d],this.id_)},v.prototype.delete=function(S){return i(S)&&$jscomp.owns(S,d)&&$jscomp.owns(S[d],this.id_)?delete S[d][this.id_]:!1},v},"es6","es3"),$jscomp.MapEntry=function(){},$jscomp.polyfill("Map",function(e){function t(){if($jscomp.ASSUME_NO_NATIVE_MAP||!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var S=Object.seal({x:4}),C=new e($jscomp.makeIterator([[S,"s"]]));if(C.get(S)!="s"||C.size!=1||C.get({x:4})||C.set({x:4},"t")!=C||C.size!=2)return!1;var O=C.entries(),R=O.next();return R.done||R.value[0]!=S||R.value[1]!="s"?!1:(R=O.next(),!(R.done||R.value[0].x!=4||R.value[1]!="t"||!O.next().done))}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var n=new WeakMap,i=function(S){if(this.data_={},this.head_=d(),this.size=0,S)for(var C=$jscomp.makeIterator(S),O;!(O=C.next()).done;){var R=O.value;this.set(R[0],R[1])}};i.prototype.set=function(S,C){S=S===0?0:S;var O=r(this,S);return O.list||(O.list=this.data_[O.id]=[]),O.entry?O.entry.value=C:(O.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:S,value:C},O.list.push(O.entry),this.head_.previous.next=O.entry,this.head_.previous=O.entry,this.size++),this},i.prototype.delete=function(S){var C=r(this,S);return C.entry&&C.list?(C.list.splice(C.index,1),C.list.length||delete this.data_[C.id],C.entry.previous.next=C.entry.next,C.entry.next.previous=C.entry.previous,C.entry.head=null,this.size--,!0):!1},i.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=d(),this.size=0},i.prototype.has=function(S){return!!r(this,S).entry},i.prototype.get=function(S){var C=r(this,S).entry;return C&&C.value},i.prototype.entries=function(){return u(this,function(S){return[S.key,S.value]})},i.prototype.keys=function(){return u(this,function(S){return S.key})},i.prototype.values=function(){return u(this,function(S){return S.value})},i.prototype.forEach=function(S,C){for(var O=this.entries(),R;!(R=O.next()).done;){var H=R.value;S.call(C,H[1],H[0],this)}},i.prototype[Symbol.iterator]=i.prototype.entries;var r=function(S,C){var O=v(C),R=S.data_[O];if(R&&$jscomp.owns(S.data_,O))for(var H=0;H<R.length;H++){var K=R[H];if(C!==C&&K.key!==K.key||C===K.key)return{id:O,list:R,index:H,entry:K}}return{id:O,list:R,index:-1,entry:void 0}},u=function(S,C){var O=S.head_;return $jscomp.iteratorPrototype(function(){if(O){for(;O.head!=S.head_;)O=O.previous;for(;O.next!=O.head;)return O=O.next,{done:!1,value:C(O)};O=null}return{done:!0,value:void 0}})},d=function(){var S={};return S.previous=S.next=S.head=S},c=0,v=function(S){var C=S&&typeof S;if(C=="object"||C=="function"){if(!n.has(S)){var O=""+ ++c;return n.set(S,O),O}return n.get(S)}return"p_"+S};return i},"es6","es3"),$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var u=e[r];if(t.call(n,u,r,e))return{i:r,v:u}}return{i:-1,v:void 0}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(t,n){return $jscomp.findInternal(this,t,n).v}},"es6","es3"),$jscomp.checkStringArgs=function(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(t){var n=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}},"es6","es3"),$jscomp.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var u=n++;return{value:t(u,e[u]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6","es3"),$jscomp.polyfill("Array.from",function(e){return e||function(t,n,i){n=n??function(C){return C};var r=[],u=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof u=="function"){t=u.call(t);for(var d,c=0;!(d=t.next()).done;)r.push(n.call(i,d.value,c++))}else for(var v=t.length,S=0;S<v;S++)r.push(n.call(i,t[S],S));return r}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,n){return n})}},"es8","es3"),$jscomp.polyfill("Object.setPrototypeOf",function(e){return e||$jscomp.setPrototypeOf},"es6","es5"),$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)$jscomp.owns(i,r)&&(e[r]=i[r])}return e},$jscomp.polyfill("Object.assign",function(e){return e||$jscomp.assign},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(t,n){var i=$jscomp.checkStringArgs(this,t,"endsWith");t+="",n===void 0&&(n=i.length);for(var r=Math.max(0,Math.min(n|0,i.length)),u=t.length;0<u&&0<r;)if(i[--r]!=t[--u])return!1;return 0>=u}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(t,n){var i=$jscomp.checkStringArgs(this,t,"startsWith");t+="";for(var r=i.length,u=t.length,d=Math.max(0,Math.min(n|0,i.length)),c=0;c<u&&d<r;)if(i[d++]!=t[c++])return!1;return c>=u}},"es6","es3"),$jscomp.polyfill("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)$jscomp.owns(t,i)&&n.push([i,t[i]]);return n}},"es8","es3"),$jscomp.polyfill("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length,u=n||0;for(0>u&&(u=Math.max(u+r,0));u<r;u++){var d=i[u];if(d===t||Object.is(d,t))return!0}return!1}},"es7","es3"),$jscomp.polyfill("String.prototype.includes",function(e){return e||function(t,n){return $jscomp.checkStringArgs(this,t,"includes").indexOf(t,n||0)!==-1}},"es6","es3"),$jscomp.polyfill("String.prototype.trimLeft",function(e){function t(){return this.replace(/^[\s\xa0]+/,"")}return e||t},"es_2019","es3"),$jscomp.polyfill("Array.prototype.entries",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(t,n){return[t,n]})}},"es6","es3"),$jscomp.polyfill("Set",function(e){function t(){if($jscomp.ASSUME_NO_NATIVE_SET||!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var i=Object.seal({x:4}),r=new e($jscomp.makeIterator([i]));if(!r.has(i)||r.size!=1||r.add(i)!=r||r.size!=1||r.add({x:4})!=r||r.size!=2)return!1;var u=r.entries(),d=u.next();return d.done||d.value[0]!=i||d.value[1]!=i?!1:(d=u.next(),d.done||d.value[0]==i||d.value[0].x!=4||d.value[1]!=d.value[0]?!1:u.next().done)}catch{return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&$jscomp.ES6_CONFORMANCE)return e}else if(t())return e;var n=function(i){if(this.map_=new Map,i)for(var r=$jscomp.makeIterator(i),u;!(u=r.next()).done;)this.add(u.value);this.size=this.map_.size};return n.prototype.add=function(i){return i=i===0?0:i,this.map_.set(i,i),this.size=this.map_.size,this},n.prototype.delete=function(i){var r=this.map_.delete(i);return this.size=this.map_.size,r},n.prototype.clear=function(){this.map_.clear(),this.size=0},n.prototype.has=function(i){return this.map_.has(i)},n.prototype.entries=function(){return this.map_.entries()},n.prototype.values=function(){return this.map_.values()},n.prototype.keys=n.prototype.values,n.prototype[Symbol.iterator]=n.prototype.values,n.prototype.forEach=function(i,r){var u=this;this.map_.forEach(function(d){return i.call(r,d,d,u)})},n},"es6","es3"),$jscomp.polyfill("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)$jscomp.owns(t,i)&&n.push(t[i]);return n}},"es8","es3"),$jscomp.stringPadding=function(e,t){var n=e!==void 0?String(e):" ";return 0<t&&n?n.repeat(Math.ceil(t/n.length)).substring(0,t):""},$jscomp.polyfill("String.prototype.padStart",function(e){return e||function(t,n){var i=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(n,t-i.length)+i}},"es8","es3");var goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(e,t,n,i){var r=e.split("."),u=i||goog.global;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)if(r.length||t===void 0)u=u[d]&&u[d]!==Object.prototype[d]?u[d]:u[d]={};else if(!n&&goog.isObject(t)&&goog.isObject(u[d]))for(var c in t)t.hasOwnProperty(c)&&(u[d][c]=t[c]);else u[d]=t},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.getLocale=function(){return goog.LOCALE},goog.TRUSTED_SITE=!0,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t,n){goog.exportPath_(e,t,n)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.getScriptNonce_=function(e){var t=(e||goog.global).document,n=t.querySelector&&t.querySelector("script[nonce]");if(n){var i=n.nonce||n.getAttribute("nonce");if(i&&goog.NONCE_PATTERN_.test(i))return i}return""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(typeof e!="string"||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return e?typeof e.getCurrentModulePath!="function"?!1:!!e.getCurrentModulePath():!1},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||typeof t.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');var n=t.require(t.getCurrentModulePath());goog.loadedModules_[e]={exports:n,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){for(var n=e.split("."),i=t||goog.global,r=0;r<n.length;r++)if(i=i[n[r]],i==null)return null;return i},goog.addDependency=function(e,t,n,i){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.TRUSTED_TYPES_POLICY_NAME="goog",goog.hasBadLetScoping=null,goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var n={},i=n;if(typeof e=="function")i=e.call(void 0,i);else if(typeof e=="string")i=goog.loadModuleFromSource_.call(void 0,i,e);else throw Error("Invalid module definition");var r=goog.moduleLoaderState_.moduleName;if(typeof r=="string"&&r)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,i,n!==i):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof i=="object"&&i!=null&&Object.seal(i),goog.loadedModules_[r]={exports:i,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+r+'"')}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(exports,JSCompiler_OptimizeArgumentsArray_p0){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(JSCompiler_OptimizeArgumentsArray_p0)),exports},goog.normalizePath_=function(e){for(var t=e.split("/"),n=0;n<t.length;)t[n]=="."?t.splice(n,1):n&&t[n]==".."&&t[n-1]&&t[n-1]!=".."?t.splice(--n,2):n++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.status==0||t.status==200?t.responseText:null}catch{return null}},goog.transpile_=function(e,t,n){var i=goog.global.$jscomp;i||(goog.global.$jscomp=i={});var r=i.transpile;if(!r){var u=goog.basePath+goog.TRANSPILER,d=goog.loadFileSync_(u);if(d){if((function(){(0,eval)(d+`
//# sourceURL=`+u)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=goog.global.$jscomp,r=i.transpile}}if(!r){var c=" requires transpilation but no transpiler was found.";c+=' Please add "//javascript/closure:transpiler" as a data dependency to ensure it is included.',r=i.transpile=function(v,S){return goog.logToConsole_(S+c),v}}return r(e,t,n)},goog.typeOf=function(e){var t=typeof e;return t!="object"?t:e?Array.isArray(e)?"array":t:"null"},goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);var n=t=="array"?[]:{},i;for(i in e)n[i]=goog.cloneObject(e[i]);return n}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=function(){return Date.now()},goog.globalEval=function(e){(0,eval)(e)},goog.getCssName=function(e,t){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(d){return goog.cssNameMapping_[d]||d},i=function(d){for(var c=d.split("-"),v=[],S=0;S<c.length;S++)v.push(n(c[S]));return v.join("-")},r=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?n:i:function(d){return d},u=t?e+"-"+r(t):r(e);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(u):u},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,n){return n&&n.html&&(e=e.replace(/</g,"&lt;")),n&&n.unescapeHtmlEntities&&(e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(i,r){return t!=null&&r in t?t[r]:i})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,!0,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(i,r,u){for(var d=Array(arguments.length-2),c=2;c<arguments.length;c++)d[c-2]=arguments[c];return t.prototype[r].apply(i,d)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var n=t.constructor,i=t.statics;n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")});var r=goog.defineClass.createSealingConstructor_(n,e);return e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),i!=null&&(i instanceof Function?i(r):goog.defineClass.applyProperties_(r,i)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var n=e.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],n}:e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,n=goog.global.trustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(i){goog.logToConsole_(i.message)}return t};function module$contents$goog$dispose_dispose(e){e&&typeof e.dispose=="function"&&e.dispose()}goog.dispose=module$contents$goog$dispose_dispose;function module$contents$goog$disposeAll_disposeAll(e){for(var t=0,n=arguments.length;t<n;++t){var i=arguments[t];goog.isArrayLike(i)?module$contents$goog$disposeAll_disposeAll.apply(null,i):module$contents$goog$dispose_dispose(i)}}goog.disposeAll=module$contents$goog$disposeAll_disposeAll,goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e=[],t;for(t in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(t)&&e.push(goog.Disposable.instances_[Number(t)]);return e},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(module$contents$goog$dispose_dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?t!==void 0?e.call(t):e():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(t!==void 0?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&typeof e.isDisposed=="function"?e.isDisposed():!1},goog.events={},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1},goog.events.Event.prototype.hasPropagationStopped=function(){return this.propagationStopped_},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.debug={};function module$contents$goog$debug$Error_DebugError(e,t){if(Error.captureStackTrace)Error.captureStackTrace(this,module$contents$goog$debug$Error_DebugError);else{var n=Error().stack;n&&(this.stack=n)}e&&(this.message=String(e)),t!==void 0&&(this.cause=t),this.reportErrorToServer=!0}goog.inherits(module$contents$goog$debug$Error_DebugError,Error),module$contents$goog$debug$Error_DebugError.prototype.name="CustomError",goog.debug.Error=module$contents$goog$debug$Error_DebugError,goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){module$contents$goog$debug$Error_DebugError.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,module$contents$goog$debug$Error_DebugError),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var n=e.split("%s"),i="",r=n.length-1,u=0;u<r;u++)i+=n[u]+(u<t.length?t[u]:"%s");return i+n[r]},goog.asserts.doAssertFailure_=function(e,t,n,i){var r="Assertion failed";if(n){r+=": "+n;var u=i}else e&&(r+=": "+e,u=t);var d=new goog.asserts.AssertionError(""+r,u||[]);goog.asserts.errorHandler_(d)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&e==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="function"&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&typeof e!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,i){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.debug.entryPointRegistry={},goog.debug.entryPointRegistry.EntryPointMonitor=function(){},goog.debug.EntryPointMonitor=goog.debug.entryPointRegistry.EntryPointMonitor,goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,n=0;n<t.length;n++)e(goog.bind(t[n].wrap,t[n]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");for(var n=goog.bind(e.unwrap,e),i=0;i<goog.debug.entryPointRegistry.refList_.length;i++)goog.debug.entryPointRegistry.refList_[i](n);t.length--},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;var module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.ASSUME_NATIVE_FUNCTIONS=module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;function module$contents$goog$array_peek(e){return e[e.length-1]}goog.array.peek=module$contents$goog$array_peek,goog.array.last=module$contents$goog$array_peek;var module$contents$goog$array_indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){var i=n==null?0:0>n?Math.max(0,e.length+n):n;if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,i);for(var r=i;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1};goog.array.indexOf=module$contents$goog$array_indexOf;var module$contents$goog$array_lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,t,n??e.length-1)}:function(e,t,n){var i=n??e.length-1;if(0>i&&(i=Math.max(0,e.length+i)),typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.lastIndexOf(t,i);for(var r=i;0<=r;r--)if(r in e&&e[r]===t)return r;return-1};goog.array.lastIndexOf=module$contents$goog$array_lastIndexOf;var module$contents$goog$array_forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,n){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in r&&t.call(n,r[u],u,e)};goog.array.forEach=module$contents$goog$array_forEach;function module$contents$goog$array_forEachRight(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=i-1;0<=u;--u)u in r&&t.call(n,r[u],u,e)}goog.array.forEachRight=module$contents$goog$array_forEachRight;var module$contents$goog$array_filter=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=[],u=0,d=typeof e=="string"?e.split(""):e,c=0;c<i;c++)if(c in d){var v=d[c];t.call(n,v,c,e)&&(r[u++]=v)}return r};goog.array.filter=module$contents$goog$array_filter;var module$contents$goog$array_map=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=Array(i),u=typeof e=="string"?e.split(""):e,d=0;d<i;d++)d in u&&(r[d]=t.call(n,u[d],d,e));return r};goog.array.map=module$contents$goog$array_map,goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,n,i){return goog.asserts.assert(e.length!=null),i&&(t=goog.bind(t,i)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,i){var r=n;return module$contents$goog$array_forEach(e,function(u,d){r=t.call(i,r,u,d,e)}),r},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,n,i){return goog.asserts.assert(e.length!=null),goog.asserts.assert(t!=null),i&&(t=goog.bind(t,i)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,i){var r=n;return module$contents$goog$array_forEachRight(e,function(u,d){r=t.call(i,r,u,d,e)}),r};var module$contents$goog$array_some=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<i;u++)if(u in r&&t.call(n,r[u],u,e))return!0;return!1};goog.array.some=module$contents$goog$array_some;var module$contents$goog$array_every=goog.NATIVE_ARRAY_PROTOTYPES&&(module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,n){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<i;u++)if(u in r&&!t.call(n,r[u],u,e))return!1;return!0};goog.array.every=module$contents$goog$array_every;function module$contents$goog$array_count(e,t,n){var i=0;return module$contents$goog$array_forEach(e,function(r,u,d){t.call(n,r,u,d)&&++i},n),i}goog.array.count=module$contents$goog$array_count;function module$contents$goog$array_find(e,t,n){var i=module$contents$goog$array_findIndex(e,t,n);return 0>i?null:typeof e=="string"?e.charAt(i):e[i]}goog.array.find=module$contents$goog$array_find;function module$contents$goog$array_findIndex(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=0;u<i;u++)if(u in r&&t.call(n,r[u],u,e))return u;return-1}goog.array.findIndex=module$contents$goog$array_findIndex,goog.array.findRight=function e(t,n,i){var r=module$contents$goog$array_findIndexRight(t,n,i);return 0>r?null:typeof t=="string"?t.charAt(r):t[r]};function module$contents$goog$array_findIndexRight(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,u=i-1;0<=u;u--)if(u in r&&t.call(n,r[u],u,e))return u;return-1}goog.array.findIndexRight=module$contents$goog$array_findIndexRight;function module$contents$goog$array_contains(e,t){return 0<=module$contents$goog$array_indexOf(e,t)}goog.array.contains=module$contents$goog$array_contains;function module$contents$goog$array_isEmpty(e){return e.length==0}goog.array.isEmpty=module$contents$goog$array_isEmpty;function module$contents$goog$array_clear(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}goog.array.clear=module$contents$goog$array_clear,goog.array.insert=function e(t,n){module$contents$goog$array_contains(t,n)||t.push(n)};function module$contents$goog$array_insertAt(e,t,n){module$contents$goog$array_splice(e,n,0,t)}goog.array.insertAt=module$contents$goog$array_insertAt,goog.array.insertArrayAt=function e(t,n,i){goog.partial(module$contents$goog$array_splice,t,i,0).apply(null,n)},goog.array.insertBefore=function e(t,n,i){var r;arguments.length==2||0>(r=module$contents$goog$array_indexOf(t,i))?t.push(n):module$contents$goog$array_insertAt(t,n,r)};function module$contents$goog$array_remove(e,t){var n=module$contents$goog$array_indexOf(e,t),i;return(i=0<=n)&&module$contents$goog$array_removeAt(e,n),i}goog.array.remove=module$contents$goog$array_remove;function module$contents$goog$array_removeLast(e,t){var n=module$contents$goog$array_lastIndexOf(e,t);return 0<=n?(module$contents$goog$array_removeAt(e,n),!0):!1}goog.array.removeLast=module$contents$goog$array_removeLast;function module$contents$goog$array_removeAt(e,t){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,t,1).length==1}goog.array.removeAt=module$contents$goog$array_removeAt,goog.array.removeIf=function e(t,n,i){var r=module$contents$goog$array_findIndex(t,n,i);return 0<=r?(module$contents$goog$array_removeAt(t,r),!0):!1},goog.array.removeAllIf=function e(t,n,i){var r=0;return module$contents$goog$array_forEachRight(t,function(u,d){n.call(i,u,d,t)&&module$contents$goog$array_removeAt(t,d)&&r++}),r};function module$contents$goog$array_concat(e){return Array.prototype.concat.apply([],arguments)}goog.array.concat=module$contents$goog$array_concat,goog.array.join=function e(t){return Array.prototype.concat.apply([],arguments)};function module$contents$goog$array_toArray(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}goog.array.toArray=module$contents$goog$array_toArray,goog.array.clone=module$contents$goog$array_toArray;function module$contents$goog$array_extend(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(goog.isArrayLike(i)){var r=e.length||0,u=i.length||0;e.length=r+u;for(var d=0;d<u;d++)e[r+d]=i[d]}else e.push(i)}}goog.array.extend=module$contents$goog$array_extend;function module$contents$goog$array_splice(e,t,n,i){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,module$contents$goog$array_slice(arguments,1))}goog.array.splice=module$contents$goog$array_splice;function module$contents$goog$array_slice(e,t,n){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}goog.array.slice=module$contents$goog$array_slice;function module$contents$goog$array_removeDuplicates(e,t,n){for(var i=t||e,r=function(O){return goog.isObject(O)?"o"+goog.getUid(O):(typeof O).charAt(0)+O},u=n||r,d=0,c=0,v={};c<e.length;){var S=e[c++],C=u(S);Object.prototype.hasOwnProperty.call(v,C)||(v[C]=!0,i[d++]=S)}i.length=d}goog.array.removeDuplicates=module$contents$goog$array_removeDuplicates;function module$contents$goog$array_binarySearch(e,t,n){return module$contents$goog$array_binarySearch_(e,n||module$contents$goog$array_defaultCompare,!1,t)}goog.array.binarySearch=module$contents$goog$array_binarySearch,goog.array.binarySelect=function e(t,n,i){return module$contents$goog$array_binarySearch_(t,n,!0,void 0,i)};function module$contents$goog$array_binarySearch_(e,t,n,i,r){for(var u=0,d=e.length,c;u<d;){var v=u+(d-u>>>1),S=void 0;S=n?t.call(r,e[v],v,e):t(i,e[v]),0<S?u=v+1:(d=v,c=!S)}return c?u:-u-1}function module$contents$goog$array_sort(e,t){e.sort(t||module$contents$goog$array_defaultCompare)}goog.array.sort=module$contents$goog$array_sort,goog.array.stableSort=function e(t,n){for(var i=Array(t.length),r=0;r<t.length;r++)i[r]={index:r,value:t[r]};var u=n||module$contents$goog$array_defaultCompare;module$contents$goog$array_sort(i,function(v,S){return u(v.value,S.value)||v.index-S.index});for(var d=0;d<t.length;d++)t[d]=i[d].value};function module$contents$goog$array_sortByKey(e,t,n){var i=n||module$contents$goog$array_defaultCompare;module$contents$goog$array_sort(e,function(r,u){return i(t(r),t(u))})}goog.array.sortByKey=module$contents$goog$array_sortByKey,goog.array.sortObjectsByKey=function e(t,n,i){module$contents$goog$array_sortByKey(t,function(r){return r[n]},i)};function module$contents$goog$array_isSorted(e,t,n){for(var i=t||module$contents$goog$array_defaultCompare,r=1;r<e.length;r++){var u=i(e[r-1],e[r]);if(0<u||u==0&&n)return!1}return!0}goog.array.isSorted=module$contents$goog$array_isSorted;function module$contents$goog$array_equals(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var i=e.length,r=n||module$contents$goog$array_defaultCompareEquality,u=0;u<i;u++)if(!r(e[u],t[u]))return!1;return!0}goog.array.equals=module$contents$goog$array_equals,goog.array.compare3=function e(t,n,i){for(var r=i||module$contents$goog$array_defaultCompare,u=Math.min(t.length,n.length),d=0;d<u;d++){var c=r(t[d],n[d]);if(c!=0)return c}return module$contents$goog$array_defaultCompare(t.length,n.length)};function module$contents$goog$array_defaultCompare(e,t){return e>t?1:e<t?-1:0}goog.array.defaultCompare=module$contents$goog$array_defaultCompare,goog.array.inverseDefaultCompare=function e(t,n){return-module$contents$goog$array_defaultCompare(t,n)};function module$contents$goog$array_defaultCompareEquality(e,t){return e===t}goog.array.defaultCompareEquality=module$contents$goog$array_defaultCompareEquality,goog.array.binaryInsert=function e(t,n,i){var r=module$contents$goog$array_binarySearch(t,n,i);return 0>r?(module$contents$goog$array_insertAt(t,n,-(r+1)),!0):!1},goog.array.binaryRemove=function e(t,n,i){var r=module$contents$goog$array_binarySearch(t,n,i);return 0<=r?module$contents$goog$array_removeAt(t,r):!1},goog.array.bucket=function e(t,n,i){for(var r={},u=0;u<t.length;u++){var d=t[u],c=n.call(i,d,u,t);c!==void 0&&(r[c]||(r[c]=[])).push(d)}return r},goog.array.bucketToMap=function e(t,n){for(var i=new Map,r=0;r<t.length;r++){var u=t[r],d=n(u,r,t);if(d!==void 0){var c=i.get(d);c||(c=[],i.set(d,c)),c.push(u)}}return i},goog.array.toObject=function e(t,n,i){var r={};return module$contents$goog$array_forEach(t,function(u,d){r[n.call(i,u,d,t)]=u}),r},goog.array.toMap=function e(t,n){for(var i=new Map,r=0;r<t.length;r++){var u=t[r];i.set(n(u,r,t),u)}return i};function module$contents$goog$array_range(e,t,n){var i=[],r=0,u=e,d=n||1;if(t!==void 0&&(r=e,u=t),0>d*(u-r))return[];if(0<d)for(var c=r;c<u;c+=d)i.push(c);else for(var v=r;v>u;v+=d)i.push(v);return i}goog.array.range=module$contents$goog$array_range;function module$contents$goog$array_repeat(e,t){for(var n=[],i=0;i<t;i++)n[i]=e;return n}goog.array.repeat=module$contents$goog$array_repeat;function module$contents$goog$array_flatten(e){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(Array.isArray(i))for(var r=0;r<i.length;r+=8192)for(var u=module$contents$goog$array_slice(i,r,r+8192),d=module$contents$goog$array_flatten.apply(null,u),c=0;c<d.length;c++)t.push(d[c]);else t.push(i)}return t}goog.array.flatten=module$contents$goog$array_flatten,goog.array.rotate=function e(t,n){return goog.asserts.assert(t.length!=null),t.length&&(n%=t.length,0<n?Array.prototype.unshift.apply(t,t.splice(-n,n)):0>n&&Array.prototype.push.apply(t,t.splice(0,-n))),t},goog.array.moveItem=function e(t,n,i){goog.asserts.assert(0<=n&&n<t.length),goog.asserts.assert(0<=i&&i<t.length);var r=Array.prototype.splice.call(t,n,1);Array.prototype.splice.call(t,i,0,r[0])},goog.array.zip=function e(t){if(!arguments.length)return[];for(var n=[],i=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<i&&(i=arguments[r].length);for(var u=0;u<i;u++){for(var d=[],c=0;c<arguments.length;c++)d.push(arguments[c][u]);n.push(d)}return n},goog.array.shuffle=function e(t,n){for(var i=n||Math.random,r=t.length-1;0<r;r--){var u=Math.floor(i()*(r+1)),d=t[r];t[r]=t[u],t[u]=d}},goog.array.copyByIndex=function e(t,n){var i=[];return module$contents$goog$array_forEach(n,function(r){i.push(t[r])}),i},goog.array.concatMap=function e(t,n,i){return module$contents$goog$array_concat.apply([],module$contents$goog$array_map(t,n,i))},goog.debug.errorcontext={},goog.debug.errorcontext.addErrorContext=function(e,t,n){e[goog.debug.errorcontext.CONTEXT_KEY_]||(e[goog.debug.errorcontext.CONTEXT_KEY_]={}),e[goog.debug.errorcontext.CONTEXT_KEY_][t]=n},goog.debug.errorcontext.getErrorContext=function(e){return e[goog.debug.errorcontext.CONTEXT_KEY_]||{}},goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382",goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.CHECK_FOR_THROWN_EVENT=!1,goog.debug.catchErrors=function(e,t,n){var i=n||goog.global,r=i.onerror,u=!!t;i.onerror=function(d,c,v,S,C){return r&&r(d,c,v,S,C),e({message:d,fileName:c,line:v,lineNumber:v,col:S,error:C}),u}},goog.debug.expose=function(e,t){if(typeof e>"u")return"undefined";if(e==null)return"NULL";var n=[],i;for(i in e)if(t||typeof e[i]!="function"){var r=i+" = ";try{r+=e[i]}catch(u){r+="*** "+u+" ***"}n.push(r)}return n.join(`
`)},goog.debug.deepExpose=function(e,t){var n=[],i=[],r={},u=function(c,v){var S=v+"  ",C=function(H){return H.replace(/\n/g,`
`+v)};try{if(c===void 0)n.push("undefined");else if(c===null)n.push("NULL");else if(typeof c=="string")n.push('"'+C(c)+'"');else if(typeof c=="function")n.push(C(String(c)));else if(goog.isObject(c)){goog.hasUid(c)||i.push(c);var O=goog.getUid(c);if(r[O])n.push("*** reference loop detected (id="+O+") ***");else{r[O]=!0,n.push("{");for(var R in c)(t||typeof c[R]!="function")&&(n.push(`
`),n.push(S),n.push(R+" = "),u(c[R],S));n.push(`
`+v+"}"),delete r[O]}}else n.push(c)}catch(H){n.push("*** "+H+" ***")}};u(e,"");for(var d=0;d<i.length;d++)goog.removeUid(i[d]);return n.join("")},goog.debug.exposeArray=function(e){for(var t=[],n=0;n<e.length;n++)Array.isArray(e[n])?t.push(goog.debug.exposeArray(e[n])):t.push(e[n]);return"[ "+t.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(e==null&&(e='Unknown Error of type "null/undefined"'),typeof e=="string")return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var n=!1;try{var i=e.lineNumber||e.line||"Not available"}catch{i="Not available",n=!0}try{var r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch{r="Not available",n=!0}var u=goog.debug.serializeErrorStack_(e);if(!(!n&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name)){var d=e.message;if(d==null){if(e.constructor&&e.constructor instanceof Function){var c=e.constructor.name?e.constructor.name:goog.debug.getFunctionName(e.constructor);if(d='Unknown Error of type "'+c+'"',goog.debug.CHECK_FOR_THROWN_EVENT&&c=="Event")try{d=d+' with Event.type "'+(e.type||"")+'"'}catch{}}else d="Unknown Error of unknown type";typeof e.toString=="function"&&Object.prototype.toString!==e.toString&&(d+=": "+e.toString())}return{message:d,name:e.name||"UnknownError",lineNumber:i,fileName:r,stack:u||"Not available"}}return e.stack=u,{message:e.message,name:e.name,lineNumber:e.lineNumber,fileName:e.fileName,stack:e.stack}},goog.debug.serializeErrorStack_=function(e,t){t||(t={}),t[goog.debug.serializeErrorAsKey_(e)]=!0;var n=e.stack||"",i=e.cause;return i&&!t[goog.debug.serializeErrorAsKey_(i)]&&(n+=`
Caused by: `,i.stack&&i.stack.indexOf(i.toString())==0||(n+=typeof i=="string"?i:i.message+`
`),n+=goog.debug.serializeErrorStack_(i,t)),n},goog.debug.serializeErrorAsKey_=function(e){var t="";return typeof e.toString=="function"&&(t=""+e),t+e.stack},goog.debug.enhanceError=function(e,t){if(e instanceof Error)var n=e;else n=Error(e),Error.captureStackTrace&&Error.captureStackTrace(n,goog.debug.enhanceError);if(n.stack||(n.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var i=0;n["message"+i];)++i;n["message"+i]=String(t)}return n},goog.debug.enhanceErrorWithContext=function(e,t){var n=goog.debug.enhanceError(e);if(t)for(var i in t)goog.debug.errorcontext.addErrorContext(n,i,t[i]);return n},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}for(var n=[],i=arguments.callee.caller,r=0;i&&(!e||r<e);){n.push(goog.debug.getFunctionName(i)),n.push(`()
`);try{i=i.caller}catch{n.push(`[exception trying to get caller]
`);break}if(r++,r>=goog.debug.MAX_STACK_DEPTH){n.push("[...long stack...]");break}}return e&&r>=e?n.push("[...reached max depth limit...]"):n.push("[end]"),n.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(i){t=i}var n=t.stack;return n?String(n):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var n=[];if(module$contents$goog$array_contains(t,e))n.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){n.push(goog.debug.getFunctionName(e)+"(");for(var i=e.arguments,r=0;i&&r<i.length;r++){0<r&&n.push(", ");var u=i[r];switch(typeof u){case"object":var d=u?"object":"null";break;case"string":d=u;break;case"number":d=String(u);break;case"boolean":d=u?"true":"false";break;case"function":d=(d=goog.debug.getFunctionName(u))?d:"[fn]";break;default:d=typeof u}40<d.length&&(d=d.substr(0,40)+"..."),n.push(d)}t.push(e),n.push(`)
`);try{n.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch{n.push(`[exception trying to get caller]
`)}}else e?n.push("[...long stack...]"):n.push("[end]");return n.join("")},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];var t=String(e);if(!goog.debug.fnNameCache_[t]){var n=/function\s+([^\(]+)/m.exec(t);goog.debug.fnNameCache_[t]=n?n[1]:"[Anonymous]"}return goog.debug.fnNameCache_[t]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,`[n]
`).replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(e){return e},goog.debug.freeze=function(e){return function(){return goog.debug.freezeInternal_(e)}()},goog.events.BrowserFeature={HAS_W3C_BUTTON:!0,HAS_W3C_EVENT_SUPPORT:!0,SET_KEY_CODE_TO_PREVENT_DEFAULT:!1,HAS_NAVIGATOR_ONLINE_PROPERTY:!0,HAS_HTML5_NETWORK_EVENT_SUPPORT:!0,HTML5_NETWORK_EVENTS_FIRE_ON_BODY:!1,TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:function(e){return{valueOf:e}.valueOf()}(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{goog.global.addEventListener("test",goog.nullFunction,t),goog.global.removeEventListener("test",goog.nullFunction,t)}catch{}return e})};var module$exports$goog$labs$userAgent={};module$exports$goog$labs$userAgent.USE_CLIENT_HINTS=function(){return!1}(),goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return e.lastIndexOf(t,0)==0},goog.string.internal.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))==0},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),i=String(t).toLowerCase();return n<i?-1:n==i?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return e.indexOf(t)!=-1},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){for(var n=0,i=goog.string.internal.trim(String(e)).split("."),r=goog.string.internal.trim(String(t)).split("."),u=Math.max(i.length,r.length),d=0;n==0&&d<u;d++){var c=i[d]||"",v=r[d]||"";do{var S=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(v)||["","","",""];if(S[0].length==0&&C[0].length==0)break;n=goog.string.internal.compareElements_(S[1].length==0?0:parseInt(S[1],10),C[1].length==0?0:parseInt(C[1],10))||goog.string.internal.compareElements_(S[2].length==0,C[2].length==0)||goog.string.internal.compareElements_(S[2],C[2]),c=S[3],v=C[3]}while(n==0)}return n},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={};function module$contents$goog$labs$userAgent$util_getNativeUserAgentString(){var e=module$contents$goog$labs$userAgent$util_getNavigator();if(e){var t=e.userAgent;if(t)return t}return""}function module$contents$goog$labs$userAgent$util_getNativeUserAgentData(){if(!module$exports$goog$labs$userAgent.USE_CLIENT_HINTS)return null;var e=module$contents$goog$labs$userAgent$util_getNavigator();return e&&e.userAgentData||null}function module$contents$goog$labs$userAgent$util_getNavigator(){return goog.global.navigator}var module$contents$goog$labs$userAgent$util_userAgentInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentString(),module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData();function module$contents$goog$labs$userAgent$util_getUserAgent(){return module$contents$goog$labs$userAgent$util_userAgentInternal}function module$contents$goog$labs$userAgent$util_getUserAgentData(){return module$contents$goog$labs$userAgent$util_userAgentDataInternal}function module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(e){var t=module$contents$goog$labs$userAgent$util_getUserAgentData();return t?t.brands.some(function(n){var i=n.brand;return i&&(0,goog.string.internal.contains)(i,e)}):!1}function module$contents$goog$labs$userAgent$util_matchUserAgent(e){return(0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(e){return(0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(),e)}function module$contents$goog$labs$userAgent$util_extractVersionTuples(e){for(var t=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[],i;i=t.exec(e);)n.push([i[1],i[2],i[3]||void 0]);return n}goog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT=!1,goog.labs.userAgent.util.extractVersionTuples=module$contents$goog$labs$userAgent$util_extractVersionTuples,goog.labs.userAgent.util.getNativeUserAgentString=module$contents$goog$labs$userAgent$util_getNativeUserAgentString,goog.labs.userAgent.util.getUserAgent=module$contents$goog$labs$userAgent$util_getUserAgent,goog.labs.userAgent.util.getUserAgentData=module$contents$goog$labs$userAgent$util_getUserAgentData,goog.labs.userAgent.util.matchUserAgent=module$contents$goog$labs$userAgent$util_matchUserAgent,goog.labs.userAgent.util.matchUserAgentDataBrand=module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand,goog.labs.userAgent.util.matchUserAgentIgnoreCase=module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase,goog.labs.userAgent.util.resetUserAgentData=function e(){module$contents$goog$labs$userAgent$util_userAgentDataInternal=module$contents$goog$labs$userAgent$util_getNativeUserAgentData()},goog.labs.userAgent.util.setUserAgent=function e(t){module$contents$goog$labs$userAgent$util_userAgentInternal=typeof t=="string"?t:module$contents$goog$labs$userAgent$util_getNativeUserAgentString()},goog.labs.userAgent.util.setUserAgentData=function e(t){module$contents$goog$labs$userAgent$util_userAgentDataInternal=t};var module$exports$goog$labs$userAgent$highEntropy$highEntropyValue={AsyncValue:function(){}};module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded=function(){},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load=function(){},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue=function(e){this.key_=e,this.promise_=this.value_=void 0,this.pending_=!1},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$util_getUserAgentData())return this.value_},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load=function(){var e=this,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){return n.nextAddress==1?(t=module$contents$goog$labs$userAgent$util_getUserAgentData(),t?(e.promise_||(e.pending_=!0,e.promise_=function(){var i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){return r.nextAddress==1?(r.setFinallyBlock(2),r.yield(t.getHighEntropyValues([e.key_]),4)):r.nextAddress!=2?(i=r.yieldResult,e.value_=i[e.key_],r.return(e.value_)):(r.enterFinallyBlock(),e.pending_=!1,r.leaveFinallyBlock(0))})}()),n.yield(e.promise_,2)):n.return(void 0)):n.return(n.yieldResult)})},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting=function(){if(this.pending_)throw Error("Unsafe call to resetForTesting");this.value_=this.promise_=void 0,this.pending_=!1},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version=function(e){this.versionString_=e},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging=function(){return this.versionString_},module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast=function(e){return 0<=(0,goog.string.internal.compareVersions)(this.versionString_,e)};var module$exports$goog$labs$userAgent$highEntropy$highEntropyData={};module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("fullVersionList"),module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue("platformVersion"),module$exports$goog$labs$userAgent$highEntropy$highEntropyData.resetAllForTesting=function e(){module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting(),module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting()},goog.labs.userAgent.browser={};var module$contents$goog$labs$userAgent$browser_Brand={ANDROID_BROWSER:"Android Browser",CHROMIUM:"Chromium",EDGE:"Microsoft Edge",FIREFOX:"Firefox",IE:"Internet Explorer",OPERA:"Opera",SAFARI:"Safari",SILK:"Silk"};goog.labs.userAgent.browser.Brand=module$contents$goog$labs$userAgent$browser_Brand;function module$contents$goog$labs$userAgent$browser_useUserAgentBrand(){var e=module$contents$goog$labs$userAgent$util_getUserAgentData();return!!e&&0<e.brands.length}function module$contents$goog$labs$userAgent$browser_matchOpera(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Opera")}function module$contents$goog$labs$userAgent$browser_matchIE(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$browser_matchEdgeHtml(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$browser_matchEdgeChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE):module$contents$goog$labs$userAgent$util_matchUserAgent("Edg/")}function module$contents$goog$labs$userAgent$browser_matchOperaChromium(){return module$contents$goog$labs$userAgent$browser_useUserAgentBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA):module$contents$goog$labs$userAgent$util_matchUserAgent("OPR")}function module$contents$goog$labs$userAgent$browser_matchFirefox(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Firefox")||module$contents$goog$labs$userAgent$util_matchUserAgent("FxiOS")}function module$contents$goog$labs$userAgent$browser_matchSafari(){return module$contents$goog$labs$userAgent$browser_useUserAgentBrand()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Safari")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchCoast()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml()||module$contents$goog$labs$userAgent$browser_matchEdgeChromium()||module$contents$goog$labs$userAgent$browser_matchOperaChromium()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_isSilk()||module$contents$goog$labs$userAgent$util_matchUserAgent("Android"))}function module$contents$goog$labs$userAgent$browser_matchCoast(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:module$contents$goog$labs$userAgent$util_matchUserAgent("Coast")}function module$contents$goog$labs$userAgent$browser_matchIosWebview(){return module$contents$goog$labs$userAgent$util_getUserAgentData()?!1:(module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")||module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone"))&&!module$contents$goog$labs$userAgent$browser_matchSafari()&&!module$contents$goog$labs$userAgent$browser_matchChrome()&&!module$contents$goog$labs$userAgent$browser_matchCoast()&&!module$contents$goog$labs$userAgent$browser_matchFirefox()&&module$contents$goog$labs$userAgent$util_matchUserAgent("AppleWebKit")}function module$contents$goog$labs$userAgent$browser_matchChrome(){return module$contents$goog$labs$userAgent$browser_useUserAgentBrand()?module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM):(module$contents$goog$labs$userAgent$util_matchUserAgent("Chrome")||module$contents$goog$labs$userAgent$util_matchUserAgent("CriOS"))&&!module$contents$goog$labs$userAgent$browser_matchEdgeHtml()}function module$contents$goog$labs$userAgent$browser_matchAndroidBrowser(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Android")&&!(module$contents$goog$labs$userAgent$browser_matchChrome()||module$contents$goog$labs$userAgent$browser_matchFirefox()||module$contents$goog$labs$userAgent$browser_matchOpera()||module$contents$goog$labs$userAgent$browser_isSilk())}goog.labs.userAgent.browser.isOpera=module$contents$goog$labs$userAgent$browser_matchOpera,goog.labs.userAgent.browser.isIE=module$contents$goog$labs$userAgent$browser_matchIE,goog.labs.userAgent.browser.isEdge=module$contents$goog$labs$userAgent$browser_matchEdgeHtml,goog.labs.userAgent.browser.isEdgeChromium=module$contents$goog$labs$userAgent$browser_matchEdgeChromium,goog.labs.userAgent.browser.isOperaChromium=module$contents$goog$labs$userAgent$browser_matchOperaChromium,goog.labs.userAgent.browser.isFirefox=module$contents$goog$labs$userAgent$browser_matchFirefox,goog.labs.userAgent.browser.isSafari=module$contents$goog$labs$userAgent$browser_matchSafari,goog.labs.userAgent.browser.isCoast=module$contents$goog$labs$userAgent$browser_matchCoast,goog.labs.userAgent.browser.isIosWebview=module$contents$goog$labs$userAgent$browser_matchIosWebview,goog.labs.userAgent.browser.isChrome=module$contents$goog$labs$userAgent$browser_matchChrome,goog.labs.userAgent.browser.isAndroidBrowser=module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;function module$contents$goog$labs$userAgent$browser_isSilk(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Silk")}goog.labs.userAgent.browser.isSilk=module$contents$goog$labs$userAgent$browser_isSilk;function module$contents$goog$labs$userAgent$browser_createVersionMap(e){var t={};return e.forEach(function(n){t[n[0]]=n[1]}),function(n){return t[n.find(function(i){return i in t})]||""}}function module$contents$goog$labs$userAgent$browser_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(module$contents$goog$labs$userAgent$browser_matchIE())return module$contents$goog$labs$userAgent$browser_getIEVersion(e);var t=module$contents$goog$labs$userAgent$util_extractVersionTuples(e),n=module$contents$goog$labs$userAgent$browser_createVersionMap(t);if(module$contents$goog$labs$userAgent$browser_matchOpera())return n(["Version","Opera"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeHtml())return n(["Edge"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeChromium())return n(["Edg"]);if(module$contents$goog$labs$userAgent$browser_matchChrome())return n(["Chrome","CriOS","HeadlessChrome"]);var i=t[2];return i&&i[1]||""}goog.labs.userAgent.browser.getVersion=module$contents$goog$labs$userAgent$browser_getVersion,goog.labs.userAgent.browser.isVersionOrHigher=function e(t){return 0<=(0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(),t)};function module$contents$goog$labs$userAgent$browser_getIEVersion(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var n="",i=/MSIE +([\d\.]+)/.exec(e);if(i&&i[1]){var r=/Trident\/(\d.\d)/.exec(e);if(i[1]=="7.0")if(r&&r[1])switch(r[1]){case"4.0":n="8.0";break;case"5.0":n="9.0";break;case"6.0":n="10.0";break;case"7.0":n="11.0"}else n="7.0";else n=i[1]}return n}function module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e){var t=module$contents$goog$labs$userAgent$util_getUserAgent();if(e===module$contents$goog$labs$userAgent$browser_Brand.IE)return module$contents$goog$labs$userAgent$browser_matchIE()?module$contents$goog$labs$userAgent$browser_getIEVersion(t):"";var n=module$contents$goog$labs$userAgent$util_extractVersionTuples(t),i=module$contents$goog$labs$userAgent$browser_createVersionMap(n);switch(e){case module$contents$goog$labs$userAgent$browser_Brand.OPERA:if(module$contents$goog$labs$userAgent$browser_matchOpera())return i(["Version","Opera"]);if(module$contents$goog$labs$userAgent$browser_matchOperaChromium())return i(["OPR"]);break;case module$contents$goog$labs$userAgent$browser_Brand.EDGE:if(module$contents$goog$labs$userAgent$browser_matchEdgeHtml())return i(["Edge"]);if(module$contents$goog$labs$userAgent$browser_matchEdgeChromium())return i(["Edg"]);break;case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:if(module$contents$goog$labs$userAgent$browser_matchChrome())return i(["Chrome","CriOS","HeadlessChrome"])}if(e===module$contents$goog$labs$userAgent$browser_Brand.FIREFOX&&module$contents$goog$labs$userAgent$browser_matchFirefox()||e===module$contents$goog$labs$userAgent$browser_Brand.SAFARI&&module$contents$goog$labs$userAgent$browser_matchSafari()||e===module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER&&module$contents$goog$labs$userAgent$browser_matchAndroidBrowser()){var r=n[2];return r&&r[1]||""}return""}function module$contents$goog$labs$userAgent$browser_versionOf(e){if(module$contents$goog$labs$userAgent$browser_useUserAgentBrand()){var t=module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(r){return r.brand===e});if(!t||!t.version)return NaN;var n=t.version.split(".")}else{var i=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e);if(i==="")return NaN;n=i.split(".")}return n.length===0?NaN:Number(n[0])}goog.labs.userAgent.browser.versionOf=module$contents$goog$labs$userAgent$browser_versionOf;var module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion=function(e){this.brand_=e};module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded=function(){var e=this,t=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();if(t!==void 0){var n=t.find(function(i){return e.brand_===i.brand});return goog.asserts.assertExists(n),new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(n.version)}},module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load=function(){var e=this,t,n;return $jscomp.asyncExecutePromiseGeneratorProgram(function(i){return i.nextAddress==1?i.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(),2):(t=i.yieldResult,n=t.find(function(r){return e.brand_===r.brand}),goog.asserts.assertExists(n),i.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(n.version)))})};var module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion=function(e){this.version_=new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(e)};module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.getIfLoaded=function(){return this.version_},module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.load=function(){var e=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return t.return(e.version_)})};function module$contents$goog$labs$userAgent$browser_fullVersionOf(e){if(!module$contents$goog$labs$userAgent$browser_useUserAgentBrand()||101>module$contents$goog$labs$userAgent$browser_versionOf(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM)){var t=module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(e);return t===""?void 0:new module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion(t)}return module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(n){return n.brand===e})?new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(e):void 0}goog.labs.userAgent.browser.fullVersionOf=module$contents$goog$labs$userAgent$browser_fullVersionOf,goog.labs.userAgent.browser.getVersionStringForLogging=function e(t){if(module$contents$goog$labs$userAgent$browser_useUserAgentBrand()){var n=module$contents$goog$labs$userAgent$browser_fullVersionOf(t);if(n){var i=n.getIfLoaded();if(i)return i.toVersionStringForLogging();var r=module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function(u){return u.brand===t});return goog.asserts.assertExists(r),r.version}return""}return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(t)},goog.labs.userAgent.engine={};function module$contents$goog$labs$userAgent$engine_isPresto(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Presto")}function module$contents$goog$labs$userAgent$engine_isTrident(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Trident")||module$contents$goog$labs$userAgent$util_matchUserAgent("MSIE")}function module$contents$goog$labs$userAgent$engine_isEdge(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Edge")}function module$contents$goog$labs$userAgent$engine_isWebKit(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("WebKit")&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_isGecko(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Gecko")&&!module$contents$goog$labs$userAgent$engine_isWebKit()&&!module$contents$goog$labs$userAgent$engine_isTrident()&&!module$contents$goog$labs$userAgent$engine_isEdge()}function module$contents$goog$labs$userAgent$engine_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent();if(e){var t=module$contents$goog$labs$userAgent$util_extractVersionTuples(e),n=module$contents$goog$labs$userAgent$engine_getEngineTuple(t);if(n)return n[0]=="Gecko"?module$contents$goog$labs$userAgent$engine_getVersionForKey(t,"Firefox"):n[1];var i=t[0],r;if(i&&(r=i[2])){var u=/Trident\/([^\s;]+)/.exec(r);if(u)return u[1]}}return""}function module$contents$goog$labs$userAgent$engine_getEngineTuple(e){if(!module$contents$goog$labs$userAgent$engine_isEdge())return e[1];for(var t=0;t<e.length;t++){var n=e[t];if(n[0]=="Edge")return n}}function module$contents$goog$labs$userAgent$engine_getVersionForKey(e,t){var n=module$contents$goog$array_find(e,function(i){return t==i[0]});return n&&n[1]||""}goog.labs.userAgent.engine.getVersion=module$contents$goog$labs$userAgent$engine_getVersion,goog.labs.userAgent.engine.isEdge=module$contents$goog$labs$userAgent$engine_isEdge,goog.labs.userAgent.engine.isGecko=module$contents$goog$labs$userAgent$engine_isGecko,goog.labs.userAgent.engine.isPresto=module$contents$goog$labs$userAgent$engine_isPresto,goog.labs.userAgent.engine.isTrident=module$contents$goog$labs$userAgent$engine_isTrident,goog.labs.userAgent.engine.isVersionOrHigher=function e(t){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(),t)},goog.labs.userAgent.engine.isWebKit=module$contents$goog$labs$userAgent$engine_isWebKit,goog.labs.userAgent.platform={};function module$contents$goog$labs$userAgent$platform_isAndroid(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Android")}function module$contents$goog$labs$userAgent$platform_isIpod(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")}function module$contents$goog$labs$userAgent$platform_isIphone(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPhone")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPod")&&!module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIpad(){return module$contents$goog$labs$userAgent$util_matchUserAgent("iPad")}function module$contents$goog$labs$userAgent$platform_isIos(){return module$contents$goog$labs$userAgent$platform_isIphone()||module$contents$goog$labs$userAgent$platform_isIpad()||module$contents$goog$labs$userAgent$platform_isIpod()}function module$contents$goog$labs$userAgent$platform_isMacintosh(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Macintosh")}function module$contents$goog$labs$userAgent$platform_isLinux(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Linux")}function module$contents$goog$labs$userAgent$platform_isWindows(){return module$contents$goog$labs$userAgent$util_matchUserAgent("Windows")}function module$contents$goog$labs$userAgent$platform_isChromeOS(){return module$contents$goog$labs$userAgent$util_matchUserAgent("CrOS")}function module$contents$goog$labs$userAgent$platform_isKaiOS(){return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase("KaiOS")}function module$contents$goog$labs$userAgent$platform_getVersion(){var e=module$contents$goog$labs$userAgent$util_getUserAgent(),t="";if(module$contents$goog$labs$userAgent$platform_isWindows()){var n=/Windows (?:NT|Phone) ([0-9.]+)/,i=n.exec(e);t=i?i[1]:"0.0"}else if(module$contents$goog$labs$userAgent$platform_isIos()){n=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/;var r=n.exec(e);t=r&&r[1].replace(/_/g,".")}else if(module$contents$goog$labs$userAgent$platform_isMacintosh()){n=/Mac OS X ([0-9_.]+)/;var u=n.exec(e);t=u?u[1].replace(/_/g,"."):"10"}else if(module$contents$goog$labs$userAgent$platform_isKaiOS()){n=/(?:KaiOS)\/(\S+)/i;var d=n.exec(e);t=d&&d[1]}else if(module$contents$goog$labs$userAgent$platform_isAndroid()){n=/Android\s+([^\);]+)(\)|;)/;var c=n.exec(e);t=c&&c[1]}else if(module$contents$goog$labs$userAgent$platform_isChromeOS()){n=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/;var v=n.exec(e);t=v&&v[1]}return t||""}var module$contents$goog$labs$userAgent$platform_PlatformVersion=function(){};module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded=function(){if(module$contents$goog$labs$userAgent$util_getUserAgentData()){var e=module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();if(e!==void 0)return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(e)}else return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion())},module$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load=function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return t.nextAddress==1?module$contents$goog$labs$userAgent$util_getUserAgentData()?(e=module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version,t.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(),3)):t.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion())):t.return(new e(t.yieldResult))})};var module$contents$goog$labs$userAgent$platform_version=new module$contents$goog$labs$userAgent$platform_PlatformVersion;goog.labs.userAgent.platform.getVersion=module$contents$goog$labs$userAgent$platform_getVersion,goog.labs.userAgent.platform.isAndroid=module$contents$goog$labs$userAgent$platform_isAndroid,goog.labs.userAgent.platform.isChromeOS=module$contents$goog$labs$userAgent$platform_isChromeOS,goog.labs.userAgent.platform.isChromecast=function e(){return module$contents$goog$labs$userAgent$util_matchUserAgent("CrKey")},goog.labs.userAgent.platform.isIos=module$contents$goog$labs$userAgent$platform_isIos,goog.labs.userAgent.platform.isIpad=module$contents$goog$labs$userAgent$platform_isIpad,goog.labs.userAgent.platform.isIphone=module$contents$goog$labs$userAgent$platform_isIphone,goog.labs.userAgent.platform.isIpod=module$contents$goog$labs$userAgent$platform_isIpod,goog.labs.userAgent.platform.isKaiOS=module$contents$goog$labs$userAgent$platform_isKaiOS,goog.labs.userAgent.platform.isLinux=module$contents$goog$labs$userAgent$platform_isLinux,goog.labs.userAgent.platform.isMacintosh=module$contents$goog$labs$userAgent$platform_isMacintosh,goog.labs.userAgent.platform.isVersionOrHigher=function e(t){return 0<=goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(),t)},goog.labs.userAgent.platform.isWindows=module$contents$goog$labs$userAgent$platform_isWindows,goog.labs.userAgent.platform.version=module$contents$goog$labs$userAgent$platform_version,goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch{}return!1},goog.reflect.cache=function(e,t,n,i){var r=i?i(t):t;return Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=n(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return module$contents$goog$labs$userAgent$util_getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:module$contents$goog$labs$userAgent$browser_matchOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:module$contents$goog$labs$userAgent$browser_matchIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:module$contents$goog$labs$userAgent$engine_isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:module$contents$goog$labs$userAgent$engine_isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:module$contents$goog$labs$userAgent$engine_isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&module$contents$goog$labs$userAgent$util_matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:module$contents$goog$labs$userAgent$platform_isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:module$contents$goog$labs$userAgent$platform_isWindows(),goog.userAgent.isLegacyLinux_=function(){return module$contents$goog$labs$userAgent$platform_isLinux()||module$contents$goog$labs$userAgent$platform_isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.internal.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:module$contents$goog$labs$userAgent$platform_isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:module$contents$goog$labs$userAgent$platform_isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:module$contents$goog$labs$userAgent$platform_isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:module$contents$goog$labs$userAgent$platform_isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:module$contents$goog$labs$userAgent$platform_isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();if(t&&(e=t?t[1]:""),goog.userAgent.IE){var n=goog.userAgent.getDocumentMode_();if(n!=null&&n>parseFloat(e))return String(n)}return e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(e);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(e);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(e)},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.internal.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.internal.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.events.MouseEvents={},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",AUXCLICK:"auxclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"},goog.events.getPointerFallbackEventName_=function(e,t,n){return goog.events.BrowserFeature.POINTER_EVENTS?e:goog.events.BrowserFeature.MSPOINTER_EVENTS?t:n},goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.MOUSECANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)},goog.events.PointerTouchFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.TOUCHSTART),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.TOUCHEND),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.TOUCHCANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.TOUCHMOVE)},goog.events.PointerAsMouseEventType={MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE},goog.events.MouseAsMouseEventType={MOUSEDOWN:goog.events.EventType.MOUSEDOWN,MOUSEUP:goog.events.EventType.MOUSEUP,MOUSECANCEL:goog.events.EventType.MOUSECANCEL,MOUSEMOVE:goog.events.EventType.MOUSEMOVE,MOUSEOVER:goog.events.EventType.MOUSEOVER,MOUSEOUT:goog.events.EventType.MOUSEOUT,MOUSEENTER:goog.events.EventType.MOUSEENTER,MOUSELEAVE:goog.events.EventType.MOUSELEAVE},goog.events.PointerAsTouchEventType={TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL,TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP,TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE,TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN},goog.events.USE_LAYER_XY_AS_OFFSET_XY=!1,goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.pointerId=0,this.pointerType="",this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]),goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap,goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE}),goog.events.BrowserEvent.prototype.init=function(e,t){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):n==goog.events.EventType.MOUSEOVER?r=e.fromElement:n==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(goog.events.USE_LAYER_XY_AS_OFFSET_XY?(this.offsetX=e.layerX!==void 0?e.layerX:e.offsetX,this.offsetY=e.layerY!==void 0?e.layerY:e.offsetY):(this.offsetX=goog.userAgent.WEBKIT||e.offsetX!==void 0?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||e.offsetY!==void 0?e.offsetY:e.layerY),this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||(n=="keypress"?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.pointerId=e.pointerId||0,this.pointerType=goog.events.BrowserEvent.getPointerType_(e),this.state=e.state,this.event_=e,e.defaultPrevented&&goog.events.BrowserEvent.superClass_.preventDefault.call(this)},goog.events.BrowserEvent.prototype.isButton=function(e){return this.event_.button==e},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;e.preventDefault?e.preventDefault():e.returnValue=!1},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.getPointerType_=function(e){return typeof e.pointerType=="string"?e.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType]||""},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.Listenable.prototype.listen=function(e,t,n,i){},goog.events.Listenable.prototype.listenOnce=function(e,t,n,i){},goog.events.Listenable.prototype.unlisten=function(e,t,n,i){},goog.events.Listenable.prototype.unlistenByKey=function(e){},goog.events.Listenable.prototype.dispatchEvent=function(e){},goog.events.Listenable.prototype.removeAllListeners=function(e){},goog.events.Listenable.prototype.getParentEventTarget=function(){},goog.events.Listenable.prototype.fireListeners=function(e,t,n){},goog.events.Listenable.prototype.getListeners=function(e,t){},goog.events.Listenable.prototype.getListener=function(e,t,n,i){},goog.events.Listenable.prototype.hasListener=function(e,t){},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,n,i,r,u){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=n,this.type=i,this.capture=!!r,this.handler=u,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.object={};function module$contents$goog$object_forEach(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function module$contents$goog$object_filter(e,t,n){var i={},r;for(r in e)t.call(n,e[r],r,e)&&(i[r]=e[r]);return i}function module$contents$goog$object_map(e,t,n){var i={},r;for(r in e)i[r]=t.call(n,e[r],r,e);return i}function module$contents$goog$object_some(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return!0;return!1}function module$contents$goog$object_getCount(e){var t=0,n;for(n in e)t++;return t}function module$contents$goog$object_contains(e,t){return module$contents$goog$object_containsValue(e,t)}function module$contents$goog$object_getValues(e){var t=[],n=0,i;for(i in e)t[n++]=e[i];return t}function module$contents$goog$object_getKeys(e){var t=[],n=0,i;for(i in e)t[n++]=i;return t}function module$contents$goog$object_containsKey(e,t){return e!==null&&t in e}function module$contents$goog$object_containsValue(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function module$contents$goog$object_findKey(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i}function module$contents$goog$object_isEmpty(e){for(var t in e)return!1;return!0}function module$contents$goog$object_clear(e){for(var t in e)delete e[t]}function module$contents$goog$object_remove(e,t){var n;return(n=t in e)&&delete e[t],n}function module$contents$goog$object_set(e,t,n){e[t]=n}function module$contents$goog$object_clone(e){var t={},n;for(n in e)t[n]=e[n];return t}function module$contents$goog$object_unsafeClone(e){if(!e||typeof e!="object")return e;if(typeof e.clone=="function")return e.clone();if(typeof Map<"u"&&e instanceof Map)return new Map(e);if(typeof Set<"u"&&e instanceof Set)return new Set(e);var t=Array.isArray(e)?[]:typeof ArrayBuffer!="function"||typeof ArrayBuffer.isView!="function"||!ArrayBuffer.isView(e)||e instanceof DataView?{}:new e.constructor(e.length),n;for(n in e)t[n]=module$contents$goog$object_unsafeClone(e[n]);return t}var module$contents$goog$object_PROTOTYPE_FIELDS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function module$contents$goog$object_extend(e,t){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(var u=0;u<module$contents$goog$object_PROTOTYPE_FIELDS.length;u++)n=module$contents$goog$object_PROTOTYPE_FIELDS[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function module$contents$goog$object_create(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},i=0;i<t;i+=2)n[arguments[i]]=arguments[i+1];return n}function module$contents$goog$object_createSet(e){var t=arguments.length;if(t==1&&Array.isArray(arguments[0]))return module$contents$goog$object_createSet.apply(null,arguments[0]);for(var n={},i=0;i<t;i++)n[arguments[i]]=!0;return n}goog.object.add=function e(t,n,i){if(t!==null&&n in t)throw Error('The object already contains the key "'+n+'"');module$contents$goog$object_set(t,n,i)},goog.object.clear=module$contents$goog$object_clear,goog.object.clone=module$contents$goog$object_clone,goog.object.contains=module$contents$goog$object_contains,goog.object.containsKey=module$contents$goog$object_containsKey,goog.object.containsValue=module$contents$goog$object_containsValue,goog.object.create=module$contents$goog$object_create,goog.object.createImmutableView=function e(t){var n=t;return Object.isFrozen&&!Object.isFrozen(t)&&(n=Object.create(t),Object.freeze(n)),n},goog.object.createSet=module$contents$goog$object_createSet,goog.object.equals=function e(t,n){for(var i in t)if(!(i in n)||t[i]!==n[i])return!1;for(var r in n)if(!(r in t))return!1;return!0},goog.object.every=function e(t,n,i){for(var r in t)if(!n.call(i,t[r],r,t))return!1;return!0},goog.object.extend=module$contents$goog$object_extend,goog.object.filter=module$contents$goog$object_filter,goog.object.findKey=module$contents$goog$object_findKey,goog.object.findValue=function e(t,n,i){var r=module$contents$goog$object_findKey(t,n,i);return r&&t[r]},goog.object.forEach=module$contents$goog$object_forEach,goog.object.get=function e(t,n,i){return t!==null&&n in t?t[n]:i},goog.object.getAllPropertyNames=function e(t,n,i){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return module$contents$goog$object_getKeys(t);for(var r={},u=t;u&&(u!==Object.prototype||n)&&(u!==Function.prototype||i);){for(var d=Object.getOwnPropertyNames(u),c=0;c<d.length;c++)r[d[c]]=!0;u=Object.getPrototypeOf(u)}return module$contents$goog$object_getKeys(r)},goog.object.getAnyKey=function e(t){for(var n in t)return n},goog.object.getAnyValue=function e(t){for(var n in t)return t[n]},goog.object.getCount=module$contents$goog$object_getCount,goog.object.getKeys=module$contents$goog$object_getKeys,goog.object.getSuperClass=function e(t){var n=Object.getPrototypeOf(t.prototype);return n&&n.constructor},goog.object.getValueByKeys=function e(t,n){for(var i=goog.isArrayLike(n),r=i?n:arguments,u=i?0:1;u<r.length;u++){if(t==null)return;t=t[r[u]]}return t},goog.object.getValues=module$contents$goog$object_getValues,goog.object.isEmpty=module$contents$goog$object_isEmpty,goog.object.isImmutableView=function e(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.map=module$contents$goog$object_map,goog.object.remove=module$contents$goog$object_remove,goog.object.set=module$contents$goog$object_set,goog.object.setIfUndefined=function e(t,n,i){return n in t?t[n]:t[n]=i},goog.object.setWithReturnValueIfNotSet=function e(t,n,i){if(n in t)return t[n];var r=i();return t[n]=r},goog.object.some=module$contents$goog$object_some,goog.object.transpose=function e(t){var n={},i;for(i in t)n[t[i]]=i;return n},goog.object.unsafeClone=module$contents$goog$object_unsafeClone,goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e=0,t;for(t in this.listeners)e+=this.listeners[t].length;return e},goog.events.ListenerMap.prototype.add=function(e,t,n,i,r){var u=e.toString(),d=this.listeners[u];d||(d=this.listeners[u]=[],this.typeCount_++);var c=goog.events.ListenerMap.findListenerIndex_(d,t,i,r);if(-1<c){var v=d[c];n||(v.callOnce=!1)}else v=new goog.events.Listener(t,null,this.src,u,!!i,r),v.callOnce=n,d.push(v);return v},goog.events.ListenerMap.prototype.remove=function(e,t,n,i){var r=e.toString();if(!(r in this.listeners))return!1;var u=this.listeners[r],d=goog.events.ListenerMap.findListenerIndex_(u,t,n,i);return-1<d?(u[d].markAsRemoved(),module$contents$goog$array_removeAt(u,d),u.length==0&&(delete this.listeners[r],this.typeCount_--),!0):!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var n=module$contents$goog$array_remove(this.listeners[t],e);return n&&(e.markAsRemoved(),this.listeners[t].length==0&&(delete this.listeners[t],this.typeCount_--)),n},goog.events.ListenerMap.prototype.removeAll=function(e){var t=e&&e.toString(),n=0,i;for(i in this.listeners)if(!t||i==t){for(var r=this.listeners[i],u=0;u<r.length;u++)++n,r[u].markAsRemoved();delete this.listeners[i],this.typeCount_--}return n},goog.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],i=[];if(n)for(var r=0;r<n.length;++r){var u=n[r];u.capture==t&&i.push(u)}return i},goog.events.ListenerMap.prototype.getListener=function(e,t,n,i){var r=this.listeners[e.toString()],u=-1;return r&&(u=goog.events.ListenerMap.findListenerIndex_(r,t,n,i)),-1<u?r[u]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var n=e!==void 0,i=n?e.toString():"",r=t!==void 0;return module$contents$goog$object_some(this.listeners,function(u,d){for(var c=0;c<u.length;++c)if(!(n&&u[c].type!=i||r&&u[c].capture!=t))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,n,i){for(var r=0;r<e.length;++r){var u=e[r];if(!u.removed&&u.listener==t&&u.capture==!!n&&u.handler==i)return r}return-1},goog.events.Key={},goog.events.ListenableType={},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,n,i,r){if(i&&i.once)return goog.events.listenOnce(e,t,n,i,r);if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.listen(e,t[u],n,i,r);return null}return n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e)?e.listen(t,n,goog.isObject(i)?!!i.capture:!!i,r):goog.events.listen_(e,t,n,!1,i,r)},goog.events.listen_=function(e,t,n,i,r,u){if(!t)throw Error("Invalid event type");var d=goog.isObject(r)?!!r.capture:!!r,c=goog.events.getListenerMap_(e);c||(e[goog.events.LISTENER_MAP_PROP_]=c=new goog.events.ListenerMap(e));var v=c.add(t,n,i,d,u);if(v.proxy)return v;var S=goog.events.getProxy();if(v.proxy=S,S.src=e,S.listener=v,e.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(r=d),r===void 0&&(r=!1),e.addEventListener(t.toString(),S,r);else if(e.attachEvent)e.attachEvent(goog.events.getOnString_(t.toString()),S);else if(e.addListener&&e.removeListener)goog.asserts.assert(t==="change","MediaQueryList only has a change event"),e.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return goog.events.listenerCountEstimate_++,v},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=function(n){return e.call(t.src,t.listener,n)};return t},goog.events.listenOnce=function(e,t,n,i,r){if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.listenOnce(e,t[u],n,i,r);return null}return n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,n,goog.isObject(i)?!!i.capture:!!i,r):goog.events.listen_(e,t,n,!0,i,r)},goog.events.listenWithWrapper=function(e,t,n,i,r){t.listen(e,n,i,r)},goog.events.unlisten=function(e,t,n,i,r){if(Array.isArray(t)){for(var u=0;u<t.length;u++)goog.events.unlisten(e,t[u],n,i,r);return null}var d=goog.isObject(i)?!!i.capture:!!i;if(n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e))return e.unlisten(t,n,d,r);if(!e)return!1;var c=goog.events.getListenerMap_(e);if(c){var v=c.getListener(t,n,d,r);if(v)return goog.events.unlistenByKey(v)}return!1},goog.events.unlistenByKey=function(e){if(typeof e=="number"||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(goog.events.getOnString_(n),i):t.addListener&&t.removeListener&&t.removeListener(i),goog.events.listenerCountEstimate_--;var r=goog.events.getListenerMap_(t);return r?(r.removeByKey(e),r.getTypeCount()==0&&(r.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,n,i,r){t.unlisten(e,n,i,r)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var n=goog.events.getListenerMap_(e);if(!n)return 0;var i=0,r=t&&t.toString(),u;for(u in n.listeners)if(!r||u==r)for(var d=n.listeners[u].concat(),c=0;c<d.length;++c)goog.events.unlistenByKey(d[c])&&++i;return i},goog.events.getListeners=function(e,t,n){if(goog.events.Listenable.isImplementedBy(e))return e.getListeners(t,n);if(!e)return[];var i=goog.events.getListenerMap_(e);return i?i.getListeners(t,n):[]},goog.events.getListener=function(e,t,n,i,r){n=goog.events.wrapListener(n);var u=!!i;if(goog.events.Listenable.isImplementedBy(e))return e.getListener(t,n,u,r);if(!e)return null;var d=goog.events.getListenerMap_(e);return d?d.getListener(t,n,u,r):null},goog.events.hasListener=function(e,t,n){if(goog.events.Listenable.isImplementedBy(e))return e.hasListener(t,n);var i=goog.events.getListenerMap_(e);return!!i&&i.hasListener(t,n)},goog.events.expose=function(e){var t=[],n;for(n in e)e[n]&&e[n].id?t.push(n+" = "+e[n]+" ("+e[n].id+")"):t.push(n+" = "+e[n]);return t.join(`
`)},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,n,i){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,n,i):goog.events.fireListeners_(e,t,n,i)},goog.events.fireListeners_=function(e,t,n,i){var r=!0,u=goog.events.getListenerMap_(e);if(u){var d=u.listeners[t.toString()];if(d){d=d.concat();for(var c=0;c<d.length;c++){var v=d[c];if(v&&v.capture==n&&!v.removed){var S=goog.events.fireListener(v,i);r=r&&S!==!1}}}}return r},goog.events.fireListener=function(e,t){var n=e.listener,i=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),n.call(i,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){return e.removed?!0:goog.events.fireListener(e,new goog.events.BrowserEvent(t,this))},goog.events.markIeEvent_=function(e){var t=!1;if(e.keyCode==0)try{e.keyCode=-1;return}catch{t=!0}(t||e.returnValue==null)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||e.returnValue!=null},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){var t=e[goog.events.LISTENER_MAP_PROP_];return t instanceof goog.events.ListenerMap?t:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),typeof e=="function"?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,n,i){goog.events.listen(this,e,t,n,i)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,n,i){goog.events.unlisten(this,e,t,n,i)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t=this.getParentEventTarget();if(t)for(var n=[],i=1;t;t=t.getParentEventTarget())n.push(t),goog.asserts.assert(++i<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,n)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,n,i){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,i)},goog.events.EventTarget.prototype.listenOnce=function(e,t,n,i){return this.eventTargetListeners_.add(String(e),t,!0,n,i)},goog.events.EventTarget.prototype.unlisten=function(e,t,n,i){return this.eventTargetListeners_.remove(String(e),t,n,i)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,n){var i=this.eventTargetListeners_.listeners[String(e)];if(!i)return!0;i=i.concat();for(var r=!0,u=0;u<i.length;++u){var d=i[u];if(d&&!d.removed&&d.capture==t){var c=d.listener,v=d.handler||d.src;d.callOnce&&this.unlistenByKey(d),r=c.call(v,n)!==!1&&r}}return r&&!n.defaultPrevented},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,n,i){return this.eventTargetListeners_.getListener(String(e),t,n,i)},goog.events.EventTarget.prototype.hasListener=function(e,t){return this.eventTargetListeners_.hasListener(e!==void 0?String(e):void 0,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,n){var i=t.type||t;if(typeof t=="string")t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var r=t;t=new goog.events.Event(i,e),module$contents$goog$object_extend(t,r)}var u=!0;if(n)for(var d=n.length-1;!t.hasPropagationStopped()&&0<=d;d--){var c=t.currentTarget=n[d];u=c.fireListeners(i,!0,t)&&u}if(t.hasPropagationStopped()||(c=t.currentTarget=e,u=c.fireListeners(i,!0,t)&&u,t.hasPropagationStopped()||(u=c.fireListeners(i,!1,t)&&u)),n)for(d=0;!t.hasPropagationStopped()&&d<n.length;d++)c=t.currentTarget=n[d],u=c.fireListeners(i,!1,t)&&u;return u},goog.structs={},goog.structs.Collection=function(){},goog.collections={},goog.collections.iters={};function module$contents$goog$collections$iters_getIterator(e){return e[goog.global.Symbol.iterator]()}goog.collections.iters.getIterator=module$contents$goog$collections$iters_getIterator,goog.collections.iters.forEach=function(e,t){for(var n=$jscomp.makeIterator(e),i=n.next();!i.done;i=n.next())t(i.value)};var module$contents$goog$collections$iters_MapIterator=function(e,t){this.childIterator_=module$contents$goog$collections$iters_getIterator(e),this.mapFn_=t,this.nextIndex_=0};module$contents$goog$collections$iters_MapIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_MapIterator.prototype.next=function(){var e=this.childIterator_.next();return{value:e.done?void 0:this.mapFn_.call(void 0,e.value,this.nextIndex_++),done:e.done}},goog.collections.iters.map=function(e,t){return new module$contents$goog$collections$iters_MapIterator(e,t)};var module$contents$goog$collections$iters_FilterIterator=function(e,t){this.childIter_=module$contents$goog$collections$iters_getIterator(e),this.filterFn_=t,this.nextIndex_=0};module$contents$goog$collections$iters_FilterIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_FilterIterator.prototype.next=function(){for(;;){var e=this.childIter_.next();if(e.done)return{done:!0,value:void 0};if(this.filterFn_.call(void 0,e.value,this.nextIndex_++))return e}},goog.collections.iters.filter=function(e,t){return new module$contents$goog$collections$iters_FilterIterator(e,t)};var module$contents$goog$collections$iters_ConcatIterator=function(e){this.iterators_=e,this.iterIndex_=0};module$contents$goog$collections$iters_ConcatIterator.prototype[Symbol.iterator]=function(){return this},module$contents$goog$collections$iters_ConcatIterator.prototype.next=function(){for(;this.iterIndex_<this.iterators_.length;){var e=this.iterators_[this.iterIndex_].next();if(!e.done)return e;this.iterIndex_++}return{done:!0}},goog.collections.iters.concat=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];return new module$contents$goog$collections$iters_ConcatIterator(t.map(module$contents$goog$collections$iters_getIterator))},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.UNDEFINED=function(){},goog.functions.EMPTY=goog.functions.UNDEFINED,goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=this;i===goog.global&&(i=void 0);var r=Array.prototype.slice.call(arguments);return r.push.apply(r,n),e.apply(i,r)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(n){return t?e==n:e===n}},goog.functions.compose=function(e,t){var n=arguments,i=n.length;return function(){var r;i&&(r=n[i-1].apply(this,arguments));for(var u=i-2;0<=u;u--)r=n[u].call(this,r);return r}},goog.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var i,r=0;r<n;r++)i=t[r].apply(this,arguments);return i}},goog.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var i=0;i<n;i++)if(!t[i].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var i=0;i<n;i++)if(t[i].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var n=function(){};n.prototype=e.prototype;var i=new n;return e.apply(i,Array.prototype.slice.call(arguments,1)),i},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t=!1,n;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(n=e(),t=!0),n):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var n=t;t=null,n()}}},goog.functions.debounce=function(e,t,n){var i=0;return function(r){goog.global.clearTimeout(i);var u=arguments;i=goog.global.setTimeout(function(){e.apply(n,u)},t)}},goog.functions.throttle=function(e,t,n){var i=0,r=!1,u=[],d=function(){i=0,r&&(r=!1,c())},c=function(){i=goog.global.setTimeout(d,t);var v=u;u=[],e.apply(n,v)};return function(v){u=arguments,i?r=!0:c()}},goog.functions.rateLimit=function(e,t,n){var i=0,r=function(){i=0};return function(u){i||(i=goog.global.setTimeout(r,t),e.apply(n,arguments))}},goog.functions.isFunction=function(e){return typeof e=="function"},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},goog.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},goog.math.lerp=function(e,t,n){return e+n*(t-e)},goog.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,n,i){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(i-t,n-e)))},goog.math.angleDifference=function(e,t){var n=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<n?n-=360:-180>=n&&(n=360+n),n},goog.math.sign=function(e){return 0<e?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,t,n,i){for(var r=n||function(R,H){return R==H},u=i||function(R,H){return e[R]},d=e.length,c=t.length,v=[],S=0;S<d+1;S++)v[S]=[],v[S][0]=0;for(var C=0;C<c+1;C++)v[0][C]=0;for(S=1;S<=d;S++)for(C=1;C<=c;C++)r(e[S-1],t[C-1])?v[S][C]=v[S-1][C-1]+1:v[S][C]=Math.max(v[S-1][C],v[S][C-1]);var O=[];for(S=d,C=c;0<S&&0<C;)r(e[S-1],t[C-1])?(O.unshift(u(S-1,C-1)),S--,C--):v[S-1][C]>v[S][C-1]?S--:C--;return O},goog.math.sum=function(e){return Array.prototype.reduce.call(arguments,function(t,n){return t+n},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var n=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,Array.prototype.map.call(arguments,function(i){return Math.pow(i-n,2)}))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&e%1==0},goog.math.isFiniteNumber=function(e){return isFinite(e)},goog.math.isNegativeZero=function(e){return e==0&&0>1/e},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return e==0?-1/0:NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(t===void 0||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(t===void 0||0<t),Math.ceil(e-(t||2e-15))},goog.iter={},goog.iter.Iterable={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.nextValueOrThrow=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.next=function(){return goog.iter.ES6_ITERATOR_DONE},goog.iter.ES6_ITERATOR_DONE=goog.debug.freeze({done:!0,value:void 0}),goog.iter.createEs6IteratorYield=function(e){return{value:e,done:!1}},goog.iter.toEs4IteratorNext=function(e){if(e.done)throw goog.iter.StopIteration;return e.value},goog.iter.checkNoImplicitStopIterationInEs6=function(e){throw e===goog.iter.StopIteration?Error("ES6 Iteration protocol does NOT adjust control flow when StopIteration is thrown from callback helper functions. If your code relies on this behavior, consider throwing a different error and catching it to terminate iteration."):e},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if(typeof e.__iterator__=="function")return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,n=new goog.iter.Iterator;return n.nextValueOrThrow=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")},goog.iter.forEach=function(e,t,n){if(goog.isArrayLike(e))try{module$contents$goog$array_forEach(e,t,n)}catch(i){if(i!==goog.iter.StopIteration)throw i}else{e=goog.iter.toIterator(e);try{for(;;)t.call(n,e.nextValueOrThrow(),void 0,e)}catch(i){if(i!==goog.iter.StopIteration)throw i}}},goog.iter.filter=function(e,t,n){var i=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){for(;;){var u=i.nextValueOrThrow();if(t.call(n,u,void 0,i))return u}},r},goog.iter.filterFalse=function(e,t,n){return goog.iter.filter(e,goog.functions.not(t),n)},goog.iter.range=function(e,t,n){var i=0,r=e,u=n||1;if(1<arguments.length&&(i=e,r=+t),u==0)throw Error("Range step argument must not be zero");var d=new goog.iter.Iterator;return d.nextValueOrThrow=function(){if(0<u&&i>=r||0>u&&i<=r)throw goog.iter.StopIteration;var c=i;return i+=u,c},d},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,n){var i=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){var u=i.nextValueOrThrow();return t.call(n,u,void 0,i)},r},goog.iter.reduce=function(e,t,n,i){var r=n;return goog.iter.forEach(e,function(u){r=t.call(i,r,u)}),r},goog.iter.some=function(e,t,n){e=goog.iter.toIterator(e);try{for(;;)if(t.call(n,e.nextValueOrThrow(),void 0,e))return!0}catch(i){if(i!==goog.iter.StopIteration)throw i}return!1},goog.iter.every=function(e,t,n){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(n,e.nextValueOrThrow(),void 0,e))return!1}catch(i){if(i!==goog.iter.StopIteration)throw i}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e),n=new goog.iter.Iterator,i=null;return n.nextValueOrThrow=function(){for(;;){if(i==null){var r=t.nextValueOrThrow();i=goog.iter.toIterator(r)}try{return i.nextValueOrThrow()}catch(u){if(u!==goog.iter.StopIteration)throw u;i=null}}},n},goog.iter.dropWhile=function(e,t,n){var i=goog.iter.toIterator(e),r=new goog.iter.Iterator,u=!0;return r.nextValueOrThrow=function(){for(;;){var d=i.nextValueOrThrow();if(!u||!t.call(n,d,void 0,i))return u=!1,d}},r},goog.iter.takeWhile=function(e,t,n){var i=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){var u=i.nextValueOrThrow();if(t.call(n,u,void 0,i))return u;throw goog.iter.StopIteration},r},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return module$contents$goog$array_toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,function(n){t.push(n)}),t},goog.iter.equals=function(e,t,n){var i=goog.iter.zipLongest({},e,t),r=n||module$contents$goog$array_defaultCompareEquality;return goog.iter.every(i,function(u){return r(u[0],u[1])})},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).nextValueOrThrow()}catch(n){if(n!=goog.iter.StopIteration)throw n;return t}},goog.iter.product=function(e){if(Array.prototype.some.call(arguments,function(r){return!r.length})||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,n=arguments,i=module$contents$goog$array_repeat(0,n.length);return t.nextValueOrThrow=function(){if(i){for(var r=module$contents$goog$array_map(i,function(d,c){return n[c][d]}),u=i.length-1;0<=u;u--){if(goog.asserts.assert(i),i[u]<n[u].length-1){i[u]++;break}if(u==0){i=null;break}i[u]=0}return r}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),n=[],i=0,r=new goog.iter.Iterator,u=!1;return r.nextValueOrThrow=function(){var d=null;if(!u)try{return d=t.nextValueOrThrow(),n.push(d),d}catch(c){if(c!=goog.iter.StopIteration||module$contents$goog$array_isEmpty(n))throw c;u=!0}return d=n[i],i=(i+1)%n.length,d},r},goog.iter.count=function(e,t){var n=e||0,i=t!==void 0?t:1,r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){var u=n;return n+=i,u},r},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.nextValueOrThrow=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),n=0,i=new goog.iter.Iterator;return i.nextValueOrThrow=function(){return n+=t.nextValueOrThrow()},i},goog.iter.zip=function(e){var t=arguments,n=new goog.iter.Iterator;if(0<t.length){var i=module$contents$goog$array_map(t,goog.iter.toIterator);n.nextValueOrThrow=function(){return module$contents$goog$array_map(i,function(r){return r.nextValueOrThrow()})}}return n},goog.iter.zipLongest=function(e,t){var n=Array.prototype.slice.call(arguments,1),i=new goog.iter.Iterator;if(0<n.length){var r=module$contents$goog$array_map(n,goog.iter.toIterator);i.nextValueOrThrow=function(){var u=!1,d=module$contents$goog$array_map(r,function(c){try{var v=c.nextValueOrThrow();u=!0}catch(S){if(S!==goog.iter.StopIteration)throw S;v=e}return v});if(!u)throw goog.iter.StopIteration;return d}}return i},goog.iter.compress=function(e,t){var n=goog.iter.toIterator(t);return goog.iter.filter(e,function(){return!!n.nextValueOrThrow()})},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.nextValueOrThrow=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.nextValueOrThrow(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.nextValueOrThrow()}catch(n){if(n!==goog.iter.StopIteration)throw n;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,n){var i=goog.iter.toIterator(e),r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){var u=goog.iter.toArray(i.nextValueOrThrow());return t.apply(n,module$contents$goog$array_concat(u,void 0,i))},r},goog.iter.tee=function(e,t){var n=goog.iter.toIterator(e),i=module$contents$goog$array_map(module$contents$goog$array_range(typeof t=="number"?t:2),function(){return[]}),r=function(){var u=n.nextValueOrThrow();module$contents$goog$array_forEach(i,function(d){d.push(u)})};return module$contents$goog$array_map(i,function(u){var d=new goog.iter.Iterator;return d.nextValueOrThrow=function(){return module$contents$goog$array_isEmpty(u)&&r(),goog.asserts.assert(!module$contents$goog$array_isEmpty(u)),u.shift()},d})},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var n=goog.iter.toIterator(e),i=new goog.iter.Iterator,r=t;return i.nextValueOrThrow=function(){if(0<r--)return n.nextValueOrThrow();throw goog.iter.StopIteration},i},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&0<=t);for(var n=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(n,null);return n},goog.iter.slice=function(e,t,n){goog.asserts.assert(goog.math.isInt(t)&&0<=t);var i=goog.iter.consume(e,t);return typeof n=="number"&&(goog.asserts.assert(goog.math.isInt(n)&&n>=t),i=goog.iter.limit(i,n-t)),i},goog.iter.hasDuplicates_=function(e){var t=[];return module$contents$goog$array_removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){var n=goog.iter.toArray(e),i=goog.iter.product.apply(void 0,module$contents$goog$array_repeat(n,typeof t=="number"?t:n.length));return goog.iter.filter(i,function(r){return!goog.iter.hasDuplicates_(r)})},goog.iter.combinations=function(e,t){function n(v){return i[v]}var i=goog.iter.toArray(e),r=goog.iter.range(i.length),u=goog.iter.permutations(r,t),d=goog.iter.filter(u,function(v){return module$contents$goog$array_isSorted(v)}),c=new goog.iter.Iterator;return c.nextValueOrThrow=function(){return module$contents$goog$array_map(d.nextValueOrThrow(),n)},c},goog.iter.combinationsWithReplacement=function(e,t){function n(v){return i[v]}var i=goog.iter.toArray(e),r=module$contents$goog$array_range(i.length),u=goog.iter.product.apply(void 0,module$contents$goog$array_repeat(r,t)),d=goog.iter.filter(u,function(v){return module$contents$goog$array_isSorted(v)}),c=new goog.iter.Iterator;return c.nextValueOrThrow=function(){return module$contents$goog$array_map(d.nextValueOrThrow(),n)},c},goog.iter.es6={};var module$contents$goog$iter$es6_ShimIterable=function(){};module$contents$goog$iter$es6_ShimIterable.prototype.__iterator__=function(){},module$contents$goog$iter$es6_ShimIterable.prototype.toGoog=function(){},module$contents$goog$iter$es6_ShimIterable.prototype.toEs6=function(){},module$contents$goog$iter$es6_ShimIterable.of=function(e){if(e instanceof module$contents$goog$iter$es6_ShimIterableImpl||e instanceof module$contents$goog$iter$es6_ShimGoogIterator||e instanceof module$contents$goog$iter$es6_ShimEs6Iterator)return e;if(typeof e.nextValueOrThrow=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return module$contents$goog$iter$es6_wrapGoog(e)});if(typeof e[Symbol.iterator]=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return e[Symbol.iterator]()});if(typeof e.__iterator__=="function")return new module$contents$goog$iter$es6_ShimIterableImpl(function(){return module$contents$goog$iter$es6_wrapGoog(e.__iterator__())});throw Error("Not an iterator or iterable.")};var module$contents$goog$iter$es6_wrapGoog=function(e){if(!(e instanceof goog.iter.Iterator))return e;var t=!1;return{next:function(){for(var n;!t;)try{n=e.nextValueOrThrow();break}catch(i){if(i!==goog.iter.StopIteration)throw i;t=!0}return{value:n,done:t}}}},module$contents$goog$iter$es6_ShimIterableImpl=function(e){this.func_=e};module$contents$goog$iter$es6_ShimIterableImpl.prototype.__iterator__=function(){return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype.toGoog=function(){return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype[Symbol.iterator]=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_())},module$contents$goog$iter$es6_ShimIterableImpl.prototype.toEs6=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_())};var module$contents$goog$iter$es6_ShimGoogIterator=function(e){goog.iter.Iterator.call(this),this.iter_=e};$jscomp.inherits(module$contents$goog$iter$es6_ShimGoogIterator,goog.iter.Iterator),module$contents$goog$iter$es6_ShimGoogIterator.prototype.nextValueOrThrow=function(){var e=this.iter_.next();if(e.done)throw goog.iter.StopIteration;return e.value},module$contents$goog$iter$es6_ShimGoogIterator.prototype.toGoog=function(){return this},module$contents$goog$iter$es6_ShimGoogIterator.prototype[Symbol.iterator]=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_)},module$contents$goog$iter$es6_ShimGoogIterator.prototype.toEs6=function(){return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_)};var module$contents$goog$iter$es6_ShimEs6Iterator=function(e){module$contents$goog$iter$es6_ShimIterableImpl.call(this,function(){return e}),this.iter_=e};$jscomp.inherits(module$contents$goog$iter$es6_ShimEs6Iterator,module$contents$goog$iter$es6_ShimIterableImpl),module$contents$goog$iter$es6_ShimEs6Iterator.prototype.next=function(){return this.iter_.next()},goog.iter.es6.ShimIterable=module$contents$goog$iter$es6_ShimIterable,goog.iter.es6.ShimEs6Iterator=module$contents$goog$iter$es6_ShimEs6Iterator,goog.iter.es6.ShimGoogIterator=module$contents$goog$iter$es6_ShimGoogIterator,goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.version_=this.size=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.size},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return this.has(e)},goog.structs.Map.prototype.has=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var n=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,n)&&this.map_[n]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.size!=e.getCount())return!1;var n=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var i,r=0;i=this.keys_[r];r++)if(!n(this.get(i),e.get(i)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return this.size==0},goog.structs.Map.prototype.clear=function(){this.map_={},this.keys_.length=0,this.setSizeInternal_(0),this.version_=0},goog.structs.Map.prototype.remove=function(e){return this.delete(e)},goog.structs.Map.prototype.delete=function(e){return goog.structs.Map.hasKey_(this.map_,e)?(delete this.map_[e],this.setSizeInternal_(this.size-1),this.version_++,this.keys_.length>2*this.size&&this.cleanupKeysArray_(),!0):!1},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.size!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var n=this.keys_[e];goog.structs.Map.hasKey_(this.map_,n)&&(this.keys_[t++]=n),e++}this.keys_.length=t}if(this.size!=this.keys_.length){var i={};for(t=e=0;e<this.keys_.length;)n=this.keys_[e],goog.structs.Map.hasKey_(i,n)||(this.keys_[t++]=n,i[n]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.setSizeInternal_(this.size+1),this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){if(e instanceof goog.structs.Map)for(var t=e.getKeys(),n=0;n<t.length;n++)this.set(t[n],e.get(t[n]));else for(var i in e)this.set(i,e[i])},goog.structs.Map.prototype.forEach=function(e,t){for(var n=this.getKeys(),i=0;i<n.length;i++){var r=n[i],u=this.get(r);e.call(t,u,r,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var n=this.keys_[t];e.set(this.map_[n],n)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var n=this.keys_[t];e[n]=this.map_[n]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.keys=function(){return module$contents$goog$iter$es6_ShimIterable.of(this.getKeyIterator()).toEs6()},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.values=function(){return module$contents$goog$iter$es6_ShimIterable.of(this.getValueIterator()).toEs6()},goog.structs.Map.prototype.entries=function(){var e=this;return goog.collections.iters.map(this.keys(),function(t){return[t,e.get(t)]})},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,n=this.version_,i=this,r=new goog.iter.Iterator;return r.nextValueOrThrow=function(){if(n!=i.version_)throw Error("The map has changed since the iterator was created");if(t>=i.keys_.length)throw goog.iter.StopIteration;var u=i.keys_[t++];return e?u:i.map_[u]},r},goog.structs.Map.prototype.setSizeInternal_=function(e){this.size=e},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.structs.getCount=function(e){return e.getCount&&typeof e.getCount=="function"?e.getCount():goog.isArrayLike(e)||typeof e=="string"?e.length:module$contents$goog$object_getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&typeof e.getValues=="function")return e.getValues();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(goog.isArrayLike(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}return module$contents$goog$object_getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&typeof e.getKeys=="function")return e.getKeys();if(!e.getValues||typeof e.getValues!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(goog.isArrayLike(e)||typeof e=="string"){for(var t=[],n=e.length,i=0;i<n;i++)t.push(i);return t}return module$contents$goog$object_getKeys(e)}}},goog.structs.contains=function(e,t){return e.contains&&typeof e.contains=="function"?e.contains(t):e.containsValue&&typeof e.containsValue=="function"?e.containsValue(t):goog.isArrayLike(e)||typeof e=="string"?module$contents$goog$array_contains(e,t):module$contents$goog$object_containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&typeof e.isEmpty=="function"?e.isEmpty():goog.isArrayLike(e)||typeof e=="string"?e.length===0:module$contents$goog$object_isEmpty(e)},goog.structs.clear=function(e){e.clear&&typeof e.clear=="function"?e.clear():goog.isArrayLike(e)?module$contents$goog$array_clear(e):module$contents$goog$object_clear(e)},goog.structs.forEach=function(e,t,n){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,n);else if(goog.isArrayLike(e)||typeof e=="string")Array.prototype.forEach.call(e,t,n);else for(var i=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)t.call(n,r[d],i&&i[d],e)},goog.structs.filter=function(e,t,n){if(typeof e.filter=="function")return e.filter(t,n);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.filter.call(e,t,n);var i=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length;if(i)for(var d={},c=0;c<u;c++)t.call(n,r[c],i[c],e)&&(d[i[c]]=r[c]);else for(d=[],c=0;c<u;c++)t.call(n,r[c],void 0,e)&&d.push(r[c]);return d},goog.structs.map=function(e,t,n){if(typeof e.map=="function")return e.map(t,n);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.map.call(e,t,n);var i=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length;if(i)for(var d={},c=0;c<u;c++)d[i[c]]=t.call(n,r[c],i[c],e);else for(d=[],c=0;c<u;c++)d[c]=t.call(n,r[c],void 0,e);return d},goog.structs.some=function(e,t,n){if(typeof e.some=="function")return e.some(t,n);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.some.call(e,t,n);for(var i=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)if(t.call(n,r[d],i&&i[d],e))return!0;return!1},goog.structs.every=function(e,t,n){if(typeof e.every=="function")return e.every(t,n);if(goog.isArrayLike(e)||typeof e=="string")return Array.prototype.every.call(e,t,n);for(var i=goog.structs.getKeys(e),r=goog.structs.getValues(e),u=r.length,d=0;d<u;d++)if(!t.call(n,r[d],i&&i[d],e))return!1;return!0},goog.structs.Set=function(e){this.map_=new goog.structs.Map,this.size=0,e&&this.addAll(e)},goog.structs.Set.getUid_=goog.getUid,goog.structs.Set.getKey_=function(e){var t=typeof e;return t=="object"&&e||t=="function"?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.size},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e),this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.addAll=function(e){for(var t=goog.structs.getValues(e),n=t.length,i=0;i<n;i++)this.add(t[i]);this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.removeAll=function(e){for(var t=goog.structs.getValues(e),n=t.length,i=0;i<n;i++)this.remove(t[i]);this.setSizeInternal_(this.map_.size)},goog.structs.Set.prototype.delete=function(e){var t=this.map_.remove(goog.structs.Set.getKey_(e));return this.setSizeInternal_(this.map_.size),t},goog.structs.Set.prototype.remove=function(e){return this.delete(e)},goog.structs.Set.prototype.clear=function(){this.map_.clear(),this.setSizeInternal_(0)},goog.structs.Set.prototype.isEmpty=function(){return this.map_.size===0},goog.structs.Set.prototype.has=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){for(var t=new goog.structs.Set,n=goog.structs.getValues(e),i=0;i<n.length;i++){var r=n[i];this.contains(r)&&t.add(r)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.values=function(){return this.map_.values()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return this.getCount()>t?!1:(!(e instanceof goog.structs.Set)&&5<t&&(e=new goog.structs.Set(e)),goog.structs.every(this,function(n){return goog.structs.contains(e,n)}))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.structs.Set.prototype[Symbol.iterator]=function(){return this.values()},goog.structs.Set.prototype.setSizeInternal_=function(e){this.size=e};var ee={AbstractOverlay:function(e,t,n,i,r){goog.events.EventTarget.call(this),this.mapId=t,this.token=n,this.tilesLoading=[],this.tilesFailed=new goog.structs.Set,this.tileCounter=0,this.url=e}};goog.inherits(ee.AbstractOverlay,goog.events.EventTarget),goog.exportSymbol("ee.AbstractOverlay",ee.AbstractOverlay),ee.AbstractOverlay.EventType={TILE_LOADED:"tileevent"},ee.AbstractOverlay.prototype.getTileId=function(e,t){var n=1<<t,i=e.x%n;return 0>i&&(i+=n),[this.mapId,t,i,e.y].join("/")},ee.AbstractOverlay.prototype.getLoadingTilesCount=function(){return this.tilesLoading.length},ee.AbstractOverlay.prototype.getFailedTilesCount=function(){return this.tilesFailed.getCount()},ee.TileEvent=function(e){goog.events.Event.call(this,ee.AbstractOverlay.EventType.TILE_LOADED),this.count=e},goog.inherits(ee.TileEvent,goog.events.Event);var module$exports$eeapiclient$domain_object={};module$exports$eeapiclient$domain_object.ObjectMapMetadata=function e(){},module$exports$eeapiclient$domain_object.ClassMetadata=function e(){};var module$contents$eeapiclient$domain_object_NullClass=function(){};module$exports$eeapiclient$domain_object.NULL_VALUE=new module$contents$eeapiclient$domain_object_NullClass,module$exports$eeapiclient$domain_object.ISerializable=function e(){};function module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(e){return Object.assign({arrays:{},descriptions:{},keys:[],objectMaps:{},objects:{},enums:{},emptyArrayIsUnset:!1},e)}module$exports$eeapiclient$domain_object.buildClassMetadataFromPartial=module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial,module$exports$eeapiclient$domain_object.Serializable=function(){this.Serializable$values={}},module$exports$eeapiclient$domain_object.Serializable.prototype.getClassMetadata=function(){return module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(this.getPartialClassMetadata())},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$get=function(e){return this.Serializable$values.hasOwnProperty(e)?this.Serializable$values[e]:null},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$set=function(e,t){this.Serializable$values[e]=t},module$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$has=function(e){return this.Serializable$values[e]!=null},module$exports$eeapiclient$domain_object.SerializableCtor=function e(){},module$exports$eeapiclient$domain_object.clone=function e(t){return module$contents$eeapiclient$domain_object_deserialize(t.getConstructor(),module$contents$eeapiclient$domain_object_serialize(t))},module$exports$eeapiclient$domain_object.isEmpty=function e(t){return!Object.keys(module$contents$eeapiclient$domain_object_serialize(t)).length};function module$contents$eeapiclient$domain_object_serialize(e){return module$contents$eeapiclient$domain_object_deepCopy(e,module$contents$eeapiclient$domain_object_serializeGetter,module$contents$eeapiclient$domain_object_serializeSetter,module$contents$eeapiclient$domain_object_serializeInstanciator)}module$exports$eeapiclient$domain_object.serialize=module$contents$eeapiclient$domain_object_serialize;function module$contents$eeapiclient$domain_object_serializeGetter(e,t){return t.Serializable$get(e)}function module$contents$eeapiclient$domain_object_serializeSetter(e,t,n){t[e]=n}function module$contents$eeapiclient$domain_object_serializeInstanciator(e){return{}}function module$contents$eeapiclient$domain_object_deserialize(e,t){var n=new e;return t==null?n:module$contents$eeapiclient$domain_object_deepCopy(t,module$contents$eeapiclient$domain_object_deserializeGetter,module$contents$eeapiclient$domain_object_deserializeSetter,module$contents$eeapiclient$domain_object_deserializeInstanciator,e)}module$exports$eeapiclient$domain_object.deserialize=module$contents$eeapiclient$domain_object_deserialize;function module$contents$eeapiclient$domain_object_deserializeGetter(e,t){return t[e]}function module$contents$eeapiclient$domain_object_deserializeSetter(e,t,n){t.Serializable$set(e,n)}function module$contents$eeapiclient$domain_object_deserializeInstanciator(e){if(e==null)throw Error("Cannot deserialize, target constructor was null.");return new e}module$exports$eeapiclient$domain_object.strictDeserialize=function e(t,n){return module$contents$eeapiclient$domain_object_deserialize(t,n)};function module$contents$eeapiclient$domain_object_deepCopy(e,t,n,i,r){for(var u=i(r),d=module$contents$eeapiclient$domain_object_deepCopyMetadata(e,u),c=d.arrays||{},v=d.objects||{},S=d.objectMaps||{},C={},O=$jscomp.makeIterator(d.keys||[]),R=O.next();!R.done;C={$jscomp$loop$prop$mapMetadata$66:C.$jscomp$loop$prop$mapMetadata$66},R=O.next()){var H=R.value,K=t(H,e);if(K!=null){var le=void 0;if(c.hasOwnProperty(H)){if(d.emptyArrayIsUnset&&K.length===0)continue;le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,n,i,!0,!0,c[H])}else if(v.hasOwnProperty(H))le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,n,i,!1,!0,v[H]);else if(S.hasOwnProperty(H))C.$jscomp$loop$prop$mapMetadata$66=S[H],le=C.$jscomp$loop$prop$mapMetadata$66.isPropertyArray?K.map(function(fe){return function(ye){return module$contents$eeapiclient$domain_object_deepCopyObjectMap(ye,fe.$jscomp$loop$prop$mapMetadata$66,t,n,i)}}(C)):module$contents$eeapiclient$domain_object_deepCopyObjectMap(K,C.$jscomp$loop$prop$mapMetadata$66,t,n,i);else if(Array.isArray(K)){if(d.emptyArrayIsUnset&&K.length===0)continue;le=module$contents$eeapiclient$domain_object_deepCopyValue(K,t,n,i,!0,!1)}else le=K instanceof module$contents$eeapiclient$domain_object_NullClass?null:K;n(H,u,le)}}return u}function module$contents$eeapiclient$domain_object_deepCopyObjectMap(e,t,n,i,r){for(var u={},d=$jscomp.makeIterator(Object.keys(e)),c=d.next();!c.done;c=d.next()){var v=c.value,S=e[v];S!=null&&(u[v]=module$contents$eeapiclient$domain_object_deepCopyValue(S,n,i,r,t.isValueArray,t.isSerializable,t.ctor))}return u}function module$contents$eeapiclient$domain_object_deepCopyValue(e,t,n,i,r,u,d){if(u&&d==null)throw Error("Cannot deserialize a reference object without a constructor.");return e==null?e:r&&u?e.map(function(c){return module$contents$eeapiclient$domain_object_deepCopy(c,t,n,i,d)}):r&&!u?e.map(function(c){return c}):!r&&u?module$contents$eeapiclient$domain_object_deepCopy(e,t,n,i,d):e instanceof module$contents$eeapiclient$domain_object_NullClass?null:typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function module$contents$eeapiclient$domain_object_deepCopyMetadata(e,t){if(t instanceof module$exports$eeapiclient$domain_object.Serializable)var n=t.getClassMetadata();else if(e instanceof module$exports$eeapiclient$domain_object.Serializable)n=e.getClassMetadata();else throw Error("Cannot find ClassMetadata.");return n}function module$contents$eeapiclient$domain_object_deepEquals(e,t){var n=e.getClassMetadata(),i=n.keys||[],r=n.arrays||{},u=n.objects||{},d=n.objectMaps||{},c=t.getClassMetadata(),v=c.arrays||{},S=c.objects||{},C=c.objectMaps||{};if(!(module$contents$eeapiclient$domain_object_sameKeys(i,c.keys||[])&&module$contents$eeapiclient$domain_object_sameKeys(r,v)&&module$contents$eeapiclient$domain_object_sameKeys(u,S)&&module$contents$eeapiclient$domain_object_sameKeys(d,C)))return!1;for(var O={},R=$jscomp.makeIterator(i),H=R.next();!H.done;O={$jscomp$loop$prop$value2$68:O.$jscomp$loop$prop$value2$68,$jscomp$loop$prop$mapMetadata$69:O.$jscomp$loop$prop$mapMetadata$69},H=R.next()){var K=H.value,le=module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(e,K,n),fe=module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(t,K,c);if(le!==fe)return!1;if(le){var ye=e.Serializable$get(K);if(O.$jscomp$loop$prop$value2$68=t.Serializable$get(K),r.hasOwnProperty(K)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(ye,O.$jscomp$loop$prop$value2$68,!0,!0))return!1}else if(u.hasOwnProperty(K)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(ye,O.$jscomp$loop$prop$value2$68,!1,!0))return!1}else if(d.hasOwnProperty(K)){if(O.$jscomp$loop$prop$mapMetadata$69=d[K],O.$jscomp$loop$prop$mapMetadata$69.isPropertyArray){if(!module$contents$eeapiclient$domain_object_sameKeys(ye,O.$jscomp$loop$prop$value2$68)||ye.some(function(xe){return function(Pe,Re){return!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(Pe,xe.$jscomp$loop$prop$value2$68[Re],xe.$jscomp$loop$prop$mapMetadata$69)}}(O)))return!1}else if(!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(ye,O.$jscomp$loop$prop$value2$68,O.$jscomp$loop$prop$mapMetadata$69))return!1}else if(Array.isArray(ye)){if(!module$contents$eeapiclient$domain_object_deepEqualsValue(ye,O.$jscomp$loop$prop$value2$68,!0,!1))return!1}else if(!module$contents$eeapiclient$domain_object_deepEqualsValue(ye,O.$jscomp$loop$prop$value2$68,!1,!1))return!1}}return!0}module$exports$eeapiclient$domain_object.deepEquals=module$contents$eeapiclient$domain_object_deepEquals;function module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(e,t,n){if(!e.Serializable$has(t))return!1;if(!n.emptyArrayIsUnset)return!0;var i=e.Serializable$get(t);return Array.isArray(i)?i.length!==0:!0}function module$contents$eeapiclient$domain_object_deepEqualsObjectMap(e,t,n){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t))return!1;for(var i=$jscomp.makeIterator(Object.keys(e)),r=i.next();!r.done;r=i.next()){var u=r.value;if(!module$contents$eeapiclient$domain_object_deepEqualsValue(e[u],t[u],n.isValueArray,n.isSerializable))return!1}return!0}function module$contents$eeapiclient$domain_object_deepEqualsValue(e,t,n,i){if(e==null&&t==null)return!0;if(n&&i){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t)||e.some(function(r,u){return!module$contents$eeapiclient$domain_object_deepEquals(r,t[u])}))return!1}else if(n&&!i){if(!module$contents$eeapiclient$domain_object_sameKeys(e,t)||e.some(function(r,u){return r!==t[u]}))return!1}else if(typeof e=="object"){if(JSON.stringify(e)!==JSON.stringify(t))return!1}else if(e!==t)return!1;return!0}function module$contents$eeapiclient$domain_object_sameKeys(e,t){if(typeof e!=typeof t||Array.isArray(e)!==Array.isArray(t))throw Error("Types are not comparable.");var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;Array.isArray(e)||(n.sort(),i.sort());for(var r=0;r<n.length;r++)if(n[r]!==i[r])return!1;return!0}module$exports$eeapiclient$domain_object.serializableEqualityTester=function e(t,n){if(t instanceof module$exports$eeapiclient$domain_object.Serializable&&n instanceof module$exports$eeapiclient$domain_object.Serializable)return module$contents$eeapiclient$domain_object_deepEquals(t,n)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=goog.dom.asserts.getWindow_(e);n&&typeof n[t]<"u"&&(e&&(e instanceof n[t]||!(e instanceof n.Location||e instanceof n.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(goog.isObject(e))try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}else return e===void 0?"undefined":e===null?"null":typeof e},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,n=t&&(t.defaultView||t.parentWindow);if(n=n||goog.global,n.Element&&n.Location)return n}catch{}return null},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(){},goog.dom.TagName.cast=function(e,t){return e},goog.dom.TagName.prototype.toString=function(){},goog.dom.TagName.A="A",goog.dom.TagName.ABBR="ABBR",goog.dom.TagName.ACRONYM="ACRONYM",goog.dom.TagName.ADDRESS="ADDRESS",goog.dom.TagName.APPLET="APPLET",goog.dom.TagName.AREA="AREA",goog.dom.TagName.ARTICLE="ARTICLE",goog.dom.TagName.ASIDE="ASIDE",goog.dom.TagName.AUDIO="AUDIO",goog.dom.TagName.B="B",goog.dom.TagName.BASE="BASE",goog.dom.TagName.BASEFONT="BASEFONT",goog.dom.TagName.BDI="BDI",goog.dom.TagName.BDO="BDO",goog.dom.TagName.BIG="BIG",goog.dom.TagName.BLOCKQUOTE="BLOCKQUOTE",goog.dom.TagName.BODY="BODY",goog.dom.TagName.BR="BR",goog.dom.TagName.BUTTON="BUTTON",goog.dom.TagName.CANVAS="CANVAS",goog.dom.TagName.CAPTION="CAPTION",goog.dom.TagName.CENTER="CENTER",goog.dom.TagName.CITE="CITE",goog.dom.TagName.CODE="CODE",goog.dom.TagName.COL="COL",goog.dom.TagName.COLGROUP="COLGROUP",goog.dom.TagName.COMMAND="COMMAND",goog.dom.TagName.DATA="DATA",goog.dom.TagName.DATALIST="DATALIST",goog.dom.TagName.DD="DD",goog.dom.TagName.DEL="DEL",goog.dom.TagName.DETAILS="DETAILS",goog.dom.TagName.DFN="DFN",goog.dom.TagName.DIALOG="DIALOG",goog.dom.TagName.DIR="DIR",goog.dom.TagName.DIV="DIV",goog.dom.TagName.DL="DL",goog.dom.TagName.DT="DT",goog.dom.TagName.EM="EM",goog.dom.TagName.EMBED="EMBED",goog.dom.TagName.FIELDSET="FIELDSET",goog.dom.TagName.FIGCAPTION="FIGCAPTION",goog.dom.TagName.FIGURE="FIGURE",goog.dom.TagName.FONT="FONT",goog.dom.TagName.FOOTER="FOOTER",goog.dom.TagName.FORM="FORM",goog.dom.TagName.FRAME="FRAME",goog.dom.TagName.FRAMESET="FRAMESET",goog.dom.TagName.H1="H1",goog.dom.TagName.H2="H2",goog.dom.TagName.H3="H3",goog.dom.TagName.H4="H4",goog.dom.TagName.H5="H5",goog.dom.TagName.H6="H6",goog.dom.TagName.HEAD="HEAD",goog.dom.TagName.HEADER="HEADER",goog.dom.TagName.HGROUP="HGROUP",goog.dom.TagName.HR="HR",goog.dom.TagName.HTML="HTML",goog.dom.TagName.I="I",goog.dom.TagName.IFRAME="IFRAME",goog.dom.TagName.IMG="IMG",goog.dom.TagName.INPUT="INPUT",goog.dom.TagName.INS="INS",goog.dom.TagName.ISINDEX="ISINDEX",goog.dom.TagName.KBD="KBD",goog.dom.TagName.KEYGEN="KEYGEN",goog.dom.TagName.LABEL="LABEL",goog.dom.TagName.LEGEND="LEGEND",goog.dom.TagName.LI="LI",goog.dom.TagName.LINK="LINK",goog.dom.TagName.MAIN="MAIN",goog.dom.TagName.MAP="MAP",goog.dom.TagName.MARK="MARK",goog.dom.TagName.MATH="MATH",goog.dom.TagName.MENU="MENU",goog.dom.TagName.MENUITEM="MENUITEM",goog.dom.TagName.META="META",goog.dom.TagName.METER="METER",goog.dom.TagName.NAV="NAV",goog.dom.TagName.NOFRAMES="NOFRAMES",goog.dom.TagName.NOSCRIPT="NOSCRIPT",goog.dom.TagName.OBJECT="OBJECT",goog.dom.TagName.OL="OL",goog.dom.TagName.OPTGROUP="OPTGROUP",goog.dom.TagName.OPTION="OPTION",goog.dom.TagName.OUTPUT="OUTPUT",goog.dom.TagName.P="P",goog.dom.TagName.PARAM="PARAM",goog.dom.TagName.PICTURE="PICTURE",goog.dom.TagName.PRE="PRE",goog.dom.TagName.PROGRESS="PROGRESS",goog.dom.TagName.Q="Q",goog.dom.TagName.RP="RP",goog.dom.TagName.RT="RT",goog.dom.TagName.RTC="RTC",goog.dom.TagName.RUBY="RUBY",goog.dom.TagName.S="S",goog.dom.TagName.SAMP="SAMP",goog.dom.TagName.SCRIPT="SCRIPT",goog.dom.TagName.SECTION="SECTION",goog.dom.TagName.SELECT="SELECT",goog.dom.TagName.SMALL="SMALL",goog.dom.TagName.SOURCE="SOURCE",goog.dom.TagName.SPAN="SPAN",goog.dom.TagName.STRIKE="STRIKE",goog.dom.TagName.STRONG="STRONG",goog.dom.TagName.STYLE="STYLE",goog.dom.TagName.SUB="SUB",goog.dom.TagName.SUMMARY="SUMMARY",goog.dom.TagName.SUP="SUP",goog.dom.TagName.SVG="SVG",goog.dom.TagName.TABLE="TABLE",goog.dom.TagName.TBODY="TBODY",goog.dom.TagName.TD="TD",goog.dom.TagName.TEMPLATE="TEMPLATE",goog.dom.TagName.TEXTAREA="TEXTAREA",goog.dom.TagName.TFOOT="TFOOT",goog.dom.TagName.TH="TH",goog.dom.TagName.THEAD="THEAD",goog.dom.TagName.TIME="TIME",goog.dom.TagName.TITLE="TITLE",goog.dom.TagName.TR="TR",goog.dom.TagName.TRACK="TRACK",goog.dom.TagName.TT="TT",goog.dom.TagName.U="U",goog.dom.TagName.UL="UL",goog.dom.TagName.VAR="VAR",goog.dom.TagName.VIDEO="VIDEO",goog.dom.TagName.WBR="WBR",goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse=function(){return goog.TRUSTED_TYPES_POLICY_NAME?(goog.html.trustedtypes.cachedPolicy_===void 0&&(goog.html.trustedtypes.cachedPolicy_=goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html")),goog.html.trustedtypes.cachedPolicy_):null},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from("");var module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeScript_SafeScript=function(e,t){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=t===module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeScript_SafeScript.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeScript_SafeScript.EMPTY:module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},module$contents$goog$html$SafeScript_SafeScript.fromJson=function(e){return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(e))},module$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},module$contents$goog$html$SafeScript_SafeScript.unwrap=function(e){return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(e).toString()},module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript=function(e){return e instanceof module$contents$goog$html$SafeScript_SafeScript&&e.constructor===module$contents$goog$html$SafeScript_SafeScript?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},module$contents$goog$html$SafeScript_SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){var t=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),n=t?t.createScript(e):e;return new module$contents$goog$html$SafeScript_SafeScript(n,module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeScript_SafeScript.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},module$contents$goog$html$SafeScript_SafeScript.EMPTY=function(){return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("")}(),goog.html.SafeScript=module$contents$goog$html$SafeScript_SafeScript,goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(t!==void 0){for(var n=new t,i=0;i<arguments.length;i++)n.append(arguments[i]);return n.getBlob()}return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,n){var i=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(i!==void 0){for(var r=new i,u=0;u<e.length;u++)r.append(e[u],n);return r.getBlob(t)}if(goog.global.Blob!==void 0){var d={};return t&&(d.type=t),n&&(d.endings=n),new Blob(e,d)}throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return typeof e=="number"?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:e==null?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var n=(t===void 0?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,n+"$&"+n)},goog.i18n.bidi.enforceRtlInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var n=0,i=0,r=!1,u=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),d=0;d<u.length;d++){var c=u[d];goog.i18n.bidi.startsWithRtl(c)?(n++,i++):goog.i18n.bidi.isRequiredLtrRe_.test(c)?r=!0:goog.i18n.bidi.hasAnyLtr(c)?i++:goog.i18n.bidi.hasNumeralsRe_.test(c)&&(r=!0)}return i==0?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/i>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir!=="ltr"&&(e.dir="ltr");break;case goog.i18n.bidi.Dir.RTL:e.dir!=="rtl"&&(e.dir="rtl");break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var n=goog.html.TrustedResourceUrl.unwrap(this),i=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(n),r=i[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",i[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",r,t))},goog.html.TrustedResourceUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+""},goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var n=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);var i=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(r,u){if(!Object.prototype.hasOwnProperty.call(t,u))throw Error('Found marker, "'+u+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));var d=t[u];return d instanceof goog.string.Const?goog.string.Const.unwrap(d):encodeURIComponent(String(d))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=RegExp("^((https:)?//[0-9a-z.:[\\]-]+/|/[^/\\\\]|[^:/\\\\%]+/|[^:/\\\\%]*[?#]|about:blank#)","i"),goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,n,i){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(n,i)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",n=0;n<e.length;n++)t+=goog.string.Const.unwrap(e[n]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){var t=goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(e)],"text/javascript"),n=goog.fs.url.createObjectUrl(t);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),n=t?t.createScriptURL(e):e;return new goog.html.TrustedResourceUrl(n,goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,n){if(n==null)return t;if(typeof n=="string")return n?e+encodeURIComponent(n):"";for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))for(var r=n[i],u=Array.isArray(r)?r:[r],d=0;d<u.length;d++){var c=u[d];c!=null&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(i)+"="+encodeURIComponent(String(c)))}return t},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_?e:""},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.SafeUrl.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$',"i"),goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){var t=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.revokeObjectUrl=function(e){var t=e.getTypedStringValue();t!==goog.html.SafeUrl.INNOCUOUS_STRING&&goog.fs.url.revokeObjectUrl(t)},goog.html.SafeUrl.fromMediaSource=function(e){goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource");var t=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.tryFromDataUrl=function(e){e=String(e);var t=e.replace(/(%0A|%0D)/g,""),n=t.match(goog.html.DATA_URL_PATTERN_);return n&&goog.html.SafeUrl.isSafeMimeType(n[1])?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t):null},goog.html.SafeUrl.fromDataUrl=function(e){return goog.html.SafeUrl.tryFromDataUrl(e)||goog.html.SafeUrl.INNOCUOUS_URL},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=RegExp("^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$","i"),goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");0<t&&(e=e.substring(0,t));var n=e.match(/[?&]body=/gi);if(!n)return!0;if(1<n.length)return!1;var i=e.match(/[?&]body=([^&]*)/)[1];if(!i)return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,n){var i=e.exec(t);if(i){var r=i[1];(n instanceof goog.string.Const?[goog.string.Const.unwrap(n)]:n.map(function(d){return goog.string.Const.unwrap(d)})).indexOf(r)==-1&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)}else t=goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.trySanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)?goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeUrl.tryFromDataUrl(e))},goog.html.SafeUrl.sanitize=function(e){return goog.html.SafeUrl.trySanitize(e)||goog.html.SafeUrl.INNOCUOUS_URL},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){if(e instanceof goog.html.SafeUrl)return e;if(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)){var n=goog.html.SafeUrl.fromDataUrl(e);if(n.getTypedStringValue()==e)return n}return goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(e,goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_)},goog.html.SafeUrl.INNOCUOUS_URL=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");var module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyle_SafeStyle=function(e,t){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t===module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyle_SafeStyle.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeStyle_SafeStyle.EMPTY:((0,goog.asserts.assert)((0,goog.string.internal.endsWith)(t,";"),"Last character of style string is not ';': "+t),(0,goog.asserts.assert)((0,goog.string.internal.contains)(t,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+t),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},module$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},module$contents$goog$html$SafeStyle_SafeStyle.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString()},module$contents$goog$html$SafeStyle_SafeStyle.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyle_SafeStyle&&e.constructor===module$contents$goog$html$SafeStyle_SafeStyle?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyle_SafeStyle(e,module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeStyle_SafeStyle.create=function(e){var t="",n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!/^[-_a-zA-Z0-9]+$/.test(n))throw Error("Name allows only [-_a-zA-Z0-9], got: "+n);var i=e[n];i!=null&&(i=Array.isArray(i)?i.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(" "):module$contents$goog$html$SafeStyle_sanitizePropertyValue(i),t+=n+":"+i+";")}return t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY},module$contents$goog$html$SafeStyle_SafeStyle.concat=function(e){var t="",n=function(i){Array.isArray(i)?i.forEach(n):t+=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(i)};return Array.prototype.forEach.call(arguments,n),t?module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):module$contents$goog$html$SafeStyle_SafeStyle.EMPTY},module$contents$goog$html$SafeStyle_SafeStyle.EMPTY=module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING="zClosurez";function module$contents$goog$html$SafeStyle_sanitizePropertyValue(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';var t=e instanceof goog.string.Const?goog.string.Const.unwrap(e):module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(e));if(/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t}function module$contents$goog$html$SafeStyle_sanitizePropertyValueString(e){var t=e.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE,"$1").replace(module$contents$goog$html$SafeStyle_URL_RE,"url");if(module$contents$goog$html$SafeStyle_VALUE_RE.test(t)){if(module$contents$goog$html$SafeStyle_COMMENT_RE.test(e))return(0,goog.asserts.fail)("String value disallows comments, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;if(!module$contents$goog$html$SafeStyle_hasBalancedQuotes(e))return(0,goog.asserts.fail)("String value requires balanced quotes, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;if(!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e))return(0,goog.asserts.fail)("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING}else return(0,goog.asserts.fail)(`String value allows only [-,."'%_!#/ a-zA-Z0-9\\[\\]] and simple functions, got: `+e),module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;return module$contents$goog$html$SafeStyle_sanitizeUrl(e)}function module$contents$goog$html$SafeStyle_hasBalancedQuotes(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);r=="'"&&n?t=!t:r=='"'&&t&&(n=!n)}return t&&n}function module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(e){for(var t=!0,n=/^[-_a-zA-Z0-9]$/,i=0;i<e.length;i++){var r=e.charAt(i);if(r=="]"){if(t)return!1;t=!0}else if(r=="["){if(!t)return!1;t=!1}else if(!t&&!n.test(r))return!1}return t}var module$contents$goog$html$SafeStyle_VALUE_RE=RegExp(`^[-,."'%_!#/ a-zA-Z0-9\\[\\]]+$`),module$contents$goog$html$SafeStyle_URL_RE=RegExp(`\\b(url\\([ 	
]*)('[ -&(-\\[\\]-~]*'|"[ !#-\\[\\]-~]*"|[!#-&*-\\[\\]-~]*)([ 	
]*\\))`,"g"),module$contents$goog$html$SafeStyle_FUNCTIONS_RE=RegExp("\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|var)\\([-+*/0-9a-z.%#\\[\\], ]+\\)","g"),module$contents$goog$html$SafeStyle_COMMENT_RE=/\/\*/;function module$contents$goog$html$SafeStyle_sanitizeUrl(e){return e.replace(module$contents$goog$html$SafeStyle_URL_RE,function(t,n,i,r){var u="";i=i.replace(/^(['"])(.*)\1$/,function(c,v,S){return u=v,S});var d=goog.html.SafeUrl.sanitize(i).getTypedStringValue();return n+u+d+u+r})}goog.html.SafeStyle=module$contents$goog$html$SafeStyle_SafeStyle;var module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet=function(e,t){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t===module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.implementsGoogStringTypedString=!0};module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule=function(e,t){if((0,goog.string.internal.contains)(e,"<"))throw Error("Selector does not allow '<', got: "+e);var n=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(n))throw Error("() and [] in selector must be balanced, got: "+e);t instanceof module$contents$goog$html$SafeStyle_SafeStyle||(t=module$contents$goog$html$SafeStyle_SafeStyle.create(t));var i=e+"{"+module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}";return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},n=[],i=0;i<e.length;i++){var r=e[i];if(t[r])n.push(t[r]);else if(module$contents$goog$object_contains(t,r)&&n.pop()!=r)return!1}return n.length==0},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat=function(e){var t="",n=function(i){Array.isArray(i)?i.forEach(n):t+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(i)};return Array.prototype.forEach.call(arguments,n),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant=function(e){var t=goog.string.Const.unwrap(e);return t.length===0?module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY:((0,goog.asserts.assert)(!(0,goog.string.internal.contains)(t,"<"),"Forbidden '<' character in style sheet string: "+t),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap=function(e){return e instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet&&e.constructor===module$contents$goog$html$SafeStyleSheet_SafeStyleSheet?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:((0,goog.asserts.fail)("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(e,module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString()},module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyleSheet=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;var module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE={},module$contents$goog$html$SafeHtml_SafeHtml=function(e,t,n){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=n===module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE?e:"",this.dir_=t,this.implementsGoogStringTypedString=this.implementsGoogI18nBidiDirectionalString=!0};module$contents$goog$html$SafeHtml_SafeHtml.prototype.getDirection=function(){return this.dir_},module$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},module$contents$goog$html$SafeHtml_SafeHtml.prototype.toString=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},module$contents$goog$html$SafeHtml_SafeHtml.unwrap=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(e).toString()},module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML=function(e){return e instanceof module$contents$goog$html$SafeHtml_SafeHtml&&e.constructor===module$contents$goog$html$SafeHtml_SafeHtml?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=typeof e=="object",n=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(n=e.getDirection()),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e)),n)},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t)),t.getDirection())},module$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){if(e instanceof module$contents$goog$html$SafeHtml_SafeHtml)return e;var t=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t)),t.getDirection())},module$contents$goog$html$SafeHtml_SafeHtml.comment=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(e)+"-->",null)},module$contents$goog$html$SafeHtml_SafeHtml.create=function(e,t,n){return module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(e)),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,n)},module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName=function(e){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(e))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},module$contents$goog$html$SafeHtml_SafeHtml.createIframe=function(e,t,n,i){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};r.src=e||null,r.srcdoc=t&&module$contents$goog$html$SafeHtml_SafeHtml.unwrap(t);var u=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(r,{sandbox:""},n);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,i)},module$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe=function(e,t,n,i){if(!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe())throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var r={};r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=t||null,r.sandbox="";var u=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(r,{},n);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,i)},module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},module$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc=function(e,t){goog.html.TrustedResourceUrl.unwrap(e);var n=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:e},{},t);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",n)},module$contents$goog$html$SafeHtml_SafeHtml.createScript=function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=n.toLowerCase();if(i=="language"||i=="src"||i=="text"||i=="type")throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+i+'" attribute':"")}var r="";e=module$contents$goog$array_concat(e);for(var u=0;u<e.length;u++)r+=module$contents$goog$html$SafeScript_SafeScript.unwrap(e[u]);var d=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,d)},module$contents$goog$html$SafeHtml_SafeHtml.createStyle=function(e,t){var n=module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:"text/css"},{},t),i="";e=module$contents$goog$array_concat(e);for(var r=0;r<e.length;r++)i+=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(e[r]);var u=module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,goog.i18n.bidi.Dir.NEUTRAL);return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",n,u)},module$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh=function(e,t){var n=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(module$contents$goog$labs$userAgent$browser_matchIE()||module$contents$goog$labs$userAgent$browser_matchEdgeHtml())&&goog.string.internal.contains(n,";")&&(n="'"+n.replace(/'/g,"%27")+"'"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+n})},module$contents$goog$html$SafeHtml_SafeHtml.createWithDir=function(e,t,n,i){var r=module$contents$goog$html$SafeHtml_SafeHtml.create(t,n,i);return r.dir_=e,r},module$contents$goog$html$SafeHtml_SafeHtml.join=function(e,t){var n=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(e),i=n.getDirection(),r=[],u=function(d){if(Array.isArray(d))d.forEach(u);else{var c=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(d);r.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(c));var v=c.getDirection();i==goog.i18n.bidi.Dir.NEUTRAL?i=v:v!=goog.i18n.bidi.Dir.NEUTRAL&&i!=v&&(i=null)}};return t.forEach(u),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(n)),i)},module$contents$goog$html$SafeHtml_SafeHtml.concat=function(e){return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},module$contents$goog$html$SafeHtml_SafeHtml.concatWithDir=function(e,t){var n=module$contents$goog$html$SafeHtml_SafeHtml.concat(Array.prototype.slice.call(arguments,1));return n.dir_=e,n},module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){var n=goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(),i=n?n.createHTML(e):e;return new module$contents$goog$html$SafeHtml_SafeHtml(i,t,module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE)},module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,n){var i=null,r="<"+e+module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(e,t);if(n==null?n=[]:Array.isArray(n)||(n=[n]),goog.dom.tags.isVoidTag(e.toLowerCase()))goog.asserts.assert(!n.length,"Void tag <"+e+"> does not allow content."),r+=">";else{var u=module$contents$goog$html$SafeHtml_SafeHtml.concat(n);r+=">"+module$contents$goog$html$SafeHtml_SafeHtml.unwrap(u)+"</"+e+">",i=u.getDirection()}var d=t&&t.dir;return d&&(i=/^(ltr|rtl|auto)$/i.test(d)?goog.i18n.bidi.Dir.NEUTRAL:null),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,i)},module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes=function(e,t){var n="";if(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(i))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+i+'".':"");var r=t[i];r!=null&&(n+=" "+module$contents$goog$html$SafeHtml_getAttrNameAndValue(e,i,r))}}return n},module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes=function(e,t,n){var i={},r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),i[r]=e[r]);for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(goog.asserts.assert(u.toLowerCase()==u,"Must be lower case"),i[u]=t[u]);if(n){for(var d in n)if(Object.prototype.hasOwnProperty.call(n,d)){var c=d.toLowerCase();if(c in e)throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+c+'" attribute, got "'+d+'" with value "'+n[d]+'"':"");c in t&&delete i[c],i[d]=n[d]}}return i},module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,module$contents$goog$html$SafeHtml_SafeHtml.from=module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;var module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG=/^[a-zA-Z0-9-]+$/,module$contents$goog$html$SafeHtml_URL_ATTRIBUTES={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES=module$contents$goog$object_createSet(goog.dom.TagName.APPLET,goog.dom.TagName.BASE,goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.MATH,goog.dom.TagName.META,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.SVG,goog.dom.TagName.TEMPLATE);function module$contents$goog$html$SafeHtml_getAttrNameAndValue(e,t,n){if(n instanceof goog.string.Const)n=goog.string.Const.unwrap(n);else if(t.toLowerCase()=="style")if(module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE)n=module$contents$goog$html$SafeHtml_getStyleValue(n);else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");else{if(/^on/i.test(t))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+n+'" given.':"");if(t.toLowerCase()in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES)if(n instanceof goog.html.TrustedResourceUrl)n=goog.html.TrustedResourceUrl.unwrap(n);else if(n instanceof goog.html.SafeUrl)n=goog.html.SafeUrl.unwrap(n);else if(typeof n=="string")n=goog.html.SafeUrl.sanitize(n).getTypedStringValue();else throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+n+'" given.':"")}return n.implementsGoogStringTypedString&&(n=n.getTypedStringValue()),goog.asserts.assert(typeof n=="string"||typeof n=="number","String or number value expected, got "+typeof n+" with value: "+n),t+'="'+goog.string.internal.htmlEscape(String(n))+'"'}function module$contents$goog$html$SafeHtml_getStyleValue(e){if(!goog.isObject(e))throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof module$contents$goog$html$SafeStyle_SafeStyle||(e=module$contents$goog$html$SafeStyle_SafeStyle.create(e)),module$contents$goog$html$SafeStyle_SafeStyle.unwrap(e)}module$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML=function(){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL)}(),module$contents$goog$html$SafeHtml_SafeHtml.EMPTY=new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes&&goog.global.trustedTypes.emptyHTML||"",goog.i18n.bidi.Dir.NEUTRAL,module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE),module$contents$goog$html$SafeHtml_SafeHtml.BR=function(){return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL)}(),goog.html.SafeHtml=module$contents$goog$html$SafeHtml_SafeHtml,goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,n){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,n||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,n){e.insertAdjacentHTML(t,module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(n))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var e=document.createElement("div"),t=document.createElement("div");if(t.appendChild(document.createElement("div")),e.appendChild(t),goog.DEBUG&&!e.firstChild)return!1;var n=e.firstChild.firstChild;return e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY),!n.parentElement}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS&&e.tagName&&goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[e.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".");goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setInnerHtmlFromConstant=function(e,t){goog.dom.safe.setInnerHtml(e,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML to be immediatelly used."),goog.string.Const.unwrap(t)))},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setButtonFormAction=function(e,t){var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setInputFormAction=function(e,t){var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=module$contents$goog$html$SafeStyle_SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setImageSrc=function(e,t){goog.dom.asserts.assertIsHTMLImageElement(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:image\//i.test(t));e.src=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setAudioSrc=function(e,t){goog.dom.asserts.assertIsHTMLAudioElement(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:audio\//i.test(t));e.src=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setVideoSrc=function(e,t){goog.dom.asserts.assertIsHTMLVideoElement(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t,/^data:video\//i.test(t));e.src=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,n){if(goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=n,goog.string.internal.caseInsensitiveContains(n,"stylesheet")){goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t);var i=goog.dom.safe.getStyleNonce(e.ownerDocument&&e.ownerDocument.defaultView);i&&e.setAttribute("nonce",i)}else e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),goog.dom.safe.setNonceForScriptElement_(e)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.textContent=module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(t),goog.dom.safe.setNonceForScriptElement_(e)},goog.dom.safe.setNonceForScriptElement_=function(e){var t=goog.dom.safe.getScriptNonce(e.ownerDocument&&e.ownerDocument.defaultView);t&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(n)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e);var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.assign(goog.html.SafeUrl.unwrap(n))},goog.dom.safe.replaceLocation=function(e,t){var n=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.replace(goog.html.SafeUrl.unwrap(n))},goog.dom.safe.openInWindow=function(e,t,n,i){var r=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),u=t||goog.global,d=n instanceof goog.string.Const?goog.string.Const.unwrap(n):n||"";return i!==void 0?u.open(goog.html.SafeUrl.unwrap(r),d,i):u.open(goog.html.SafeUrl.unwrap(r),d)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,n){return e.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t),n)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e),n=new goog.global.Image;return n.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(n,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),n},goog.dom.safe.createContextualFragment=function(e,t){return e.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.getScriptNonce=function(e){return goog.dom.safe.getNonce_("script[nonce]",e)},goog.dom.safe.getStyleNonce=function(e){return goog.dom.safe.getNonce_('style[nonce],link[rel="stylesheet"][nonce]',e)},goog.dom.safe.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.dom.safe.getNonce_=function(e,t){var n=(t||goog.global).document;if(!n.querySelector)return"";var i=n.querySelector(e);if(i){var r=i.nonce||i.getAttribute("nonce");if(r&&goog.dom.safe.NONCE_PATTERN_.test(r))return r}return""},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var i=e.toLowerCase().match(n),r=t.toLowerCase().match(n),u=Math.min(i.length,r.length),d=0;d<u;d++){var c=i[d],v=r[d];if(c!=v){var S=parseInt(c,10);if(!isNaN(S)){var C=parseInt(v,10);if(!isNaN(C)&&S-C)return S-C}return c<v?-1:1}}return i.length!=r.length?i.length-r.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(r,u){var d=n[r];if(d)return d;if(u.charAt(0)=="#"){var c=+("0"+u.substr(1));isNaN(c)||(d=String.fromCharCode(c))}return d||(goog.dom.safe.setInnerHtml(i,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),r+" ")),d=i.firstChild.nodeValue.slice(0,-1)),n[r]=d})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(t,n){switch(n){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if(n.charAt(0)=="#"){var i=+("0"+n.substr(1));if(!isNaN(i))return String.fromCharCode(i)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,i=0;i<n;i++){var r=n==1?t:t.charAt(i);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,i){if(n&&(e=goog.string.unescapeEntities(e)),i&&e.length>t)i>t&&(i=t),e=e.substring(0,t-i)+"..."+e.substring(e.length-i);else if(e.length>t){var r=Math.floor(t/2);e=e.substring(0,r+t%2)+"..."+e.substring(e.length-r)}return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var i=e.charAt(n),r=i.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[i]||(31<r&&127>r?i:goog.string.escapeChar(i))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,n=e.charCodeAt(0);return 31<n&&127>n?t=e:(256>n?(t="\\x",(16>n||256<n)&&(t+="0")):(t="\\u",4096>n&&(t+="0")),t+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var i=e;return 0<=t&&t<e.length&&0<n&&(i=e.substr(0,t)+e.substr(t+n,e.length-t-n)),i},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.replaceAll=function(e,t,n){var i=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(i,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){var i=n!==void 0?e.toFixed(n):String(e),r=i.indexOf(".");r===-1&&(r=i.length);var u=i[0]==="-"?"-":"";return u&&(i=i.substring(1)),u+goog.string.repeat("0",Math.max(0,t-r))+i},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return t==0&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(t,n){return n.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=typeof t=="string"?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(i,r,u){return r+u.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),typeof e=="string"?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,n){for(var i=e.split(t),r=[];0<n&&i.length;)r.push(i.shift()),n--;return i.length&&r.push(i.join(t)),r},goog.string.lastComponent=function(e,t){if(t)typeof t=="string"&&(t=[t]);else return e;for(var n=-1,i=0;i<t.length;i++)if(t[i]!=""){var r=e.lastIndexOf(t[i]);r>n&&(n=r)}return n==-1?e:e.slice(n+1)},goog.string.editDistance=function(e,t){var n=[],i=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var r=0;r<t.length+1;r++)n[r]=r;for(var u=0;u<e.length;u++){i[0]=u+1;for(var d=0;d<t.length;d++)i[d+1]=Math.min(i[d]+1,n[d+1]+1,n[d]+ +(e[u]!=t[d]));for(var c=0;c<n.length;c++)n[c]=i[c]}return i[t.length]},goog.collections.maps={};var module$contents$goog$collections$maps_MapLike=function(){};module$contents$goog$collections$maps_MapLike.prototype.set=function(e,t){},module$contents$goog$collections$maps_MapLike.prototype.get=function(e){},module$contents$goog$collections$maps_MapLike.prototype.keys=function(){},module$contents$goog$collections$maps_MapLike.prototype.values=function(){},module$contents$goog$collections$maps_MapLike.prototype.has=function(e){},goog.collections.maps.MapLike=module$contents$goog$collections$maps_MapLike,goog.collections.maps.setAll=function e(t,n){if(n)for(var i=$jscomp.makeIterator(n),r=i.next();!r.done;r=i.next()){var u=$jscomp.makeIterator(r.value),d=u.next().value,c=u.next().value;t.set(d,c)}},goog.collections.maps.hasValue=function e(t,n,i){i=i===void 0?module$contents$goog$collections$maps_defaultEqualityFn:i;for(var r=$jscomp.makeIterator(t.values()),u=r.next();!u.done;u=r.next())if(i(u.value,n))return!0;return!1};var module$contents$goog$collections$maps_defaultEqualityFn=function(e,t){return e===t};goog.collections.maps.equals=function e(t,n,i){if(i=i===void 0?module$contents$goog$collections$maps_defaultEqualityFn:i,t===n)return!0;if(t.size!==n.size)return!1;for(var r=$jscomp.makeIterator(t.keys()),u=r.next();!u.done;u=r.next()){var d=u.value;if(!n.has(d)||!i(t.get(d),n.get(d)))return!1}return!0},goog.collections.maps.transpose=function e(t){for(var n=new Map,i=$jscomp.makeIterator(t.keys()),r=i.next();!r.done;r=i.next()){var u=r.value,d=t.get(u);n.set(d,u)}return n},goog.collections.maps.toObject=function e(t){for(var n={},i=$jscomp.makeIterator(t.keys()),r=i.next();!r.done;r=i.next()){var u=r.value;n[u]=t.get(u)}return n},goog.uri={},goog.uri.utils={},goog.uri.utils.QueryArray={},goog.uri.utils.QueryValue={},goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,t,n,i,r,u,d){var c="";return e&&(c+=e+":"),n&&(c+="//",t&&(c+=t+"@"),c+=n,i&&(c+=":"+i)),r&&(c+=r),u&&(c+="?"+u),d&&(c+="#"+d),c},goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.urlPackageSupportLoggingHandler_=null,goog.uri.utils.setUrlPackageSupportLoggingHandler=function(e){goog.uri.utils.urlPackageSupportLoggingHandler_=e},goog.uri.utils.split=function(e){var t=e.match(goog.uri.utils.splitRe_);return goog.uri.utils.urlPackageSupportLoggingHandler_&&0<=["http","https","ws","wss","ftp"].indexOf(t[goog.uri.utils.ComponentIndex.SCHEME])&&goog.uri.utils.urlPackageSupportLoggingHandler_(e),t},goog.uri.utils.decodeIfPossible_=function(e,t){return e&&(t?decodeURI(e):decodeURIComponent(e))},goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){var t=goog.uri.utils.getScheme(e);if(!t&&goog.global.self&&goog.global.self.location){var n=goog.global.self.location.protocol;t=n.substr(0,n.length-1)}return t?t.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e),!0)},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e),!0)},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return 0>t?null:e.substr(t+1)},goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(t[goog.uri.utils.ComponentIndex.SCHEME],t[goog.uri.utils.ComponentIndex.USER_INFO],t[goog.uri.utils.ComponentIndex.DOMAIN],t[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getOrigin=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(t[goog.uri.utils.ComponentIndex.SCHEME],null,t[goog.uri.utils.ComponentIndex.DOMAIN],t[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){var t=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,t[goog.uri.utils.ComponentIndex.PATH],t[goog.uri.utils.ComponentIndex.QUERY_DATA],t[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return 0>t?e:e.substr(0,t)},goog.uri.utils.haveSameDomain=function(e,t){var n=goog.uri.utils.split(e),i=goog.uri.utils.split(t);return n[goog.uri.utils.ComponentIndex.DOMAIN]==i[goog.uri.utils.ComponentIndex.DOMAIN]&&n[goog.uri.utils.ComponentIndex.SCHEME]==i[goog.uri.utils.ComponentIndex.SCHEME]&&n[goog.uri.utils.ComponentIndex.PORT]==i[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){goog.asserts.assert(0>e.indexOf("#")&&0>e.indexOf("?"),"goog.uri.utils: Fragment or query identifiers are not supported: [%s]",e)},goog.uri.utils.parseQueryData=function(e,t){if(e)for(var n=e.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),u=null,d=null;0<=r?(u=n[i].substring(0,r),d=n[i].substring(r+1)):u=n[i],t(u,d?goog.string.urlDecode(d):"")}},goog.uri.utils.splitQueryData_=function(e){var t=e.indexOf("#");0>t&&(t=e.length);var n=e.indexOf("?");if(0>n||n>t){n=t;var i=""}else i=e.substring(n+1,t);return[e.substr(0,n),i,e.substr(t)]},goog.uri.utils.joinQueryData_=function(e){return e[0]+(e[1]?"?"+e[1]:"")+e[2]},goog.uri.utils.appendQueryData_=function(e,t){return t?e?e+"&"+t:t:e},goog.uri.utils.appendQueryDataToUri_=function(e,t){if(!t)return e;var n=goog.uri.utils.splitQueryData_(e);return n[1]=goog.uri.utils.appendQueryData_(n[1],t),goog.uri.utils.joinQueryData_(n)},goog.uri.utils.appendKeyValuePairs_=function(e,t,n){if(goog.asserts.assertString(e),Array.isArray(t)){goog.asserts.assertArray(t);for(var i=0;i<t.length;i++)goog.uri.utils.appendKeyValuePairs_(e,String(t[i]),n)}else t!=null&&n.push(e+(t===""?"":"="+goog.string.urlEncode(t)))},goog.uri.utils.buildQueryData=function(e,t){goog.asserts.assert(Math.max(e.length-(t||0),0)%2==0,"goog.uri.utils: Key/value lists must be even in length.");for(var n=[],i=t||0;i<e.length;i+=2)goog.uri.utils.appendKeyValuePairs_(e[i],e[i+1],n);return n.join("&")},goog.uri.utils.buildQueryDataFromMap=function(e){var t=[],n;for(n in e)goog.uri.utils.appendKeyValuePairs_(n,e[n],t);return t.join("&")},goog.uri.utils.appendParams=function(e,t){var n=arguments.length==2?goog.uri.utils.buildQueryData(arguments[1],0):goog.uri.utils.buildQueryData(arguments,1);return goog.uri.utils.appendQueryDataToUri_(e,n)},goog.uri.utils.appendParamsFromMap=function(e,t){var n=goog.uri.utils.buildQueryDataFromMap(t);return goog.uri.utils.appendQueryDataToUri_(e,n)},goog.uri.utils.appendParam=function(e,t,n){var i=n!=null?"="+goog.string.urlEncode(n):"";return goog.uri.utils.appendQueryDataToUri_(e,t+i)},goog.uri.utils.findParam_=function(e,t,n,i){for(var r=t,u=n.length;0<=(r=e.indexOf(n,r))&&r<i;){var d=e.charCodeAt(r-1);if(d==goog.uri.utils.CharCode_.AMPERSAND||d==goog.uri.utils.CharCode_.QUESTION){var c=e.charCodeAt(r+u);if(!c||c==goog.uri.utils.CharCode_.EQUAL||c==goog.uri.utils.CharCode_.AMPERSAND||c==goog.uri.utils.CharCode_.HASH)return r}r+=u+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))},goog.uri.utils.getParamValue=function(e,t){var n=e.search(goog.uri.utils.hashOrEndRe_),i=goog.uri.utils.findParam_(e,0,t,n);if(0>i)return null;var r=e.indexOf("&",i);return(0>r||r>n)&&(r=n),i+=t.length+1,goog.string.urlDecode(e.substr(i,r-i))},goog.uri.utils.getParamValues=function(e,t){for(var n=e.search(goog.uri.utils.hashOrEndRe_),i=0,r,u=[];0<=(r=goog.uri.utils.findParam_(e,i,t,n));)i=e.indexOf("&",r),(0>i||i>n)&&(i=n),r+=t.length+1,u.push(goog.string.urlDecode(e.substr(r,i-r)));return u},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,t){for(var n=e.search(goog.uri.utils.hashOrEndRe_),i=0,r,u=[];0<=(r=goog.uri.utils.findParam_(e,i,t,n));)u.push(e.substring(i,r)),i=Math.min(e.indexOf("&",r)+1||n,n);return u.push(e.substr(i)),u.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,t,n){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,n)},goog.uri.utils.setParamsFromMap=function(e,t){var n=goog.uri.utils.splitQueryData_(e),i=n[1],r=[];return i&&i.split("&").forEach(function(u){var d=u.indexOf("=");t.hasOwnProperty(0<=d?u.substr(0,d):u)||r.push(u)}),n[1]=goog.uri.utils.appendQueryData_(r.join("&"),goog.uri.utils.buildQueryDataFromMap(t)),goog.uri.utils.joinQueryData_(n)},goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(t,"/")&&(t=t.substr(1)),""+e+"/"+t},goog.uri.utils.setPath=function(e,t){goog.string.startsWith(t,"/")||(t="/"+t);var n=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(n[goog.uri.utils.ComponentIndex.SCHEME],n[goog.uri.utils.ComponentIndex.USER_INFO],n[goog.uri.utils.ComponentIndex.DOMAIN],n[goog.uri.utils.ComponentIndex.PORT],t,n[goog.uri.utils.ComponentIndex.QUERY_DATA],n[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.Uri=function(e,t){this.domain_=this.userInfo_=this.scheme_="",this.port_=null,this.fragment_=this.path_="",this.ignoreCase_=this.isReadOnly_=!1;var n;e instanceof goog.Uri?(this.ignoreCase_=t!==void 0?t:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(n=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!t,this.setScheme(n[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(n[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(n[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(n[goog.uri.utils.ComponentIndex.PORT]),this.setPath(n[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(n[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(n[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!t,this.queryData_=new goog.Uri.QueryData(null,this.ignoreCase_))},goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),":");var n=this.getDomain();if(n||t=="file"){e.push("//");var i=this.getUserInfo();i&&e.push(goog.Uri.encodeSpecialChars_(i,goog.Uri.reDisallowedInSchemeOrUserInfo_,!0),"@"),e.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(n)));var r=this.getPort();r!=null&&e.push(":",String(r))}var u=this.getPath();u&&(this.hasDomain()&&u.charAt(0)!="/"&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(u,u.charAt(0)=="/"?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_,!0)));var d=this.getEncodedQuery();d&&e.push("?",d);var c=this.getFragment();return c&&e.push("#",goog.Uri.encodeSpecialChars_(c,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone(),n=e.hasScheme();n?t.setScheme(e.getScheme()):n=e.hasUserInfo(),n?t.setUserInfo(e.getUserInfo()):n=e.hasDomain(),n?t.setDomain(e.getDomain()):n=e.hasPort();var i=e.getPath();if(n)t.setPort(e.getPort());else if(n=e.hasPath()){if(i.charAt(0)!="/")if(this.hasDomain()&&!this.hasPath())i="/"+i;else{var r=t.getPath().lastIndexOf("/");r!=-1&&(i=t.getPath().substr(0,r+1)+i)}i=goog.Uri.removeDotSegments(i)}return n?t.setPath(i):n=e.hasQuery(),n?t.setQueryData(e.getQueryData().clone()):n=e.hasFragment(),n&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return this.enforceReadOnly(),(this.scheme_=t?goog.Uri.decodeOrEmpty_(e,!0):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.enforceReadOnly(),this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.enforceReadOnly(),this.domain_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return this.port_!=null},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.enforceReadOnly(),this.path_=t?goog.Uri.decodeOrEmpty_(e,!0):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return this.queryData_.toString()!==""},goog.Uri.prototype.setQueryData=function(e,t){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,this.ignoreCase_)),this},goog.Uri.prototype.setQuery=function(e,t){return this.setQueryData(e,t)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,t){return this.enforceReadOnly(),this.queryData_.set(e,t),this},goog.Uri.prototype.setParameterValues=function(e,t){return this.enforceReadOnly(),Array.isArray(t)||(t=[String(t)]),this.queryData_.setValues(e,t),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.enforceReadOnly(),this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return(!this.hasDomain()&&!e.hasDomain()||this.getDomain()==e.getDomain())&&(!this.hasPort()&&!e.hasPort()||this.getPort()==e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,t){return e instanceof goog.Uri?e.clone():new goog.Uri(e,t)},goog.Uri.create=function(e,t,n,i,r,u,d,c){var v=new goog.Uri(null,c);return e&&v.setScheme(e),t&&v.setUserInfo(t),n&&v.setDomain(n),i&&v.setPort(i),r&&v.setPath(r),u&&v.setQueryData(u),d&&v.setFragment(d),v},goog.Uri.resolve=function(e,t){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),t instanceof goog.Uri||(t=goog.Uri.parse(t)),e.resolve(t)},goog.Uri.removeDotSegments=function(e){if(e==".."||e==".")return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){for(var t=goog.string.startsWith(e,"/"),n=e.split("/"),i=[],r=0;r<n.length;){var u=n[r++];u=="."?t&&r==n.length&&i.push(""):u==".."?((1<i.length||i.length==1&&i[0]!="")&&i.pop(),t&&r==n.length&&i.push("")):(i.push(u),t=!0)}return i.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t,n){if(typeof e=="string"){var i=encodeURI(e).replace(t,goog.Uri.encodeChar_);return n&&(i=goog.Uri.removeDoubleEncoding_(i)),i}return null},goog.Uri.encodeChar_=function(e){var t=e.charCodeAt(0);return"%"+(t>>4&15).toString(16)+(t&15).toString(16)},goog.Uri.removeDoubleEncoding_=function(e){return e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[#\?]/g,goog.Uri.reDisallowedInQuery_=/[#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,t){var n=goog.uri.utils.split(e),i=goog.uri.utils.split(t);return n[goog.uri.utils.ComponentIndex.DOMAIN]==i[goog.uri.utils.ComponentIndex.DOMAIN]&&n[goog.uri.utils.ComponentIndex.PORT]==i[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,t){this.count_=this.keyMap_=null,this.encodedQuery_=e||null,this.ignoreCase_=!!t},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new Map,this.count_=0,this.encodedQuery_)){var e=this;goog.uri.utils.parseQueryData(this.encodedQuery_,function(t,n){e.add(goog.string.urlDecode(t),n)})}},goog.Uri.QueryData.createFromMap=function(e,t){var n=goog.structs.getKeys(e);if(typeof n>"u")throw Error("Keys are undefined");for(var i=new goog.Uri.QueryData(null,t),r=goog.structs.getValues(e),u=0;u<n.length;u++){var d=n[u],c=r[u];Array.isArray(c)?i.setValues(d,c):i.add(d,c)}return i},goog.Uri.QueryData.createFromKeysValues=function(e,t,n){if(e.length!=t.length)throw Error("Mismatched lengths for keys/values");for(var i=new goog.Uri.QueryData(null,n),r=0;r<e.length;r++)i.add(e[r],t[r]);return i},goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var n=this.keyMap_.get(e);return n||this.keyMap_.set(e,n=[]),n.push(t),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.has(e)?(this.invalidateCache_(),this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length,this.keyMap_.delete(e)):!1},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),this.count_==0},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.has(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var t=this.getValues();return module$contents$goog$array_contains(t,e)},goog.Uri.QueryData.prototype.forEach=function(e,t){this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=Array.from(this.keyMap_.values()),t=Array.from(this.keyMap_.keys()),n=[],i=0;i<t.length;i++)for(var r=e[i],u=0;u<r.length;u++)n.push(t[i]);return n},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var t=[];if(typeof e=="string")this.containsKey(e)&&(t=t.concat(this.keyMap_.get(this.getKeyName_(e))));else for(var n=Array.from(this.keyMap_.values()),i=0;i<n.length;i++)t=t.concat(n[i]);return t},goog.Uri.QueryData.prototype.set=function(e,t){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_=goog.asserts.assertNumber(this.count_)-this.keyMap_.get(e).length),this.keyMap_.set(e,[t]),this.count_=goog.asserts.assertNumber(this.count_)+1,this},goog.Uri.QueryData.prototype.get=function(e,t){if(!e)return t;var n=this.getValues(e);return 0<n.length?String(n[0]):t},goog.Uri.QueryData.prototype.setValues=function(e,t){this.remove(e),0<t.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),module$contents$goog$array_toArray(t)),this.count_=goog.asserts.assertNumber(this.count_)+t.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],t=Array.from(this.keyMap_.keys()),n=0;n<t.length;n++)for(var i=t[n],r=goog.string.urlEncode(i),u=this.getValues(i),d=0;d<u.length;d++){var c=r;u[d]!==""&&(c+="="+goog.string.urlEncode(u[d])),e.push(c)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(t,n){module$contents$goog$array_contains(e,n)||this.remove(n)},this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=new Map(this.keyMap_),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){var t=String(e);return this.ignoreCase_&&(t=t.toLowerCase()),t},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){e&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(t,n){var i=n.toLowerCase();n!=i&&(this.remove(n),this.setValues(i,t))},this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(e){for(var t=0;t<arguments.length;t++)goog.structs.forEach(arguments[t],function(n,i){this.add(i,n)},this)};function module$contents$eeapiclient$request_params_MakeRequestParams(){}function module$contents$eeapiclient$request_params_processParams(e){if(e.queryParams!=null){var t={},n;for(n in e.queryParams)e.queryParams[n]!==void 0&&(t[n]=e.queryParams[n]);e.queryParams=t}}function module$contents$eeapiclient$request_params_buildQueryParams(e,t,n){for(var i=n=n===void 0?{}:n,r=$jscomp.makeIterator(Object.entries(t)),u=r.next();!u.done;u=r.next()){var d=$jscomp.makeIterator(u.value),c=d.next().value,v=d.next().value,S=c,C=v;S in e&&(i[C]=e[S])}return i}var module$exports$eeapiclient$multipart_request={};module$exports$eeapiclient$multipart_request.MultipartRequest=function(e,t){this.files=e,this._metadata=t,this._metadataPayload="",this._boundary=Date.now().toString(),t&&this.addMetadata(t),this._payloadPromise=this.build()},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.boundary=function(){return this._boundary},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.metadata=function(){return this._metadata},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.payloadPromise=function(){return this._payloadPromise},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.addMetadata=function(e){var t=e instanceof module$exports$eeapiclient$domain_object.Serializable?module$contents$eeapiclient$domain_object_serialize(e):e;this._metadataPayload+=`Content-Type: application/json; charset=utf-8\r
\r
`+JSON.stringify(t)+(`\r
--`+this._boundary+`\r
`)},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.build=function(){var e=this,t="--"+this._boundary+`\r
`;return t+=this._metadataPayload,Promise.all(this.files.map(function(n){return e.encodeFile(n)})).then(function(n){for(var i=$jscomp.makeIterator(n),r=i.next();!r.done;r=i.next())t+=r.value;return t+=`\r
--`+e._boundary+"--"})},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.encodeFile=function(e){return this.base64EncodeFile(e).then(function(t){return"Content-Type: "+e.type+`\r
Content-Disposition: form-data; name="file"; filename="`+(encodeURIComponent(e.name)+`"\r
Content-Transfer-Encoding: base64\r
\r
`)+t})},module$exports$eeapiclient$multipart_request.MultipartRequest.prototype.base64EncodeFile=function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(r){try{var u=r.target.result,d=u.substr(u.indexOf(",")+1);t(d)}catch(c){n(c)}},i.readAsDataURL(e)})};var module$exports$eeapiclient$api_client={};module$exports$eeapiclient$api_client.ApiClient=function(){},module$exports$eeapiclient$api_client.ApiClient.prototype.$validateParameter=function(e,t){var n=String(e);if(!t.test(n))throw Error("parameter ["+n+"] does not match pattern ["+t.toString()+"]")};function module$contents$eeapiclient$api_client_toMakeRequestParams(e){var t=e.body instanceof module$exports$eeapiclient$domain_object.Serializable?module$contents$eeapiclient$domain_object_serialize(e.body):e.body;return{path:e.path,httpMethod:e.httpMethod,methodId:e.methodId,body:t,queryParams:e.queryParams,streamingType:e.streamingType&&e.streamingType}}module$exports$eeapiclient$api_client.toMakeRequestParams=module$contents$eeapiclient$api_client_toMakeRequestParams;function module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(e){if(!(e.body instanceof module$exports$eeapiclient$multipart_request.MultipartRequest))throw Error(e.path+" request must be a MultipartRequest");var t=e.body;return t.payloadPromise().then(function(n){var i,r=(i=e.queryParams)!==null&&i!==void 0?i:{};return{path:e.path,httpMethod:e.httpMethod,methodId:e.methodId,queryParams:Object.assign(Object.assign({},r),{uploadType:"multipart"}),headers:{"X-Goog-Upload-Protocol":"multipart","Content-Type":"multipart/related; boundary="+t.boundary()},body:n}})}module$exports$eeapiclient$api_client.toMultipartMakeRequestParams=module$contents$eeapiclient$api_client_toMultipartMakeRequestParams;var module$exports$eeapiclient$api_request_hook={};module$exports$eeapiclient$api_request_hook.ApiClientRequestHook=function e(){},module$exports$eeapiclient$api_request_hook.ApiClientHookFactory=function(){},module$exports$eeapiclient$api_request_hook.ApiClientHookFactoryCtor=function e(){},module$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory=function(){},module$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory.prototype.getRequestHook=function(e){return{onBeforeSend:function(){},onSuccess:function(t){},onError:function(t){}}};function module$contents$eeapiclient$api_request_hook_getRequestHook(e,t){if(e==null)return null;var n=e.getRequestHook(t);return n??null}module$exports$eeapiclient$api_request_hook.getRequestHook=module$contents$eeapiclient$api_request_hook_getRequestHook;var module$exports$eeapiclient$promise_api_client={};module$exports$eeapiclient$promise_api_client.PromiseApiClient=function(e,t){this.requestService=e,this.hookFactory=t===void 0?null:t},$jscomp.inherits(module$exports$eeapiclient$promise_api_client.PromiseApiClient,module$exports$eeapiclient$api_client.ApiClient),module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$addHooksToRequest=function(e,t){return module$contents$eeapiclient$api_request_hook_getRequestHook(this.hookFactory,e)==null?t:t.then(function(n){return n},function(n){throw n})},module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$request=function(e){var t=e.responseCtor||void 0;return this.$addHooksToRequest(e,this.requestService.send(module$contents$eeapiclient$api_client_toMakeRequestParams(e),t))},module$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$uploadRequest=function(e){var t=this,n=e.responseCtor||void 0;return this.$addHooksToRequest(e,module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(e).then(function(i){return t.requestService.send(i,n)}))};var module$exports$eeapiclient$ee_api_client={};module$exports$eeapiclient$ee_api_client.IAuditLogConfigLogTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum={ADMIN_READ:"ADMIN_READ",DATA_READ:"DATA_READ",DATA_WRITE:"DATA_WRITE",LOG_TYPE_UNSPECIFIED:"LOG_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.LOG_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.ADMIN_READ,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_WRITE,module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_READ]}},module$exports$eeapiclient$ee_api_client.IAuthorizationLoggingOptionsPermissionTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum={ADMIN_READ:"ADMIN_READ",ADMIN_WRITE:"ADMIN_WRITE",DATA_READ:"DATA_READ",DATA_WRITE:"DATA_WRITE",PERMISSION_TYPE_UNSPECIFIED:"PERMISSION_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.PERMISSION_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_READ,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_WRITE,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_READ,module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_WRITE]}},module$exports$eeapiclient$ee_api_client.ICapabilitiesCapabilitiesEnum=function e(){},module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum={CAPABILITY_GROUP_UNSPECIFIED:"CAPABILITY_GROUP_UNSPECIFIED",CLOUD_ALPHA:"CLOUD_ALPHA",EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL",LIMITED:"LIMITED",PREAUTHORIZED:"PREAUTHORIZED",PREVIEW:"PREVIEW",PUBLIC:"PUBLIC",values:function(){return[module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CAPABILITY_GROUP_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.INTERNAL,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.EXTERNAL,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.LIMITED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREAUTHORIZED,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREVIEW,module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CLOUD_ALPHA]}},module$exports$eeapiclient$ee_api_client.ICloudAuditOptionsLogNameEnum=function e(){},module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum={ADMIN_ACTIVITY:"ADMIN_ACTIVITY",DATA_ACCESS:"DATA_ACCESS",UNSPECIFIED_LOG_NAME:"UNSPECIFIED_LOG_NAME",values:function(){return[module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.UNSPECIFIED_LOG_NAME,module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.ADMIN_ACTIVITY,module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.DATA_ACCESS]}},module$exports$eeapiclient$ee_api_client.ICloudStorageDestinationPermissionsEnum=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum={DEFAULT_OBJECT_ACL:"DEFAULT_OBJECT_ACL",PUBLIC:"PUBLIC",TILE_PERMISSIONS_UNSPECIFIED:"TILE_PERMISSIONS_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.DEFAULT_OBJECT_ACL]}},module$exports$eeapiclient$ee_api_client.IComputePixelsRequestFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IConditionIamEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionIamEnum={APPROVER:"APPROVER",ATTRIBUTION:"ATTRIBUTION",AUTHORITY:"AUTHORITY",CREDENTIALS_TYPE:"CREDENTIALS_TYPE",CREDS_ASSERTION:"CREDS_ASSERTION",JUSTIFICATION_TYPE:"JUSTIFICATION_TYPE",NO_ATTR:"NO_ATTR",SECURITY_REALM:"SECURITY_REALM",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionIamEnum.NO_ATTR,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.AUTHORITY,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.ATTRIBUTION,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.SECURITY_REALM,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.APPROVER,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.JUSTIFICATION_TYPE,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDENTIALS_TYPE,module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDS_ASSERTION]}},module$exports$eeapiclient$ee_api_client.IConditionOpEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionOpEnum={DISCHARGED:"DISCHARGED",EQUALS:"EQUALS",IN:"IN",NOT_EQUALS:"NOT_EQUALS",NOT_IN:"NOT_IN",NO_OP:"NO_OP",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NO_OP,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.EQUALS,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_EQUALS,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.IN,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_IN,module$exports$eeapiclient$ee_api_client.ConditionOpEnum.DISCHARGED]}},module$exports$eeapiclient$ee_api_client.IConditionSysEnum=function e(){},module$exports$eeapiclient$ee_api_client.ConditionSysEnum={IP:"IP",NAME:"NAME",NO_ATTR:"NO_ATTR",REGION:"REGION",SERVICE:"SERVICE",values:function(){return[module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NO_ATTR,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.REGION,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.SERVICE,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NAME,module$exports$eeapiclient$ee_api_client.ConditionSysEnum.IP]}},module$exports$eeapiclient$ee_api_client.IDataAccessOptionsLogModeEnum=function e(){},module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum={LOG_FAIL_CLOSED:"LOG_FAIL_CLOSED",LOG_MODE_UNSPECIFIED:"LOG_MODE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_MODE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_FAIL_CLOSED]}},module$exports$eeapiclient$ee_api_client.IEarthEngineAssetTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum={CLASSIFIER:"CLASSIFIER",DATA_MAPPING_SERVICE:"DATA_MAPPING_SERVICE",FOLDER:"FOLDER",IMAGE:"IMAGE",IMAGE_COLLECTION:"IMAGE_COLLECTION",TABLE:"TABLE",TYPE_UNSPECIFIED:"TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE_COLLECTION,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TABLE,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FOLDER,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.CLASSIFIER,module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.DATA_MAPPING_SERVICE]}},module$exports$eeapiclient$ee_api_client.IEarthEngineMapFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IExportVideoMapRequestVersionEnum=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum={V1:"V1",V2:"V2",VERSION_UNSPECIFIED:"VERSION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.VERSION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V1,module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V2]}},module$exports$eeapiclient$ee_api_client.IFilmstripThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IFilmstripThumbnailOrientationEnum=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum={HORIZONTAL:"HORIZONTAL",ORIENTATION_UNSPECIFIED:"ORIENTATION_UNSPECIFIED",VERTICAL:"VERTICAL",values:function(){return[module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.ORIENTATION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.HORIZONTAL,module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.VERTICAL]}},module$exports$eeapiclient$ee_api_client.IGcsDestinationPermissionsEnum=function e(){},module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum={DEFAULT_OBJECT_ACL:"DEFAULT_OBJECT_ACL",PUBLIC:"PUBLIC",TILE_PERMISSIONS_UNSPECIFIED:"TILE_PERMISSIONS_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.PUBLIC,module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.DEFAULT_OBJECT_ACL]}},module$exports$eeapiclient$ee_api_client.IGetPixelsRequestFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyOverridesEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageBandPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IImageFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.IImageManifestPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.IOperationMetadataStateEnum=function e(){},module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",FAILED:"FAILED",PENDING:"PENDING",RUNNING:"RUNNING",STATE_UNSPECIFIED:"STATE_UNSPECIFIED",SUCCEEDED:"SUCCEEDED",values:function(){return[module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.STATE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.PENDING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.RUNNING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLING,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.SUCCEEDED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLED,module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.FAILED]}},module$exports$eeapiclient$ee_api_client.IPixelDataTypePrecisionEnum=function e(){},module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum={DOUBLE:"DOUBLE",FLOAT:"FLOAT",INT:"INT",PRECISION_UNSPECIFIED:"PRECISION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.PRECISION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.INT,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.FLOAT,module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.DOUBLE]}},module$exports$eeapiclient$ee_api_client.IRankByOneThingRuleDirectionEnum=function e(){},module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",DIRECTION_UNSPECIFIED:"DIRECTION_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DIRECTION_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.ASCENDING,module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DESCENDING]}},module$exports$eeapiclient$ee_api_client.IRuleActionEnum=function e(){},module$exports$eeapiclient$ee_api_client.RuleActionEnum={ALLOW:"ALLOW",ALLOW_WITH_LOG:"ALLOW_WITH_LOG",DENY:"DENY",DENY_WITH_LOG:"DENY_WITH_LOG",LOG:"LOG",NO_ACTION:"NO_ACTION",values:function(){return[module$exports$eeapiclient$ee_api_client.RuleActionEnum.NO_ACTION,module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW,module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW_WITH_LOG,module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY,module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY_WITH_LOG,module$exports$eeapiclient$ee_api_client.RuleActionEnum.LOG]}},module$exports$eeapiclient$ee_api_client.ITableFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TABLE_FILE_FORMAT_UNSPECIFIED:"TABLE_FILE_FORMAT_UNSPECIFIED",TF_RECORD_TABLE:"TF_RECORD_TABLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.CSV,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.GEO_JSON,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KML,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KMZ,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.SHP,module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TF_RECORD_TABLE]}},module$exports$eeapiclient$ee_api_client.ITableFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableFileFormatEnum={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TABLE_FILE_FORMAT_UNSPECIFIED:"TABLE_FILE_FORMAT_UNSPECIFIED",TF_RECORD_TABLE:"TF_RECORD_TABLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.CSV,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.GEO_JSON,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KML,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KMZ,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.SHP,module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TF_RECORD_TABLE]}},module$exports$eeapiclient$ee_api_client.ITableSourceCsvColumnDataTypeOverridesEnum=function e(){},module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum={CSV_COLUMN_DATA_TYPE_NUMERIC:"CSV_COLUMN_DATA_TYPE_NUMERIC",CSV_COLUMN_DATA_TYPE_STRING:"CSV_COLUMN_DATA_TYPE_STRING",CSV_COLUMN_DATA_TYPE_UNSPECIFIED:"CSV_COLUMN_DATA_TYPE_UNSPECIFIED",values:function(){return[module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_STRING,module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_NUMERIC]}},module$exports$eeapiclient$ee_api_client.IThinningOptionsThinningStrategyEnum=function e(){},module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum={GLOBALLY_CONSISTENT:"GLOBALLY_CONSISTENT",HIGHER_DENSITY:"HIGHER_DENSITY",UNKNOWN_THINNING_STRATEGY:"UNKNOWN_THINNING_STRATEGY",values:function(){return[module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.UNKNOWN_THINNING_STRATEGY,module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.GLOBALLY_CONSISTENT,module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.HIGHER_DENSITY]}},module$exports$eeapiclient$ee_api_client.IThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",GEO_TIFF:"GEO_TIFF",IMAGE_FILE_FORMAT_UNSPECIFIED:"IMAGE_FILE_FORMAT_UNSPECIFIED",JPEG:"JPEG",MULTI_BAND_IMAGE_TILE:"MULTI_BAND_IMAGE_TILE",NPY:"NPY",PNG:"PNG",TF_RECORD_IMAGE:"TF_RECORD_IMAGE",ZIPPED_GEO_TIFF:"ZIPPED_GEO_TIFF",ZIPPED_GEO_TIFF_PER_BAND:"ZIPPED_GEO_TIFF_PER_BAND",values:function(){return[module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.JPEG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.PNG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.AUTO_JPEG_PNG,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.NPY,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.GEO_TIFF,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.TF_RECORD_IMAGE,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF,module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND]}},module$exports$eeapiclient$ee_api_client.ITilesetBandPyramidingPolicyEnum=function e(){},module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum={MAX:"MAX",MEAN:"MEAN",MEDIAN:"MEDIAN",MIN:"MIN",MODE:"MODE",PYRAMIDING_POLICY_UNSPECIFIED:"PYRAMIDING_POLICY_UNSPECIFIED",SAMPLE:"SAMPLE",values:function(){return[module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEAN,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.SAMPLE,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MIN,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MAX,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MODE,module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEDIAN]}},module$exports$eeapiclient$ee_api_client.ITilesetDataTypeEnum=function e(){},module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum={DATA_TYPE_UNSPECIFIED:"DATA_TYPE_UNSPECIFIED",DOUBLE:"DOUBLE",FLOAT:"FLOAT",INT16:"INT16",INT32:"INT32",INT8:"INT8",UINT16:"UINT16",UINT32:"UINT32",UINT8:"UINT8",values:function(){return[module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DATA_TYPE_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT8,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT8,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT16,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT16,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT32,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT32,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.FLOAT,module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DOUBLE]}},module$exports$eeapiclient$ee_api_client.IVideoFileExportOptionsFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum={GIF:"GIF",MP4:"MP4",VIDEO_FILE_FORMAT_UNSPECIFIED:"VIDEO_FILE_FORMAT_UNSPECIFIED",VP9:"VP9",values:function(){return[module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.MP4,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.GIF,module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VP9]}},module$exports$eeapiclient$ee_api_client.IVideoThumbnailFileFormatEnum=function e(){},module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum={GIF:"GIF",MP4:"MP4",VIDEO_FILE_FORMAT_UNSPECIFIED:"VIDEO_FILE_FORMAT_UNSPECIFIED",VP9:"VP9",values:function(){return[module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.MP4,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.GIF,module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VP9]}},module$exports$eeapiclient$ee_api_client.AffineTransformParameters=function e(){},module$exports$eeapiclient$ee_api_client.AffineTransform=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("scaleX",e.scaleX==null?null:e.scaleX),this.Serializable$set("shearX",e.shearX==null?null:e.shearX),this.Serializable$set("translateX",e.translateX==null?null:e.translateX),this.Serializable$set("shearY",e.shearY==null?null:e.shearY),this.Serializable$set("scaleY",e.scaleY==null?null:e.scaleY),this.Serializable$set("translateY",e.translateY==null?null:e.translateY)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AffineTransform,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AffineTransform},module$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getPartialClassMetadata=function(){return{keys:"scaleX scaleY shearX shearY translateX translateY".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AffineTransform.prototype,{scaleX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scaleX")?this.Serializable$get("scaleX"):null},set:function(e){this.Serializable$set("scaleX",e)}},scaleY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scaleY")?this.Serializable$get("scaleY"):null},set:function(e){this.Serializable$set("scaleY",e)}},shearX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("shearX")?this.Serializable$get("shearX"):null},set:function(e){this.Serializable$set("shearX",e)}},shearY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("shearY")?this.Serializable$get("shearY"):null},set:function(e){this.Serializable$set("shearY",e)}},translateX:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("translateX")?this.Serializable$get("translateX"):null},set:function(e){this.Serializable$set("translateX",e)}},translateY:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("translateY")?this.Serializable$get("translateY"):null},set:function(e){this.Serializable$set("translateY",e)}}}),module$exports$eeapiclient$ee_api_client.AlgorithmParameters=function e(){},module$exports$eeapiclient$ee_api_client.Algorithm=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("returnType",e.returnType==null?null:e.returnType),this.Serializable$set("arguments",e.arguments==null?null:e.arguments),this.Serializable$set("deprecated",e.deprecated==null?null:e.deprecated),this.Serializable$set("deprecationReason",e.deprecationReason==null?null:e.deprecationReason),this.Serializable$set("hidden",e.hidden==null?null:e.hidden),this.Serializable$set("preview",e.preview==null?null:e.preview),this.Serializable$set("sourceCodeUri",e.sourceCodeUri==null?null:e.sourceCodeUri)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Algorithm,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Algorithm.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Algorithm},module$exports$eeapiclient$ee_api_client.Algorithm.prototype.getPartialClassMetadata=function(){return{arrays:{arguments:module$exports$eeapiclient$ee_api_client.AlgorithmArgument},keys:"arguments deprecated deprecationReason description hidden name preview returnType sourceCodeUri".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Algorithm.prototype,{arguments:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arguments")?this.Serializable$get("arguments"):null},set:function(e){this.Serializable$set("arguments",e)}},deprecated:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("deprecated")?this.Serializable$get("deprecated"):null},set:function(e){this.Serializable$set("deprecated",e)}},deprecationReason:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("deprecationReason")?this.Serializable$get("deprecationReason"):null},set:function(e){this.Serializable$set("deprecationReason",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},hidden:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("hidden")?this.Serializable$get("hidden"):null},set:function(e){this.Serializable$set("hidden",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},preview:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("preview")?this.Serializable$get("preview"):null},set:function(e){this.Serializable$set("preview",e)}},returnType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("returnType")?this.Serializable$get("returnType"):null},set:function(e){this.Serializable$set("returnType",e)}},sourceCodeUri:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sourceCodeUri")?this.Serializable$get("sourceCodeUri"):null},set:function(e){this.Serializable$set("sourceCodeUri",e)}}}),module$exports$eeapiclient$ee_api_client.AlgorithmArgumentParameters=function e(){},module$exports$eeapiclient$ee_api_client.AlgorithmArgument=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("argumentName",e.argumentName==null?null:e.argumentName),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("optional",e.optional==null?null:e.optional),this.Serializable$set("defaultValue",e.defaultValue==null?null:e.defaultValue)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AlgorithmArgument,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AlgorithmArgument},module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getPartialClassMetadata=function(){return{keys:["argumentName","defaultValue","description","optional","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype,{argumentName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentName")?this.Serializable$get("argumentName"):null},set:function(e){this.Serializable$set("argumentName",e)}},defaultValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("defaultValue")?this.Serializable$get("defaultValue"):null},set:function(e){this.Serializable$set("defaultValue",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},optional:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("optional")?this.Serializable$get("optional"):null},set:function(e){this.Serializable$set("optional",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.ArrayValueParameters=function e(){},module$exports$eeapiclient$ee_api_client.ArrayValue=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ArrayValue,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ArrayValue},module$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getPartialClassMetadata=function(){return{arrays:{values:module$exports$eeapiclient$ee_api_client.ValueNode},keys:["values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ArrayValue.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.AuditConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuditConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("service",e.service==null?null:e.service),this.Serializable$set("exemptedMembers",e.exemptedMembers==null?null:e.exemptedMembers),this.Serializable$set("auditLogConfigs",e.auditLogConfigs==null?null:e.auditLogConfigs)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuditConfig},module$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getPartialClassMetadata=function(){return{arrays:{auditLogConfigs:module$exports$eeapiclient$ee_api_client.AuditLogConfig},keys:["auditLogConfigs","exemptedMembers","service"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditConfig.prototype,{auditLogConfigs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("auditLogConfigs")?this.Serializable$get("auditLogConfigs"):null},set:function(e){this.Serializable$set("auditLogConfigs",e)}},exemptedMembers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("exemptedMembers")?this.Serializable$get("exemptedMembers"):null},set:function(e){this.Serializable$set("exemptedMembers",e)}},service:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("service")?this.Serializable$get("service"):null},set:function(e){this.Serializable$set("service",e)}}}),module$exports$eeapiclient$ee_api_client.AuditLogConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuditLogConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logType",e.logType==null?null:e.logType),this.Serializable$set("exemptedMembers",e.exemptedMembers==null?null:e.exemptedMembers),this.Serializable$set("ignoreChildExemptions",e.ignoreChildExemptions==null?null:e.ignoreChildExemptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditLogConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuditLogConfig},module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getPartialClassMetadata=function(){return{enums:{logType:module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum},keys:["exemptedMembers","ignoreChildExemptions","logType"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype,{exemptedMembers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("exemptedMembers")?this.Serializable$get("exemptedMembers"):null},set:function(e){this.Serializable$set("exemptedMembers",e)}},ignoreChildExemptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ignoreChildExemptions")?this.Serializable$get("ignoreChildExemptions"):null},set:function(e){this.Serializable$set("ignoreChildExemptions",e)}},logType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logType")?this.Serializable$get("logType"):null},set:function(e){this.Serializable$set("logType",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig,{LogType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum}}}),module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissionType",e.permissionType==null?null:e.permissionType)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions},module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getPartialClassMetadata=function(){return{enums:{permissionType:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum},keys:["permissionType"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype,{permissionType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissionType")?this.Serializable$get("permissionType"):null},set:function(e){this.Serializable$set("permissionType",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions,{PermissionType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum}}}),module$exports$eeapiclient$ee_api_client.BindingParameters=function e(){},module$exports$eeapiclient$ee_api_client.Binding=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("role",e.role==null?null:e.role),this.Serializable$set("members",e.members==null?null:e.members),this.Serializable$set("condition",e.condition==null?null:e.condition),this.Serializable$set("bindingId",e.bindingId==null?null:e.bindingId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Binding,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Binding.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Binding},module$exports$eeapiclient$ee_api_client.Binding.prototype.getPartialClassMetadata=function(){return{keys:["bindingId","condition","members","role"],objects:{condition:module$exports$eeapiclient$ee_api_client.Expr}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Binding.prototype,{bindingId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bindingId")?this.Serializable$get("bindingId"):null},set:function(e){this.Serializable$set("bindingId",e)}},condition:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("condition")?this.Serializable$get("condition"):null},set:function(e){this.Serializable$set("condition",e)}},members:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("members")?this.Serializable$get("members"):null},set:function(e){this.Serializable$set("members",e)}},role:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("role")?this.Serializable$get("role"):null},set:function(e){this.Serializable$set("role",e)}}}),module$exports$eeapiclient$ee_api_client.CancelOperationRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.CancelOperationRequest=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CancelOperationRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CancelOperationRequest},module$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.CapabilitiesParameters=function e(){},module$exports$eeapiclient$ee_api_client.Capabilities=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("capabilities",e.capabilities==null?null:e.capabilities)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Capabilities,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Capabilities.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Capabilities},module$exports$eeapiclient$ee_api_client.Capabilities.prototype.getPartialClassMetadata=function(){return{enums:{capabilities:module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum},keys:["capabilities"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities.prototype,{capabilities:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("capabilities")?this.Serializable$get("capabilities"):null},set:function(e){this.Serializable$set("capabilities",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities,{Capabilities:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum}}}),module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions},module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["earthEngineDestination"],objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}}}),module$exports$eeapiclient$ee_api_client.CloudAuditOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudAuditOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logName",e.logName==null?null:e.logName),this.Serializable$set("authorizationLoggingOptions",e.authorizationLoggingOptions==null?null:e.authorizationLoggingOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudAuditOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudAuditOptions},module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getPartialClassMetadata=function(){return{enums:{logName:module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum},keys:["authorizationLoggingOptions","logName"],objects:{authorizationLoggingOptions:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype,{authorizationLoggingOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("authorizationLoggingOptions")?this.Serializable$get("authorizationLoggingOptions"):null},set:function(e){this.Serializable$set("authorizationLoggingOptions",e)}},logName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logName")?this.Serializable$get("logName"):null},set:function(e){this.Serializable$set("logName",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions,{LogName:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum}}}),module$exports$eeapiclient$ee_api_client.CloudStorageDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("bucket",e.bucket==null?null:e.bucket),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("bucketCorsUris",e.bucketCorsUris==null?null:e.bucketCorsUris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudStorageDestination},module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getPartialClassMetadata=function(){return{enums:{permissions:module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum},keys:["bucket","bucketCorsUris","filenamePrefix","permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype,{bucket:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucket")?this.Serializable$get("bucket"):null},set:function(e){this.Serializable$set("bucket",e)}},bucketCorsUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucketCorsUris")?this.Serializable$get("bucketCorsUris"):null},set:function(e){this.Serializable$set("bucketCorsUris",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination,{Permissions:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum}}}),module$exports$eeapiclient$ee_api_client.CloudStorageLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.CloudStorageLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CloudStorageLocation},module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getPartialClassMetadata=function(){return{keys:["uris"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype,{uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("pageSize",e.pageSize==null?null:e.pageSize),this.Serializable$set("pageToken",e.pageToken==null?null:e.pageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest},module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression","pageSize","pageToken"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},pageSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageSize")?this.Serializable$get("pageSize"):null},set:function(e){this.Serializable$set("pageSize",e)}},pageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageToken")?this.Serializable$get("pageToken"):null},set:function(e){this.Serializable$set("pageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("features",e.features==null?null:e.features),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse},module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{features:module$exports$eeapiclient$ee_api_client.Feature},keys:["features","nextPageToken","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype,{features:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("features")?this.Serializable$get("features"):null},set:function(e){this.Serializable$set("features",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeImagesRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeImagesRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("pageSize",e.pageSize==null?null:e.pageSize),this.Serializable$set("pageToken",e.pageToken==null?null:e.pageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeImagesRequest},module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression","pageSize","pageToken"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},pageSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageSize")?this.Serializable$get("pageSize"):null},set:function(e){this.Serializable$set("pageSize",e)}},pageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pageToken")?this.Serializable$get("pageToken"):null},set:function(e){this.Serializable$set("pageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeImagesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeImagesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("images",e.images==null?null:e.images),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeImagesResponse},module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{images:module$exports$eeapiclient$ee_api_client.EarthEngineAsset},keys:["images","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype,{images:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("images")?this.Serializable$get("images"):null},set:function(e){this.Serializable$set("images",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ComputePixelsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputePixelsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputePixelsRequest},module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum},keys:["bandIds","expression","fileFormat","grid","visualizationOptions"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.ComputeValueRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeValueRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeValueRequest},module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getPartialClassMetadata=function(){return{keys:["expression"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}}}),module$exports$eeapiclient$ee_api_client.ComputeValueResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ComputeValueResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("result",e.result==null?null:e.result)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ComputeValueResponse},module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getPartialClassMetadata=function(){return{keys:["result"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype,{result:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("result")?this.Serializable$get("result"):null},set:function(e){this.Serializable$set("result",e)}}}),module$exports$eeapiclient$ee_api_client.ConditionParameters=function e(){},module$exports$eeapiclient$ee_api_client.Condition=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("iam",e.iam==null?null:e.iam),this.Serializable$set("sys",e.sys==null?null:e.sys),this.Serializable$set("svc",e.svc==null?null:e.svc),this.Serializable$set("op",e.op==null?null:e.op),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Condition,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Condition.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Condition},module$exports$eeapiclient$ee_api_client.Condition.prototype.getPartialClassMetadata=function(){return{enums:{iam:module$exports$eeapiclient$ee_api_client.ConditionIamEnum,op:module$exports$eeapiclient$ee_api_client.ConditionOpEnum,sys:module$exports$eeapiclient$ee_api_client.ConditionSysEnum},keys:["iam","op","svc","sys","values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition.prototype,{iam:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("iam")?this.Serializable$get("iam"):null},set:function(e){this.Serializable$set("iam",e)}},op:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("op")?this.Serializable$get("op"):null},set:function(e){this.Serializable$set("op",e)}},svc:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("svc")?this.Serializable$get("svc"):null},set:function(e){this.Serializable$set("svc",e)}},sys:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sys")?this.Serializable$get("sys"):null},set:function(e){this.Serializable$set("sys",e)}},values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition,{Iam:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionIamEnum}},Op:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionOpEnum}},Sys:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ConditionSysEnum}}}),module$exports$eeapiclient$ee_api_client.CopyAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.CopyAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CopyAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CopyAssetRequest},module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["bandIds","destinationName","overwrite"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}}}),module$exports$eeapiclient$ee_api_client.CounterOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.CounterOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("metric",e.metric==null?null:e.metric),this.Serializable$set("field",e.field==null?null:e.field),this.Serializable$set("customFields",e.customFields==null?null:e.customFields)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CounterOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CounterOptions},module$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getPartialClassMetadata=function(){return{arrays:{customFields:module$exports$eeapiclient$ee_api_client.CustomField},keys:["customFields","field","metric"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CounterOptions.prototype,{customFields:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("customFields")?this.Serializable$get("customFields"):null},set:function(e){this.Serializable$set("customFields",e)}},field:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("field")?this.Serializable$get("field"):null},set:function(e){this.Serializable$set("field",e)}},metric:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("metric")?this.Serializable$get("metric"):null},set:function(e){this.Serializable$set("metric",e)}}}),module$exports$eeapiclient$ee_api_client.CustomFieldParameters=function e(){},module$exports$eeapiclient$ee_api_client.CustomField=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("value",e.value==null?null:e.value)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CustomField,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.CustomField.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.CustomField},module$exports$eeapiclient$ee_api_client.CustomField.prototype.getPartialClassMetadata=function(){return{keys:["name","value"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CustomField.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},value:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("value")?this.Serializable$get("value"):null},set:function(e){this.Serializable$set("value",e)}}}),module$exports$eeapiclient$ee_api_client.DMSMapParameters=function e(){},module$exports$eeapiclient$ee_api_client.DMSMap=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("asset",e.asset==null?null:e.asset),this.Serializable$set("dmsName",e.dmsName==null?null:e.dmsName),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions),this.Serializable$set("visualizationExpression",e.visualizationExpression==null?null:e.visualizationExpression)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DMSMap,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DMSMap.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DMSMap},module$exports$eeapiclient$ee_api_client.DMSMap.prototype.getPartialClassMetadata=function(){return{keys:["asset","dmsName","name","visualizationExpression","visualizationOptions"],objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DMSMap.prototype,{asset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("asset")?this.Serializable$get("asset"):null},set:function(e){this.Serializable$set("asset",e)}},dmsName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsName")?this.Serializable$get("dmsName"):null},set:function(e){this.Serializable$set("dmsName",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationExpression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationExpression")?this.Serializable$get("visualizationExpression"):null},set:function(e){this.Serializable$set("visualizationExpression",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),module$exports$eeapiclient$ee_api_client.DataAccessOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.DataAccessOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("logMode",e.logMode==null?null:e.logMode)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DataAccessOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DataAccessOptions},module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getPartialClassMetadata=function(){return{enums:{logMode:module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum},keys:["logMode"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype,{logMode:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logMode")?this.Serializable$get("logMode"):null},set:function(e){this.Serializable$set("logMode",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions,{LogMode:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum}}}),module$exports$eeapiclient$ee_api_client.DictionaryValueParameters=function e(){},module$exports$eeapiclient$ee_api_client.DictionaryValue=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DictionaryValue,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DictionaryValue},module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getPartialClassMetadata=function(){return{keys:["values"],objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.DmsAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("dmsDestination",e.dmsDestination==null?null:e.dmsDestination),this.Serializable$set("ingestionTimeParameters",e.ingestionTimeParameters==null?null:e.ingestionTimeParameters)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions},module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["dmsDestination","ingestionTimeParameters"],objects:{dmsDestination:module$exports$eeapiclient$ee_api_client.DmsDestination,ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype,{dmsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsDestination")?this.Serializable$get("dmsDestination"):null},set:function(e){this.Serializable$set("dmsDestination",e)}},ingestionTimeParameters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ingestionTimeParameters")?this.Serializable$get("ingestionTimeParameters"):null},set:function(e){this.Serializable$set("ingestionTimeParameters",e)}}}),module$exports$eeapiclient$ee_api_client.DmsDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.DmsDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("dmsName",e.dmsName==null?null:e.dmsName),this.Serializable$set("assetVersion",e.assetVersion==null?null:e.assetVersion)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DmsDestination},module$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getPartialClassMetadata=function(){return{keys:["assetVersion","dmsName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsDestination.prototype,{assetVersion:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetVersion")?this.Serializable$get("assetVersion"):null},set:function(e){this.Serializable$set("assetVersion",e)}},dmsName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsName")?this.Serializable$get("dmsName"):null},set:function(e){this.Serializable$set("dmsName",e)}}}),module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParametersParameters=function e(){},module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("thinningOptions",e.thinningOptions==null?null:e.thinningOptions),this.Serializable$set("rankingOptions",e.rankingOptions==null?null:e.rankingOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters},module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getPartialClassMetadata=function(){return{keys:["rankingOptions","thinningOptions"],objects:{rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions,thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype,{rankingOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankingOptions")?this.Serializable$get("rankingOptions"):null},set:function(e){this.Serializable$set("rankingOptions",e)}},thinningOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningOptions")?this.Serializable$get("thinningOptions"):null},set:function(e){this.Serializable$set("thinningOptions",e)}}}),module$exports$eeapiclient$ee_api_client.DmsLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.DmsLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("location",e.location==null?null:e.location),this.Serializable$set("dmsAssetOptions",e.dmsAssetOptions==null?null:e.dmsAssetOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DmsLocation},module$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getPartialClassMetadata=function(){return{keys:["dmsAssetOptions","location"],objects:{dmsAssetOptions:module$exports$eeapiclient$ee_api_client.DmsOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsLocation.prototype,{dmsAssetOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsAssetOptions")?this.Serializable$get("dmsAssetOptions"):null},set:function(e){this.Serializable$set("dmsAssetOptions",e)}},location:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("location")?this.Serializable$get("location"):null},set:function(e){this.Serializable$set("location",e)}}}),module$exports$eeapiclient$ee_api_client.DmsOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.DmsOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("attributes",e.attributes==null?null:e.attributes),this.Serializable$set("ingestionTimeParameters",e.ingestionTimeParameters==null?null:e.ingestionTimeParameters)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DmsOptions},module$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getPartialClassMetadata=function(){return{keys:["attributes","ingestionTimeParameters"],objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsOptions.prototype,{attributes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("attributes")?this.Serializable$get("attributes"):null},set:function(e){this.Serializable$set("attributes",e)}},ingestionTimeParameters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ingestionTimeParameters")?this.Serializable$get("ingestionTimeParameters"):null},set:function(e){this.Serializable$set("ingestionTimeParameters",e)}}}),module$exports$eeapiclient$ee_api_client.DoubleRangeParameters=function e(){},module$exports$eeapiclient$ee_api_client.DoubleRange=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("min",e.min==null?null:e.min),this.Serializable$set("max",e.max==null?null:e.max)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DoubleRange,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DoubleRange},module$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getPartialClassMetadata=function(){return{keys:["max","min"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DoubleRange.prototype,{max:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("max")?this.Serializable$get("max"):null},set:function(e){this.Serializable$set("max",e)}},min:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("min")?this.Serializable$get("min"):null},set:function(e){this.Serializable$set("min",e)}}}),module$exports$eeapiclient$ee_api_client.DriveDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.DriveDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("folder",e.folder==null?null:e.folder),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DriveDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.DriveDestination},module$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getPartialClassMetadata=function(){return{keys:["filenamePrefix","folder"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DriveDestination.prototype,{filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},folder:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("folder")?this.Serializable$get("folder"):null},set:function(e){this.Serializable$set("folder",e)}}}),module$exports$eeapiclient$ee_api_client.EarthEngineAssetParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineAsset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tilestoreLocation",e.tilestoreLocation==null?null:e.tilestoreLocation),this.Serializable$set("cloudStorageLocation",e.cloudStorageLocation==null?null:e.cloudStorageLocation),this.Serializable$set("tilestoreEntry",e.tilestoreEntry==null?null:e.tilestoreEntry),this.Serializable$set("gcsLocation",e.gcsLocation==null?null:e.gcsLocation),this.Serializable$set("dmsAssetLocation",e.dmsAssetLocation==null?null:e.dmsAssetLocation),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes),this.Serializable$set("quota",e.quota==null?null:e.quota),this.Serializable$set("expression",e.expression==null?null:e.expression)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineAsset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineAsset},module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand},enums:{type:module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum},keys:"bands cloudStorageLocation description dmsAssetLocation endTime expression gcsLocation geometry id name properties quota sizeBytes startTime tilestoreEntry tilestoreLocation title type updateTime".split(" "),objectMaps:{geometry:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation,dmsAssetLocation:module$exports$eeapiclient$ee_api_client.DmsLocation,expression:module$exports$eeapiclient$ee_api_client.Expression,gcsLocation:module$exports$eeapiclient$ee_api_client.GcsLocation,quota:module$exports$eeapiclient$ee_api_client.FolderQuota,tilestoreEntry:module$exports$eeapiclient$ee_api_client.TilestoreEntry,tilestoreLocation:module$exports$eeapiclient$ee_api_client.TilestoreLocation}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},cloudStorageLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageLocation")?this.Serializable$get("cloudStorageLocation"):null},set:function(e){this.Serializable$set("cloudStorageLocation",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},dmsAssetLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsAssetLocation")?this.Serializable$get("dmsAssetLocation"):null},set:function(e){this.Serializable$set("dmsAssetLocation",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},gcsLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsLocation")?this.Serializable$get("gcsLocation"):null},set:function(e){this.Serializable$set("gcsLocation",e)}},geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},quota:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("quota")?this.Serializable$get("quota"):null},set:function(e){this.Serializable$set("quota",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},tilestoreEntry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilestoreEntry")?this.Serializable$get("tilestoreEntry"):null},set:function(e){this.Serializable$set("tilestoreEntry",e)}},tilestoreLocation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilestoreLocation")?this.Serializable$get("tilestoreLocation"):null},set:function(e){this.Serializable$set("tilestoreLocation",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset,{Type:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum}}}),module$exports$eeapiclient$ee_api_client.EarthEngineDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineDestination},module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getPartialClassMetadata=function(){return{keys:["name"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}}}),module$exports$eeapiclient$ee_api_client.EarthEngineMapParameters=function e(){},module$exports$eeapiclient$ee_api_client.EarthEngineMap=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineMap,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.EarthEngineMap},module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum},keys:["bandIds","expression","fileFormat","name","visualizationOptions"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.EmptyParameters=function e(){},module$exports$eeapiclient$ee_api_client.Empty=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Empty,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Empty.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Empty},module$exports$eeapiclient$ee_api_client.Empty.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.ExportClassifierRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportClassifierRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportClassifierRequest},module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions description expression maxWorkerCount maxWorkers requestId".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}}}),module$exports$eeapiclient$ee_api_client.ExportImageRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportImageRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("maxPixels",e.maxPixels==null?null:e.maxPixels),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportImageRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportImageRequest},module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions description expression fileExportOptions grid maxPixels maxWorkerCount maxWorkers requestId".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression,fileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,grid:module$exports$eeapiclient$ee_api_client.PixelGrid}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},maxPixels:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxPixels")?this.Serializable$get("maxPixels"):null},set:function(e){this.Serializable$set("maxPixels",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}}}),module$exports$eeapiclient$ee_api_client.ExportMapRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportMapRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("tileOptions",e.tileOptions==null?null:e.tileOptions),this.Serializable$set("tileExportOptions",e.tileExportOptions==null?null:e.tileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportMapRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportMapRequest},module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getPartialClassMetadata=function(){return{keys:"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,tileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileExportOptions")?this.Serializable$get("tileExportOptions"):null},set:function(e){this.Serializable$set("tileExportOptions",e)}},tileOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileOptions")?this.Serializable$get("tileOptions"):null},set:function(e){this.Serializable$set("tileOptions",e)}}}),module$exports$eeapiclient$ee_api_client.ExportTableRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportTableRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("assetExportOptions",e.assetExportOptions==null?null:e.assetExportOptions),this.Serializable$set("dmsExportOptions",e.dmsExportOptions==null?null:e.dmsExportOptions),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("selectors",e.selectors==null?null:e.selectors),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxErrorMeters",e.maxErrorMeters==null?null:e.maxErrorMeters),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount),this.Serializable$set("maxVertices",e.maxVertices==null?null:e.maxVertices)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportTableRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportTableRequest},module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getPartialClassMetadata=function(){return{keys:"assetExportOptions description dmsExportOptions expression fileExportOptions maxErrorMeters maxVertices maxWorkerCount maxWorkers requestId selectors".split(" "),objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.TableAssetExportOptions,dmsExportOptions:module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions,expression:module$exports$eeapiclient$ee_api_client.Expression,fileExportOptions:module$exports$eeapiclient$ee_api_client.TableFileExportOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype,{assetExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetExportOptions")?this.Serializable$get("assetExportOptions"):null},set:function(e){this.Serializable$set("assetExportOptions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},dmsExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dmsExportOptions")?this.Serializable$get("dmsExportOptions"):null},set:function(e){this.Serializable$set("dmsExportOptions",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},maxErrorMeters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxErrorMeters")?this.Serializable$get("maxErrorMeters"):null},set:function(e){this.Serializable$set("maxErrorMeters",e)}},maxVertices:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxVertices")?this.Serializable$get("maxVertices"):null},set:function(e){this.Serializable$set("maxVertices",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},selectors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("selectors")?this.Serializable$get("selectors"):null},set:function(e){this.Serializable$set("selectors",e)}}}),module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("tileOptions",e.tileOptions==null?null:e.tileOptions),this.Serializable$set("tileExportOptions",e.tileExportOptions==null?null:e.tileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("version",e.version==null?null:e.version),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest},module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getPartialClassMetadata=function(){return{enums:{version:module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum},keys:"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions version videoOptions".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,tileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileExportOptions")?this.Serializable$get("tileExportOptions"):null},set:function(e){this.Serializable$set("tileExportOptions",e)}},tileOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileOptions")?this.Serializable$get("tileOptions"):null},set:function(e){this.Serializable$set("tileOptions",e)}},version:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("version")?this.Serializable$get("version"):null},set:function(e){this.Serializable$set("version",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest,{Version:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum}}}),module$exports$eeapiclient$ee_api_client.ExportVideoRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ExportVideoRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("fileExportOptions",e.fileExportOptions==null?null:e.fileExportOptions),this.Serializable$set("requestId",e.requestId==null?null:e.requestId),this.Serializable$set("maxWorkers",e.maxWorkers==null?null:e.maxWorkers),this.Serializable$set("maxWorkerCount",e.maxWorkerCount==null?null:e.maxWorkerCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ExportVideoRequest},module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getPartialClassMetadata=function(){return{keys:"description expression fileExportOptions maxWorkerCount maxWorkers requestId videoOptions".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,fileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileExportOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileExportOptions")?this.Serializable$get("fileExportOptions"):null},set:function(e){this.Serializable$set("fileExportOptions",e)}},maxWorkerCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkerCount")?this.Serializable$get("maxWorkerCount"):null},set:function(e){this.Serializable$set("maxWorkerCount",e)}},maxWorkers:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxWorkers")?this.Serializable$get("maxWorkers"):null},set:function(e){this.Serializable$set("maxWorkers",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}}}),module$exports$eeapiclient$ee_api_client.ExprParameters=function e(){},module$exports$eeapiclient$ee_api_client.Expr=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("location",e.location==null?null:e.location)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expr,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Expr.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Expr},module$exports$eeapiclient$ee_api_client.Expr.prototype.getPartialClassMetadata=function(){return{keys:["description","expression","location","title"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expr.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},location:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("location")?this.Serializable$get("location"):null},set:function(e){this.Serializable$set("location",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}}}),module$exports$eeapiclient$ee_api_client.ExpressionParameters=function e(){},module$exports$eeapiclient$ee_api_client.Expression=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values),this.Serializable$set("result",e.result==null?null:e.result)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expression,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Expression.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Expression},module$exports$eeapiclient$ee_api_client.Expression.prototype.getPartialClassMetadata=function(){return{keys:["result","values"],objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expression.prototype,{result:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("result")?this.Serializable$get("result"):null},set:function(e){this.Serializable$set("result",e)}},values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.FeatureParameters=function e(){},module$exports$eeapiclient$ee_api_client.Feature=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("properties",e.properties==null?null:e.properties)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Feature,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Feature.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Feature},module$exports$eeapiclient$ee_api_client.Feature.prototype.getPartialClassMetadata=function(){return{keys:["geometry","properties","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Feature.prototype,{geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.FilmstripThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.FilmstripThumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("orientation",e.orientation==null?null:e.orientation),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnail},module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum,orientation:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum},keys:["expression","fileFormat","grid","name","orientation"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},orientation:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("orientation")?this.Serializable$get("orientation"):null},set:function(e){this.Serializable$set("orientation",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum}},Orientation:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum}}}),module$exports$eeapiclient$ee_api_client.FolderQuotaParameters=function e(){},module$exports$eeapiclient$ee_api_client.FolderQuota=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes),this.Serializable$set("maxSizeBytes",e.maxSizeBytes==null?null:e.maxSizeBytes),this.Serializable$set("assetCount",e.assetCount==null?null:e.assetCount),this.Serializable$set("maxAssets",e.maxAssets==null?null:e.maxAssets),this.Serializable$set("maxAssetCount",e.maxAssetCount==null?null:e.maxAssetCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FolderQuota,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FolderQuota},module$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getPartialClassMetadata=function(){return{keys:["assetCount","maxAssetCount","maxAssets","maxSizeBytes","sizeBytes"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FolderQuota.prototype,{assetCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assetCount")?this.Serializable$get("assetCount"):null},set:function(e){this.Serializable$set("assetCount",e)}},maxAssetCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxAssetCount")?this.Serializable$get("maxAssetCount"):null},set:function(e){this.Serializable$set("maxAssetCount",e)}},maxAssets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxAssets")?this.Serializable$get("maxAssets"):null},set:function(e){this.Serializable$set("maxAssets",e)}},maxSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxSizeBytes")?this.Serializable$get("maxSizeBytes"):null},set:function(e){this.Serializable$set("maxSizeBytes",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}}}),module$exports$eeapiclient$ee_api_client.FunctionDefinitionParameters=function e(){},module$exports$eeapiclient$ee_api_client.FunctionDefinition=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("argumentNames",e.argumentNames==null?null:e.argumentNames),this.Serializable$set("body",e.body==null?null:e.body)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionDefinition,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FunctionDefinition},module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getPartialClassMetadata=function(){return{keys:["argumentNames","body"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype,{argumentNames:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentNames")?this.Serializable$get("argumentNames"):null},set:function(e){this.Serializable$set("argumentNames",e)}},body:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("body")?this.Serializable$get("body"):null},set:function(e){this.Serializable$set("body",e)}}}),module$exports$eeapiclient$ee_api_client.FunctionInvocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.FunctionInvocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("functionName",e.functionName==null?null:e.functionName),this.Serializable$set("functionReference",e.functionReference==null?null:e.functionReference),this.Serializable$set("arguments",e.arguments==null?null:e.arguments)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionInvocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.FunctionInvocation},module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getPartialClassMetadata=function(){return{keys:["arguments","functionName","functionReference"],objectMaps:{arguments:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode,isPropertyArray:!1,isSerializable:!0,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype,{arguments:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arguments")?this.Serializable$get("arguments"):null},set:function(e){this.Serializable$set("arguments",e)}},functionName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionName")?this.Serializable$get("functionName"):null},set:function(e){this.Serializable$set("functionName",e)}},functionReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionReference")?this.Serializable$get("functionReference"):null},set:function(e){this.Serializable$set("functionReference",e)}}}),module$exports$eeapiclient$ee_api_client.GcsDestinationParameters=function e(){},module$exports$eeapiclient$ee_api_client.GcsDestination=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("bucket",e.bucket==null?null:e.bucket),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("bucketCorsUris",e.bucketCorsUris==null?null:e.bucketCorsUris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsDestination,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GcsDestination},module$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getPartialClassMetadata=function(){return{enums:{permissions:module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum},keys:["bucket","bucketCorsUris","filenamePrefix","permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination.prototype,{bucket:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucket")?this.Serializable$get("bucket"):null},set:function(e){this.Serializable$set("bucket",e)}},bucketCorsUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bucketCorsUris")?this.Serializable$get("bucketCorsUris"):null},set:function(e){this.Serializable$set("bucketCorsUris",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination,{Permissions:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum}}}),module$exports$eeapiclient$ee_api_client.GcsLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.GcsLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GcsLocation},module$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getPartialClassMetadata=function(){return{keys:["uris"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsLocation.prototype,{uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("cloudOptimized",e.cloudOptimized==null?null:e.cloudOptimized),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("skipEmptyFiles",e.skipEmptyFiles==null?null:e.skipEmptyFiles),this.Serializable$set("tileSize",e.tileSize==null?null:e.tileSize)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions},module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["cloudOptimized","skipEmptyFiles","tileDimensions","tileSize"],objects:{tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype,{cloudOptimized:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudOptimized")?this.Serializable$get("cloudOptimized"):null},set:function(e){this.Serializable$set("cloudOptimized",e)}},skipEmptyFiles:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmptyFiles")?this.Serializable$get("skipEmptyFiles"):null},set:function(e){this.Serializable$set("skipEmptyFiles",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}},tileSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileSize")?this.Serializable$get("tileSize"):null},set:function(e){this.Serializable$set("tileSize",e)}}}),module$exports$eeapiclient$ee_api_client.GetIamPolicyRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("options",e.options==null?null:e.options)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest},module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getPartialClassMetadata=function(){return{keys:["options"],objects:{options:module$exports$eeapiclient$ee_api_client.GetPolicyOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype,{options:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("options")?this.Serializable$get("options"):null},set:function(e){this.Serializable$set("options",e)}}}),module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest},module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.GetPixelsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetPixelsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("region",e.region==null?null:e.region),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPixelsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetPixelsRequest},module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum},keys:["bandIds","fileFormat","grid","region","visualizationOptions"],objectMaps:{region:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},region:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("region")?this.Serializable$get("region"):null},set:function(e){this.Serializable$set("region",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.GetPolicyOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GetPolicyOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("requestedPolicyVersion",e.requestedPolicyVersion==null?null:e.requestedPolicyVersion)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPolicyOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GetPolicyOptions},module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getPartialClassMetadata=function(){return{keys:["requestedPolicyVersion"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype,{requestedPolicyVersion:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestedPolicyVersion")?this.Serializable$get("requestedPolicyVersion"):null},set:function(e){this.Serializable$set("requestedPolicyVersion",e)}}}),module$exports$eeapiclient$ee_api_client.GridDimensionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.GridDimensions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("width",e.width==null?null:e.width),this.Serializable$set("height",e.height==null?null:e.height)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridDimensions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GridDimensions},module$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getPartialClassMetadata=function(){return{keys:["height","width"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridDimensions.prototype,{height:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("height")?this.Serializable$get("height"):null},set:function(e){this.Serializable$set("height",e)}},width:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("width")?this.Serializable$get("width"):null},set:function(e){this.Serializable$set("width",e)}}}),module$exports$eeapiclient$ee_api_client.GridPointParameters=function e(){},module$exports$eeapiclient$ee_api_client.GridPoint=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("x",e.x==null?null:e.x),this.Serializable$set("y",e.y==null?null:e.y)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridPoint,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.GridPoint.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.GridPoint},module$exports$eeapiclient$ee_api_client.GridPoint.prototype.getPartialClassMetadata=function(){return{keys:["x","y"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridPoint.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("x")?this.Serializable$get("x"):null},set:function(e){this.Serializable$set("x",e)}},y:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("y")?this.Serializable$get("y"):null},set:function(e){this.Serializable$set("y",e)}}}),module$exports$eeapiclient$ee_api_client.HttpBodyParameters=function e(){},module$exports$eeapiclient$ee_api_client.HttpBody=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("contentType",e.contentType==null?null:e.contentType),this.Serializable$set("data",e.data==null?null:e.data),this.Serializable$set("extensions",e.extensions==null?null:e.extensions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.HttpBody,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.HttpBody.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.HttpBody},module$exports$eeapiclient$ee_api_client.HttpBody.prototype.getPartialClassMetadata=function(){return{keys:["contentType","data","extensions"],objectMaps:{extensions:{ctor:null,isPropertyArray:!0,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.HttpBody.prototype,{contentType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("contentType")?this.Serializable$get("contentType"):null},set:function(e){this.Serializable$set("contentType",e)}},data:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("data")?this.Serializable$get("data"):null},set:function(e){this.Serializable$set("data",e)}},extensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("extensions")?this.Serializable$get("extensions"):null},set:function(e){this.Serializable$set("extensions",e)}}}),module$exports$eeapiclient$ee_api_client.ImageParameters=function e(){},module$exports$eeapiclient$ee_api_client.Image=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("title",e.title==null?null:e.title),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("geometry",e.geometry==null?null:e.geometry),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("sizeBytes",e.sizeBytes==null?null:e.sizeBytes)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Image,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Image.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Image},module$exports$eeapiclient$ee_api_client.Image.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand},keys:"bands description endTime geometry id name properties sizeBytes startTime title updateTime".split(" "),objectMaps:{geometry:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Image.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},geometry:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geometry")?this.Serializable$get("geometry"):null},set:function(e){this.Serializable$set("geometry",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},sizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sizeBytes")?this.Serializable$get("sizeBytes"):null},set:function(e){this.Serializable$set("sizeBytes",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},title:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("title")?this.Serializable$get("title"):null},set:function(e){this.Serializable$set("title",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("pyramidingPolicyOverrides",e.pyramidingPolicyOverrides==null?null:e.pyramidingPolicyOverrides),this.Serializable$set("tileSize",e.tileSize==null?null:e.tileSize)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions},module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum,pyramidingPolicyOverrides:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum},keys:["earthEngineDestination","pyramidingPolicy","pyramidingPolicyOverrides","tileSize"],objectMaps:{pyramidingPolicyOverrides:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},pyramidingPolicyOverrides:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicyOverrides")?this.Serializable$get("pyramidingPolicyOverrides"):null},set:function(e){this.Serializable$set("pyramidingPolicyOverrides",e)}},tileSize:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileSize")?this.Serializable$get("tileSize"):null},set:function(e){this.Serializable$set("tileSize",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum}},PyramidingPolicyOverrides:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum}}}),module$exports$eeapiclient$ee_api_client.ImageBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("dataType",e.dataType==null?null:e.dataType),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("tilesets",e.tilesets==null?null:e.tilesets),this.Serializable$set("missingData",e.missingData==null?null:e.missingData)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageBand},module$exports$eeapiclient$ee_api_client.ImageBand.prototype.getPartialClassMetadata=function(){return{arrays:{tilesets:module$exports$eeapiclient$ee_api_client.TilestoreTileset},enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum},keys:"dataType grid id missingData pyramidingPolicy tilesets".split(" "),objects:{dataType:module$exports$eeapiclient$ee_api_client.PixelDataType,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand.prototype,{dataType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataType")?this.Serializable$get("dataType"):null},set:function(e){this.Serializable$set("dataType",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},tilesets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesets")?this.Serializable$get("tilesets"):null},set:function(e){this.Serializable$set("tilesets",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("geoTiffOptions",e.geoTiffOptions==null?null:e.geoTiffOptions),this.Serializable$set("tfRecordOptions",e.tfRecordOptions==null?null:e.tfRecordOptions),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageFileExportOptions},module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum},keys:"cloudStorageDestination driveDestination fileFormat gcsDestination geoTiffOptions tfRecordOptions".split(" "),objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination,geoTiffOptions:module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions,tfRecordOptions:module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}},geoTiffOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geoTiffOptions")?this.Serializable$get("geoTiffOptions"):null},set:function(e){this.Serializable$set("geoTiffOptions",e)}},tfRecordOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tfRecordOptions")?this.Serializable$get("tfRecordOptions"):null},set:function(e){this.Serializable$set("tfRecordOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.ImageManifestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageManifest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("uriPrefix",e.uriPrefix==null?null:e.uriPrefix),this.Serializable$set("tilesets",e.tilesets==null?null:e.tilesets),this.Serializable$set("bands",e.bands==null?null:e.bands),this.Serializable$set("maskBands",e.maskBands==null?null:e.maskBands),this.Serializable$set("footprint",e.footprint==null?null:e.footprint),this.Serializable$set("missingData",e.missingData==null?null:e.missingData),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("minTileAreaRatio",e.minTileAreaRatio==null?null:e.minTileAreaRatio)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageManifest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageManifest},module$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getPartialClassMetadata=function(){return{arrays:{bands:module$exports$eeapiclient$ee_api_client.TilesetBand,maskBands:module$exports$eeapiclient$ee_api_client.TilesetMaskBand,tilesets:module$exports$eeapiclient$ee_api_client.Tileset},enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum},keys:"bands endTime footprint maskBands minTileAreaRatio missingData name properties pyramidingPolicy startTime tilesets uriPrefix".split(" "),objectMaps:{properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{footprint:module$exports$eeapiclient$ee_api_client.PixelFootprint,missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest.prototype,{bands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bands")?this.Serializable$get("bands"):null},set:function(e){this.Serializable$set("bands",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},footprint:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("footprint")?this.Serializable$get("footprint"):null},set:function(e){this.Serializable$set("footprint",e)}},maskBands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maskBands")?this.Serializable$get("maskBands"):null},set:function(e){this.Serializable$set("maskBands",e)}},minTileAreaRatio:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minTileAreaRatio")?this.Serializable$get("minTileAreaRatio"):null},set:function(e){this.Serializable$set("minTileAreaRatio",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},tilesets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesets")?this.Serializable$get("tilesets"):null},set:function(e){this.Serializable$set("tilesets",e)}},uriPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uriPrefix")?this.Serializable$get("uriPrefix"):null},set:function(e){this.Serializable$set("uriPrefix",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.ImageSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImageSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris),this.Serializable$set("affineTransform",e.affineTransform==null?null:e.affineTransform)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImageSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImageSource},module$exports$eeapiclient$ee_api_client.ImageSource.prototype.getPartialClassMetadata=function(){return{keys:["affineTransform","uris"],objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageSource.prototype,{affineTransform:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("affineTransform")?this.Serializable$get("affineTransform"):null},set:function(e){this.Serializable$set("affineTransform",e)}},uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}}}),module$exports$eeapiclient$ee_api_client.ImportImageRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImportImageRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("imageManifest",e.imageManifest==null?null:e.imageManifest),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("requestId",e.requestId==null?null:e.requestId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportImageRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImportImageRequest},module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getPartialClassMetadata=function(){return{keys:["description","imageManifest","overwrite","requestId"],objects:{imageManifest:module$exports$eeapiclient$ee_api_client.ImageManifest}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},imageManifest:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("imageManifest")?this.Serializable$get("imageManifest"):null},set:function(e){this.Serializable$set("imageManifest",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}}}),module$exports$eeapiclient$ee_api_client.ImportTableRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.ImportTableRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tableManifest",e.tableManifest==null?null:e.tableManifest),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("overwrite",e.overwrite==null?null:e.overwrite),this.Serializable$set("requestId",e.requestId==null?null:e.requestId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportTableRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ImportTableRequest},module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getPartialClassMetadata=function(){return{keys:["description","overwrite","requestId","tableManifest"],objects:{tableManifest:module$exports$eeapiclient$ee_api_client.TableManifest}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype,{description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},overwrite:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("overwrite")?this.Serializable$get("overwrite"):null},set:function(e){this.Serializable$set("overwrite",e)}},requestId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("requestId")?this.Serializable$get("requestId"):null},set:function(e){this.Serializable$set("requestId",e)}},tableManifest:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tableManifest")?this.Serializable$get("tableManifest"):null},set:function(e){this.Serializable$set("tableManifest",e)}}}),module$exports$eeapiclient$ee_api_client.LinkAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.LinkAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LinkAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.LinkAssetRequest},module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["destinationName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype,{destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}}}),module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("algorithms",e.algorithms==null?null:e.algorithms)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse},module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{algorithms:module$exports$eeapiclient$ee_api_client.Algorithm},keys:["algorithms"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype,{algorithms:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("algorithms")?this.Serializable$get("algorithms"):null},set:function(e){this.Serializable$set("algorithms",e)}}}),module$exports$eeapiclient$ee_api_client.ListAssetsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListAssetsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("assets",e.assets==null?null:e.assets),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAssetsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListAssetsResponse},module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{assets:module$exports$eeapiclient$ee_api_client.EarthEngineAsset},keys:["assets","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype,{assets:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("assets")?this.Serializable$get("assets"):null},set:function(e){this.Serializable$set("assets",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ListFeaturesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListFeaturesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("features",e.features==null?null:e.features),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListFeaturesResponse},module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{features:module$exports$eeapiclient$ee_api_client.Feature},keys:["features","nextPageToken","type"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype,{features:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("features")?this.Serializable$get("features"):null},set:function(e){this.Serializable$set("features",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}}}),module$exports$eeapiclient$ee_api_client.ListImagesResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListImagesResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("images",e.images==null?null:e.images),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListImagesResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListImagesResponse},module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getPartialClassMetadata=function(){return{arrays:{images:module$exports$eeapiclient$ee_api_client.Image},keys:["images","nextPageToken"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype,{images:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("images")?this.Serializable$get("images"):null},set:function(e){this.Serializable$set("images",e)}},nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}}}),module$exports$eeapiclient$ee_api_client.ListOperationsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.ListOperationsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("operations",e.operations==null?null:e.operations),this.Serializable$set("nextPageToken",e.nextPageToken==null?null:e.nextPageToken)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListOperationsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ListOperationsResponse},module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getPartialClassMetadata=function(){return{arrays:{operations:module$exports$eeapiclient$ee_api_client.Operation},keys:["nextPageToken","operations"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype,{nextPageToken:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("nextPageToken")?this.Serializable$get("nextPageToken"):null},set:function(e){this.Serializable$set("nextPageToken",e)}},operations:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("operations")?this.Serializable$get("operations"):null},set:function(e){this.Serializable$set("operations",e)}}}),module$exports$eeapiclient$ee_api_client.LogConfigParameters=function e(){},module$exports$eeapiclient$ee_api_client.LogConfig=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("counter",e.counter==null?null:e.counter),this.Serializable$set("dataAccess",e.dataAccess==null?null:e.dataAccess),this.Serializable$set("cloudAudit",e.cloudAudit==null?null:e.cloudAudit)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LogConfig,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.LogConfig.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.LogConfig},module$exports$eeapiclient$ee_api_client.LogConfig.prototype.getPartialClassMetadata=function(){return{keys:["cloudAudit","counter","dataAccess"],objects:{cloudAudit:module$exports$eeapiclient$ee_api_client.CloudAuditOptions,counter:module$exports$eeapiclient$ee_api_client.CounterOptions,dataAccess:module$exports$eeapiclient$ee_api_client.DataAccessOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LogConfig.prototype,{cloudAudit:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudAudit")?this.Serializable$get("cloudAudit"):null},set:function(e){this.Serializable$set("cloudAudit",e)}},counter:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("counter")?this.Serializable$get("counter"):null},set:function(e){this.Serializable$set("counter",e)}},dataAccess:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataAccess")?this.Serializable$get("dataAccess"):null},set:function(e){this.Serializable$set("dataAccess",e)}}}),module$exports$eeapiclient$ee_api_client.MissingDataParameters=function e(){},module$exports$eeapiclient$ee_api_client.MissingData=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("values",e.values==null?null:e.values)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MissingData,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.MissingData.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.MissingData},module$exports$eeapiclient$ee_api_client.MissingData.prototype.getPartialClassMetadata=function(){return{keys:["values"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MissingData.prototype,{values:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("values")?this.Serializable$get("values"):null},set:function(e){this.Serializable$set("values",e)}}}),module$exports$eeapiclient$ee_api_client.MoveAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.MoveAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("destinationName",e.destinationName==null?null:e.destinationName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MoveAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.MoveAssetRequest},module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["destinationName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype,{destinationName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationName")?this.Serializable$get("destinationName"):null},set:function(e){this.Serializable$set("destinationName",e)}}}),module$exports$eeapiclient$ee_api_client.OperationParameters=function e(){},module$exports$eeapiclient$ee_api_client.Operation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("metadata",e.metadata==null?null:e.metadata),this.Serializable$set("done",e.done==null?null:e.done),this.Serializable$set("error",e.error==null?null:e.error),this.Serializable$set("response",e.response==null?null:e.response)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Operation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Operation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Operation},module$exports$eeapiclient$ee_api_client.Operation.prototype.getPartialClassMetadata=function(){return{keys:["done","error","metadata","name","response"],objectMaps:{metadata:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1},response:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{error:module$exports$eeapiclient$ee_api_client.Status}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Operation.prototype,{done:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("done")?this.Serializable$get("done"):null},set:function(e){this.Serializable$set("done",e)}},error:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("error")?this.Serializable$get("error"):null},set:function(e){this.Serializable$set("error",e)}},metadata:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("metadata")?this.Serializable$get("metadata"):null},set:function(e){this.Serializable$set("metadata",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},response:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("response")?this.Serializable$get("response"):null},set:function(e){this.Serializable$set("response",e)}}}),module$exports$eeapiclient$ee_api_client.OperationMetadataParameters=function e(){},module$exports$eeapiclient$ee_api_client.OperationMetadata=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("state",e.state==null?null:e.state),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("type",e.type==null?null:e.type),this.Serializable$set("priority",e.priority==null?null:e.priority),this.Serializable$set("createTime",e.createTime==null?null:e.createTime),this.Serializable$set("updateTime",e.updateTime==null?null:e.updateTime),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime),this.Serializable$set("progress",e.progress==null?null:e.progress),this.Serializable$set("stages",e.stages==null?null:e.stages),this.Serializable$set("attempt",e.attempt==null?null:e.attempt),this.Serializable$set("scriptUri",e.scriptUri==null?null:e.scriptUri),this.Serializable$set("destinationUris",e.destinationUris==null?null:e.destinationUris)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationMetadata,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.OperationMetadata},module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getPartialClassMetadata=function(){return{arrays:{stages:module$exports$eeapiclient$ee_api_client.OperationStage},enums:{state:module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum},keys:"attempt createTime description destinationUris endTime priority progress scriptUri stages startTime state type updateTime".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype,{attempt:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("attempt")?this.Serializable$get("attempt"):null},set:function(e){this.Serializable$set("attempt",e)}},createTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("createTime")?this.Serializable$get("createTime"):null},set:function(e){this.Serializable$set("createTime",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},destinationUris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("destinationUris")?this.Serializable$get("destinationUris"):null},set:function(e){this.Serializable$set("destinationUris",e)}},endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},priority:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("priority")?this.Serializable$get("priority"):null},set:function(e){this.Serializable$set("priority",e)}},progress:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("progress")?this.Serializable$get("progress"):null},set:function(e){this.Serializable$set("progress",e)}},scriptUri:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scriptUri")?this.Serializable$get("scriptUri"):null},set:function(e){this.Serializable$set("scriptUri",e)}},stages:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("stages")?this.Serializable$get("stages"):null},set:function(e){this.Serializable$set("stages",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},state:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("state")?this.Serializable$get("state"):null},set:function(e){this.Serializable$set("state",e)}},type:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("type")?this.Serializable$get("type"):null},set:function(e){this.Serializable$set("type",e)}},updateTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateTime")?this.Serializable$get("updateTime"):null},set:function(e){this.Serializable$set("updateTime",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata,{State:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum}}}),module$exports$eeapiclient$ee_api_client.OperationStageParameters=function e(){},module$exports$eeapiclient$ee_api_client.OperationStage=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("displayName",e.displayName==null?null:e.displayName),this.Serializable$set("completeWorkUnits",e.completeWorkUnits==null?null:e.completeWorkUnits),this.Serializable$set("totalWorkUnits",e.totalWorkUnits==null?null:e.totalWorkUnits),this.Serializable$set("description",e.description==null?null:e.description)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationStage,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.OperationStage.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.OperationStage},module$exports$eeapiclient$ee_api_client.OperationStage.prototype.getPartialClassMetadata=function(){return{keys:["completeWorkUnits","description","displayName","totalWorkUnits"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationStage.prototype,{completeWorkUnits:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("completeWorkUnits")?this.Serializable$get("completeWorkUnits"):null},set:function(e){this.Serializable$set("completeWorkUnits",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},displayName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("displayName")?this.Serializable$get("displayName"):null},set:function(e){this.Serializable$set("displayName",e)}},totalWorkUnits:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("totalWorkUnits")?this.Serializable$get("totalWorkUnits"):null},set:function(e){this.Serializable$set("totalWorkUnits",e)}}}),module$exports$eeapiclient$ee_api_client.PixelDataTypeParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelDataType=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("precision",e.precision==null?null:e.precision),this.Serializable$set("range",e.range==null?null:e.range),this.Serializable$set("dimensionsCount",e.dimensionsCount==null?null:e.dimensionsCount)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelDataType,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelDataType},module$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getPartialClassMetadata=function(){return{enums:{precision:module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum},keys:["dimensionsCount","precision","range"],objects:{range:module$exports$eeapiclient$ee_api_client.DoubleRange}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType.prototype,{dimensionsCount:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensionsCount")?this.Serializable$get("dimensionsCount"):null},set:function(e){this.Serializable$set("dimensionsCount",e)}},precision:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("precision")?this.Serializable$get("precision"):null},set:function(e){this.Serializable$set("precision",e)}},range:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("range")?this.Serializable$get("range"):null},set:function(e){this.Serializable$set("range",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType,{Precision:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum}}}),module$exports$eeapiclient$ee_api_client.PixelFootprintParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelFootprint=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("points",e.points==null?null:e.points),this.Serializable$set("bandId",e.bandId==null?null:e.bandId)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelFootprint,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelFootprint},module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getPartialClassMetadata=function(){return{arrays:{points:module$exports$eeapiclient$ee_api_client.GridPoint},keys:["bandId","points"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype,{bandId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandId")?this.Serializable$get("bandId"):null},set:function(e){this.Serializable$set("bandId",e)}},points:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("points")?this.Serializable$get("points"):null},set:function(e){this.Serializable$set("points",e)}}}),module$exports$eeapiclient$ee_api_client.PixelGridParameters=function e(){},module$exports$eeapiclient$ee_api_client.PixelGrid=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("crsCode",e.crsCode==null?null:e.crsCode),this.Serializable$set("crsWkt",e.crsWkt==null?null:e.crsWkt),this.Serializable$set("dimensions",e.dimensions==null?null:e.dimensions),this.Serializable$set("affineTransform",e.affineTransform==null?null:e.affineTransform)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelGrid,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.PixelGrid},module$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getPartialClassMetadata=function(){return{keys:["affineTransform","crsCode","crsWkt","dimensions"],objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform,dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelGrid.prototype,{affineTransform:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("affineTransform")?this.Serializable$get("affineTransform"):null},set:function(e){this.Serializable$set("affineTransform",e)}},crsCode:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crsCode")?this.Serializable$get("crsCode"):null},set:function(e){this.Serializable$set("crsCode",e)}},crsWkt:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crsWkt")?this.Serializable$get("crsWkt"):null},set:function(e){this.Serializable$set("crsWkt",e)}},dimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensions")?this.Serializable$get("dimensions"):null},set:function(e){this.Serializable$set("dimensions",e)}}}),module$exports$eeapiclient$ee_api_client.PolicyParameters=function e(){},module$exports$eeapiclient$ee_api_client.Policy=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("version",e.version==null?null:e.version),this.Serializable$set("bindings",e.bindings==null?null:e.bindings),this.Serializable$set("auditConfigs",e.auditConfigs==null?null:e.auditConfigs),this.Serializable$set("rules",e.rules==null?null:e.rules),this.Serializable$set("etag",e.etag==null?null:e.etag)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Policy,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Policy.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Policy},module$exports$eeapiclient$ee_api_client.Policy.prototype.getPartialClassMetadata=function(){return{arrays:{auditConfigs:module$exports$eeapiclient$ee_api_client.AuditConfig,bindings:module$exports$eeapiclient$ee_api_client.Binding,rules:module$exports$eeapiclient$ee_api_client.Rule},keys:["auditConfigs","bindings","etag","rules","version"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Policy.prototype,{auditConfigs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("auditConfigs")?this.Serializable$get("auditConfigs"):null},set:function(e){this.Serializable$set("auditConfigs",e)}},bindings:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bindings")?this.Serializable$get("bindings"):null},set:function(e){this.Serializable$set("bindings",e)}},etag:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("etag")?this.Serializable$get("etag"):null},set:function(e){this.Serializable$set("etag",e)}},rules:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rules")?this.Serializable$get("rules"):null},set:function(e){this.Serializable$set("rules",e)}},version:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("version")?this.Serializable$get("version"):null},set:function(e){this.Serializable$set("version",e)}}}),module$exports$eeapiclient$ee_api_client.RankByAttributeRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByAttributeRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("attributeName",e.attributeName==null?null:e.attributeName)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByAttributeRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByAttributeRule},module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getPartialClassMetadata=function(){return{keys:["attributeName"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype,{attributeName:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("attributeName")?this.Serializable$get("attributeName"):null},set:function(e){this.Serializable$set("attributeName",e)}}}),module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule},module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule},module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByNaturalOrderParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByNaturalOrder=function(e){module$exports$eeapiclient$domain_object.Serializable.call(this)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByNaturalOrder,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByNaturalOrder},module$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getPartialClassMetadata=function(){return{keys:[]}},module$exports$eeapiclient$ee_api_client.RankByOneThingRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankByOneThingRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("rankByAttributeRule",e.rankByAttributeRule==null?null:e.rankByAttributeRule),this.Serializable$set("rankByMinVisibleLodRule",e.rankByMinVisibleLodRule==null?null:e.rankByMinVisibleLodRule),this.Serializable$set("rankByGeometryTypeRule",e.rankByGeometryTypeRule==null?null:e.rankByGeometryTypeRule),this.Serializable$set("rankByNaturalOrderRule",e.rankByNaturalOrderRule==null?null:e.rankByNaturalOrderRule),this.Serializable$set("direction",e.direction==null?null:e.direction)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByOneThingRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankByOneThingRule},module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getPartialClassMetadata=function(){return{enums:{direction:module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum},keys:["direction","rankByAttributeRule","rankByGeometryTypeRule","rankByMinVisibleLodRule","rankByNaturalOrderRule"],objects:{rankByAttributeRule:module$exports$eeapiclient$ee_api_client.RankByAttributeRule,rankByGeometryTypeRule:module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule,rankByMinVisibleLodRule:module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule,rankByNaturalOrderRule:module$exports$eeapiclient$ee_api_client.RankByNaturalOrder}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype,{direction:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("direction")?this.Serializable$get("direction"):null},set:function(e){this.Serializable$set("direction",e)}},rankByAttributeRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByAttributeRule")?this.Serializable$get("rankByAttributeRule"):null},set:function(e){this.Serializable$set("rankByAttributeRule",e)}},rankByGeometryTypeRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByGeometryTypeRule")?this.Serializable$get("rankByGeometryTypeRule"):null},set:function(e){this.Serializable$set("rankByGeometryTypeRule",e)}},rankByMinVisibleLodRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByMinVisibleLodRule")?this.Serializable$get("rankByMinVisibleLodRule"):null},set:function(e){this.Serializable$set("rankByMinVisibleLodRule",e)}},rankByNaturalOrderRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByNaturalOrderRule")?this.Serializable$get("rankByNaturalOrderRule"):null},set:function(e){this.Serializable$set("rankByNaturalOrderRule",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule,{Direction:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum}}}),module$exports$eeapiclient$ee_api_client.RankingOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankingOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("zOrderRankingRule",e.zOrderRankingRule==null?null:e.zOrderRankingRule),this.Serializable$set("thinningRankingRule",e.thinningRankingRule==null?null:e.thinningRankingRule)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankingOptions},module$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getPartialClassMetadata=function(){return{keys:["thinningRankingRule","zOrderRankingRule"],objects:{thinningRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule,zOrderRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingOptions.prototype,{thinningRankingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningRankingRule")?this.Serializable$get("thinningRankingRule"):null},set:function(e){this.Serializable$set("thinningRankingRule",e)}},zOrderRankingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("zOrderRankingRule")?this.Serializable$get("zOrderRankingRule"):null},set:function(e){this.Serializable$set("zOrderRankingRule",e)}}}),module$exports$eeapiclient$ee_api_client.RankingRuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.RankingRule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("rankByOneThingRule",e.rankByOneThingRule==null?null:e.rankByOneThingRule),this.Serializable$set("pseudoRandomTiebreaking",e.pseudoRandomTiebreaking==null?null:e.pseudoRandomTiebreaking)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingRule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.RankingRule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.RankingRule},module$exports$eeapiclient$ee_api_client.RankingRule.prototype.getPartialClassMetadata=function(){return{arrays:{rankByOneThingRule:module$exports$eeapiclient$ee_api_client.RankByOneThingRule},keys:["pseudoRandomTiebreaking","rankByOneThingRule"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingRule.prototype,{pseudoRandomTiebreaking:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pseudoRandomTiebreaking")?this.Serializable$get("pseudoRandomTiebreaking"):null},set:function(e){this.Serializable$set("pseudoRandomTiebreaking",e)}},rankByOneThingRule:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("rankByOneThingRule")?this.Serializable$get("rankByOneThingRule"):null},set:function(e){this.Serializable$set("rankByOneThingRule",e)}}}),module$exports$eeapiclient$ee_api_client.RuleParameters=function e(){},module$exports$eeapiclient$ee_api_client.Rule=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("description",e.description==null?null:e.description),this.Serializable$set("permissions",e.permissions==null?null:e.permissions),this.Serializable$set("action",e.action==null?null:e.action),this.Serializable$set("in",e.in==null?null:e.in),this.Serializable$set("notIn",e.notIn==null?null:e.notIn),this.Serializable$set("conditions",e.conditions==null?null:e.conditions),this.Serializable$set("logConfig",e.logConfig==null?null:e.logConfig)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Rule,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Rule.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Rule},module$exports$eeapiclient$ee_api_client.Rule.prototype.getPartialClassMetadata=function(){return{arrays:{conditions:module$exports$eeapiclient$ee_api_client.Condition,logConfig:module$exports$eeapiclient$ee_api_client.LogConfig},enums:{action:module$exports$eeapiclient$ee_api_client.RuleActionEnum},keys:"action conditions description in logConfig notIn permissions".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule.prototype,{action:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("action")?this.Serializable$get("action"):null},set:function(e){this.Serializable$set("action",e)}},conditions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("conditions")?this.Serializable$get("conditions"):null},set:function(e){this.Serializable$set("conditions",e)}},description:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("description")?this.Serializable$get("description"):null},set:function(e){this.Serializable$set("description",e)}},in:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("in")?this.Serializable$get("in"):null},set:function(e){this.Serializable$set("in",e)}},logConfig:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("logConfig")?this.Serializable$get("logConfig"):null},set:function(e){this.Serializable$set("logConfig",e)}},notIn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("notIn")?this.Serializable$get("notIn"):null},set:function(e){this.Serializable$set("notIn",e)}},permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule,{Action:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.RuleActionEnum}}}),module$exports$eeapiclient$ee_api_client.SetIamPolicyRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("policy",e.policy==null?null:e.policy),this.Serializable$set("updateMask",e.updateMask==null?null:e.updateMask)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest},module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getPartialClassMetadata=function(){return{keys:["policy","updateMask"],objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype,{policy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("policy")?this.Serializable$get("policy"):null},set:function(e){this.Serializable$set("policy",e)}},updateMask:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateMask")?this.Serializable$get("updateMask"):null},set:function(e){this.Serializable$set("updateMask",e)}}}),module$exports$eeapiclient$ee_api_client.StatusParameters=function e(){},module$exports$eeapiclient$ee_api_client.Status=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("code",e.code==null?null:e.code),this.Serializable$set("message",e.message==null?null:e.message),this.Serializable$set("details",e.details==null?null:e.details)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Status,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Status.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Status},module$exports$eeapiclient$ee_api_client.Status.prototype.getPartialClassMetadata=function(){return{keys:["code","details","message"],objectMaps:{details:{ctor:null,isPropertyArray:!0,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Status.prototype,{code:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("code")?this.Serializable$get("code"):null},set:function(e){this.Serializable$set("code",e)}},details:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("details")?this.Serializable$get("details"):null},set:function(e){this.Serializable$set("details",e)}},message:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("message")?this.Serializable$get("message"):null},set:function(e){this.Serializable$set("message",e)}}}),module$exports$eeapiclient$ee_api_client.TableParameters=function e(){},module$exports$eeapiclient$ee_api_client.Table=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("selectors",e.selectors==null?null:e.selectors),this.Serializable$set("filename",e.filename==null?null:e.filename)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Table,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Table.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Table},module$exports$eeapiclient$ee_api_client.Table.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileFormatEnum},keys:["expression","fileFormat","filename","name","selectors"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},filename:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filename")?this.Serializable$get("filename"):null},set:function(e){this.Serializable$set("filename",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},selectors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("selectors")?this.Serializable$get("selectors"):null},set:function(e){this.Serializable$set("selectors",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TableAssetExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableAssetExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("earthEngineDestination",e.earthEngineDestination==null?null:e.earthEngineDestination)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableAssetExportOptions},module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getPartialClassMetadata=function(){return{keys:["earthEngineDestination"],objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype,{earthEngineDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("earthEngineDestination")?this.Serializable$get("earthEngineDestination"):null},set:function(e){this.Serializable$set("earthEngineDestination",e)}}}),module$exports$eeapiclient$ee_api_client.TableFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableFileExportOptions},module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum},keys:["cloudStorageDestination","driveDestination","fileFormat","gcsDestination"],objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TableManifestParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableManifest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("properties",e.properties==null?null:e.properties),this.Serializable$set("uriPrefix",e.uriPrefix==null?null:e.uriPrefix),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("startTime",e.startTime==null?null:e.startTime),this.Serializable$set("endTime",e.endTime==null?null:e.endTime)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableManifest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableManifest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableManifest},module$exports$eeapiclient$ee_api_client.TableManifest.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TableSource},keys:"endTime name properties sources startTime uriPrefix".split(" "),objectMaps:{properties:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest.prototype,{endTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endTime")?this.Serializable$get("endTime"):null},set:function(e){this.Serializable$set("endTime",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},properties:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("properties")?this.Serializable$get("properties"):null},set:function(e){this.Serializable$set("properties",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}},startTime:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startTime")?this.Serializable$get("startTime"):null},set:function(e){this.Serializable$set("startTime",e)}},uriPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uriPrefix")?this.Serializable$get("uriPrefix"):null},set:function(e){this.Serializable$set("uriPrefix",e)}}}),module$exports$eeapiclient$ee_api_client.TableSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.TableSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("uris",e.uris==null?null:e.uris),this.Serializable$set("charset",e.charset==null?null:e.charset),this.Serializable$set("maxErrorMeters",e.maxErrorMeters==null?null:e.maxErrorMeters),this.Serializable$set("maxVertices",e.maxVertices==null?null:e.maxVertices),this.Serializable$set("crs",e.crs==null?null:e.crs),this.Serializable$set("geodesic",e.geodesic==null?null:e.geodesic),this.Serializable$set("primaryGeometryColumn",e.primaryGeometryColumn==null?null:e.primaryGeometryColumn),this.Serializable$set("xColumn",e.xColumn==null?null:e.xColumn),this.Serializable$set("yColumn",e.yColumn==null?null:e.yColumn),this.Serializable$set("dateFormat",e.dateFormat==null?null:e.dateFormat),this.Serializable$set("csvDelimiter",e.csvDelimiter==null?null:e.csvDelimiter),this.Serializable$set("csvQualifier",e.csvQualifier==null?null:e.csvQualifier),this.Serializable$set("csvColumnDataTypeOverrides",e.csvColumnDataTypeOverrides==null?null:e.csvColumnDataTypeOverrides)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TableSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TableSource},module$exports$eeapiclient$ee_api_client.TableSource.prototype.getPartialClassMetadata=function(){return{enums:{csvColumnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum},keys:"charset crs csvColumnDataTypeOverrides csvDelimiter csvQualifier dateFormat geodesic maxErrorMeters maxVertices primaryGeometryColumn uris xColumn yColumn".split(" "),objectMaps:{csvColumnDataTypeOverrides:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource.prototype,{charset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("charset")?this.Serializable$get("charset"):null},set:function(e){this.Serializable$set("charset",e)}},crs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crs")?this.Serializable$get("crs"):null},set:function(e){this.Serializable$set("crs",e)}},csvColumnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvColumnDataTypeOverrides")?this.Serializable$get("csvColumnDataTypeOverrides"):null},set:function(e){this.Serializable$set("csvColumnDataTypeOverrides",e)}},csvDelimiter:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvDelimiter")?this.Serializable$get("csvDelimiter"):null},set:function(e){this.Serializable$set("csvDelimiter",e)}},csvQualifier:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("csvQualifier")?this.Serializable$get("csvQualifier"):null},set:function(e){this.Serializable$set("csvQualifier",e)}},dateFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dateFormat")?this.Serializable$get("dateFormat"):null},set:function(e){this.Serializable$set("dateFormat",e)}},geodesic:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("geodesic")?this.Serializable$get("geodesic"):null},set:function(e){this.Serializable$set("geodesic",e)}},maxErrorMeters:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxErrorMeters")?this.Serializable$get("maxErrorMeters"):null},set:function(e){this.Serializable$set("maxErrorMeters",e)}},maxVertices:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxVertices")?this.Serializable$get("maxVertices"):null},set:function(e){this.Serializable$set("maxVertices",e)}},primaryGeometryColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("primaryGeometryColumn")?this.Serializable$get("primaryGeometryColumn"):null},set:function(e){this.Serializable$set("primaryGeometryColumn",e)}},uris:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("uris")?this.Serializable$get("uris"):null},set:function(e){this.Serializable$set("uris",e)}},xColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("xColumn")?this.Serializable$get("xColumn"):null},set:function(e){this.Serializable$set("xColumn",e)}},yColumn:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("yColumn")?this.Serializable$get("yColumn"):null},set:function(e){this.Serializable$set("yColumn",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource,{CsvColumnDataTypeOverrides:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum}}}),module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissions",e.permissions==null?null:e.permissions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest},module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getPartialClassMetadata=function(){return{keys:["permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype,{permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponseParameters=function e(){},module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("permissions",e.permissions==null?null:e.permissions)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse},module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getPartialClassMetadata=function(){return{keys:["permissions"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype,{permissions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("permissions")?this.Serializable$get("permissions"):null},set:function(e){this.Serializable$set("permissions",e)}}}),module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("marginDimensions",e.marginDimensions==null?null:e.marginDimensions),this.Serializable$set("compress",e.compress==null?null:e.compress),this.Serializable$set("maxSizeBytes",e.maxSizeBytes==null?null:e.maxSizeBytes),this.Serializable$set("defaultValue",e.defaultValue==null?null:e.defaultValue),this.Serializable$set("tensorDepths",e.tensorDepths==null?null:e.tensorDepths),this.Serializable$set("sequenceData",e.sequenceData==null?null:e.sequenceData),this.Serializable$set("collapseBands",e.collapseBands==null?null:e.collapseBands),this.Serializable$set("maxMaskedRatio",e.maxMaskedRatio==null?null:e.maxMaskedRatio)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions},module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getPartialClassMetadata=function(){return{keys:"collapseBands compress defaultValue marginDimensions maxMaskedRatio maxSizeBytes sequenceData tensorDepths tileDimensions".split(" "),objectMaps:{tensorDepths:{ctor:null,isPropertyArray:!1,isSerializable:!1,isValueArray:!1}},objects:{marginDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype,{collapseBands:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("collapseBands")?this.Serializable$get("collapseBands"):null},set:function(e){this.Serializable$set("collapseBands",e)}},compress:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("compress")?this.Serializable$get("compress"):null},set:function(e){this.Serializable$set("compress",e)}},defaultValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("defaultValue")?this.Serializable$get("defaultValue"):null},set:function(e){this.Serializable$set("defaultValue",e)}},marginDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("marginDimensions")?this.Serializable$get("marginDimensions"):null},set:function(e){this.Serializable$set("marginDimensions",e)}},maxMaskedRatio:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxMaskedRatio")?this.Serializable$get("maxMaskedRatio"):null},set:function(e){this.Serializable$set("maxMaskedRatio",e)}},maxSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxSizeBytes")?this.Serializable$get("maxSizeBytes"):null},set:function(e){this.Serializable$set("maxSizeBytes",e)}},sequenceData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sequenceData")?this.Serializable$get("sequenceData"):null},set:function(e){this.Serializable$set("sequenceData",e)}},tensorDepths:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tensorDepths")?this.Serializable$get("tensorDepths"):null},set:function(e){this.Serializable$set("tensorDepths",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}}}),module$exports$eeapiclient$ee_api_client.ThinningOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.ThinningOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("maxFeaturesPerTile",e.maxFeaturesPerTile==null?null:e.maxFeaturesPerTile),this.Serializable$set("thinningStrategy",e.thinningStrategy==null?null:e.thinningStrategy)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ThinningOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ThinningOptions},module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getPartialClassMetadata=function(){return{enums:{thinningStrategy:module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum},keys:["maxFeaturesPerTile","thinningStrategy"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype,{maxFeaturesPerTile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxFeaturesPerTile")?this.Serializable$get("maxFeaturesPerTile"):null},set:function(e){this.Serializable$set("maxFeaturesPerTile",e)}},thinningStrategy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("thinningStrategy")?this.Serializable$get("thinningStrategy"):null},set:function(e){this.Serializable$set("thinningStrategy",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions,{ThinningStrategy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum}}}),module$exports$eeapiclient$ee_api_client.ThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.Thumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds),this.Serializable$set("visualizationOptions",e.visualizationOptions==null?null:e.visualizationOptions),this.Serializable$set("grid",e.grid==null?null:e.grid),this.Serializable$set("filenamePrefix",e.filenamePrefix==null?null:e.filenamePrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Thumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Thumbnail},module$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum},keys:"bandIds expression fileFormat filenamePrefix grid name visualizationOptions".split(" "),objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},filenamePrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("filenamePrefix")?this.Serializable$get("filenamePrefix"):null},set:function(e){this.Serializable$set("filenamePrefix",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},visualizationOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("visualizationOptions")?this.Serializable$get("visualizationOptions"):null},set:function(e){this.Serializable$set("visualizationOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.TileOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.TileOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("endZoom",e.endZoom==null?null:e.endZoom),this.Serializable$set("maxZoom",e.maxZoom==null?null:e.maxZoom),this.Serializable$set("scale",e.scale==null?null:e.scale),this.Serializable$set("startZoom",e.startZoom==null?null:e.startZoom),this.Serializable$set("minZoom",e.minZoom==null?null:e.minZoom),this.Serializable$set("skipEmpty",e.skipEmpty==null?null:e.skipEmpty),this.Serializable$set("skipEmptyTiles",e.skipEmptyTiles==null?null:e.skipEmptyTiles),this.Serializable$set("mapsApiKey",e.mapsApiKey==null?null:e.mapsApiKey),this.Serializable$set("dimensions",e.dimensions==null?null:e.dimensions),this.Serializable$set("tileDimensions",e.tileDimensions==null?null:e.tileDimensions),this.Serializable$set("stride",e.stride==null?null:e.stride),this.Serializable$set("zoomSubset",e.zoomSubset==null?null:e.zoomSubset)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TileOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TileOptions},module$exports$eeapiclient$ee_api_client.TileOptions.prototype.getPartialClassMetadata=function(){return{keys:"dimensions endZoom mapsApiKey maxZoom minZoom scale skipEmpty skipEmptyTiles startZoom stride tileDimensions zoomSubset".split(" "),objects:{dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions,zoomSubset:module$exports$eeapiclient$ee_api_client.ZoomSubset}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileOptions.prototype,{dimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dimensions")?this.Serializable$get("dimensions"):null},set:function(e){this.Serializable$set("dimensions",e)}},endZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("endZoom")?this.Serializable$get("endZoom"):null},set:function(e){this.Serializable$set("endZoom",e)}},mapsApiKey:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("mapsApiKey")?this.Serializable$get("mapsApiKey"):null},set:function(e){this.Serializable$set("mapsApiKey",e)}},maxZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxZoom")?this.Serializable$get("maxZoom"):null},set:function(e){this.Serializable$set("maxZoom",e)}},minZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("minZoom")?this.Serializable$get("minZoom"):null},set:function(e){this.Serializable$set("minZoom",e)}},scale:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("scale")?this.Serializable$get("scale"):null},set:function(e){this.Serializable$set("scale",e)}},skipEmpty:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmpty")?this.Serializable$get("skipEmpty"):null},set:function(e){this.Serializable$set("skipEmpty",e)}},skipEmptyTiles:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("skipEmptyTiles")?this.Serializable$get("skipEmptyTiles"):null},set:function(e){this.Serializable$set("skipEmptyTiles",e)}},startZoom:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("startZoom")?this.Serializable$get("startZoom"):null},set:function(e){this.Serializable$set("startZoom",e)}},stride:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("stride")?this.Serializable$get("stride"):null},set:function(e){this.Serializable$set("stride",e)}},tileDimensions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tileDimensions")?this.Serializable$get("tileDimensions"):null},set:function(e){this.Serializable$set("tileDimensions",e)}},zoomSubset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("zoomSubset")?this.Serializable$get("zoomSubset"):null},set:function(e){this.Serializable$set("zoomSubset",e)}}}),module$exports$eeapiclient$ee_api_client.TilesetParameters=function e(){},module$exports$eeapiclient$ee_api_client.Tileset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("dataType",e.dataType==null?null:e.dataType),this.Serializable$set("crs",e.crs==null?null:e.crs),this.Serializable$set("subdatasetPrefix",e.subdatasetPrefix==null?null:e.subdatasetPrefix),this.Serializable$set("subdatasetSuffix",e.subdatasetSuffix==null?null:e.subdatasetSuffix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Tileset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.Tileset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.Tileset},module$exports$eeapiclient$ee_api_client.Tileset.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.ImageSource},enums:{dataType:module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum},keys:"crs dataType id sources subdatasetPrefix subdatasetSuffix".split(" ")}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset.prototype,{crs:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("crs")?this.Serializable$get("crs"):null},set:function(e){this.Serializable$set("crs",e)}},dataType:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dataType")?this.Serializable$get("dataType"):null},set:function(e){this.Serializable$set("dataType",e)}},id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}},subdatasetPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subdatasetPrefix")?this.Serializable$get("subdatasetPrefix"):null},set:function(e){this.Serializable$set("subdatasetPrefix",e)}},subdatasetSuffix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("subdatasetSuffix")?this.Serializable$get("subdatasetSuffix"):null},set:function(e){this.Serializable$set("subdatasetSuffix",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset,{DataType:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum}}}),module$exports$eeapiclient$ee_api_client.TilesetBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilesetBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("id",e.id==null?null:e.id),this.Serializable$set("tilesetId",e.tilesetId==null?null:e.tilesetId),this.Serializable$set("tilesetBandIndex",e.tilesetBandIndex==null?null:e.tilesetBandIndex),this.Serializable$set("missingData",e.missingData==null?null:e.missingData),this.Serializable$set("pyramidingPolicy",e.pyramidingPolicy==null?null:e.pyramidingPolicy)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilesetBand},module$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getPartialClassMetadata=function(){return{enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum},keys:["id","missingData","pyramidingPolicy","tilesetBandIndex","tilesetId"],objects:{missingData:module$exports$eeapiclient$ee_api_client.MissingData}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand.prototype,{id:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("id")?this.Serializable$get("id"):null},set:function(e){this.Serializable$set("id",e)}},missingData:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("missingData")?this.Serializable$get("missingData"):null},set:function(e){this.Serializable$set("missingData",e)}},pyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pyramidingPolicy")?this.Serializable$get("pyramidingPolicy"):null},set:function(e){this.Serializable$set("pyramidingPolicy",e)}},tilesetBandIndex:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetBandIndex")?this.Serializable$get("tilesetBandIndex"):null},set:function(e){this.Serializable$set("tilesetBandIndex",e)}},tilesetId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetId")?this.Serializable$get("tilesetId"):null},set:function(e){this.Serializable$set("tilesetId",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand,{PyramidingPolicy:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum}}}),module$exports$eeapiclient$ee_api_client.TilesetMaskBandParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilesetMaskBand=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("tilesetId",e.tilesetId==null?null:e.tilesetId),this.Serializable$set("bandIds",e.bandIds==null?null:e.bandIds)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetMaskBand,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilesetMaskBand},module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getPartialClassMetadata=function(){return{keys:["bandIds","tilesetId"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype,{bandIds:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bandIds")?this.Serializable$get("bandIds"):null},set:function(e){this.Serializable$set("bandIds",e)}},tilesetId:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesetId")?this.Serializable$get("tilesetId"):null},set:function(e){this.Serializable$set("tilesetId",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreEntryParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreEntry=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("pathPrefix",e.pathPrefix==null?null:e.pathPrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreEntry,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreEntry},module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource},keys:["pathPrefix","sources"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype,{pathPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathPrefix")?this.Serializable$get("pathPrefix"):null},set:function(e){this.Serializable$set("pathPrefix",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreLocationParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreLocation=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("sources",e.sources==null?null:e.sources),this.Serializable$set("pathPrefix",e.pathPrefix==null?null:e.pathPrefix)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreLocation,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreLocation},module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getPartialClassMetadata=function(){return{arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource},keys:["pathPrefix","sources"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype,{pathPrefix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathPrefix")?this.Serializable$get("pathPrefix"):null},set:function(e){this.Serializable$set("pathPrefix",e)}},sources:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("sources")?this.Serializable$get("sources"):null},set:function(e){this.Serializable$set("sources",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreSourceParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreSource=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("pathSuffix",e.pathSuffix==null?null:e.pathSuffix),this.Serializable$set("headerSizeBytes",e.headerSizeBytes==null?null:e.headerSizeBytes)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreSource,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreSource},module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getPartialClassMetadata=function(){return{keys:["headerSizeBytes","pathSuffix"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype,{headerSizeBytes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("headerSizeBytes")?this.Serializable$get("headerSizeBytes"):null},set:function(e){this.Serializable$set("headerSizeBytes",e)}},pathSuffix:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("pathSuffix")?this.Serializable$get("pathSuffix"):null},set:function(e){this.Serializable$set("pathSuffix",e)}}}),module$exports$eeapiclient$ee_api_client.TilestoreTilesetParameters=function e(){},module$exports$eeapiclient$ee_api_client.TilestoreTileset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("fileIndexes",e.fileIndexes==null?null:e.fileIndexes),this.Serializable$set("firstTileIndex",e.firstTileIndex==null?null:e.firstTileIndex),this.Serializable$set("tilesPerFile",e.tilesPerFile==null?null:e.tilesPerFile)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreTileset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.TilestoreTileset},module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getPartialClassMetadata=function(){return{keys:["fileIndexes","firstTileIndex","tilesPerFile"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype,{fileIndexes:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileIndexes")?this.Serializable$get("fileIndexes"):null},set:function(e){this.Serializable$set("fileIndexes",e)}},firstTileIndex:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("firstTileIndex")?this.Serializable$get("firstTileIndex"):null},set:function(e){this.Serializable$set("firstTileIndex",e)}},tilesPerFile:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("tilesPerFile")?this.Serializable$get("tilesPerFile"):null},set:function(e){this.Serializable$set("tilesPerFile",e)}}}),module$exports$eeapiclient$ee_api_client.UpdateAssetRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.UpdateAssetRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("asset",e.asset==null?null:e.asset),this.Serializable$set("updateMask",e.updateMask==null?null:e.updateMask)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.UpdateAssetRequest},module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getPartialClassMetadata=function(){return{keys:["asset","updateMask"],objects:{asset:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype,{asset:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("asset")?this.Serializable$get("asset"):null},set:function(e){this.Serializable$set("asset",e)}},updateMask:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("updateMask")?this.Serializable$get("updateMask"):null},set:function(e){this.Serializable$set("updateMask",e)}}}),module$exports$eeapiclient$ee_api_client.ValueNodeParameters=function e(){},module$exports$eeapiclient$ee_api_client.ValueNode=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("constantValue",e.constantValue==null?null:e.constantValue),this.Serializable$set("integerValue",e.integerValue==null?null:e.integerValue),this.Serializable$set("bytesValue",e.bytesValue==null?null:e.bytesValue),this.Serializable$set("arrayValue",e.arrayValue==null?null:e.arrayValue),this.Serializable$set("dictionaryValue",e.dictionaryValue==null?null:e.dictionaryValue),this.Serializable$set("functionDefinitionValue",e.functionDefinitionValue==null?null:e.functionDefinitionValue),this.Serializable$set("functionInvocationValue",e.functionInvocationValue==null?null:e.functionInvocationValue),this.Serializable$set("argumentReference",e.argumentReference==null?null:e.argumentReference),this.Serializable$set("valueReference",e.valueReference==null?null:e.valueReference)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ValueNode,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ValueNode.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ValueNode},module$exports$eeapiclient$ee_api_client.ValueNode.prototype.getPartialClassMetadata=function(){return{keys:"argumentReference arrayValue bytesValue constantValue dictionaryValue functionDefinitionValue functionInvocationValue integerValue valueReference".split(" "),objects:{arrayValue:module$exports$eeapiclient$ee_api_client.ArrayValue,dictionaryValue:module$exports$eeapiclient$ee_api_client.DictionaryValue,functionDefinitionValue:module$exports$eeapiclient$ee_api_client.FunctionDefinition,functionInvocationValue:module$exports$eeapiclient$ee_api_client.FunctionInvocation}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ValueNode.prototype,{argumentReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("argumentReference")?this.Serializable$get("argumentReference"):null},set:function(e){this.Serializable$set("argumentReference",e)}},arrayValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("arrayValue")?this.Serializable$get("arrayValue"):null},set:function(e){this.Serializable$set("arrayValue",e)}},bytesValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("bytesValue")?this.Serializable$get("bytesValue"):null},set:function(e){this.Serializable$set("bytesValue",e)}},constantValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("constantValue")?this.Serializable$get("constantValue"):null},set:function(e){this.Serializable$set("constantValue",e)}},dictionaryValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("dictionaryValue")?this.Serializable$get("dictionaryValue"):null},set:function(e){this.Serializable$set("dictionaryValue",e)}},functionDefinitionValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionDefinitionValue")?this.Serializable$get("functionDefinitionValue"):null},set:function(e){this.Serializable$set("functionDefinitionValue",e)}},functionInvocationValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("functionInvocationValue")?this.Serializable$get("functionInvocationValue"):null},set:function(e){this.Serializable$set("functionInvocationValue",e)}},integerValue:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("integerValue")?this.Serializable$get("integerValue"):null},set:function(e){this.Serializable$set("integerValue",e)}},valueReference:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("valueReference")?this.Serializable$get("valueReference"):null},set:function(e){this.Serializable$set("valueReference",e)}}}),module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoFileExportOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("driveDestination",e.driveDestination==null?null:e.driveDestination),this.Serializable$set("cloudStorageDestination",e.cloudStorageDestination==null?null:e.cloudStorageDestination),this.Serializable$set("gcsDestination",e.gcsDestination==null?null:e.gcsDestination),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoFileExportOptions},module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum},keys:["cloudStorageDestination","driveDestination","fileFormat","gcsDestination"],objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination,driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination,gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype,{cloudStorageDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("cloudStorageDestination")?this.Serializable$get("cloudStorageDestination"):null},set:function(e){this.Serializable$set("cloudStorageDestination",e)}},driveDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("driveDestination")?this.Serializable$get("driveDestination"):null},set:function(e){this.Serializable$set("driveDestination",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},gcsDestination:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gcsDestination")?this.Serializable$get("gcsDestination"):null},set:function(e){this.Serializable$set("gcsDestination",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.VideoOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("framesPerSecond",e.framesPerSecond==null?null:e.framesPerSecond),this.Serializable$set("maxFrames",e.maxFrames==null?null:e.maxFrames),this.Serializable$set("maxPixelsPerFrame",e.maxPixelsPerFrame==null?null:e.maxPixelsPerFrame)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoOptions},module$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getPartialClassMetadata=function(){return{keys:["framesPerSecond","maxFrames","maxPixelsPerFrame"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoOptions.prototype,{framesPerSecond:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("framesPerSecond")?this.Serializable$get("framesPerSecond"):null},set:function(e){this.Serializable$set("framesPerSecond",e)}},maxFrames:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxFrames")?this.Serializable$get("maxFrames"):null},set:function(e){this.Serializable$set("maxFrames",e)}},maxPixelsPerFrame:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("maxPixelsPerFrame")?this.Serializable$get("maxPixelsPerFrame"):null},set:function(e){this.Serializable$set("maxPixelsPerFrame",e)}}}),module$exports$eeapiclient$ee_api_client.VideoThumbnailParameters=function e(){},module$exports$eeapiclient$ee_api_client.VideoThumbnail=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("name",e.name==null?null:e.name),this.Serializable$set("expression",e.expression==null?null:e.expression),this.Serializable$set("videoOptions",e.videoOptions==null?null:e.videoOptions),this.Serializable$set("fileFormat",e.fileFormat==null?null:e.fileFormat),this.Serializable$set("grid",e.grid==null?null:e.grid)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoThumbnail,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VideoThumbnail},module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getPartialClassMetadata=function(){return{enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum},keys:["expression","fileFormat","grid","name","videoOptions"],objects:{expression:module$exports$eeapiclient$ee_api_client.Expression,grid:module$exports$eeapiclient$ee_api_client.PixelGrid,videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype,{expression:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("expression")?this.Serializable$get("expression"):null},set:function(e){this.Serializable$set("expression",e)}},fileFormat:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("fileFormat")?this.Serializable$get("fileFormat"):null},set:function(e){this.Serializable$set("fileFormat",e)}},grid:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("grid")?this.Serializable$get("grid"):null},set:function(e){this.Serializable$set("grid",e)}},name:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("name")?this.Serializable$get("name"):null},set:function(e){this.Serializable$set("name",e)}},videoOptions:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("videoOptions")?this.Serializable$get("videoOptions"):null},set:function(e){this.Serializable$set("videoOptions",e)}}}),$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail,{FileFormat:{configurable:!0,enumerable:!0,get:function(){return module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum}}}),module$exports$eeapiclient$ee_api_client.VisualizationOptionsParameters=function e(){},module$exports$eeapiclient$ee_api_client.VisualizationOptions=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("ranges",e.ranges==null?null:e.ranges),this.Serializable$set("paletteColors",e.paletteColors==null?null:e.paletteColors),this.Serializable$set("gamma",e.gamma==null?null:e.gamma),this.Serializable$set("opacity",e.opacity==null?null:e.opacity)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VisualizationOptions,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.VisualizationOptions},module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getPartialClassMetadata=function(){return{arrays:{ranges:module$exports$eeapiclient$ee_api_client.DoubleRange},keys:["gamma","opacity","paletteColors","ranges"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype,{gamma:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("gamma")?this.Serializable$get("gamma"):null},set:function(e){this.Serializable$set("gamma",e)}},opacity:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("opacity")?this.Serializable$get("opacity"):null},set:function(e){this.Serializable$set("opacity",e)}},paletteColors:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("paletteColors")?this.Serializable$get("paletteColors"):null},set:function(e){this.Serializable$set("paletteColors",e)}},ranges:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("ranges")?this.Serializable$get("ranges"):null},set:function(e){this.Serializable$set("ranges",e)}}}),module$exports$eeapiclient$ee_api_client.WaitOperationRequestParameters=function e(){},module$exports$eeapiclient$ee_api_client.WaitOperationRequest=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("timeout",e.timeout==null?null:e.timeout)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.WaitOperationRequest,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.WaitOperationRequest},module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getPartialClassMetadata=function(){return{keys:["timeout"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("timeout")?this.Serializable$get("timeout"):null},set:function(e){this.Serializable$set("timeout",e)}}}),module$exports$eeapiclient$ee_api_client.ZoomSubsetParameters=function e(){},module$exports$eeapiclient$ee_api_client.ZoomSubset=function(e){e=e===void 0?{}:e,module$exports$eeapiclient$domain_object.Serializable.call(this),this.Serializable$set("start",e.start==null?null:e.start),this.Serializable$set("end",e.end==null?null:e.end),this.Serializable$set("min",e.min==null?null:e.min),this.Serializable$set("max",e.max==null?null:e.max)},$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ZoomSubset,module$exports$eeapiclient$domain_object.Serializable),module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getConstructor=function(){return module$exports$eeapiclient$ee_api_client.ZoomSubset},module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getPartialClassMetadata=function(){return{keys:["end","max","min","start"]}},$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype,{end:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("end")?this.Serializable$get("end"):null},set:function(e){this.Serializable$set("end",e)}},max:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("max")?this.Serializable$get("max"):null},set:function(e){this.Serializable$set("max",e)}},min:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("min")?this.Serializable$get("min"):null},set:function(e){this.Serializable$set("min",e)}},start:{configurable:!0,enumerable:!0,get:function(){return this.Serializable$has("start")?this.Serializable$get("start"):null},set:function(e){this.Serializable$set("start",e)}}});var module$contents$eeapiclient$ee_api_client_PARAM_MAP_0={$Xgafv:"$.xgafv",access_token:"access_token",alt:"alt",assetId:"assetId",callback:"callback",endTime:"endTime",fields:"fields",filter:"filter",key:"key",oauth_token:"oauth_token",overwrite:"overwrite",pageSize:"pageSize",pageToken:"pageToken",prettyPrint:"prettyPrint",quotaUser:"quotaUser",region:"region",startTime:"startTime",uploadType:"uploadType",upload_protocol:"upload_protocol",view:"view"};module$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl.prototype.list=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.algorithms.list",path:"/"+this.gapiVersion+"/"+e+"/algorithms",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.IProjectsApiClientViewEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum={BASIC:"BASIC",EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED",FULL:"FULL",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.FULL,module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.BASIC]}},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getCapabilities=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.getCapabilities",path:"/"+this.gapiVersion+"/"+e+"/capabilities",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities})},module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.listAssets=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.listAssets",path:"/"+this.gapiVersion+"/"+e+":listAssets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientViewEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum={BASIC:"BASIC",EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED",FULL:"FULL",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.FULL,module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.BASIC]}},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.copy=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.copy",path:"/"+this.gapiVersion+"/"+e+":copy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.create",path:"/"+this.gapiVersion+"/"+e+"/assets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.delete=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"DELETE",methodId:"earthengine.projects.assets.delete",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.get=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.get",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getIamPolicy=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getIamPolicy",path:"/"+this.gapiVersion+"/"+e+":getIamPolicy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Policy})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getLinked=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getLinked",path:"/"+this.gapiVersion+"/"+e+":getLinked",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getPixels=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.link=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.link",path:"/"+this.gapiVersion+"/"+e+":link",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listAssets=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listAssets",path:"/"+this.gapiVersion+"/"+e+":listAssets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listFeatures=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listFeatures",path:"/"+this.gapiVersion+"/"+e+":listFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListFeaturesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listImages=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.assets.listImages",path:"/"+this.gapiVersion+"/"+e+":listImages",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListImagesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.move=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.move",path:"/"+this.gapiVersion+"/"+e+":move",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.patch=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"PATCH",methodId:"earthengine.projects.assets.patch",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.setIamPolicy=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.setIamPolicy",path:"/"+this.gapiVersion+"/"+e+":setIamPolicy",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Policy})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.testIamPermissions=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/assets/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.assets.testIamPermissions",path:"/"+this.gapiVersion+"/"+e+":testIamPermissions",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.classifier.export",path:"/"+this.gapiVersion+"/"+e+"/classifier:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.dmsMaps.create",path:"/"+this.gapiVersion+"/"+e+"/dmsMaps",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.DMSMap})},module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.filmstripThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/filmstripThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.getPixels=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/filmstripThumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.filmstripThumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsImageApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsImageApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.computePixels=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.computePixels",path:"/"+this.gapiVersion+"/"+e+"/image:computePixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.export",path:"/"+this.gapiVersion+"/"+e+"/image:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.import=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.image.import",path:"/"+this.gapiVersion+"/"+e+"/image:import",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl.prototype.computeImages=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.imageCollection.computeImages",path:"/"+this.gapiVersion+"/"+e+"/imageCollection:computeImages",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeImagesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.assets.create",path:"/"+this.gapiVersion+"/"+e+"/assets",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.filmstripThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/filmstripThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.maps.create",path:"/"+this.gapiVersion+"/"+e+"/maps",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.tables.create",path:"/"+this.gapiVersion+"/"+e+"/tables",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Table})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.thumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/thumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/locations/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.locations.videoThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/videoThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.map.export",path:"/"+this.gapiVersion+"/"+e+"/map:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.maps.create",path:"/"+this.gapiVersion+"/"+e+"/maps",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap})},module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl.prototype.get=function(e,t,n,i,r,u){return r=r===void 0?{}:r,u=u===void 0?{}:u,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/maps/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.maps.tiles.get",path:"/"+this.gapiVersion+"/"+e+"/tiles/"+t+"/"+n+"/"+i,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(r,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,u),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.cancel=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.operations.cancel",path:"/"+this.gapiVersion+"/"+e+":cancel",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.delete=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:null,httpMethod:"DELETE",methodId:"earthengine.projects.operations.delete",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Empty})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.get=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.operations.get",path:"/"+this.gapiVersion+"/"+e,queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.list=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.operations.list",path:"/"+this.gapiVersion+"/"+e+"/operations",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.ListOperationsResponse})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.wait=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/operations/.*$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.operations.wait",path:"/"+this.gapiVersion+"/"+e+":wait",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsTableApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsTableApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.computeFeatures=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.computeFeatures",path:"/"+this.gapiVersion+"/"+e+"/table:computeFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.export",path:"/"+this.gapiVersion+"/"+e+"/table:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.import=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.table.import",path:"/"+this.gapiVersion+"/"+e+"/table:import",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsTablesApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsTablesApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.tables.create",path:"/"+this.gapiVersion+"/"+e+"/tables",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Table})},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.getFeatures=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/tables/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.tables.getFeatures",path:"/"+this.gapiVersion+"/"+e+":getFeatures",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.thumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/thumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.getPixels=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/thumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.thumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsValueApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsValueApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl.prototype.compute=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.value.compute",path:"/"+this.gapiVersion+"/"+e+"/value:compute",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.ComputeValueResponse})},module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.video.export",path:"/"+this.gapiVersion+"/"+e+"/video:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl.prototype.export=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.videoMap.export",path:"/"+this.gapiVersion+"/"+e+"/videoMap:export",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.Operation})},module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient=function(){},module$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClient$XgafvEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum={1:"1",2:"2",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[1],module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[2]]}},module$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClientAltEnum=function e(){},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum={JSON:"json",MEDIA:"media",PROTO:"proto",values:function(){return[module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.JSON,module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.MEDIA,module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.PROTO]}},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl=function(e,t,n){this.gapiVersion=e,this.$apiClient=new module$exports$eeapiclient$promise_api_client.PromiseApiClient(t,n===void 0?null:n)},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.create=function(e,t,n,i){return n=n===void 0?{}:n,i=i===void 0?{}:i,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+$")),this.$apiClient.$request({body:t,httpMethod:"POST",methodId:"earthengine.projects.videoThumbnails.create",path:"/"+this.gapiVersion+"/"+e+"/videoThumbnails",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(n,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,i),responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail})},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.getPixels=function(e,t,n){return t=t===void 0?{}:t,n=n===void 0?{}:n,this.$apiClient.$validateParameter(e,RegExp("^projects/[^/]+/videoThumbnails/[^/]+$")),this.$apiClient.$request({body:null,httpMethod:"GET",methodId:"earthengine.projects.videoThumbnails.getPixels",path:"/"+this.gapiVersion+"/"+e+":getPixels",queryParams:module$contents$eeapiclient$request_params_buildQueryParams(t,module$contents$eeapiclient$ee_api_client_PARAM_MAP_0,n),responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody})},module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient=function(){},ee.api=module$exports$eeapiclient$ee_api_client;var module$exports$ee$apiVersion={V1ALPHA:"v1alpha"};module$exports$ee$apiVersion.VERSION=module$exports$ee$apiVersion.V1ALPHA;var module$exports$eeapiclient$promise_request_service={};module$exports$eeapiclient$promise_request_service.PromiseRequestService=function(){},module$exports$eeapiclient$promise_request_service.PromiseRequestService.prototype.send=function(e,t){return module$contents$eeapiclient$request_params_processParams(e),this.makeRequest(e).then(function(n){return t?module$contents$eeapiclient$domain_object_deserialize(t,n):n})},goog.async={},goog.async.FreeList=function(e,t,n){this.limit_=n,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var e=this.head_;this.head_=e.next,e.next=null}else e=this.create_();return e},goog.async.FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},goog.async.FreeList.prototype.occupants=function(){return this.occupants_},goog.dom.BrowserFeature={},goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS=!1,goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS=!1,goog.dom.BrowserFeature.detectOffscreenCanvas_=function(e){try{return!!new self.OffscreenCanvas(0,0).getContext(e)}catch{}return!1},goog.dom.BrowserFeature.OFFSCREEN_CANVAS_2D=!goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS&&(goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS||goog.dom.BrowserFeature.detectOffscreenCanvas_("2d")),goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES=!0,goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE=!0,goog.dom.BrowserFeature.CAN_USE_INNER_TEXT=!1,goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY=goog.userAgent.IE||goog.userAgent.WEBKIT,goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT=goog.userAgent.IE,goog.math.Coordinate=function(e,t){this.x=e!==void 0?e:0,this.y=t!==void 0?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,t){return e==t?!0:e&&t?e.x==t.x&&e.y==t.y:!1},goog.math.Coordinate.distance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),typeof t=="number"&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){return this.x*=e,this.y*=typeof t=="number"?t:e,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var n=t||new goog.math.Coordinate(0,0),i=this.x,r=this.y,u=Math.cos(e),d=Math.sin(e);this.x=(i-n.x)*u-(r-n.y)*d+n.x,this.y=(i-n.x)*d+(r-n.y)*u+n.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t?!0:e&&t?e.width==t.width&&e.height==t.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){return this.width*=e,this.height*=typeof t=="number"?t:e,this},goog.math.Size.prototype.scaleToCover=function(e){var t=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(t)},goog.math.Size.prototype.scaleToFit=function(e){var t=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height;return this.scale(t)},goog.dom.Appendable={},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getHTMLElement=function(e){var t=goog.dom.getElement(e);return t?goog.asserts.assertInstanceof(t,HTMLElement):null},goog.dom.getElementHelper_=function(e,t){return typeof t=="string"?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredHTMLElement=function(e){return goog.asserts.assertInstanceof(goog.dom.getRequiredElementHelper_(document,e),HTMLElement)},goog.dom.getRequiredElementHelper_=function(e,t){goog.asserts.assertString(t);var n=goog.dom.getElementHelper_(e,t);return n=goog.asserts.assertElement(n,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,t){return(t||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,t,n){return goog.dom.getElementsByTagNameAndClass_(document,e,t,n)},goog.dom.getElementByTagNameAndClass=function(e,t,n){return goog.dom.getElementByTagNameAndClass_(document,e,t,n)},goog.dom.getElementsByClass=function(e,t){var n=t||document;return goog.dom.canUseQuerySelector_(n)?n.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var n=t||document;return(n.getElementsByClassName?n.getElementsByClassName(e)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",e,t))||null},goog.dom.getHTMLElementByClass=function(e,t){var n=goog.dom.getElementByClass(e,t);return n?goog.asserts.assertInstanceof(n,HTMLElement):null},goog.dom.getRequiredElementByClass=function(e,t){var n=goog.dom.getElementByClass(e,t);return goog.asserts.assert(n,"No element found with className: "+e)},goog.dom.getRequiredHTMLElementByClass=function(e,t){var n=goog.dom.getElementByClass(e,t);return goog.asserts.assertInstanceof(n,HTMLElement,"No HTMLElement found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,n,i){var r=i||e,u=t&&t!="*"?String(t).toUpperCase():"";if(goog.dom.canUseQuerySelector_(r)&&(u||n))return r.querySelectorAll(u+(n?"."+n:""));if(n&&r.getElementsByClassName){var d=r.getElementsByClassName(n);if(u){for(var c={},v=0,S=0,C;C=d[S];S++)u==C.nodeName&&(c[v++]=C);return c.length=v,c}return d}if(d=r.getElementsByTagName(u||"*"),n){for(c={},S=v=0;C=d[S];S++){var O=C.className;typeof O.split=="function"&&module$contents$goog$array_contains(O.split(/\s+/),n)&&(c[v++]=C)}return c.length=v,c}return d},goog.dom.getElementByTagNameAndClass_=function(e,t,n,i){var r=i||e,u=t&&t!="*"?String(t).toUpperCase():"";return goog.dom.canUseQuerySelector_(r)&&(u||n)?r.querySelector(u+(n?"."+n:"")):goog.dom.getElementsByTagNameAndClass_(e,t,n,i)[0]||null},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){module$contents$goog$object_forEach(t,function(n,i){n&&typeof n=="object"&&n.implementsGoogStringTypedString&&(n=n.getTypedStringValue()),i=="style"?e.style.cssText=n:i=="class"?e.className=n:i=="for"?e.htmlFor=n:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(i)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[i],n):goog.string.startsWith(i,"aria-")||goog.string.startsWith(i,"data-")?e.setAttribute(i,n):e[i]=n})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){var t=e.document,n=goog.dom.isCss1CompatMode_(t)?t.documentElement:t.body;return new goog.math.Size(n.clientWidth,n.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=e.document,n=0;if(t){var i=t.body,r=t.documentElement;if(!r||!i)return 0;var u=goog.dom.getViewportSize_(e).height;if(goog.dom.isCss1CompatMode_(t)&&r.scrollHeight)n=r.scrollHeight!=u?r.scrollHeight:r.offsetHeight;else{var d=r.scrollHeight,c=r.offsetHeight;r.clientHeight!=c&&(d=i.scrollHeight,c=i.offsetHeight),n=d>u?d>c?d:c:d<c?d:c}}return n},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e),n=goog.dom.getWindow_(e);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&n.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,n){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var n=t[1],i=goog.dom.createElement_(e,String(t[0]));return n&&(typeof n=="string"?i.className=n:Array.isArray(n)?i.className=n.join(" "):goog.dom.setProperties(i,n)),2<t.length&&goog.dom.append_(e,i,t,2),i},goog.dom.append_=function(e,t,n,i){function r(c){c&&t.appendChild(typeof c=="string"?e.createTextNode(c):c)}for(var u=i;u<n.length;u++){var d=n[u];goog.isArrayLike(d)&&!goog.dom.isNodeLike(d)?module$contents$goog$array_forEach(goog.dom.isNodeList(d)?module$contents$goog$array_toArray(d):d,r):r(d)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,t){return t=String(t),e.contentType==="application/xhtml+xml"&&(t=t.toLowerCase()),e.createElement(t)},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,n){return goog.dom.createTable_(document,e,t,!!n)},goog.dom.createTable_=function(e,t,n,i){for(var r=goog.dom.createElement_(e,goog.dom.TagName.TABLE),u=r.appendChild(goog.dom.createElement_(e,goog.dom.TagName.TBODY)),d=0;d<t;d++){for(var c=goog.dom.createElement_(e,goog.dom.TagName.TR),v=0;v<n;v++){var S=goog.dom.createElement_(e,goog.dom.TagName.TD);i&&goog.dom.setTextContent(S,goog.string.Unicode.NBSP),c.appendChild(S)}u.appendChild(c)}return r},goog.dom.constHtmlToNode=function(e){var t=Array.prototype.map.call(arguments,goog.string.Const.unwrap),n=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),t.join(""));return goog.dom.safeHtmlToNode(n)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var n=goog.dom.createElement_(e,goog.dom.TagName.DIV);return goog.userAgent.IE?(goog.dom.safe.setInnerHtml(n,module$contents$goog$html$SafeHtml_SafeHtml.concat(module$contents$goog$html$SafeHtml_SafeHtml.BR,t)),n.removeChild(goog.asserts.assert(n.firstChild))):goog.dom.safe.setInnerHtml(n,t),goog.dom.childrenToNode_(e,n)},goog.dom.childrenToNode_=function(e,t){if(t.childNodes.length==1)return t.removeChild(goog.asserts.assert(t.firstChild));for(var n=e.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:e.compatMode=="CSS1Compat"},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case String(goog.dom.TagName.APPLET):case String(goog.dom.TagName.AREA):case String(goog.dom.TagName.BASE):case String(goog.dom.TagName.BR):case String(goog.dom.TagName.COL):case String(goog.dom.TagName.COMMAND):case String(goog.dom.TagName.EMBED):case String(goog.dom.TagName.FRAME):case String(goog.dom.TagName.HR):case String(goog.dom.TagName.IMG):case String(goog.dom.TagName.INPUT):case String(goog.dom.TagName.IFRAME):case String(goog.dom.TagName.ISINDEX):case String(goog.dom.TagName.KEYGEN):case String(goog.dom.TagName.LINK):case String(goog.dom.TagName.NOFRAMES):case String(goog.dom.TagName.NOSCRIPT):case String(goog.dom.TagName.META):case String(goog.dom.TagName.OBJECT):case String(goog.dom.TagName.PARAM):case String(goog.dom.TagName.SCRIPT):case String(goog.dom.TagName.SOURCE):case String(goog.dom.TagName.STYLE):case String(goog.dom.TagName.TRACK):case String(goog.dom.TagName.WBR):return!1}return!0},goog.dom.appendChild=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.appendChild expects non-null arguments"),e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.insertSiblingBefore expects non-null arguments"),t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.insertSiblingAfter expects non-null arguments"),t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,n){goog.asserts.assert(e!=null,"goog.dom.insertChildAt expects a non-null parent"),e.insertBefore(t,e.childNodes[n]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.replaceNode expects non-null arguments");var n=t.parentNode;n&&n.replaceChild(e,t)},goog.dom.copyContents=function(e,t){goog.asserts.assert(e!=null&&t!=null,"goog.dom.copyContents expects non-null arguments");var n=t.cloneNode(!0).childNodes;for(goog.dom.removeChildren(e);n.length;)e.appendChild(n[0])},goog.dom.flattenElement=function(e){var t,n=e.parentNode;if(n&&n.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)n.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return e.children!=null?e.children:Array.prototype.filter.call(e.childNodes,function(t){return t.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return e.firstElementChild!==void 0?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return e.lastElementChild!==void 0?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return e.nextElementSibling!==void 0?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return e.previousElementSibling!==void 0?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&!(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement)&&(t=e.parentElement)?t:(t=e.parentNode,goog.dom.isElement(t)?t:null)},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if(typeof e.compareDocumentPosition<"u")return e==t||!!(e.compareDocumentPosition(t)&16);for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return e.compareDocumentPosition(t)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var n=e.nodeType==goog.dom.NodeType.ELEMENT,i=t.nodeType==goog.dom.NodeType.ELEMENT;if(n&&i)return e.sourceIndex-t.sourceIndex;var r=e.parentNode,u=t.parentNode;return r==u?goog.dom.compareSiblingOrder_(e,t):!n&&goog.dom.contains(r,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!i&&goog.dom.contains(u,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(n?e.sourceIndex:r.sourceIndex)-(i?t.sourceIndex:u.sourceIndex)}var d=goog.dom.getOwnerDocument(e),c=d.createRange();c.selectNode(e),c.collapse(!0);var v=d.createRange();return v.selectNode(t),v.collapse(!0),c.compareBoundaryPoints(goog.global.Range.START_TO_END,v)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var n=e.parentNode;if(n==t)return-1;for(var i=t;i.parentNode!=n;)i=i.parentNode;return goog.dom.compareSiblingOrder_(i,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,n=arguments.length;if(!n)return null;if(n==1)return arguments[0];var i=[],r=1/0;for(t=0;t<n;t++){for(var u=[],d=arguments[t];d;)u.unshift(d),d=d.parentNode;i.push(u),r=Math.min(r,u.length)}var c=null;for(t=0;t<r;t++){for(var v=i[0][t],S=1;S<n;S++)if(v!=i[S][t])return c;c=v}return c},goog.dom.isInDocument=function(e){return(e.ownerDocument.compareDocumentPosition(e)&16)==16},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch{}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(e!=null,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=String(t);else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(goog.asserts.assert(e.lastChild));e.firstChild.data=String(t)}else{goog.dom.removeChildren(e);var n=goog.dom.getOwnerDocument(e);e.appendChild(n.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(e!==null,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e),n=goog.dom.createElement_(t,goog.dom.TagName.DIV);return n.appendChild(e.cloneNode(!0)),n.innerHTML},goog.dom.findNode=function(e,t){var n=[];return goog.dom.findNodes_(e,t,n,!0)?n[0]:void 0},goog.dom.findNodes=function(e,t){var n=[];return goog.dom.findNodes_(e,t,n,!1),n},goog.dom.findNodes_=function(e,t,n,i){if(e!=null)for(var r=e.firstChild;r;){if(t(r)&&(n.push(r),i)||goog.dom.findNodes_(r,t,n,i))return!0;r=r.nextSibling}return!1},goog.dom.findElement=function(e,t){for(var n=goog.dom.getChildrenReverse_(e);0<n.length;){var i=n.pop();if(t(i))return i;for(var r=i.lastElementChild;r;r=r.previousElementSibling)n.push(r)}return null},goog.dom.findElements=function(e,t){for(var n=[],i=goog.dom.getChildrenReverse_(e);0<i.length;){var r=i.pop();t(r)&&n.push(r);for(var u=r.lastElementChild;u;u=u.previousElementSibling)i.push(u)}return n},goog.dom.getChildrenReverse_=function(e){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return[e.documentElement];for(var t=[],n=e.lastElementChild;n;n=n.previousElementSibling)t.push(n);return t},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:`
`},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){var t=e.tabIndex;return typeof t=="number"&&0<=t&&32768>t},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A&&e.hasAttribute("href")||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){var t=typeof e.getBoundingClientRect!="function"||goog.userAgent.IE&&e.parentElement==null?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect();return t!=null&&0<t.height&&0<t.width},goog.dom.getTextContent=function(e){var t=[];goog.dom.getTextContent_(e,t,!0);var n=t.join("");return n=n.replace(/ \xAD /g," ").replace(/\xAD/g,""),n=n.replace(/\u200B/g,""),n=n.replace(/ +/g," "),n!=" "&&(n=n.replace(/^\s*/,"")),n},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,n){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)n?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(var i=e.firstChild;i;)goog.dom.getTextContent_(i,t,n),i=i.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var n=t||goog.dom.getOwnerDocument(e).body,i=[];e&&e!=n;){for(var r=e;r=r.previousSibling;)i.unshift(goog.dom.getTextContent(r));e=e.parentNode}return goog.string.trimLeft(i.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,n){for(var i=[e],r=0,u=null;0<i.length&&r<t;)if(u=i.pop(),!(u.nodeName in goog.dom.TAGS_TO_IGNORE_))if(u.nodeType==goog.dom.NodeType.TEXT){var d=u.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");r+=d.length}else if(u.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)r+=goog.dom.PREDEFINED_TAG_VALUES_[u.nodeName].length;else for(var c=u.childNodes.length-1;0<=c;c--)i.push(u.childNodes[c]);return goog.isObject(n)&&(n.remainder=u?u.nodeValue.length+t-r-1:0,n.node=u),u},goog.dom.isNodeList=function(e){if(e&&typeof e.length=="number"){if(goog.isObject(e))return typeof e.item=="function"||typeof e.item=="string";if(typeof e=="function")return typeof e.item=="function"}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,n,i){if(!t&&!n)return null;var r=t?String(t).toUpperCase():null;return goog.dom.getAncestor(e,function(u){return(!r||u.nodeName==r)&&(!n||typeof u.className=="string"&&module$contents$goog$array_contains(u.className.split(/\s+/),n))},!0,i)},goog.dom.getAncestorByClass=function(e,t,n){return goog.dom.getAncestorByTagNameAndClass(e,null,t,n)},goog.dom.getAncestor=function(e,t,n,i){e&&!n&&(e=e.parentNode);for(var r=0;e&&(i==null||r<=i);){if(goog.asserts.assert(e.name!="parentNode"),t(e))return e;e=e.parentNode,r++}return null},goog.dom.getActiveElement=function(e){try{var t=e&&e.activeElement;return t&&t.nodeName?t:null}catch{return null}},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return e.devicePixelRatio!==void 0?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,t){return(t||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,n){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,n)},goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(e,t,n){return goog.dom.getElementByTagNameAndClass_(this.document_,e,t,n)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,n){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,n){return goog.dom.createTable_(this.document_,e,t,!!n)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.copyContents=goog.dom.copyContents,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.async.nextTick=function(e,t,n){var i=e;t&&(i=goog.bind(e,t)),i=goog.async.nextTick.wrapCallback_(i),typeof goog.global.setImmediate=="function"&&(n||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(i):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(i))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!module$contents$goog$labs$userAgent$browser_matchEdgeHtml()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if(typeof e>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!module$contents$goog$labs$userAgent$engine_isPresto()&&(e=function(){var r=goog.dom.createElement(goog.dom.TagName.IFRAME);r.style.display="none",document.documentElement.appendChild(r);var u=r.contentWindow,d=u.document;d.open(),d.close();var c="callImmediate"+Math.random(),v=u.location.protocol=="file:"?"*":u.location.protocol+"//"+u.location.host,S=goog.bind(function(C){(v=="*"||C.origin==v)&&C.data==c&&this.port1.onmessage()},this);u.addEventListener("message",S,!1),this.port1={},this.port2={postMessage:function(){u.postMessage(c,v)}}}),typeof e<"u"&&!module$contents$goog$labs$userAgent$browser_matchIE()){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(n.next!==void 0){n=n.next;var r=n.cb;n.cb=null,r()}},function(r){i.next={cb:r},i=i.next,t.port2.postMessage(0)}}return function(r){goog.global.setTimeout(r,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e});function module$contents$goog$async$throwException_throwException(e){goog.global.setTimeout(function(){throw e},0)}goog.async.throwException=module$contents$goog$async$throwException_throwException;var module$contents$goog$async$WorkQueue_WorkQueue=function(){this.workTail_=this.workHead_=null};module$contents$goog$async$WorkQueue_WorkQueue.prototype.add=function(e,t){var n=this.getUnusedItem_();n.set(e,t),this.workTail_?this.workTail_.next=n:((0,goog.asserts.assert)(!this.workHead_),this.workHead_=n),this.workTail_=n},module$contents$goog$async$WorkQueue_WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},module$contents$goog$async$WorkQueue_WorkQueue.prototype.returnUnused=function(e){module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put(e)},module$contents$goog$async$WorkQueue_WorkQueue.prototype.getUnusedItem_=function(){return module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get()},module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED=100,module$contents$goog$async$WorkQueue_WorkQueue.freelist_=new goog.async.FreeList(function(){return new module$contents$goog$async$WorkQueue_WorkItem},function(e){return e.reset()},module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED);var module$contents$goog$async$WorkQueue_WorkItem=function(){this.next=this.scope=this.fn=null};module$contents$goog$async$WorkQueue_WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},module$contents$goog$async$WorkQueue_WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.async.WorkQueue=module$contents$goog$async$WorkQueue_WorkQueue,goog.ASSUME_NATIVE_PROMISE=!1,goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,t)},goog.async.run.initializeRunner_=function(){if(goog.ASSUME_NATIVE_PROMISE||goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new module$contents$goog$async$WorkQueue_WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new module$contents$goog$async$WorkQueue_WorkQueue},goog.async.run.resetSchedulerForTest=function(){goog.async.run.initializeRunner_()}),goog.async.run.processWorkQueue=function(){for(var e=null;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(t){module$contents$goog$async$throwException_throwException(t)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,t,n){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return!!e[goog.Thenable.IMPLEMENTED_BY_PROP]}catch{return!1}},goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:goog.Promise.UNHANDLED_REJECTION_DELAY==0&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var n=this;e.call(t,function(i){n.resolve_(goog.Promise.State_.FULFILLED,i)},function(i){if(goog.DEBUG&&!(i instanceof goog.Promise.CancellationError))try{throw i instanceof Error?i:Error("Promise rejected.")}catch{}n.resolve_(goog.Promise.State_.REJECTED,i)})}catch(i){this.resolve_(goog.Promise.State_.REJECTED,i)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,n){var i=goog.Promise.freelist_.get();return i.onFulfilled=e,i.onRejected=t,i.context=n,i},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var t=new goog.Promise(goog.nullFunction);return t.resolve_(goog.Promise.State_.FULFILLED,e),t},goog.Promise.reject=function(e){return new goog.Promise(function(t,n){n(e)})},goog.Promise.resolveThen_=function(e,t,n){goog.Promise.maybeThen_(e,t,n,null)||goog.async.run(goog.partial(t,e))},goog.Promise.race=function(e){return new goog.Promise(function(t,n){e.length||t(void 0);for(var i=0,r;i<e.length;i++)r=e[i],goog.Promise.resolveThen_(r,t,n)})},goog.Promise.all=function(e){return new goog.Promise(function(t,n){var i=e.length,r=[];if(i)for(var u=function(S,C){i--,r[S]=C,i==0&&t(r)},d=function(S){n(S)},c=0,v;c<e.length;c++)v=e[c],goog.Promise.resolveThen_(v,goog.partial(u,c),d);else t(r)})},goog.Promise.allSettled=function(e){return new goog.Promise(function(t,n){var i=e.length,r=[];if(i)for(var u=function(v,S,C){i--,r[v]=S?{fulfilled:!0,value:C}:{fulfilled:!1,reason:C},i==0&&t(r)},d=0,c;d<e.length;d++)c=e[d],goog.Promise.resolveThen_(c,goog.partial(u,d,!0),goog.partial(u,d,!1));else t(r)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(t,n){var i=e.length,r=[];if(i)for(var u=function(S){t(S)},d=function(S,C){i--,r[S]=C,i==0&&n(r)},c=0,v;c<e.length;c++)v=e[c],goog.Promise.resolveThen_(v,u,goog.partial(d,c));else t(void 0)})},goog.Promise.withResolver=function(){var e,t,n=new goog.Promise(function(i,r){e=i,t=r});return new goog.Promise.Resolver_(n,e,t)},goog.Promise.prototype.then=function(e,t,n){return e!=null&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),t!=null&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(typeof e=="function"?e:null,typeof t=="function"?t:null,n)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,n){e!=null&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),t!=null&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,t||null,n))},goog.Promise.prototype.thenAlways=function(e,t){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var n=goog.Promise.getCallbackEntry_(e,e,t);return n.always=!0,this.addCallbackEntry_(n),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(e){if(this.state_==goog.Promise.State_.PENDING){var t=new goog.Promise.CancellationError(e);goog.async.run(function(){this.cancelInternal_(t)},this)}},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var n=0,i=null,r=null,u=this.callbackEntries_;u&&(u.always||(n++,u.child==e&&(i=u),!(i&&1<n)));u=u.next)i||(r=u);i&&(this.state_==goog.Promise.State_.PENDING&&n==1?this.cancelInternal_(t):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(i,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,t,n){var i=goog.Promise.getCallbackEntry_(null,null,null);return i.child=new goog.Promise(function(r,u){i.onFulfilled=e?function(d){try{var c=e.call(n,d);r(c)}catch(v){u(v)}}:r,i.onRejected=t?function(d){try{var c=t.call(n,d);c===void 0&&d instanceof goog.Promise.CancellationError?u(d):r(c)}catch(v){u(v)}}:u}),i.child.parent_=this,this.addCallbackEntry_(i),i.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){this.state_==goog.Promise.State_.PENDING&&(this===t&&(e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(t,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)))},goog.Promise.maybeThen_=function(e,t,n,i){if(e instanceof goog.Promise)return e.thenVoid(t,n,i),!0;if(goog.Thenable.isImplementedBy(e))return e.then(t,n,i),!0;if(goog.isObject(e))try{var r=e.then;if(typeof r=="function")return goog.Promise.tryThen_(e,r,t,n,i),!0}catch(u){return n.call(i,u),!0}return!1},goog.Promise.tryThen_=function(e,t,n,i,r){var u=!1,d=function(v){u||(u=!0,n.call(r,v))},c=function(v){u||(u=!0,i.call(r,v))};try{t.call(e,d,c)}catch(v){c(v)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(e.onFulfilled!=null),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),e!=null&&goog.asserts.assert(e.onFulfilled!=null),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(e!=null),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e=null;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,n){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,n);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,n)}catch(i){goog.Promise.handleRejection_.call(null,i)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,n){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,n):e.onRejected&&e.onRejected.call(e.context,n)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&typeof e.stack=="string"){var t=e.stack.split(`
`,4)[3],n=e.message;n+=Array(11-n.length).join(" "),this.stack_.push(n+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&typeof e.stack=="string"&&this.stack_.length){for(var t=["Promise trace:"],n=this;n;n=n.parent_){for(var i=this.currentStep_;0<=i;i--)t.push(n.stack_[i]);t.push("Value: ["+(n.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(n.result_)+">")}e.stack+=`

`+t.join(`
`)}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(goog.Promise.UNHANDLED_REJECTION_DELAY==0)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):goog.Promise.UNHANDLED_REJECTION_DELAY==0&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=module$contents$goog$async$throwException_throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){module$contents$goog$debug$Error_DebugError.call(this,e),this.reportErrorToServer=!1},goog.inherits(goog.Promise.CancellationError,module$contents$goog$debug$Error_DebugError),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,n){this.promise=e,this.resolve=t,this.reject=n},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;0<e&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,n){if(typeof e=="function")n&&(e=goog.bind(e,n));else if(e&&typeof e.handleEvent=="function")e=goog.bind(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,t){var n=null;return new goog.Promise(function(i,r){n=goog.Timer.callOnce(function(){i(t)},e),n==goog.Timer.INVALID_TIMEOUT_ID_&&r(Error("Failed to schedule timer."))}).thenCatch(function(i){throw goog.Timer.clear(n),i})};var module$contents$goog$async$Throttle_Throttle=function(e,t,n){goog.Disposable.call(this),this.listener_=n!=null?e.bind(n):e,this.interval_=t,this.args_=null,this.shouldFire_=!1,this.pauseCount_=0,this.timer_=null};$jscomp.inherits(module$contents$goog$async$Throttle_Throttle,goog.Disposable),module$contents$goog$async$Throttle_Throttle.prototype.fire=function(e){this.args_=arguments,this.timer_||this.pauseCount_?this.shouldFire_=!0:this.doAction_()},module$contents$goog$async$Throttle_Throttle.prototype.stop=function(){this.timer_&&(goog.Timer.clear(this.timer_),this.timer_=null,this.shouldFire_=!1,this.args_=null)},module$contents$goog$async$Throttle_Throttle.prototype.pause=function(){this.pauseCount_++},module$contents$goog$async$Throttle_Throttle.prototype.resume=function(){this.pauseCount_--,this.pauseCount_||!this.shouldFire_||this.timer_||(this.shouldFire_=!1,this.doAction_())},module$contents$goog$async$Throttle_Throttle.prototype.disposeInternal=function(){goog.Disposable.prototype.disposeInternal.call(this),this.stop()},module$contents$goog$async$Throttle_Throttle.prototype.onTimer_=function(){this.timer_=null,this.shouldFire_&&!this.pauseCount_&&(this.shouldFire_=!1,this.doAction_())},module$contents$goog$async$Throttle_Throttle.prototype.doAction_=function(){var e=this;this.timer_=goog.Timer.callOnce(function(){return e.onTimer_()},this.interval_);var t=this.args_;this.args_=null,this.listener_.apply(null,t)},goog.async.Throttle=module$contents$goog$async$Throttle_Throttle,goog.async.Deferred=function(e,t){if(this.sequence_=[],this.onCancelFunction_=e,this.defaultScope_=t||null,this.hadError_=this.fired_=!1,this.result_=void 0,this.silentlyCanceled_=this.blocking_=this.blocked_=!1,this.unhandledErrorId_=0,this.parent_=null,this.branches_=0,goog.async.Deferred.LONG_STACK_TRACES&&(this.constructorStack_=null,Error.captureStackTrace)){var n={stack:""};Error.captureStackTrace(n,goog.async.Deferred),typeof n.stack=="string"&&(this.constructorStack_=n.stack.replace(/^[^\n]*\n/,""))}},goog.async.Deferred.STRICT_ERRORS=!1,goog.async.Deferred.LONG_STACK_TRACES=!1,goog.async.Deferred.prototype.cancel=function(e){if(this.hasFired())this.result_ instanceof goog.async.Deferred&&this.result_.cancel();else{if(this.parent_){var t=this.parent_;delete this.parent_,e?t.cancel(e):t.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0,this.hasFired()||this.errback(new goog.async.Deferred.CanceledError(this))}},goog.async.Deferred.prototype.branchCancel_=function(){this.branches_--,0>=this.branches_&&this.cancel()},goog.async.Deferred.prototype.continue_=function(e,t){this.blocked_=!1,this.updateResult_(e,t)},goog.async.Deferred.prototype.updateResult_=function(e,t){this.fired_=!0,this.result_=t,this.hadError_=!e,this.fire_()},goog.async.Deferred.prototype.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new goog.async.Deferred.AlreadyCalledError(this);this.silentlyCanceled_=!1}},goog.async.Deferred.prototype.callback=function(e){this.check_(),this.assertNotDeferred_(e),this.updateResult_(!0,e)},goog.async.Deferred.prototype.errback=function(e){this.check_(),this.assertNotDeferred_(e),this.makeStackTraceLong_(e),this.updateResult_(!1,e)},goog.async.Deferred.unhandledErrorHandler_=function(e){throw e},goog.async.Deferred.setUnhandledErrorHandler=function(e){goog.async.Deferred.unhandledErrorHandler_=e},goog.async.Deferred.prototype.makeStackTraceLong_=function(e){goog.async.Deferred.LONG_STACK_TRACES&&this.constructorStack_&&goog.isObject(e)&&e.stack&&/^[^\n]+(\n   [^\n]+)+/.test(e.stack)&&(e.stack=e.stack+`
DEFERRED OPERATION:
`+this.constructorStack_)},goog.async.Deferred.prototype.assertNotDeferred_=function(e){goog.asserts.assert(!(e instanceof goog.async.Deferred),"An execution sequence may not be initiated with a blocking Deferred.")},goog.async.Deferred.prototype.addCallback=function(e,t){return this.addCallbacks(e,null,t)},goog.async.Deferred.prototype.addErrback=function(e,t){return this.addCallbacks(null,e,t)},goog.async.Deferred.prototype.addBoth=function(e,t){return this.addCallbacks(e,e,t)},goog.async.Deferred.prototype.addFinally=function(e,t){return this.addCallbacks(e,function(n){var i=e.call(this,n);if(i===void 0)throw n;return i},t)},goog.async.Deferred.prototype.addCallbacks=function(e,t,n){return goog.asserts.assert(!this.blocking_,"Blocking Deferreds can not be re-used"),this.sequence_.push([e,t,n]),this.hasFired()&&this.fire_(),this},goog.async.Deferred.prototype.then=function(e,t,n){var i,r,u=new goog.Promise(function(d,c){r=d,i=c});return this.addCallbacks(r,function(d){d instanceof goog.async.Deferred.CanceledError?u.cancel():i(d)}),u.then(e,t,n)},goog.Thenable.addImplementation(goog.async.Deferred),goog.async.Deferred.prototype.chainDeferred=function(e){return this.addCallbacks(e.callback,e.errback,e),this},goog.async.Deferred.prototype.awaitDeferred=function(e){return e instanceof goog.async.Deferred?this.addCallback(goog.bind(e.branch,e)):this.addCallback(function(){return e})},goog.async.Deferred.prototype.branch=function(e){var t=new goog.async.Deferred;return this.chainDeferred(t),e&&(t.parent_=this,this.branches_++),t},goog.async.Deferred.prototype.hasFired=function(){return this.fired_},goog.async.Deferred.prototype.isError=function(e){return e instanceof Error},goog.async.Deferred.prototype.hasErrback_=function(){return module$contents$goog$array_some(this.sequence_,function(e){return typeof e[1]=="function"})},goog.async.Deferred.prototype.getLastValueForMigration=function(){return this.hasFired()&&!this.hadError_?this.result_:void 0},goog.async.Deferred.prototype.fire_=function(){this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()&&(goog.async.Deferred.unscheduleError_(this.unhandledErrorId_),this.unhandledErrorId_=0),this.parent_&&(this.parent_.branches_--,delete this.parent_);for(var e=this.result_,t=!1,n=!1;this.sequence_.length&&!this.blocked_;){var i=this.sequence_.shift(),r=i[0],u=i[1],d=i[2],c=this.hadError_?u:r;if(c)try{var v=c.call(d||this.defaultScope_,e);v!==void 0&&(this.hadError_=this.hadError_&&(v==e||this.isError(v)),this.result_=e=v),(goog.Thenable.isImplementedBy(e)||typeof goog.global.Promise=="function"&&e instanceof goog.global.Promise)&&(this.blocked_=n=!0)}catch(O){e=O,this.hadError_=!0,this.makeStackTraceLong_(e),this.hasErrback_()||(t=!0)}}if(this.result_=e,n){var S=goog.bind(this.continue_,this,!0),C=goog.bind(this.continue_,this,!1);e instanceof goog.async.Deferred?(e.addCallbacks(S,C),e.blocking_=!0):e.then(S,C)}else!goog.async.Deferred.STRICT_ERRORS||!this.isError(e)||e instanceof goog.async.Deferred.CanceledError||(t=this.hadError_=!0);t&&(this.unhandledErrorId_=goog.async.Deferred.scheduleError_(e))},goog.async.Deferred.succeed=function(e){var t=new goog.async.Deferred;return t.callback(e),t},goog.async.Deferred.fromPromise=function(e){var t=new goog.async.Deferred;return e.then(function(n){t.callback(n)},function(n){t.errback(n)}),t},goog.async.Deferred.fail=function(e){var t=new goog.async.Deferred;return t.errback(e),t},goog.async.Deferred.canceled=function(){var e=new goog.async.Deferred;return e.cancel(),e},goog.async.Deferred.when=function(e,t,n){return e instanceof goog.async.Deferred?e.branch(!0).addCallback(t,n):goog.async.Deferred.succeed(e).addCallback(t,n)},goog.async.Deferred.AlreadyCalledError=function(e){module$contents$goog$debug$Error_DebugError.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.AlreadyCalledError,module$contents$goog$debug$Error_DebugError),goog.async.Deferred.AlreadyCalledError.prototype.message="Deferred has already fired",goog.async.Deferred.AlreadyCalledError.prototype.name="AlreadyCalledError",goog.async.Deferred.CanceledError=function(e){module$contents$goog$debug$Error_DebugError.call(this),this.deferred=e},goog.inherits(goog.async.Deferred.CanceledError,module$contents$goog$debug$Error_DebugError),goog.async.Deferred.CanceledError.prototype.message="Deferred was canceled",goog.async.Deferred.CanceledError.prototype.name="CanceledError",goog.async.Deferred.Error_=function(e){this.id_=goog.global.setTimeout(goog.bind(this.throwError,this),0),this.error_=e},goog.async.Deferred.Error_.prototype.throwError=function(){goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_],"Cannot throw an error that is not scheduled."),delete goog.async.Deferred.errorMap_[this.id_],goog.async.Deferred.unhandledErrorHandler_(this.error_)},goog.async.Deferred.Error_.prototype.resetTimer=function(){goog.global.clearTimeout(this.id_)},goog.async.Deferred.errorMap_={},goog.async.Deferred.scheduleError_=function(e){var t=new goog.async.Deferred.Error_(e);return goog.async.Deferred.errorMap_[t.id_]=t,t.id_},goog.async.Deferred.unscheduleError_=function(e){var t=goog.async.Deferred.errorMap_[e];t&&(t.resetTimer(),delete goog.async.Deferred.errorMap_[e])},goog.async.Deferred.assertNoErrors=function(){var e=goog.async.Deferred.errorMap_,t;for(t in e){var n=e[t];n.resetTimer(),n.throwError()}},goog.net={},goog.net.jsloader={},goog.net.jsloader.Options={},goog.net.jsloader.GLOBAL_VERIFY_OBJS_="closure_verification",goog.net.jsloader.DEFAULT_TIMEOUT=5e3,goog.net.jsloader.scriptsToLoad_=[],goog.net.jsloader.safeLoadMany=function(e,t){if(!e.length)return goog.async.Deferred.succeed(null);var n=goog.net.jsloader.scriptsToLoad_.length;if(module$contents$goog$array_extend(goog.net.jsloader.scriptsToLoad_,e),n)return goog.net.jsloader.scriptLoadingDeferred_;e=goog.net.jsloader.scriptsToLoad_;var i=function(){var r=e.shift(),u=goog.net.jsloader.safeLoad(r,t);return e.length&&u.addBoth(i),u};return goog.net.jsloader.scriptLoadingDeferred_=i(),goog.net.jsloader.scriptLoadingDeferred_},goog.net.jsloader.safeLoad=function(e,t){var n=t||{},i=n.document||document,r=goog.html.TrustedResourceUrl.unwrap(e),u=new goog.dom.DomHelper(i).createElement(goog.dom.TagName.SCRIPT),d={script_:u,timeout_:void 0},c=new goog.async.Deferred(goog.net.jsloader.cancel_,d),v=null,S=n.timeout!=null?n.timeout:goog.net.jsloader.DEFAULT_TIMEOUT;0<S&&(v=window.setTimeout(function(){goog.net.jsloader.cleanup_(u,!0),c.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT,"Timeout reached for loading script "+r))},S),d.timeout_=v),u.onload=u.onreadystatechange=function(){u.readyState&&u.readyState!="loaded"&&u.readyState!="complete"||(goog.net.jsloader.cleanup_(u,n.cleanupWhenDone||!1,v),c.callback(null))},u.onerror=function(){goog.net.jsloader.cleanup_(u,!0,v),c.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR,"Error while loading script "+r))};var C=n.attributes||{};return module$contents$goog$object_extend(C,{type:"text/javascript",charset:"UTF-8"}),goog.dom.setProperties(u,C),goog.dom.safe.setScriptSrc(u,e),goog.net.jsloader.getScriptParentElement_(i).appendChild(u),c},goog.net.jsloader.safeLoadAndVerify=function(e,t,n){goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]||(goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_]={});var i=goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_],r=goog.html.TrustedResourceUrl.unwrap(e);if(i[t]!==void 0)return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS,"Verification object "+t+" already defined."));var u=goog.net.jsloader.safeLoad(e,n),d=new goog.async.Deferred(goog.bind(u.cancel,u));return u.addCallback(function(){var c=i[t];c!==void 0?(d.callback(c),delete i[t]):d.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR,"Script "+r+" loaded, but verification object "+t+" was not defined."))}),u.addErrback(function(c){i[t]!==void 0&&delete i[t],d.errback(c)}),d},goog.net.jsloader.getScriptParentElement_=function(e){var t=goog.dom.getElementsByTagName(goog.dom.TagName.HEAD,e);return t&&t.length!==0?t[0]:e.documentElement},goog.net.jsloader.cancel_=function(){if(this&&this.script_){var e=this.script_;e&&e.tagName==goog.dom.TagName.SCRIPT&&goog.net.jsloader.cleanup_(e,!0,this.timeout_)}},goog.net.jsloader.cleanup_=function(e,t,n){n!=null&&goog.global.clearTimeout(n),e.onload=goog.nullFunction,e.onerror=goog.nullFunction,e.onreadystatechange=goog.nullFunction,t&&window.setTimeout(function(){goog.dom.removeNode(e)},0)},goog.net.jsloader.ErrorCode={LOAD_ERROR:0,TIMEOUT:1,VERIFY_ERROR:2,VERIFY_OBJECT_ALREADY_EXISTS:3},goog.net.jsloader.Error=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),module$contents$goog$debug$Error_DebugError.call(this,n),this.code=e},goog.inherits(goog.net.jsloader.Error,module$contents$goog$debug$Error_DebugError),goog.json={},goog.json.Replacer={},goog.json.Reviver={},goog.json.USE_NATIVE_JSON=!1,goog.json.TRY_NATIVE_JSON=!0,goog.json.isValid=function(e){return/^\s*$/.test(e)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.errorLogger_=goog.nullFunction,goog.json.setErrorLogger=function(e){goog.json.errorLogger_=e},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(s){if(goog.json.TRY_NATIVE_JSON)try{return goog.global.JSON.parse(s)}catch(e){var error=e}var o=String(s);if(goog.json.isValid(o))try{var result=eval("("+o+")");return error&&goog.json.errorLogger_("Invalid JSON: "+o,error),result}catch(e){}throw Error("Invalid JSON string: "+o)},goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e,t){return new goog.json.Serializer(t).serialize(e)},goog.json.Serializer=function(e){this.replacer_=e},goog.json.Serializer.prototype.serialize=function(e){var t=[];return this.serializeInternal(e,t),t.join("")},goog.json.Serializer.prototype.serializeInternal=function(e,t){if(e==null)t.push("null");else{if(typeof e=="object"){if(Array.isArray(e)){this.serializeArray(e,t);return}if(e instanceof String||e instanceof Number||e instanceof Boolean)e=e.valueOf();else{this.serializeObject_(e,t);return}}switch(typeof e){case"string":this.serializeString_(e,t);break;case"number":this.serializeNumber_(e,t);break;case"boolean":t.push(String(e));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(e,t){t.push('"',e.replace(goog.json.Serializer.charsToReplace_,function(n){var i=goog.json.Serializer.charToJsonCharCache_[n];return i||(i="\\u"+(n.charCodeAt(0)|65536).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[n]=i),i}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(e,t){t.push(isFinite(e)&&!isNaN(e)?String(e):"null")},goog.json.Serializer.prototype.serializeArray=function(e,t){var n=e.length;t.push("[");for(var i="",r=0;r<n;r++){t.push(i);var u=e[r];this.serializeInternal(this.replacer_?this.replacer_.call(e,String(r),u):u,t),i=","}t.push("]")},goog.json.Serializer.prototype.serializeObject_=function(e,t){t.push("{");var n="",i;for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];typeof r!="function"&&(t.push(n),this.serializeString_(i,t),t.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(e,i,r):r,t),n=",")}t.push("}")},goog.json.hybrid={},goog.json.hybrid.stringify=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(e){if(goog.global.JSON)try{return goog.global.JSON.stringify(e)}catch{}return goog.json.serialize(e)},goog.json.hybrid.parse_=function(e,t){if(goog.global.JSON)try{var n=goog.global.JSON.parse(e);return goog.asserts.assert(typeof n=="object"),n}catch{}return t(e)},goog.json.hybrid.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(e){return goog.json.hybrid.parse_(e,goog.json.parse)},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME="";var third_party$javascript$closure$log$log$classdecl$var0=function(e,t){this.name=e,this.value=t};third_party$javascript$closure$log$log$classdecl$var0.prototype.toString=function(){return this.name},goog.log.Level=third_party$javascript$closure$log$log$classdecl$var0,goog.log.Level.OFF=new goog.log.Level("OFF",1/0),goog.log.Level.SHOUT=new goog.log.Level("SHOUT",1200),goog.log.Level.SEVERE=new goog.log.Level("SEVERE",1e3),goog.log.Level.WARNING=new goog.log.Level("WARNING",900),goog.log.Level.INFO=new goog.log.Level("INFO",800),goog.log.Level.CONFIG=new goog.log.Level("CONFIG",700),goog.log.Level.FINE=new goog.log.Level("FINE",500),goog.log.Level.FINER=new goog.log.Level("FINER",400),goog.log.Level.FINEST=new goog.log.Level("FINEST",300),goog.log.Level.ALL=new goog.log.Level("ALL",0),goog.log.Level.PREDEFINED_LEVELS=[goog.log.Level.OFF,goog.log.Level.SHOUT,goog.log.Level.SEVERE,goog.log.Level.WARNING,goog.log.Level.INFO,goog.log.Level.CONFIG,goog.log.Level.FINE,goog.log.Level.FINER,goog.log.Level.FINEST,goog.log.Level.ALL],goog.log.Level.predefinedLevelsCache_=null,goog.log.Level.createPredefinedLevelsCache_=function(){goog.log.Level.predefinedLevelsCache_={};for(var e=0,t=void 0;t=goog.log.Level.PREDEFINED_LEVELS[e];e++)goog.log.Level.predefinedLevelsCache_[t.value]=t,goog.log.Level.predefinedLevelsCache_[t.name]=t},goog.log.Level.getPredefinedLevel=function(e){return goog.log.Level.predefinedLevelsCache_||goog.log.Level.createPredefinedLevelsCache_(),goog.log.Level.predefinedLevelsCache_[e]||null},goog.log.Level.getPredefinedLevelByValue=function(e){if(goog.log.Level.predefinedLevelsCache_||goog.log.Level.createPredefinedLevelsCache_(),e in goog.log.Level.predefinedLevelsCache_)return goog.log.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.log.Level.PREDEFINED_LEVELS.length;++t){var n=goog.log.Level.PREDEFINED_LEVELS[t];if(n.value<=e)return n}return null};var third_party$javascript$closure$log$log$classdecl$var1=function(){};third_party$javascript$closure$log$log$classdecl$var1.prototype.getName=function(){},goog.log.Logger=third_party$javascript$closure$log$log$classdecl$var1,goog.log.Logger.Level=goog.log.Level;var third_party$javascript$closure$log$log$classdecl$var2=function(e){this.capacity_=typeof e=="number"?e:goog.log.LogBuffer.CAPACITY,this.clear()};third_party$javascript$closure$log$log$classdecl$var2.prototype.addRecord=function(e,t,n){if(!this.isBufferingEnabled())return new goog.log.LogRecord(e,t,n);var i=(this.curIndex_+1)%this.capacity_;if(this.curIndex_=i,this.isFull_){var r=this.buffer_[i];return r.reset(e,t,n),r}return this.isFull_=i==this.capacity_-1,this.buffer_[i]=new goog.log.LogRecord(e,t,n)},third_party$javascript$closure$log$log$classdecl$var2.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0]){var n=this.curIndex_,i=this.isFull_?n:-1;do i=(i+1)%this.capacity_,e(t[i]);while(i!==n)}},third_party$javascript$closure$log$log$classdecl$var2.prototype.isBufferingEnabled=function(){return 0<this.capacity_},third_party$javascript$closure$log$log$classdecl$var2.prototype.isFull=function(){return this.isFull_},third_party$javascript$closure$log$log$classdecl$var2.prototype.clear=function(){this.buffer_=Array(this.capacity_),this.curIndex_=-1,this.isFull_=!1},goog.log.LogBuffer=third_party$javascript$closure$log$log$classdecl$var2,goog.log.LogBuffer.CAPACITY=0,goog.log.LogBuffer.getInstance=function(){return goog.log.LogBuffer.instance_||(goog.log.LogBuffer.instance_=new goog.log.LogBuffer(goog.log.LogBuffer.CAPACITY)),goog.log.LogBuffer.instance_},goog.log.LogBuffer.isBufferingEnabled=function(){return goog.log.LogBuffer.getInstance().isBufferingEnabled()};var third_party$javascript$closure$log$log$classdecl$var3=function(e,t,n,i,r){this.exception_=void 0,this.reset(e||goog.log.Level.OFF,t,n,i,r)};third_party$javascript$closure$log$log$classdecl$var3.prototype.reset=function(e,t,n,i,r){this.time_=i||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=n,this.exception_=void 0,this.sequenceNumber_=typeof r=="number"?r:goog.log.LogRecord.nextSequenceNumber_},third_party$javascript$closure$log$log$classdecl$var3.prototype.getLoggerName=function(){return this.loggerName_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setLoggerName=function(e){this.loggerName_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getException=function(){return this.exception_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setException=function(e){this.exception_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getLevel=function(){return this.level_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setLevel=function(e){this.level_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getMessage=function(){return this.msg_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setMessage=function(e){this.msg_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getMillis=function(){return this.time_},third_party$javascript$closure$log$log$classdecl$var3.prototype.setMillis=function(e){this.time_=e},third_party$javascript$closure$log$log$classdecl$var3.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.log.LogRecord=third_party$javascript$closure$log$log$classdecl$var3,goog.log.LogRecord.nextSequenceNumber_=0;var third_party$javascript$closure$log$log$classdecl$var4=function(e,t){this.level=null,this.handlers=[],this.parent=(t===void 0?null:t)||null,this.children=[],this.logger={getName:function(){return e}}};third_party$javascript$closure$log$log$classdecl$var4.prototype.getEffectiveLevel=function(){return this.level?this.level:this.parent?this.parent.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),goog.log.Level.OFF)},third_party$javascript$closure$log$log$classdecl$var4.prototype.publish=function(e){for(var t=this;t;)t.handlers.forEach(function(n){n(e)}),t=t.parent},goog.log.LogRegistryEntry_=third_party$javascript$closure$log$log$classdecl$var4;var third_party$javascript$closure$log$log$classdecl$var5=function(){this.entries={};var e=new goog.log.LogRegistryEntry_(goog.log.ROOT_LOGGER_NAME);e.level=goog.log.Level.CONFIG,this.entries[goog.log.ROOT_LOGGER_NAME]=e};third_party$javascript$closure$log$log$classdecl$var5.prototype.getLogRegistryEntry=function(e,t){var n=this.entries[e];if(n)return t!==void 0&&(n.level=t),n;var i=e.lastIndexOf("."),r=this.getLogRegistryEntry(e.substr(0,i)),u=new goog.log.LogRegistryEntry_(e,r);return this.entries[e]=u,r.children.push(u),t!==void 0&&(u.level=t),u},third_party$javascript$closure$log$log$classdecl$var5.prototype.getAllLoggers=function(){var e=this;return Object.keys(this.entries).map(function(t){return e.entries[t].logger})},goog.log.LogRegistry_=third_party$javascript$closure$log$log$classdecl$var5,goog.log.LogRegistry_.getInstance=function(){return goog.log.LogRegistry_.instance_||(goog.log.LogRegistry_.instance_=new goog.log.LogRegistry_),goog.log.LogRegistry_.instance_},goog.log.getLogger=function(e,t){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e,t).logger:null},goog.log.getRootLogger=function(){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(goog.log.ROOT_LOGGER_NAME).logger:null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).handlers.push(t)},goog.log.removeHandler=function(e,t){if(goog.log.ENABLED&&e){var n=goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()),i=n.handlers.indexOf(t);if(i!==-1)return n.handlers.splice(i,1),!0}return!1},goog.log.setLevel=function(e,t){goog.log.ENABLED&&e&&(goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).level=t)},goog.log.getLevel=function(e){return goog.log.ENABLED&&e?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).level:null},goog.log.getEffectiveLevel=function(e){return goog.log.ENABLED&&e?goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).getEffectiveLevel():goog.log.Level.OFF},goog.log.isLoggable=function(e,t){return goog.log.ENABLED&&e&&t?t.value>=goog.log.getEffectiveLevel(e).value:!1},goog.log.getAllLoggers=function(){return goog.log.ENABLED?goog.log.LogRegistry_.getInstance().getAllLoggers():[]},goog.log.getLogRecord=function(e,t,n,i){var r=goog.log.LogBuffer.getInstance().addRecord(t||goog.log.Level.OFF,n,e.getName());return r.setException(i),r},goog.log.publishLogRecord=function(e,t){goog.log.ENABLED&&e&&goog.log.isLoggable(e,t.getLevel())&&goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName()).publish(t)},goog.log.log=function(e,t,n,i){if(goog.log.ENABLED&&e&&goog.log.isLoggable(e,t)){t=t||goog.log.Level.OFF;var r=goog.log.LogRegistry_.getInstance().getLogRegistryEntry(e.getName());typeof n=="function"&&(n=n());var u=goog.log.LogBuffer.getInstance().addRecord(t,n,e.getName());u.setException(i),r.publish(u)}},goog.log.error=function(e,t,n){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.SEVERE,t,n)},goog.log.warning=function(e,t,n){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.WARNING,t,n)},goog.log.info=function(e,t,n){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.INFO,t,n)},goog.log.fine=function(e,t,n){goog.log.ENABLED&&e&&goog.log.log(e,goog.log.Level.FINE,t,n)},goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9},goog.net.ErrorCode.getDebugMessage=function(e){switch(e){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}},goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress",DOWNLOAD_PROGRESS:"downloadprogress",UPLOAD_PROGRESS:"uploadprogress"},goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511,QUIRK_IE_NO_CONTENT:1223},goog.net.HttpStatus.isSuccess=function(e){switch(e){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.PARTIAL_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}},goog.net.XhrLike=function(){},goog.net.XhrLike.prototype.open=function(e,t,n,i,r){},goog.net.XhrLike.prototype.send=function(e){},goog.net.XhrLike.prototype.abort=function(){},goog.net.XhrLike.prototype.setRequestHeader=function(e,t){},goog.net.XhrLike.prototype.getResponseHeader=function(e){},goog.net.XhrLike.prototype.getAllResponseHeaders=function(){},goog.net.XhrLike.prototype.setTrustToken=function(e){},goog.net.XmlHttpFactory=function(){},goog.net.XmlHttpFactory.prototype.cachedOptions_=null,goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())},goog.net.WrapperXmlHttpFactory=function(e,t){this.xhrFactory_=e,this.optionsFactory_=t},goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()},goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()},goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()},goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1,goog.net.XmlHttpDefines={},goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR=!1,goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()},goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1},goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},goog.net.XmlHttp.setFactory=function(e,t){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(e),goog.asserts.assert(t)))},goog.net.XmlHttp.setGlobalFactory=function(e){goog.net.XmlHttp.factory_=e},goog.net.DefaultXmlHttpFactory=function(){},goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory),goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var e=this.getProgId_();return e?new ActiveXObject(e):new XMLHttpRequest},goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var e={};return this.getProgId_()&&(e[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,e[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0),e},goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR||goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++){var n=e[t];try{return new ActiveXObject(n),this.ieProgId_=n}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.ieProgId_},goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory),goog.net.XhrIo=function(e){goog.events.EventTarget.call(this),this.headers=new Map,this.xmlHttpFactory_=e||null,this.active_=!1,this.xhrOptions_=this.xhr_=null,this.lastMethod_=this.lastUri_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastError_="",this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1,this.timeoutInterval_=0,this.timeoutId_=null,this.responseType_=goog.net.XhrIo.ResponseType.DEFAULT,this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1,this.trustToken_=null},goog.inherits(goog.net.XhrIo,goog.events.EventTarget),goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"},goog.net.XhrIo.prototype.logger_=goog.log.getLogger("goog.net.XhrIo"),goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type",goog.net.XhrIo.CONTENT_TRANSFER_ENCODING="Content-Transfer-Encoding",goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i,goog.net.XhrIo.METHODS_WITH_FORM_DATA=["POST","PUT"],goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8",goog.net.XhrIo.XHR2_TIMEOUT_="timeout",goog.net.XhrIo.XHR2_ON_TIMEOUT_="ontimeout",goog.net.XhrIo.sendInstances_=[],goog.net.XhrIo.send=function(e,t,n,i,r,u,d){var c=new goog.net.XhrIo;return goog.net.XhrIo.sendInstances_.push(c),t&&c.listen(goog.net.EventType.COMPLETE,t),c.listenOnce(goog.net.EventType.READY,c.cleanupSend_),u&&c.setTimeoutInterval(u),d&&c.setWithCredentials(d),c.send(e,n,i,r),c},goog.net.XhrIo.cleanup=function(){for(var e=goog.net.XhrIo.sendInstances_;e.length;)e.pop().dispose()},goog.net.XhrIo.protectEntryPoints=function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)},goog.net.XhrIo.prototype.cleanupSend_=function(){this.dispose(),module$contents$goog$array_remove(goog.net.XhrIo.sendInstances_,this)},goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_},goog.net.XhrIo.prototype.setTimeoutInterval=function(e){this.timeoutInterval_=Math.max(0,e)},goog.net.XhrIo.prototype.setResponseType=function(e){this.responseType_=e},goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_},goog.net.XhrIo.prototype.setWithCredentials=function(e){this.withCredentials_=e},goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_},goog.net.XhrIo.prototype.setProgressEventsEnabled=function(e){this.progressEventsEnabled_=e},goog.net.XhrIo.prototype.getProgressEventsEnabled=function(){return this.progressEventsEnabled_},goog.net.XhrIo.prototype.setTrustToken=function(e){this.trustToken_=e},goog.net.XhrIo.prototype.send=function(e,t,n,i){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+e);var r=t?t.toUpperCase():"GET";this.lastUri_=e,this.lastError_="",this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR,this.lastMethod_=r,this.errorDispatched_=!1,this.active_=!0,this.xhr_=this.createXhr(),this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions(),this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this),this.getProgressEventsEnabled()&&"onprogress"in this.xhr_&&(this.xhr_.onprogress=goog.bind(function(xe){this.onProgressHandler_(xe,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=goog.bind(this.onProgressHandler_,this)));try{goog.log.fine(this.logger_,this.formatMsg_("Opening Xhr")),this.inOpen_=!0,this.xhr_.open(r,String(e),!0),this.inOpen_=!1}catch(xe){goog.log.fine(this.logger_,this.formatMsg_("Error opening Xhr: "+xe.message)),this.error_(goog.net.ErrorCode.EXCEPTION,xe);return}var u=n||"",d=new Map(this.headers);if(i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)d.set(c,i[c]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(var v=$jscomp.makeIterator(i.keys()),S=v.next();!S.done;S=v.next()){var C=S.value;d.set(C,i.get(C))}else throw Error("Unknown input type for opt_headers: "+String(i));var O=Array.from(d.keys()).find(function(xe){return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER,xe)}),R=goog.global.FormData&&u instanceof goog.global.FormData;!module$contents$goog$array_contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA,r)||O||R||d.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE);for(var H=$jscomp.makeIterator(d),K=H.next();!K.done;K=H.next()){var le=$jscomp.makeIterator(K.value),fe=le.next().value,ye=le.next().value;this.xhr_.setRequestHeader(fe,ye)}if(this.responseType_&&(this.xhr_.responseType=this.responseType_),"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_),"setTrustToken"in this.xhr_&&this.trustToken_)try{this.xhr_.setTrustToken(this.trustToken_)}catch(xe){goog.log.fine(this.logger_,this.formatMsg_("Error SetTrustToken: "+xe.message))}try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&(this.useXhr2Timeout_=goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_),goog.log.fine(this.logger_,this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete, xhr2 "+this.useXhr2Timeout_)),this.useXhr2Timeout_?(this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_]=this.timeoutInterval_,this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=goog.bind(this.timeout_,this)):this.timeoutId_=goog.Timer.callOnce(this.timeout_,this.timeoutInterval_,this)),goog.log.fine(this.logger_,this.formatMsg_("Sending request")),this.inSend_=!0,this.xhr_.send(u),this.inSend_=!1}catch(xe){goog.log.fine(this.logger_,this.formatMsg_("Send error: "+xe.message)),this.error_(goog.net.ErrorCode.EXCEPTION,xe)}},goog.net.XhrIo.shouldUseXhr2Timeout_=function(e){return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(9)&&typeof e[goog.net.XhrIo.XHR2_TIMEOUT_]=="number"&&e[goog.net.XhrIo.XHR2_ON_TIMEOUT_]!==void 0},goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()},goog.net.XhrIo.prototype.timeout_=function(){typeof goog<"u"&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,goog.log.fine(this.logger_,this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))},goog.net.XhrIo.prototype.error_=function(e,t){this.active_=!1,this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.lastError_=t,this.lastErrorCode_=e,this.dispatchErrors_(),this.cleanUpXhr_()},goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))},goog.net.XhrIo.prototype.abort=function(e){this.xhr_&&this.active_&&(goog.log.fine(this.logger_,this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=e||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())},goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0)),goog.net.XhrIo.superClass_.disposeInternal.call(this)},goog.net.XhrIo.prototype.onReadyStateChange_=function(){this.isDisposed()||(this.inOpen_||this.inSend_||this.inAbort_?this.onReadyStateChangeHelper_():this.onReadyStateChangeEntryPoint_())},goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()},goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&typeof goog<"u"){if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&this.getStatus()==2)goog.log.fine(this.logger_,this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.callOnce(this.onReadyStateChange_,0,this);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),this.isComplete()){goog.log.fine(this.logger_,this.formatMsg_("Request complete")),this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}}},goog.net.XhrIo.prototype.onProgressHandler_=function(e,t){goog.asserts.assert(e.type===goog.net.EventType.PROGRESS,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e,goog.net.EventType.PROGRESS)),this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e,t?goog.net.EventType.DOWNLOAD_PROGRESS:goog.net.EventType.UPLOAD_PROGRESS))},goog.net.XhrIo.buildProgressEvent_=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},goog.net.XhrIo.prototype.cleanUpXhr_=function(e){if(this.xhr_){this.cleanUpTimeoutTimer_();var t=this.xhr_,n=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhrOptions_=this.xhr_=null,e||this.dispatchEvent(goog.net.EventType.READY);try{t.onreadystatechange=n}catch(i){goog.log.error(this.logger_,"Problem encountered resetting onreadystatechange: "+i.message)}}},goog.net.XhrIo.prototype.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_]=null),this.timeoutId_&&(goog.Timer.clear(this.timeoutId_),this.timeoutId_=null)},goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_},goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE},goog.net.XhrIo.prototype.isSuccess=function(){var e=this.getStatus();return goog.net.HttpStatus.isSuccess(e)||e===0&&!this.isLastUriEffectiveSchemeHttp_()},goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var e=goog.uri.utils.getEffectiveScheme(String(this.lastUri_));return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(e)},goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED},goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch{return-1}},goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(e){return goog.log.fine(this.logger_,"Can not get status: "+e.message),""}},goog.net.XhrIo.prototype.getLastUri=function(){return String(this.lastUri_)},goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(e){return goog.log.fine(this.logger_,"Can not get responseText: "+e.message),""}},goog.net.XhrIo.prototype.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(e){goog.log.fine(this.logger_,"Can not get responseBody: "+e.message)}return null},goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(e){return goog.log.fine(this.logger_,"Can not get responseXML: "+e.message),null}},goog.net.XhrIo.prototype.getResponseJson=function(e){if(this.xhr_){var t=this.xhr_.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),goog.json.hybrid.parse(t)}},goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return goog.log.error(this.logger_,"Response type "+this.responseType_+" is not supported on this browser"),null}catch(e){return goog.log.fine(this.logger_,"Can not get response: "+e.message),null}},goog.net.XhrIo.prototype.getResponseHeader=function(e){if(this.xhr_&&this.isComplete()){var t=this.xhr_.getResponseHeader(e);return t===null?void 0:t}},goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()&&this.xhr_.getAllResponseHeaders()||""},goog.net.XhrIo.prototype.getResponseHeaders=function(){for(var e={},t=this.getAllResponseHeaders().split(`\r
`),n=0;n<t.length;n++)if(!goog.string.isEmptyOrWhitespace(t[n])){var i=goog.string.splitLimit(t[n],":",1),r=i[0],u=i[1];if(typeof u=="string"){u=u.trim();var d=e[r]||[];e[r]=d,d.push(u)}}return module$contents$goog$object_map(e,function(c){return c.join(", ")})},goog.net.XhrIo.prototype.getStreamingResponseHeader=function(e){return this.xhr_?this.xhr_.getResponseHeader(e):null},goog.net.XhrIo.prototype.getAllStreamingResponseHeaders=function(){return this.xhr_?this.xhr_.getAllResponseHeaders():""},goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_},goog.net.XhrIo.prototype.getLastError=function(){return typeof this.lastError_=="string"?this.lastError_:String(this.lastError_)},goog.net.XhrIo.prototype.formatMsg_=function(e){return e+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"},goog.debug.entryPointRegistry.register(function(e){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=e(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)}),ee.apiclient={};var module$contents$ee$apiclient_apiclient={};ee.apiclient.VERSION=module$exports$ee$apiVersion.V1ALPHA,ee.apiclient.API_CLIENT_VERSION="0.1.288",ee.apiclient.NULL_VALUE=module$exports$eeapiclient$domain_object.NULL_VALUE,ee.apiclient.PromiseRequestService=module$exports$eeapiclient$promise_request_service.PromiseRequestService,ee.apiclient.MakeRequestParams=module$contents$eeapiclient$request_params_MakeRequestParams,ee.apiclient.deserialize=module$contents$eeapiclient$domain_object_deserialize,ee.apiclient.serialize=module$contents$eeapiclient$domain_object_serialize;var module$contents$ee$apiclient_Call=function(e,t){module$contents$ee$apiclient_apiclient.initialize(),this.callback=e,this.requestService=new module$contents$ee$apiclient_EERequestService(!e,t)};module$contents$ee$apiclient_Call.prototype.handle=function(e){var t=this;if(e instanceof Promise){if(this.callback){var n=function(i,r){try{return t.callback(i,r)}catch(u){setTimeout(function(){throw u},0)}};e.then(n,function(i){return n(void 0,i)})}}else e.then(function(i){e=i});return e},module$contents$ee$apiclient_Call.prototype.projectsPath=function(){return"projects/"+module$contents$ee$apiclient_apiclient.getProject()},module$contents$ee$apiclient_Call.prototype.algorithms=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.projects=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.assets=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.operations=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.value=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.maps=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.map=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.image=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.table=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.tables=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.video=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.videoMap=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.classifier=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.dmsMaps=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.thumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.videoThumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)},module$contents$ee$apiclient_Call.prototype.filmstripThumbnails=function(){return new module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA,this.requestService)};var module$contents$ee$apiclient_EERequestService=function(e,t){this.sync=e=e===void 0?!1:e,this.retries=t??(e?module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_:module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_)};$jscomp.inherits(module$contents$ee$apiclient_EERequestService,module$exports$eeapiclient$promise_request_service.PromiseRequestService),module$contents$ee$apiclient_EERequestService.prototype.send=function(e,t){var n=this;module$contents$eeapiclient$request_params_processParams(e);var i=e.path||"",r=module$contents$ee$apiclient_apiclient.getSafeApiUrl()+i,u=module$contents$ee$apiclient_apiclient.makeRequest_(e.queryParams||{}),d=e.body?JSON.stringify(e.body):void 0;if(this.sync){var c=module$contents$ee$apiclient_apiclient.send(r,u,void 0,e.httpMethod,d,this.retries),v=t?module$contents$eeapiclient$domain_object_deserialize(t,c):c,S=function(C){return{then:function(O){return S(O(C))}}};return S(v)}return new Promise(function(C,O){module$contents$ee$apiclient_apiclient.send(r,u,function(R,H){H?O(H):C(R)},e.httpMethod,d,n.retries)}).then(function(C){return t?module$contents$eeapiclient$domain_object_deserialize(t,C):C})},module$contents$ee$apiclient_EERequestService.prototype.makeRequest=function(e){};var module$contents$ee$apiclient_BatchCall=function(e){module$contents$ee$apiclient_Call.call(this,e),this.requestService=new module$contents$ee$apiclient_BatchRequestService};$jscomp.inherits(module$contents$ee$apiclient_BatchCall,module$contents$ee$apiclient_Call),module$contents$ee$apiclient_BatchCall.prototype.send=function(e,t){var n=this,i=module$contents$ee$apiclient_apiclient.getSafeApiUrl()+"/batch",r=e.map(function(d){var c=$jscomp.makeIterator(d),v=c.next().value,S=$jscomp.makeIterator(c.next().value),C=S.next().value;return S.next().value,`--batch_EARTHENGINE_batch\r
Content-Type: application/http\r
Content-Transfer-Encoding: binary\r
MIME-Version: 1.0\r
Content-ID: <`+v+`>\r
\r
`+C+`\r
`}).join("")+`--batch_EARTHENGINE_batch--\r
`,u=function(d){var c={};return e.forEach(function(v){var S=$jscomp.makeIterator(v),C=S.next().value,O=$jscomp.makeIterator(S.next().value);O.next().value;var R=O.next().value;d[C]!=null&&(c[C]=module$contents$eeapiclient$domain_object_deserialize(R,d[C]))}),t?t(c):c};return this.callback?(module$contents$ee$apiclient_apiclient.send(i,null,function(d,c){return n.callback(c?d:u(d),c)},"multipart/mixed; boundary=batch_EARTHENGINE_batch",r),null):u(module$contents$ee$apiclient_apiclient.send(i,null,void 0,"multipart/mixed; boundary=batch_EARTHENGINE_batch",r))};var module$contents$ee$apiclient_BatchRequestService=function(){};$jscomp.inherits(module$contents$ee$apiclient_BatchRequestService,module$exports$eeapiclient$promise_request_service.PromiseRequestService),module$contents$ee$apiclient_BatchRequestService.prototype.send=function(e,t){var n=[e.httpMethod+" "+e.path+" HTTP/1.1"];n.push("Content-Type: application/json; charset=utf-8");var i=module$contents$ee$apiclient_apiclient.getAuthToken();i!=null&&n.push("Authorization: "+i);var r=e.body?JSON.stringify(e.body):"";return[n.join(`\r
`)+`\r
\r
`+r,t]},module$contents$ee$apiclient_BatchRequestService.prototype.makeRequest=function(e){},module$contents$ee$apiclient_apiclient.parseBatchReply=function(e,t,n){for(var i=e.split("; boundary=")[1],r=$jscomp.makeIterator(t.split("--"+i)),u=r.next();!u.done;u=r.next()){var d=u.value.split(`\r
\r
`);if(!(3>d.length)){var c=d[0].match(/\r\nContent-ID: <response-([^>]*)>/)[1],v=Number(d[1].match(/^HTTP\S*\s(\d+)\s/)[1]),S=d.slice(2).join(`\r
\r
`);n(c,v,S)}}},module$contents$ee$apiclient_apiclient.setApiKey=function(e){module$contents$ee$apiclient_apiclient.cloudApiKey_=e},module$contents$ee$apiclient_apiclient.getApiKey=function(){return module$contents$ee$apiclient_apiclient.cloudApiKey_},module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_="earthengine-legacy",module$contents$ee$apiclient_apiclient.setProject=function(e){module$contents$ee$apiclient_apiclient.project_=e},module$contents$ee$apiclient_apiclient.getProject=function(){return module$contents$ee$apiclient_apiclient.project_},module$contents$ee$apiclient_apiclient.getSafeApiUrl=function(){var e=module$contents$ee$apiclient_apiclient.apiBaseUrl_.replace(/\/api$/,"");return"window"in goog.global&&!e.match(/^https?:\/\/content-/)?e.replace(/^(https?:\/\/)(.*\.googleapis\.com)$/,"$1content-$2"):e},module$contents$ee$apiclient_apiclient.mergeAuthScopes_=function(e,t,n){var i=[];return e&&(i=i.concat(module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_)),t&&i.push(module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_),i=i.concat(n),module$contents$goog$array_removeDuplicates(i),i},module$contents$ee$apiclient_apiclient.setAuthToken=function(e,t,n,i,r,u,d,c){var v=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!c,!1,r||[]);module$contents$ee$apiclient_apiclient.authClientId_=e,module$contents$ee$apiclient_apiclient.authScopes_=v;var S={token_type:t,access_token:n,state:v.join(" "),expires_in:i};module$contents$ee$apiclient_apiclient.handleAuthResult_(void 0,void 0,S),d===!1?u&&u():module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){goog.global.gapi.auth.setToken(S),u&&u()})},module$contents$ee$apiclient_apiclient.refreshAuthToken=function(e,t,n){if(module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()){var i={client_id:String(module$contents$ee$apiclient_apiclient.authClientId_),immediate:!0,scope:module$contents$ee$apiclient_apiclient.authScopes_.join(" ")};module$contents$ee$apiclient_apiclient.authTokenRefresher_(i,function(r){if(r.error=="immediate_failed"&&n)n();else if("window"in goog.global)try{module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){try{goog.global.gapi.auth.setToken(r),module$contents$ee$apiclient_apiclient.handleAuthResult_(e,t,r)}catch(u){t(u.toString())}})}catch(u){t(u.toString())}else module$contents$ee$apiclient_apiclient.handleAuthResult_(e,t,r)})}},module$contents$ee$apiclient_apiclient.setAuthTokenRefresher=function(e){module$contents$ee$apiclient_apiclient.authTokenRefresher_=e},module$contents$ee$apiclient_apiclient.getAuthToken=function(){return module$contents$ee$apiclient_apiclient.authTokenExpiration_&&0<=Date.now()-module$contents$ee$apiclient_apiclient.authTokenExpiration_&&module$contents$ee$apiclient_apiclient.clearAuthToken(),module$contents$ee$apiclient_apiclient.authToken_},module$contents$ee$apiclient_apiclient.clearAuthToken=function(){module$contents$ee$apiclient_apiclient.authToken_=null,module$contents$ee$apiclient_apiclient.authTokenExpiration_=null},module$contents$ee$apiclient_apiclient.getAuthClientId=function(){return module$contents$ee$apiclient_apiclient.authClientId_},module$contents$ee$apiclient_apiclient.getAuthScopes=function(){return module$contents$ee$apiclient_apiclient.authScopes_},module$contents$ee$apiclient_apiclient.setAuthClient=function(e,t){module$contents$ee$apiclient_apiclient.authClientId_=e,module$contents$ee$apiclient_apiclient.authScopes_=t},module$contents$ee$apiclient_apiclient.setAppIdToken=function(e){module$contents$ee$apiclient_apiclient.appIdToken_=e},module$contents$ee$apiclient_apiclient.initialize=function(e,t,n,i){e!=null?module$contents$ee$apiclient_apiclient.apiBaseUrl_=e:module$contents$ee$apiclient_apiclient.initialized_||(module$contents$ee$apiclient_apiclient.apiBaseUrl_=module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_),t!=null?module$contents$ee$apiclient_apiclient.tileBaseUrl_=t:module$contents$ee$apiclient_apiclient.initialized_||(module$contents$ee$apiclient_apiclient.tileBaseUrl_=module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_),n!==void 0&&(module$contents$ee$apiclient_apiclient.xsrfToken_=n),i!=null?module$contents$ee$apiclient_apiclient.setProject(i):module$contents$ee$apiclient_apiclient.setProject(module$contents$ee$apiclient_apiclient.getProject()||module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_),module$contents$ee$apiclient_apiclient.initialized_=!0},module$contents$ee$apiclient_apiclient.reset=function(){module$contents$ee$apiclient_apiclient.apiBaseUrl_=null,module$contents$ee$apiclient_apiclient.tileBaseUrl_=null,module$contents$ee$apiclient_apiclient.xsrfToken_=null,module$contents$ee$apiclient_apiclient.initialized_=!1},module$contents$ee$apiclient_apiclient.setDeadline=function(e){module$contents$ee$apiclient_apiclient.deadlineMs_=e},module$contents$ee$apiclient_apiclient.setParamAugmenter=function(e){module$contents$ee$apiclient_apiclient.paramAugmenter_=e||goog.functions.identity},module$contents$ee$apiclient_apiclient.getApiBaseUrl=function(){return module$contents$ee$apiclient_apiclient.apiBaseUrl_},module$contents$ee$apiclient_apiclient.getTileBaseUrl=function(){return module$contents$ee$apiclient_apiclient.tileBaseUrl_},module$contents$ee$apiclient_apiclient.getXsrfToken=function(){return module$contents$ee$apiclient_apiclient.xsrfToken_},module$contents$ee$apiclient_apiclient.isInitialized=function(){return module$contents$ee$apiclient_apiclient.initialized_},module$contents$ee$apiclient_apiclient.send=function(e,t,n,i,r,u){module$contents$ee$apiclient_apiclient.initialize();var d=module$contents$ee$apiclient_apiclient.profileHook_,c="application/x-www-form-urlencoded";r&&(c="application/json",i&&i.startsWith("multipart")&&(c=i,i="POST")),i=i||"POST";var v={"Content-Type":c},S="0.1.288";S==="0.1.288"&&(S="latest"),v[module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER]="ee-js/"+S;var C=module$contents$ee$apiclient_apiclient.getAuthToken();if(C!=null)v.Authorization=C;else if(n&&module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_())return module$contents$ee$apiclient_apiclient.refreshAuthToken(function(){module$contents$ee$apiclient_apiclient.withProfiling(d,function(){module$contents$ee$apiclient_apiclient.send(e,t,n,i)})}),null;t=t?t.clone():new goog.Uri.QueryData,module$contents$ee$apiclient_apiclient.cloudApiKey_!=null&&t.add("key",module$contents$ee$apiclient_apiclient.cloudApiKey_),d&&(v[module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER]="1"),module$contents$ee$apiclient_apiclient.getProject()&&module$contents$ee$apiclient_apiclient.getProject()!==module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_&&(v[module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_]=module$contents$ee$apiclient_apiclient.getProject()),t=module$contents$ee$apiclient_apiclient.paramAugmenter_(t,e),module$contents$ee$apiclient_apiclient.xsrfToken_!=null&&(v["X-XSRF-Token"]=module$contents$ee$apiclient_apiclient.xsrfToken_),module$contents$ee$apiclient_apiclient.appIdToken_!=null&&(v[module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_]=module$contents$ee$apiclient_apiclient.appIdToken_);var O=r||null,R=t?t.toString():"";i==="POST"&&r===void 0?O=R:goog.string.isEmptyOrWhitespace(R)||(e+=goog.string.contains(e,"?")?"&":"?",e+=R);var H=e.startsWith("/")?module$contents$ee$apiclient_apiclient.apiBaseUrl_+e:e;if(n)return module$contents$ee$apiclient_apiclient.requestQueue_.push(module$contents$ee$apiclient_apiclient.buildAsyncRequest_(H,n,i,O,v,u)),module$contents$ee$apiclient_apiclient.RequestThrottle_.fire(),null;for(var K=function(xe,Pe){this.setRequestHeader&&this.setRequestHeader(Pe,xe)},le,fe=0,ye=u??module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_;le=(0,goog.net.XmlHttp)(),le.open(i,H,!1),module$contents$goog$object_forEach(v,K,le),le.send(O),!(le.status!=429||fe>ye);)fe++;return module$contents$ee$apiclient_apiclient.handleResponse_(le.status,function(Pe){try{return le.getResponseHeader(Pe)}catch{return null}},le.responseText,d,void 0,H,i)},module$contents$ee$apiclient_apiclient.buildAsyncRequest_=function(e,t,n,i,r,u){var d=0,c={url:e,method:n,content:i,headers:r},v=module$contents$ee$apiclient_apiclient.profileHook_,S=u??module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;return c.callback=function(C){var O=C.target;return O.getStatus()==429&&d<S?(d++,setTimeout(function(){module$contents$ee$apiclient_apiclient.requestQueue_.push(c),module$contents$ee$apiclient_apiclient.RequestThrottle_.fire()},module$contents$ee$apiclient_apiclient.calculateRetryWait_(d)),null):module$contents$ee$apiclient_apiclient.handleResponse_(O.getStatus(),goog.bind(O.getResponseHeader,O),O.getResponseText(),v,t,e,n)},c},module$contents$ee$apiclient_apiclient.withProfiling=function(e,t,n){var i=module$contents$ee$apiclient_apiclient.profileHook_;try{return module$contents$ee$apiclient_apiclient.profileHook_=e,t.call(n)}finally{module$contents$ee$apiclient_apiclient.profileHook_=i}},module$contents$ee$apiclient_apiclient.handleResponse_=function(e,t,n,i,r,u,d){var c=i?t(module$contents$ee$apiclient_apiclient.PROFILE_HEADER):"";c&&i&&i(c);var v=function(ye){try{var xe=JSON.parse(ye);return goog.isObject(xe)&&"error"in xe&&"message"in xe.error?xe.error.message:{parsed:xe}}catch{return"Invalid JSON: "+ye}},S=function(ye){if(ye===0)return"Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.";if(200>ye||300<=ye)return"Server returned HTTP code: "+ye+" for "+d+" "+u},C,O=t("Content-Type")||"application/json",R=O.replace(/;.*/,"");if(R==="application/json"||R==="text/json"){var H=v(n);if(H.parsed){var K=H.parsed;K===void 0&&(C="Malformed response: "+n)}else C=H}else if(R==="multipart/mixed"){K={};var le=[];module$contents$ee$apiclient_apiclient.parseBatchReply(O,n,function(ye,xe,Pe){var Re=v(Pe);Re.parsed&&(K[ye]=Re.parsed);var Ze=(Re.parsed?"":Re)||S(xe);Ze&&le.push(ye+": "+Ze)}),le.length&&(C=le.join(`
`))}else var fe="Response was unexpectedly not JSON, but "+R;if(C=C||S(e)||fe,r)return r(K,C),null;if(!C)return K;throw Error(C)},module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_=function(e){var t=function(){goog.global.gapi.config.update("client/cors",!0),module$contents$ee$apiclient_apiclient.authTokenRefresher_||module$contents$ee$apiclient_apiclient.setAuthTokenRefresher(goog.global.gapi.auth.authorize),e()};if(goog.isObject(goog.global.gapi)&&goog.isObject(goog.global.gapi.auth)&&typeof goog.global.gapi.auth.authorize=="function")t();else{for(var n=Date.now().toString(36);n in goog.global;)n+="_";goog.global[n]=function(){delete goog.global[n],t()},goog.net.jsloader.safeLoad(goog.html.TrustedResourceUrl.format(module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_,{onload:n}))}},module$contents$ee$apiclient_apiclient.handleAuthResult_=function(e,t,n){if(n.access_token){var i=n.token_type+" "+n.access_token;if(n.expires_in||n.expires_in===0){var r=900*n.expires_in,u=setTimeout(module$contents$ee$apiclient_apiclient.refreshAuthToken,.9*r);u.unref!==void 0&&u.unref(),module$contents$ee$apiclient_apiclient.authTokenExpiration_=Date.now()+r}module$contents$ee$apiclient_apiclient.authToken_=i,e&&e()}else t&&t(n.error||"Unknown error.")},module$contents$ee$apiclient_apiclient.makeRequest_=function(e){for(var t=new goog.Uri.QueryData,n=$jscomp.makeIterator(Object.entries(e)),i=n.next();!i.done;i=n.next()){var r=$jscomp.makeIterator(i.value),u=r.next().value,d=r.next().value;t.set(u,d)}return t},module$contents$ee$apiclient_apiclient.setupMockSend=function(e){function t(r,u,d){if(r=r.replace(n,"").replace(module$exports$ee$apiVersion.V1ALPHA+"/projects/"+module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_+"/",""),r in e)var c=e[r];else throw Error(r+" mock response not specified");if(typeof c=="function"&&(c=c(r,u,d)),typeof c=="string"&&(c={text:c,status:200,contentType:"application/json; charset=utf-8"}),typeof c.text!="string")throw Error(r+" mock response missing/invalid text");if(typeof c.status!="number"&&typeof c.status!="function")throw Error(r+" mock response missing/invalid status");return c}e=e?module$contents$goog$object_clone(e):{};var n;goog.net.XhrIo.send=function(r,u,d,c){n=n||module$contents$ee$apiclient_apiclient.apiBaseUrl_;var v=t(r,d,c),S=new function(){this.target={}};return S.target.getResponseText=function(){return v.text},S.target.getStatus=typeof v.status=="function"?v.status:function(){return v.status},S.target.getResponseHeader=function(C){return C==="Content-Type"?v.contentType:null},setTimeout(goog.bind(u,S,S),0),new goog.net.XhrIo};var i=function(){};i.prototype.open=function(r,u){n=n||module$contents$ee$apiclient_apiclient.apiBaseUrl_,this.url=u,this.method=r},i.prototype.setRequestHeader=function(){},i.prototype.getResponseHeader=function(r){return r==="Content-Type"&&this.contentType_||null},i.prototype.send=function(r){var u=t(this.url,this.method,r);this.responseText=u.text,this.status=typeof u.status=="function"?u.status():u.status,this.contentType_=u.contentType},goog.net.XmlHttp.setGlobalFactory({createInstance:function(){return new i},getOptions:function(){return{}}})},module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_=function(){return!(!module$contents$ee$apiclient_apiclient.authTokenRefresher_||!module$contents$ee$apiclient_apiclient.authClientId_)},module$contents$ee$apiclient_apiclient.calculateRetryWait_=function(e){return Math.min(module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_,Math.pow(2,e)*module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_)},module$contents$ee$apiclient_apiclient.sleep_=function(e){for(var t=new Date().getTime()+e;new Date().getTime()<t;);},module$contents$ee$apiclient_apiclient.NetworkRequest_=function(){},module$contents$ee$apiclient_apiclient.requestQueue_=[],module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_=350,module$contents$ee$apiclient_apiclient.RequestThrottle_=new module$contents$goog$async$Throttle_Throttle(function(){var e=module$contents$ee$apiclient_apiclient.requestQueue_.shift();e&&goog.net.XhrIo.send(e.url,e.callback,e.method,e.content,e.headers,module$contents$ee$apiclient_apiclient.deadlineMs_),module$contents$goog$array_isEmpty(module$contents$ee$apiclient_apiclient.requestQueue_)||module$contents$ee$apiclient_apiclient.RequestThrottle_.fire()},module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_),module$contents$ee$apiclient_apiclient.apiBaseUrl_=null,module$contents$ee$apiclient_apiclient.tileBaseUrl_=null,module$contents$ee$apiclient_apiclient.xsrfToken_=null,module$contents$ee$apiclient_apiclient.appIdToken_=null,module$contents$ee$apiclient_apiclient.paramAugmenter_=goog.functions.identity,module$contents$ee$apiclient_apiclient.authToken_=null,module$contents$ee$apiclient_apiclient.authTokenExpiration_=null,module$contents$ee$apiclient_apiclient.authClientId_=null,module$contents$ee$apiclient_apiclient.authScopes_=[],module$contents$ee$apiclient_apiclient.authTokenRefresher_=null,module$contents$ee$apiclient_apiclient.AUTH_SCOPE_="https://www.googleapis.com/auth/earthengine",module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_="https://www.googleapis.com/auth/earthengine.readonly",module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_="https://www.googleapis.com/auth/cloud-platform",module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_=[module$contents$ee$apiclient_apiclient.AUTH_SCOPE_,module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_],module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_=goog.string.Const.from("https://apis.google.com/js/client.js?onload=%{onload}"),module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_="https://www.googleapis.com/auth/devstorage.read_write",module$contents$ee$apiclient_apiclient.cloudApiKey_=null,module$contents$ee$apiclient_apiclient.initialized_=!1,module$contents$ee$apiclient_apiclient.deadlineMs_=0,module$contents$ee$apiclient_apiclient.profileHook_=null,module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_=1e3,module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_=12e4,module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_=10,module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_=5,module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_="X-Earth-Engine-App-ID-Token",module$contents$ee$apiclient_apiclient.PROFILE_HEADER="X-Earth-Engine-Computation-Profile",module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER="X-Earth-Engine-Computation-Profiling",module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_="X-Goog-User-Project",module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER="x-goog-api-client",module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_="https://earthengine.googleapis.com/api",module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_="https://earthengine.googleapis.com",module$contents$ee$apiclient_apiclient.AuthArgs=function(){},module$contents$ee$apiclient_apiclient.AuthResponse=function(){},ee.apiclient.Call=module$contents$ee$apiclient_Call,ee.apiclient.BatchCall=module$contents$ee$apiclient_BatchCall,ee.apiclient.setApiKey=module$contents$ee$apiclient_apiclient.setApiKey,ee.apiclient.getApiKey=module$contents$ee$apiclient_apiclient.getApiKey,ee.apiclient.setProject=module$contents$ee$apiclient_apiclient.setProject,ee.apiclient.getProject=module$contents$ee$apiclient_apiclient.getProject,ee.apiclient.DEFAULT_PROJECT=module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_,ee.apiclient.PROFILE_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_HEADER,ee.apiclient.PROFILE_REQUEST_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,ee.apiclient.API_CLIENT_VERSION_HEADER=module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER,ee.apiclient.send=module$contents$ee$apiclient_apiclient.send,ee.apiclient.AUTH_SCOPE=module$contents$ee$apiclient_apiclient.AUTH_SCOPE_,ee.apiclient.READ_ONLY_AUTH_SCOPE=module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_,ee.apiclient.CLOUD_PLATFORM_SCOPE=module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_,ee.apiclient.STORAGE_SCOPE=module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_,ee.apiclient.DEFAULT_AUTH_SCOPES=module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_,ee.apiclient.makeRequest=module$contents$ee$apiclient_apiclient.makeRequest_,ee.apiclient.reset=module$contents$ee$apiclient_apiclient.reset,ee.apiclient.initialize=module$contents$ee$apiclient_apiclient.initialize,ee.apiclient.setDeadline=module$contents$ee$apiclient_apiclient.setDeadline,ee.apiclient.isInitialized=module$contents$ee$apiclient_apiclient.isInitialized,ee.apiclient.ensureAuthLibLoaded=module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_,ee.apiclient.handleAuthResult=module$contents$ee$apiclient_apiclient.handleAuthResult_,ee.apiclient.refreshAuthToken=module$contents$ee$apiclient_apiclient.refreshAuthToken,ee.apiclient.setAuthClient=module$contents$ee$apiclient_apiclient.setAuthClient,ee.apiclient.getAuthScopes=module$contents$ee$apiclient_apiclient.getAuthScopes,ee.apiclient.getAuthClientId=module$contents$ee$apiclient_apiclient.getAuthClientId,ee.apiclient.getAuthToken=module$contents$ee$apiclient_apiclient.getAuthToken,ee.apiclient.setAuthToken=module$contents$ee$apiclient_apiclient.setAuthToken,ee.apiclient.clearAuthToken=module$contents$ee$apiclient_apiclient.clearAuthToken,ee.apiclient.setAuthTokenRefresher=module$contents$ee$apiclient_apiclient.setAuthTokenRefresher,ee.apiclient.setAppIdToken=module$contents$ee$apiclient_apiclient.setAppIdToken,ee.apiclient.mergeAuthScopes=module$contents$ee$apiclient_apiclient.mergeAuthScopes_,ee.apiclient.setupMockSend=module$contents$ee$apiclient_apiclient.setupMockSend,ee.apiclient.setParamAugmenter=module$contents$ee$apiclient_apiclient.setParamAugmenter,ee.apiclient.withProfiling=module$contents$ee$apiclient_apiclient.withProfiling,ee.apiclient.getApiBaseUrl=module$contents$ee$apiclient_apiclient.getApiBaseUrl,ee.apiclient.getTileBaseUrl=module$contents$ee$apiclient_apiclient.getTileBaseUrl,ee.apiclient.AuthArgs=module$contents$ee$apiclient_apiclient.AuthArgs,ee.apiclient.AuthResponse=module$contents$ee$apiclient_apiclient.AuthResponse,ee.apiclient.RequestThrottle=module$contents$ee$apiclient_apiclient.RequestThrottle_,ee.apiclient.calculateRetryWait=module$contents$ee$apiclient_apiclient.calculateRetryWait_,ee.apiclient.MAX_ASYNC_RETRIES=module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_,ee.apiclient.REQUEST_THROTTLE_INTERVAL_MS=module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_,ee.apiclient.isAuthTokenRefreshingEnabled=module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_,goog.exportSymbol("ee.api.ListAssetsResponse",module$exports$eeapiclient$ee_api_client.ListAssetsResponse),goog.exportSymbol("ee.api.EarthEngineAsset",module$exports$eeapiclient$ee_api_client.EarthEngineAsset),goog.exportSymbol("ee.api.ListImagesResponse",module$exports$eeapiclient$ee_api_client.ListImagesResponse),goog.exportSymbol("ee.api.Image",module$exports$eeapiclient$ee_api_client.Image),goog.exportSymbol("ee.api.Operation",module$exports$eeapiclient$ee_api_client.Operation),ee.Encodable=function(){},ee.rpc_node={},ee.rpc_node.constant=function(e){return e==null&&(e=module$exports$eeapiclient$domain_object.NULL_VALUE),new module$exports$eeapiclient$ee_api_client.ValueNode({constantValue:e})},ee.rpc_node.reference=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({valueReference:e})},ee.rpc_node.array=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({arrayValue:new module$exports$eeapiclient$ee_api_client.ArrayValue({values:e})})},ee.rpc_node.dictionary=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({dictionaryValue:new module$exports$eeapiclient$ee_api_client.DictionaryValue({values:e})})},ee.rpc_node.functionByName=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionName:e,arguments:t})})},ee.rpc_node.functionByReference=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionReference:e,arguments:t})})},ee.rpc_node.functionDefinition=function(e,t){return new module$exports$eeapiclient$ee_api_client.ValueNode({functionDefinitionValue:new module$exports$eeapiclient$ee_api_client.FunctionDefinition({argumentNames:e,body:t})})},ee.rpc_node.argumentReference=function(e){return new module$exports$eeapiclient$ee_api_client.ValueNode({argumentReference:e})},ee.rpc_convert={},ee.rpc_convert.fileFormat=function(e){if(!e)return"AUTO_JPEG_PNG";var t=e.toUpperCase();switch(t){case"JPG":return"JPEG";case"AUTO":return"AUTO_JPEG_PNG";case"TIF":case"TIFF":case"GEOTIF":case"GEOTIFF":return"GEO_TIFF";case"TF_RECORD":case"TFRECORD":return"TF_RECORD_IMAGE";case"NUMPY":return"NPY";case"ZIPPED_TIF":case"ZIPPED_TIFF":case"ZIPPED_GEOTIF":case"ZIPPED_GEOTIFF":return"ZIPPED_GEO_TIFF";case"ZIPPED_TIF_PER_BAND":case"ZIPPED_TIFF_PER_BAND":case"ZIPPED_GEOTIF_PER_BAND":case"ZIPPED_GEOTIFF_PER_BAND":return"ZIPPED_GEO_TIFF_PER_BAND";default:return t}},ee.rpc_convert.tableFileFormat=function(e){if(!e)return"CSV";var t=e.toUpperCase();switch(t){case"TF_RECORD":case"TFRECORD":return"TF_RECORD_TABLE";case"JSON":case"GEOJSON":return"GEO_JSON";default:return t}},ee.rpc_convert.orientation=function(e){if(!e)return"VERTICAL";var t=e.toUpperCase();if(t!=="HORIZONTAL"||t!=="VERTICAL")throw Error('Orientation must be "horizontal" or "vertical"');return t},ee.rpc_convert.bandList=function(e){if(!e)return[];if(typeof e=="string")return e.split(",");if(Array.isArray(e))return e;throw Error("Invalid band list "+e)},ee.rpc_convert.visualizationOptions=function(e){var t=new module$exports$eeapiclient$ee_api_client.VisualizationOptions,n=!1;if("palette"in e){var i=e.palette;t.paletteColors=typeof i=="string"?i.split(","):i,n=!0}var r=[];if("gain"in e||"bias"in e){if("min"in e||"max"in e)throw Error("Gain and bias can't be specified with min and max");var u=t.paletteColors?t.paletteColors.length-1:255;r=ee.rpc_convert.pairedValues(e,"bias","gain").map(function(c){var v=-c.bias/c.gain;return{min:v,max:u/c.gain+v}})}else("min"in e||"max"in e)&&(r=ee.rpc_convert.pairedValues(e,"min","max"));r.length!==0&&(t.ranges=r.map(function(c){return new module$exports$eeapiclient$ee_api_client.DoubleRange(c)}),n=!0);var d=ee.rpc_convert.csvToNumbers(e.gamma);if(1<d.length)throw Error("Only one gamma value is supported");return d.length===1&&(t.gamma=d[0],n=!0),n?t:null},ee.rpc_convert.csvToNumbers=function(e){return e?e.split(",").map(Number):[]},ee.rpc_convert.pairedValues=function(e,t,n){var i=ee.rpc_convert.csvToNumbers(e[t]),r=ee.rpc_convert.csvToNumbers(e[n]);if(i.length===0)return r.map(function(u){var d={};return d[t]=0,d[n]=u,d});if(r.length===0)return i.map(function(u){var d={};return d[t]=u,d[n]=1,d});if(i.length!==r.length)throw Error("Length of "+t+" and "+n+" must match.");return i.map(function(u,d){var c={};return c[t]=u,c[n]=r[d],c})},ee.rpc_convert.algorithms=function(e){for(var t=function(v){var S={};return S.description=v.description||"",S.type=v.type||"",v.argumentName!=null&&(S.name=v.argumentName),v.defaultValue!==void 0&&(S.default=v.defaultValue),v.optional!=null&&(S.optional=v.optional),S},n=function(v){var S={};return S.args=(v.arguments||[]).map(t),S.description=v.description||"",S.returns=v.returnType||"",v.hidden!=null&&(S.hidden=v.hidden),v.preview&&(S.preview=v.preview),v.deprecated&&(S.deprecated=v.deprecationReason),v.sourceCodeUri&&(S.sourceCodeUri=v.sourceCodeUri),S},i={},r=$jscomp.makeIterator(e.algorithms||[]),u=r.next();!u.done;u=r.next()){var d=u.value,c=d.name.replace(/^algorithms\//,"");i[c]=n(d)}return i},ee.rpc_convert.DEFAULT_PROJECT="earthengine-legacy",ee.rpc_convert.PUBLIC_PROJECT="earthengine-public",ee.rpc_convert.PROJECT_ID_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/.+/,ee.rpc_convert.CLOUD_ASSET_ID_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/assets\/(.*)$/,ee.rpc_convert.CLOUD_ASSET_ROOT_RE=/^projects\/((?:\w+(?:[\w\-]+\.[\w\-]+)*?\.\w+:)?[a-z][a-z0-9\-]{4,28}[a-z0-9])\/assets\/?$/,ee.rpc_convert.projectIdFromPath=function(e){var t=ee.rpc_convert.PROJECT_ID_RE.exec(e);return t?t[1]:ee.rpc_convert.DEFAULT_PROJECT},ee.rpc_convert.projectParentFromPath=function(e){return"projects/"+ee.rpc_convert.projectIdFromPath(e)},ee.rpc_convert.assetIdToAssetName=function(e){return ee.rpc_convert.CLOUD_ASSET_ID_RE.exec(e)?e:/^(users|projects)\/.*/.exec(e)?"projects/"+ee.rpc_convert.DEFAULT_PROJECT+"/assets/"+e:"projects/"+ee.rpc_convert.PUBLIC_PROJECT+"/assets/"+e},ee.rpc_convert.assetNameToAssetId=function(e){var t=e.split("/"),n=function(i){return[ee.rpc_convert.DEFAULT_PROJECT,ee.rpc_convert.PUBLIC_PROJECT].includes(i)};return t[0]==="projects"&&t[2]==="assets"&&n(t[1])?t.slice(3).join("/"):e},ee.rpc_convert.assetTypeForCreate=function(e){switch(e){case"ImageCollection":return"IMAGE_COLLECTION";case"Folder":return"FOLDER";default:return e}},ee.rpc_convert.listAssetsToGetList=function(e){return(e.assets||[]).map(ee.rpc_convert.assetToLegacyResult)},ee.rpc_convert.listImagesToGetList=function(e){return(e.images||[]).map(ee.rpc_convert.imageToLegacyResult)},ee.rpc_convert.assetTypeToLegacyAssetType=function(e){switch(e){case"ALGORITHM":return"Algorithm";case"FOLDER":return"Folder";case"IMAGE":return"Image";case"IMAGE_COLLECTION":return"ImageCollection";case"TABLE":return"Table";case"CLASSIFIER":return"Classifier";case"DATA_MAPPING_SERVICE":return"DmsAsset";default:return"Unknown"}},ee.rpc_convert.legacyAssetTypeToAssetType=function(e){switch(e){case"Algorithm":return"ALGORITHM";case"Folder":return"FOLDER";case"Image":return"IMAGE";case"ImageCollection":return"IMAGE_COLLECTION";case"Table":return"TABLE";default:return"UNKNOWN"}},ee.rpc_convert.assetToLegacyResult=function(e){var t=ee.rpc_convert.makeLegacyAsset_(ee.rpc_convert.assetTypeToLegacyAssetType(e.type),e.name),n=Object.assign({},e.properties||{});return e.sizeBytes&&(n["system:asset_size"]=Number(e.sizeBytes)),e.startTime&&(n["system:time_start"]=Date.parse(e.startTime)),e.endTime&&(n["system:time_end"]=Date.parse(e.endTime)),e.geometry&&(n["system:footprint"]=e.geometry),typeof e.title=="string"&&(n["system:title"]=e.title),typeof e.description=="string"&&(n["system:description"]=e.description),e.updateTime&&(t.version=1e3*Date.parse(e.updateTime)),t.properties=n,e.bands&&(t.bands=e.bands.map(function(i){var r={id:i.id,crs:i.grid.crsCode,dimensions:void 0,crs_transform:void 0};if(i.grid){if(i.grid.affineTransform!=null){var u=i.grid.affineTransform;r.crs_transform=[u.scaleX||0,u.shearX||0,u.translateX||0,u.shearY||0,u.scaleY||0,u.translateY||0]}i.grid.dimensions!=null&&(r.dimensions=[i.grid.dimensions.width,i.grid.dimensions.height])}if(i.dataType){var d={type:"PixelType"};d.precision=(i.dataType.precision||"").toLowerCase(),i.dataType.range&&(d.min=i.dataType.range.min||0,d.max=i.dataType.range.max),r.data_type=d}return r})),e.dmsAssetLocation&&(t.dmsAssetLocation=e.dmsAssetLocation),t},ee.rpc_convert.legacyPropertiesToAssetUpdate=function(e){var t=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset,n=function(c){return new Date(Number(c)).toISOString()},i=function(c){return c===null?module$exports$eeapiclient$domain_object.NULL_VALUE:void 0},r=Object.assign({},e),u,d=function(c){return u=r[c],delete r[c],u};return d("system:asset_size")!==void 0&&(t.sizeBytes=i(u)||String(u)),d("system:time_start")!==void 0&&(t.startTime=i(u)||n(u)),d("system:time_end")!==void 0&&(t.endTime=i(u)||n(u)),d("system:footprint")!==void 0&&(t.geometry=i(u)||u),d("system:title"),typeof u!="string"&&u!==null||r.title!=null||(r.title=i(u)||u),d("system:description"),typeof u!="string"&&u!==null||r.description!=null||(r.description=i(u)||u),Object.entries(r).forEach(function(c){var v=$jscomp.makeIterator(c),S=v.next().value,C=v.next().value;r[S]=i(C)||C}),t.properties=r,t},ee.rpc_convert.imageToLegacyResult=function(e){return ee.rpc_convert.makeLegacyAsset_("Image",e.name)},ee.rpc_convert.makeLegacyAsset_=function(e,t){var n={};return n.type=e,t!=null&&(n.id=ee.rpc_convert.assetNameToAssetId(t)),n},ee.rpc_convert.getListToListImages=function(e){var t={},n=function(d){return new Date(d).toISOString()};e.num&&(t.pageSize=e.num),e.starttime&&(t.startTime=n(e.starttime)),e.endtime&&(t.endTime=n(e.endtime)),e.bbox&&(t.region=ee.rpc_convert.boundingBoxToGeoJson(e.bbox)),e.region&&(t.region=e.region),e.bbox&&e.region&&console.warn("Multiple request parameters converted to region");for(var i="id num starttime endtime bbox region".split(" "),r=$jscomp.makeIterator(Object.keys(e).filter(function(d){return!i.includes(d)})),u=r.next();!u.done;u=r.next())console.warn("Unrecognized key "+u.value+" ignored");return t.fields="assets(type,path)",t},ee.rpc_convert.boundingBoxToGeoJson=function(e){return'{"type":"Polygon","coordinates":[[['+[[0,1],[2,1],[2,3],[0,3],[0,1]].map(function(t){return e[t[0]]+","+e[t[1]]}).join("],[")+"]]]}"},ee.rpc_convert.iamPolicyToAcl=function(e){var t={};(e.bindings||[]).forEach(function(c){t[c.role]=c.members});var n=new Set,i=function(c){var v=c.replace(/^group:|^user:|^serviceAccount:/,"");return c.startsWith("group:")&&n.add(v),v},r=t["roles/viewer"]||[],u=r.filter(function(c){return c!=="allUsers"}),d={owners:(t["roles/owner"]||[]).map(i),writers:(t["roles/editor"]||[]).map(i),readers:u.map(i)};return 0<n.size&&(d.groups=n),r.length!=u.length&&(d.all_users_can_read=!0),d},ee.rpc_convert.aclToIamPolicy=function(e){var t=function(d){return e.groups&&e.groups.has(d)},n=function(d){return d.match(/[@|\.]gserviceaccount\.com$/)},i=function(d){return(e[d]||[]).map(function(c){var v="user:";return t(c)?v="group:":n(c)&&(v="serviceAccount:"),v+c})},r=e.all_users_can_read?["allUsers"]:[],u=[{role:"roles/owner",members:i("owners")},{role:"roles/viewer",members:i("readers").concat(r)},{role:"roles/editor",members:i("writers")}].map(function(d){return new module$exports$eeapiclient$ee_api_client.Binding(d)});return new module$exports$eeapiclient$ee_api_client.Policy({bindings:u.filter(function(d){return d.members.length}),etag:null})},ee.rpc_convert.taskIdToOperationName=function(e){return"projects/"+ee.rpc_convert.operationNameToProject(e)+"/operations/"+ee.rpc_convert.operationNameToTaskId(e)},ee.rpc_convert.operationNameToTaskId=function(e){var t=/^.*operations\/(.*)$/.exec(e);return t?t[1]:e},ee.rpc_convert.operationNameToProject=function(e){var t=/^projects\/(.+)\/operations\/.+$/.exec(e);return t?t[1]:ee.rpc_convert.DEFAULT_PROJECT},ee.rpc_convert.operationToTask=function(e){var t={},n=function(u,d){d!=null&&(t[u]=Date.parse(d))},i=function(u){switch(u){case"PENDING":return"READY";case"RUNNING":return"RUNNING";case"CANCELLING":return"CANCEL_REQUESTED";case"SUCCEEDED":return"COMPLETED";case"CANCELLED":return"CANCELLED";case"FAILED":return"FAILED";default:return"UNKNOWN"}},r=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.OperationMetadata,e.metadata||{});return r.description!=null&&(t.description=r.description),r.state!=null&&(t.state=i(r.state)),n("creation_timestamp_ms",r.createTime),n("update_timestamp_ms",r.updateTime),n("start_timestamp_ms",r.startTime),t.attempt=r.attempt,e.done&&e.error!=null&&(t.error_message=e.error.message),e.name!=null&&(t.id=ee.rpc_convert.operationNameToTaskId(e.name),t.name=e.name),t.task_type=r.type||"UNKNOWN",t.output_url=r.destinationUris,t.source_url=r.scriptUri,t},ee.rpc_convert.operationToProcessingResponse=function(e){var t={started:"OK"};return e.name&&(t.taskId=ee.rpc_convert.operationNameToTaskId(e.name),t.name=e.name),e.error&&(t.note=e.error.message),t},ee.rpc_convert.sourcePathsToUris=function(e){return e.primaryPath?[e.primaryPath].concat($jscomp.arrayFromIterable(e.additionalPaths||[])):null},ee.rpc_convert.toImageManifest=function(e){var t=function(c){var v=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageSource,c);return v.uris=ee.rpc_convert.sourcePathsToUris(c),v},n=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageManifest,e);if(n.name=ee.rpc_convert.assetIdToAssetName(e.id),n.tilesets=(e.tilesets||[]).map(function(c){var v=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Tileset,c);return v.sources=(c.sources||[]).map(t),v}),n.bands=(e.bands||[]).map(function(c){var v=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TilesetBand,c);return v.missingData=ee.rpc_convert.toOnePlatformMissingData(c.missingData),v}),n.missingData=ee.rpc_convert.toOnePlatformMissingData(e.missingData),n.maskBands=module$contents$goog$array_flatten((e.tilesets||[]).map(ee.rpc_convert.toOnePlatformMaskBands)),n.pyramidingPolicy=e.pyramidingPolicy||null,e.properties){var i=Object.assign({},e.properties),r=function(c){return new Date(Number(c)).toISOString()},u,d=function(c){return u=i[c],delete i[c],u};d("system:time_start")&&(n.startTime=r(u)),d("system:time_end")&&(n.endTime=r(u)),n.properties=i}return n},ee.rpc_convert.toOnePlatformMaskBands=function(e){var t=[];if(!Array.isArray(e.fileBands))return t;var n=function(i){var r=[];return i!=null&&Array.isArray(i.bandId)&&(r=i.bandId.map(function(u){return u||""})),new module$exports$eeapiclient$ee_api_client.TilesetMaskBand({tilesetId:e.id||"",bandIds:r})};return e.fileBands.forEach(function(i){i.maskForAllBands?t.push(n(null)):i.maskForBands!=null&&t.push(n(i.maskForBands))}),t},ee.rpc_convert.toTableManifest=function(e){var t=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableManifest,e);if(t.name=ee.rpc_convert.assetIdToAssetName(e.id),t.sources=(e.sources||[]).map(function(d){var c=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableSource,d);return c.uris=ee.rpc_convert.sourcePathsToUris(d),d.maxError&&(c.maxErrorMeters=d.maxError),c}),e.properties){var n=Object.assign({},e.properties),i=function(d){return new Date(Number(d)).toISOString()},r,u=function(d){return r=n[d],delete n[d],r};u("system:time_start")&&(t.startTime=i(r)),u("system:time_end")&&(t.endTime=i(r)),t.properties=n}return t},ee.rpc_convert.toOnePlatformMissingData=function(e){if(e==null)return null;var t=new module$exports$eeapiclient$ee_api_client.MissingData({values:[]});return e.value!=null&&typeof e.value=="number"&&t.values.push(e.value),Array.isArray(e.values)&&e.values.map(function(n){typeof n=="number"&&t.values.push(n)}),module$contents$goog$array_isEmpty(t.values)?null:t},ee.rpc_convert.folderQuotaToAssetQuotaDetails=function(e){var t=function(n){return Number(n||0)};return{asset_count:{usage:t(e.assetCount),limit:t(e.maxAssetCount)},asset_size:{usage:t(e.sizeBytes),limit:t(e.maxSizeBytes)}}},goog.crypt={},goog.crypt.Hash=function(){this.blockSize=-1},goog.crypt.Md5=function(){goog.crypt.Hash.call(this),this.blockSize=64,this.chain_=Array(4),this.block_=Array(this.blockSize),this.totalLength_=this.blockLength_=0,this.reset()},goog.inherits(goog.crypt.Md5,goog.crypt.Hash),goog.crypt.Md5.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.totalLength_=this.blockLength_=0},goog.crypt.Md5.prototype.compress_=function(e,t){t||(t=0);var n=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)n[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)n[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var r=this.chain_[0],u=this.chain_[1],d=this.chain_[2],c=this.chain_[3],v=0;v=r+(c^u&(d^c))+n[0]+3614090360&4294967295,r=u+(v<<7&4294967295|v>>>25),v=c+(d^r&(u^d))+n[1]+3905402710&4294967295,c=r+(v<<12&4294967295|v>>>20),v=d+(u^c&(r^u))+n[2]+606105819&4294967295,d=c+(v<<17&4294967295|v>>>15),v=u+(r^d&(c^r))+n[3]+3250441966&4294967295,u=d+(v<<22&4294967295|v>>>10),v=r+(c^u&(d^c))+n[4]+4118548399&4294967295,r=u+(v<<7&4294967295|v>>>25),v=c+(d^r&(u^d))+n[5]+1200080426&4294967295,c=r+(v<<12&4294967295|v>>>20),v=d+(u^c&(r^u))+n[6]+2821735955&4294967295,d=c+(v<<17&4294967295|v>>>15),v=u+(r^d&(c^r))+n[7]+4249261313&4294967295,u=d+(v<<22&4294967295|v>>>10),v=r+(c^u&(d^c))+n[8]+1770035416&4294967295,r=u+(v<<7&4294967295|v>>>25),v=c+(d^r&(u^d))+n[9]+2336552879&4294967295,c=r+(v<<12&4294967295|v>>>20),v=d+(u^c&(r^u))+n[10]+4294925233&4294967295,d=c+(v<<17&4294967295|v>>>15),v=u+(r^d&(c^r))+n[11]+2304563134&4294967295,u=d+(v<<22&4294967295|v>>>10),v=r+(c^u&(d^c))+n[12]+1804603682&4294967295,r=u+(v<<7&4294967295|v>>>25),v=c+(d^r&(u^d))+n[13]+4254626195&4294967295,c=r+(v<<12&4294967295|v>>>20),v=d+(u^c&(r^u))+n[14]+2792965006&4294967295,d=c+(v<<17&4294967295|v>>>15),v=u+(r^d&(c^r))+n[15]+1236535329&4294967295,u=d+(v<<22&4294967295|v>>>10),v=r+(d^c&(u^d))+n[1]+4129170786&4294967295,r=u+(v<<5&4294967295|v>>>27),v=c+(u^d&(r^u))+n[6]+3225465664&4294967295,c=r+(v<<9&4294967295|v>>>23),v=d+(r^u&(c^r))+n[11]+643717713&4294967295,d=c+(v<<14&4294967295|v>>>18),v=u+(c^r&(d^c))+n[0]+3921069994&4294967295,u=d+(v<<20&4294967295|v>>>12),v=r+(d^c&(u^d))+n[5]+3593408605&4294967295,r=u+(v<<5&4294967295|v>>>27),v=c+(u^d&(r^u))+n[10]+38016083&4294967295,c=r+(v<<9&4294967295|v>>>23),v=d+(r^u&(c^r))+n[15]+3634488961&4294967295,d=c+(v<<14&4294967295|v>>>18),v=u+(c^r&(d^c))+n[4]+3889429448&4294967295,u=d+(v<<20&4294967295|v>>>12),v=r+(d^c&(u^d))+n[9]+568446438&4294967295,r=u+(v<<5&4294967295|v>>>27),v=c+(u^d&(r^u))+n[14]+3275163606&4294967295,c=r+(v<<9&4294967295|v>>>23),v=d+(r^u&(c^r))+n[3]+4107603335&4294967295,d=c+(v<<14&4294967295|v>>>18),v=u+(c^r&(d^c))+n[8]+1163531501&4294967295,u=d+(v<<20&4294967295|v>>>12),v=r+(d^c&(u^d))+n[13]+2850285829&4294967295,r=u+(v<<5&4294967295|v>>>27),v=c+(u^d&(r^u))+n[2]+4243563512&4294967295,c=r+(v<<9&4294967295|v>>>23),v=d+(r^u&(c^r))+n[7]+1735328473&4294967295,d=c+(v<<14&4294967295|v>>>18),v=u+(c^r&(d^c))+n[12]+2368359562&4294967295,u=d+(v<<20&4294967295|v>>>12),v=r+(u^d^c)+n[5]+4294588738&4294967295,r=u+(v<<4&4294967295|v>>>28),v=c+(r^u^d)+n[8]+2272392833&4294967295,c=r+(v<<11&4294967295|v>>>21),v=d+(c^r^u)+n[11]+1839030562&4294967295,d=c+(v<<16&4294967295|v>>>16),v=u+(d^c^r)+n[14]+4259657740&4294967295,u=d+(v<<23&4294967295|v>>>9),v=r+(u^d^c)+n[1]+2763975236&4294967295,r=u+(v<<4&4294967295|v>>>28),v=c+(r^u^d)+n[4]+1272893353&4294967295,c=r+(v<<11&4294967295|v>>>21),v=d+(c^r^u)+n[7]+4139469664&4294967295,d=c+(v<<16&4294967295|v>>>16),v=u+(d^c^r)+n[10]+3200236656&4294967295,u=d+(v<<23&4294967295|v>>>9),v=r+(u^d^c)+n[13]+681279174&4294967295,r=u+(v<<4&4294967295|v>>>28),v=c+(r^u^d)+n[0]+3936430074&4294967295,c=r+(v<<11&4294967295|v>>>21),v=d+(c^r^u)+n[3]+3572445317&4294967295,d=c+(v<<16&4294967295|v>>>16),v=u+(d^c^r)+n[6]+76029189&4294967295,u=d+(v<<23&4294967295|v>>>9),v=r+(u^d^c)+n[9]+3654602809&4294967295,r=u+(v<<4&4294967295|v>>>28),v=c+(r^u^d)+n[12]+3873151461&4294967295,c=r+(v<<11&4294967295|v>>>21),v=d+(c^r^u)+n[15]+530742520&4294967295,d=c+(v<<16&4294967295|v>>>16),v=u+(d^c^r)+n[2]+3299628645&4294967295,u=d+(v<<23&4294967295|v>>>9),v=r+(d^(u|~c))+n[0]+4096336452&4294967295,r=u+(v<<6&4294967295|v>>>26),v=c+(u^(r|~d))+n[7]+1126891415&4294967295,c=r+(v<<10&4294967295|v>>>22),v=d+(r^(c|~u))+n[14]+2878612391&4294967295,d=c+(v<<15&4294967295|v>>>17),v=u+(c^(d|~r))+n[5]+4237533241&4294967295,u=d+(v<<21&4294967295|v>>>11),v=r+(d^(u|~c))+n[12]+1700485571&4294967295,r=u+(v<<6&4294967295|v>>>26),v=c+(u^(r|~d))+n[3]+2399980690&4294967295,c=r+(v<<10&4294967295|v>>>22),v=d+(r^(c|~u))+n[10]+4293915773&4294967295,d=c+(v<<15&4294967295|v>>>17),v=u+(c^(d|~r))+n[1]+2240044497&4294967295,u=d+(v<<21&4294967295|v>>>11),v=r+(d^(u|~c))+n[8]+1873313359&4294967295,r=u+(v<<6&4294967295|v>>>26),v=c+(u^(r|~d))+n[15]+4264355552&4294967295,c=r+(v<<10&4294967295|v>>>22),v=d+(r^(c|~u))+n[6]+2734768916&4294967295,d=c+(v<<15&4294967295|v>>>17),v=u+(c^(d|~r))+n[13]+1309151649&4294967295,u=d+(v<<21&4294967295|v>>>11),v=r+(d^(u|~c))+n[4]+4149444226&4294967295,r=u+(v<<6&4294967295|v>>>26),v=c+(u^(r|~d))+n[11]+3174756917&4294967295,c=r+(v<<10&4294967295|v>>>22),v=d+(r^(c|~u))+n[2]+718787259&4294967295,d=c+(v<<15&4294967295|v>>>17),v=u+(c^(d|~r))+n[9]+3951481745&4294967295,this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+(d+(v<<21&4294967295|v>>>11))&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295},goog.crypt.Md5.prototype.update=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.block_,r=this.blockLength_,u=0;u<t;){if(r==0)for(;u<=n;)this.compress_(e,u),u+=this.blockSize;if(typeof e=="string"){for(;u<t;)if(i[r++]=e.charCodeAt(u++),r==this.blockSize){this.compress_(i),r=0;break}}else for(;u<t;)if(i[r++]=e[u++],r==this.blockSize){this.compress_(i),r=0;break}}this.blockLength_=r,this.totalLength_+=t},goog.crypt.Md5.prototype.digest=function(){var e=Array((56>this.blockLength_?this.blockSize:2*this.blockSize)-this.blockLength_);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.totalLength_;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;this.update(e);var i=Array(16),r=0;for(t=0;4>t;++t)for(var u=0;32>u;u+=8)i[r++]=this.chain_[t]>>>u&255;return i},ee.Serializer=function(e){this.HASH_KEY="__ee_hash__",this.isCompound_=e!==!1,this.scope_=[],this.encoded_={},this.withHashes_=[],this.hashes_=new WeakMap,this.unboundName=void 0},goog.exportSymbol("ee.Serializer",ee.Serializer),ee.Serializer.jsonSerializer_=new goog.json.Serializer,ee.Serializer.hash_=new goog.crypt.Md5,ee.Serializer.encode=function(e,t){return new ee.Serializer(t!==void 0?t:!0).encode_(e)},goog.exportSymbol("ee.Serializer.encode",ee.Serializer.encode),ee.Serializer.toJSON=function(e){return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(e))},goog.exportSymbol("ee.Serializer.toJSON",ee.Serializer.toJSON),ee.Serializer.toReadableJSON=function(e){return ee.Serializer.stringify(ee.Serializer.encode(e,!1))},goog.exportSymbol("ee.Serializer.toReadableJSON",ee.Serializer.toReadableJSON),ee.Serializer.stringify=function(e){return"JSON"in goog.global?goog.global.JSON.stringify(e,null,"  "):ee.Serializer.jsonSerializer_.serialize(e)},ee.Serializer.prototype.encode_=function(e){var t=this.encodeValue_(e);return this.isCompound_&&(t=goog.isObject(t)&&t.type=="ValueRef"&&this.scope_.length==1?this.scope_[0][1]:{type:"CompoundValue",scope:this.scope_,value:t},this.scope_=[],module$contents$goog$array_forEach(this.withHashes_,goog.bind(function(n){delete n[this.HASH_KEY]},this)),this.withHashes_=[],this.encoded_={}),t},ee.Serializer.prototype.encodeValue_=function(e){if(e===void 0)throw Error("Can't encode an undefined value.");var t=goog.isObject(e)?e[this.HASH_KEY]:null;if(this.isCompound_&&t!=null&&this.encoded_[t])return{type:"ValueRef",value:this.encoded_[t]};if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(goog.isDateLike(e))return{type:"Invocation",functionName:"Date",arguments:{value:Math.floor(e.getTime())}};if(e instanceof ee.Encodable){var n=e.encode(goog.bind(this.encodeValue_,this));if(!(Array.isArray(n)||goog.isObject(n)&&n.type!="ArgumentRef"))return n}else if(Array.isArray(e))n=module$contents$goog$array_map(e,function(u){return this.encodeValue_(u)},this);else if(goog.isObject(e)&&typeof e!="function"){var i=module$contents$goog$object_map(e,function(u){if(typeof u!="function")return this.encodeValue_(u)},this);module$contents$goog$object_remove(i,this.HASH_KEY),n={type:"Dictionary",value:i}}else throw Error("Can't encode object: "+e);if(this.isCompound_){if(t=ee.Serializer.computeHash(n),this.encoded_[t])var r=this.encoded_[t];else r=String(this.scope_.length),this.scope_.push([r,n]),this.encoded_[t]=r;return e[this.HASH_KEY]=t,this.withHashes_.push(e),{type:"ValueRef",value:r}}return n},ee.Serializer.computeHash=function(e){return ee.Serializer.hash_.reset(),ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(e)),ee.Serializer.hash_.digest().toString()},ee.Serializer.encodeCloudApi=function(e){return module$contents$eeapiclient$domain_object_serialize(ee.Serializer.encodeCloudApiExpression(e))},goog.exportSymbol("ee.Serializer.encodeCloudApi",ee.Serializer.encodeCloudApi),ee.Serializer.encodeCloudApiExpression=function(e,t){var n=new ee.Serializer(!0);return n.unboundName=t,n.encodeForCloudApi_(e)},ee.Serializer.encodeCloudApiPretty=function(e){var t=new ee.Serializer(!1).encodeForCloudApi_(e),n=t.values,i=function(r){if(!goog.isObject(r))return r;for(var u=Array.isArray(r)?[]:{},d=r instanceof Object.getPrototypeOf(module$exports$eeapiclient$ee_api_client.ValueNode),c=$jscomp.makeIterator(Object.entries(d?r.Serializable$values:r)),v=c.next();!v.done;v=c.next()){var S=$jscomp.makeIterator(v.value),C=S.next().value,O=S.next().value;d?O!==null&&(u[C]=C==="functionDefinitionValue"&&O.body!=null?{argumentNames:O.argumentNames,body:i(n[O.body])}:C==="functionInvocationValue"&&O.functionReference!=null?{arguments:module$contents$goog$object_map(O.arguments,i),functionReference:i(n[O.functionReference])}:C==="constantValue"?O===module$exports$eeapiclient$domain_object.NULL_VALUE?null:O:i(O)):u[C]=i(O)}return u};return t.result&&i(n[t.result])},goog.exportSymbol("ee.Serializer.encodeCloudApiPretty",ee.Serializer.encodeCloudApiPretty),ee.Serializer.toCloudApiJSON=function(e){return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encodeCloudApi(e))},goog.exportSymbol("ee.Serializer.toCloudApiJSON",ee.Serializer.toCloudApiJSON),ee.Serializer.toReadableCloudApiJSON=function(e){return ee.Serializer.stringify(ee.Serializer.encodeCloudApiPretty(e))},goog.exportSymbol("ee.Serializer.toReadableCloudApiJSON",ee.Serializer.toReadableCloudApiJSON),ee.Serializer.prototype.encodeForCloudApi_=function(e){try{var t=this.makeReference(e);return new ExpressionOptimizer(t,this.scope_,this.isCompound_).optimize()}finally{this.hashes_=new WeakMap,this.encoded_={},this.scope_=[]}},ee.Serializer.prototype.makeReference=function(e){var t=this,n=function(r){var u=ee.Serializer.computeHash(r);if(goog.isObject(e)&&t.hashes_.set(e,u),t.encoded_[u])return t.encoded_[u];var d=String(t.scope_.length);return t.scope_.push([d,r]),t.encoded_[u]=d};if(goog.isObject(e)&&this.encoded_[this.hashes_.get(e)])return this.encoded_[this.hashes_.get(e)];if(e===null||typeof e=="boolean"||typeof e=="string"||typeof e=="number")return n(ee.rpc_node.constant(e));if(goog.isDateLike(e))return n(ee.rpc_node.functionByName("Date",{value:ee.rpc_node.constant(Math.floor(e.getTime()))}));if(e instanceof ee.Encodable)return n(e.encodeCloudValue(this));if(Array.isArray(e))return n(ee.rpc_node.array(e.map(function(r){return ee.rpc_node.reference(t.makeReference(r))})));if(goog.isObject(e)&&typeof e!="function"){var i={};return Object.keys(e).sort().forEach(function(r){i[r]=ee.rpc_node.reference(t.makeReference(e[r]))}),n(ee.rpc_node.dictionary(i))}throw Error("Can't encode object: "+e)};var ExpressionOptimizer=function(e,t,n){var i=this;this.rootReference=e,this.values={},t.forEach(function(r){return i.values[r[0]]=r[1]}),this.referenceCounts=n?this.countReferences():null,this.optimizedValues={},this.referenceMap={},this.nextMappedRef=0};ExpressionOptimizer.prototype.optimize=function(){var e=this.optimizeReference(this.rootReference);return new module$exports$eeapiclient$ee_api_client.Expression({result:e,values:this.optimizedValues})},ExpressionOptimizer.prototype.optimizeReference=function(e){if(e in this.referenceMap)return this.referenceMap[e];var t=String(this.nextMappedRef++);return this.referenceMap[e]=t,this.optimizedValues[t]=this.optimizeValue(this.values[e],0),t},ExpressionOptimizer.prototype.optimizeValue=function(e,t){var n=this,i=function(Re){return Re.constantValue!==null},r=function(Re){return Re===module$exports$eeapiclient$domain_object.NULL_VALUE?null:Re};if(i(e)||e.integerValue!=null||e.bytesValue!=null||e.argumentReference!=null)return e;if(e.valueReference!=null){var u=this.values[e.valueReference];return this.referenceCounts===null||50>t&&this.referenceCounts[e.valueReference]===1?this.optimizeValue(u,t):ExpressionOptimizer.isAlwaysLiftable(u)?u:ee.rpc_node.reference(this.optimizeReference(e.valueReference))}if(e.arrayValue!=null){var d=e.arrayValue.values.map(function(Re){return n.optimizeValue(Re,t+3)});return d.every(i)?ee.rpc_node.constant(d.map(function(Re){return r(Re.constantValue)})):ee.rpc_node.array(d)}if(e.dictionaryValue!=null){for(var c={},v={},S=$jscomp.makeIterator(Object.entries(e.dictionaryValue.values||{})),C=S.next();!C.done;C=S.next()){var O=$jscomp.makeIterator(C.value),R=O.next().value,H=O.next().value;c[R]=this.optimizeValue(H,t+3),v!==null&&i(c[R])?v[R]=r(c[R].constantValue):v=null}return v!==null?ee.rpc_node.constant(v):ee.rpc_node.dictionary(c)}if(e.functionDefinitionValue!=null){var K=e.functionDefinitionValue;return ee.rpc_node.functionDefinition(K.argumentNames||[],this.optimizeReference(K.body||""))}if(e.functionInvocationValue!=null){for(var le=e.functionInvocationValue,fe={},ye=$jscomp.makeIterator(Object.keys(le.arguments||{})),xe=ye.next();!xe.done;xe=ye.next()){var Pe=xe.value;fe[Pe]=this.optimizeValue(le.arguments[Pe],t+3)}return le.functionName?ee.rpc_node.functionByName(le.functionName,fe):ee.rpc_node.functionByReference(this.optimizeReference(le.functionReference||""),fe)}throw Error("Can't optimize value: "+e)},ExpressionOptimizer.isAlwaysLiftable=function(e){var t=e.constantValue;return t!==null?t===module$exports$eeapiclient$domain_object.NULL_VALUE||typeof t=="number"||typeof t=="boolean":e.argumentReference!=null},ExpressionOptimizer.prototype.countReferences=function(){var e=this,t={},n=function(r){t[r]?t[r]++:(t[r]=1,i(e.values[r]))},i=function(r){if(r.arrayValue!=null)r.arrayValue.values.forEach(i);else if(r.dictionaryValue!=null)Object.values(r.dictionaryValue.values).forEach(i);else if(r.functionDefinitionValue!=null)n(r.functionDefinitionValue.body);else if(r.functionInvocationValue!=null){var u=r.functionInvocationValue;u.functionReference!=null&&n(u.functionReference),Object.values(u.arguments).forEach(i)}else r.valueReference!=null&&n(r.valueReference)};return n(this.rootReference),t},ee.rpc_convert_batch={},ee.rpc_convert_batch.ExportDestination={DRIVE:"DRIVE",GCS:"GOOGLE_CLOUD_STORAGE",ASSET:"ASSET",DMS:"DMS"},ee.rpc_convert_batch.taskToExportImageRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=new module$exports$eeapiclient$ee_api_client.ExportImageRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),fileExportOptions:null,assetExportOptions:null,grid:null,maxPixels:stringOrNull_(e.maxPixels),requestId:stringOrNull_(e.id),maxWorkerCount:numberOrNull_(e.maxWorkers)}),n=ee.rpc_convert_batch.guessDestination_(e);switch(n){case ee.rpc_convert_batch.ExportDestination.GCS:case ee.rpc_convert_batch.ExportDestination.DRIVE:t.fileExportOptions=ee.rpc_convert_batch.buildImageFileExportOptions_(e,n);break;case ee.rpc_convert_batch.ExportDestination.ASSET:t.assetExportOptions=ee.rpc_convert_batch.buildImageAssetExportOptions_(e);break;default:throw Error('Export destination "'+n+'" unknown')}return t},ee.rpc_convert_batch.taskToExportTableRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=e.selectors||null;t!=null&&typeof t=="string"&&(t=t.split(","));var n=new module$exports$eeapiclient$ee_api_client.ExportTableRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),fileExportOptions:null,assetExportOptions:null,dmsExportOptions:null,selectors:t,maxErrorMeters:numberOrNull_(e.maxErrorMeters),requestId:stringOrNull_(e.id),maxVertices:numberOrNull_(e.maxVertices),maxWorkerCount:numberOrNull_(e.maxWorkers)}),i=ee.rpc_convert_batch.guessDestination_(e);switch(i){case ee.rpc_convert_batch.ExportDestination.GCS:case ee.rpc_convert_batch.ExportDestination.DRIVE:n.fileExportOptions=ee.rpc_convert_batch.buildTableFileExportOptions_(e,i);break;case ee.rpc_convert_batch.ExportDestination.ASSET:n.assetExportOptions=ee.rpc_convert_batch.buildTableAssetExportOptions_(e);break;case ee.rpc_convert_batch.ExportDestination.DMS:n.dmsExportOptions=ee.rpc_convert_batch.buildDmsAssetExportOptions_(e);break;default:throw Error('Export destination "'+i+'" unknown')}return n},ee.rpc_convert_batch.taskToExportVideoRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=new module$exports$eeapiclient$ee_api_client.ExportVideoRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),videoOptions:ee.rpc_convert_batch.buildVideoOptions_(e),fileExportOptions:null,requestId:stringOrNull_(e.id),maxWorkerCount:numberOrNull_(e.maxWorkers)});return t.fileExportOptions=ee.rpc_convert_batch.buildVideoFileExportOptions_(e,ee.rpc_convert_batch.guessDestination_(e)),t},ee.rpc_convert_batch.taskToExportMapRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);return new module$exports$eeapiclient$ee_api_client.ExportMapRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),tileOptions:ee.rpc_convert_batch.buildTileOptions_(e),tileExportOptions:ee.rpc_convert_batch.buildImageFileExportOptions_(e,ee.rpc_convert_batch.ExportDestination.GCS),requestId:stringOrNull_(e.id),maxWorkerCount:numberOrNull_(e.maxWorkers)})},ee.rpc_convert_batch.taskToExportVideoMapRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);return new module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),videoOptions:ee.rpc_convert_batch.buildVideoMapOptions_(e),tileOptions:ee.rpc_convert_batch.buildTileOptions_(e),tileExportOptions:ee.rpc_convert_batch.buildVideoFileExportOptions_(e,ee.rpc_convert_batch.ExportDestination.GCS),requestId:stringOrNull_(e.id),version:stringOrNull_(e.version),maxWorkerCount:numberOrNull_(e.maxWorkers)})},ee.rpc_convert_batch.taskToExportClassifierRequest=function(e){if(e.element==null)throw Error('"element" not found in params '+e);var t=ee.rpc_convert_batch.guessDestination_(e);if(t!=ee.rpc_convert_batch.ExportDestination.ASSET)throw Error('Export destination "'+t+'" unknown');return new module$exports$eeapiclient$ee_api_client.ExportClassifierRequest({expression:ee.Serializer.encodeCloudApiExpression(e.element),description:stringOrNull_(e.description),requestId:stringOrNull_(e.id),assetExportOptions:new module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e)}),maxWorkerCount:numberOrNull_(e.maxWorkers)})};function stringOrNull_(e){return e!=null?String(e):null}function numberOrNull_(e){return e!=null?Number(e):null}ee.rpc_convert_batch.guessDestination_=function(e){var t=ee.rpc_convert_batch.ExportDestination.DRIVE;return e==null||(e.outputBucket!=null||e.outputPrefix!=null?t=ee.rpc_convert_batch.ExportDestination.GCS:e.assetId!=null?t=ee.rpc_convert_batch.ExportDestination.ASSET:e.dmsName!=null&&(t=ee.rpc_convert_batch.ExportDestination.DMS)),t},ee.rpc_convert_batch.buildGeoTiffFormatOptions_=function(e){if(e.fileDimensions&&e.tiffFileDimensions)throw Error('Export cannot set both "fileDimensions" and "tiffFileDimensions".');var t=e.tiffShardSize||e.shardSize;return new module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions({cloudOptimized:!!e.tiffCloudOptimized,skipEmptyFiles:!(!e.skipEmptyTiles&&!e.tiffSkipEmptyFiles),tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.fileDimensions||e.tiffFileDimensions),tileSize:numberOrNull_(t)})},ee.rpc_convert_batch.buildTfRecordFormatOptions_=function(e){var t=new module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions({compress:!!e.tfrecordCompressed,maxSizeBytes:stringOrNull_(e.tfrecordMaxFileSize),sequenceData:!!e.tfrecordSequenceData,collapseBands:!!e.tfrecordCollapseBands,maxMaskedRatio:numberOrNull_(e.tfrecordMaskedThreshold),defaultValue:numberOrNull_(e.tfrecordDefaultValue),tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.tfrecordPatchDimensions),marginDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.tfrecordKernelSize),tensorDepths:null}),n=e.tfrecordTensorDepths;if(n!=null)if(goog.isObject(n)){var i={};module$contents$goog$object_forEach(n,function(r,u){if(typeof u!="string"||typeof r!="number")throw Error('"tensorDepths" option must be an object of type Object<string, number>');i[u]=r}),t.tensorDepths=i}else throw Error('"tensorDepths" option needs to have the form Object<string, number>.');return t},ee.rpc_convert_batch.buildImageFileExportOptions_=function(e,t){var n=new module$exports$eeapiclient$ee_api_client.ImageFileExportOptions({gcsDestination:null,driveDestination:null,geoTiffOptions:null,tfRecordOptions:null,fileFormat:ee.rpc_convert.fileFormat(e.fileFormat)});return n.fileFormat==="GEO_TIFF"?n.geoTiffOptions=ee.rpc_convert_batch.buildGeoTiffFormatOptions_(e):n.fileFormat==="TF_RECORD_IMAGE"&&(n.tfRecordOptions=ee.rpc_convert_batch.buildTfRecordFormatOptions_(e)),t===ee.rpc_convert_batch.ExportDestination.GCS?n.gcsDestination=ee.rpc_convert_batch.buildGcsDestination_(e):n.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),n},ee.rpc_convert_batch.buildImageAssetExportOptions_=function(e){var t=e.pyramidingPolicy||{};try{t=JSON.parse(t)}catch{}var n="PYRAMIDING_POLICY_UNSPECIFIED";return typeof t=="string"?(n=t,t={}):t[".default"]&&(n=t[".default"],delete t[".default"]),new module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e),pyramidingPolicy:n,pyramidingPolicyOverrides:module$contents$goog$object_isEmpty(t)?null:t,tileSize:numberOrNull_(e.shardSize)})},ee.rpc_convert_batch.buildTableFileExportOptions_=function(e,t){var n=new module$exports$eeapiclient$ee_api_client.TableFileExportOptions({gcsDestination:null,driveDestination:null,fileFormat:ee.rpc_convert.tableFileFormat(e.fileFormat)});return t===ee.rpc_convert_batch.ExportDestination.GCS?n.gcsDestination=ee.rpc_convert_batch.buildGcsDestination_(e):n.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),n},ee.rpc_convert_batch.buildTableAssetExportOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.TableAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(e)})},ee.rpc_convert_batch.buildDmsAssetExportOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions({dmsDestination:ee.rpc_convert_batch.buildDmsDestination_(e),ingestionTimeParameters:ee.rpc_convert_batch.buildDmsIngestionTimeParameters_(e.dmsIngestionTimeParameters)})},ee.rpc_convert_batch.buildVideoFileExportOptions_=function(e,t){var n=new module$exports$eeapiclient$ee_api_client.VideoFileExportOptions({gcsDestination:null,driveDestination:null,fileFormat:"MP4"});return t===ee.rpc_convert_batch.ExportDestination.GCS?n.gcsDestination=ee.rpc_convert_batch.buildGcsDestination_(e):n.driveDestination=ee.rpc_convert_batch.buildDriveDestination_(e),n},ee.rpc_convert_batch.buildVideoOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(e.framesPerSecond),maxFrames:numberOrNull_(e.maxFrames),maxPixelsPerFrame:stringOrNull_(e.maxPixels)})},ee.rpc_convert_batch.buildVideoMapOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(e.framesPerSecond),maxFrames:numberOrNull_(e.maxFrames),maxPixelsPerFrame:null})},ee.rpc_convert_batch.buildTileOptions_=function(e){return new module$exports$eeapiclient$ee_api_client.TileOptions({maxZoom:numberOrNull_(e.maxZoom),scale:numberOrNull_(e.scale),minZoom:numberOrNull_(e.minZoom),skipEmptyTiles:!!e.skipEmptyTiles,mapsApiKey:stringOrNull_(e.mapsApiKey),tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(e.tileDimensions),stride:numberOrNull_(e.stride),zoomSubset:ee.rpc_convert_batch.buildZoomSubset_(numberOrNull_(e.minTimeMachineZoomSubset),numberOrNull_(e.maxTimeMachineZoomSubset))})},ee.rpc_convert_batch.buildZoomSubset_=function(e,t){if(e==null&&t==null)return null;var n=new module$exports$eeapiclient$ee_api_client.ZoomSubset({min:0,max:null});return e!=null&&(n.min=e),n.max=t,n},ee.rpc_convert_batch.buildGridDimensions_=function(e){if(e==null)return null;var t=new module$exports$eeapiclient$ee_api_client.GridDimensions({height:0,width:0});if(typeof e=="string"&&(e.indexOf("x")!==-1?e=e.split("x").map(Number):e.indexOf(",")!==-1&&(e=e.split(",").map(Number))),Array.isArray(e))if(e.length===2)t.height=e[0],t.width=e[1];else if(e.length===1)t.height=e[0],t.width=e[0];else throw Error("Unable to construct grid from dimensions: "+e);else if(typeof e!="number"||isNaN(e))if(goog.isObject(e)&&e.height!=null&&e.width!=null)t.height=e.height,t.width=e.width;else throw Error("Unable to construct grid from dimensions: "+e);else t.height=e,t.width=e;return t},ee.rpc_convert_batch.buildGcsDestination_=function(e){var t=null;return e.writePublicTiles!=null&&(t=e.writePublicTiles?"PUBLIC":"DEFAULT_OBJECT_ACL"),new module$exports$eeapiclient$ee_api_client.GcsDestination({bucket:stringOrNull_(e.outputBucket),filenamePrefix:stringOrNull_(e.outputPrefix),bucketCorsUris:e.bucketCorsUris||null,permissions:t})},ee.rpc_convert_batch.buildDriveDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.DriveDestination({folder:stringOrNull_(e.driveFolder),filenamePrefix:stringOrNull_(e.driveFileNamePrefix)})},ee.rpc_convert_batch.buildEarthEngineDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.EarthEngineDestination({name:ee.rpc_convert.assetIdToAssetName(e.assetId)})},ee.rpc_convert_batch.buildDmsDestination_=function(e){return new module$exports$eeapiclient$ee_api_client.DmsDestination({dmsName:ee.rpc_convert.assetIdToAssetName(e.dmsName)})},ee.rpc_convert_batch.buildDmsIngestionTimeParameters_=function(e){return new module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters({thinningOptions:ee.rpc_convert_batch.buildThinningOptions_(e.thinningOptions),rankingOptions:ee.rpc_convert_batch.buildRankingOptions_(e.rankingOptions)})},ee.rpc_convert_batch.buildThinningOptions_=function(e){return e==null?null:new module$exports$eeapiclient$ee_api_client.ThinningOptions({maxFeaturesPerTile:numberOrNull_(e.maxFeaturesPerTile),thinningStrategy:e.thinningStrategy})},ee.rpc_convert_batch.buildRankingOptions_=function(e){return e==null?null:new module$exports$eeapiclient$ee_api_client.RankingOptions({zOrderRankingRule:ee.rpc_convert_batch.buildRankingRule_(e.zOrderRankingRule),thinningRankingRule:ee.rpc_convert_batch.buildRankingRule_(e.thinningRankingRule)})},ee.rpc_convert_batch.buildRankingRule_=function(e){if(e==null)return null;if(e.rankByOneThingRule&&!Array.isArray(e.rankByOneThingRule))throw Error('Parameter "rankByOneThingRule" should be an array, got '+typeof e.rankByOneThingRule);return new module$exports$eeapiclient$ee_api_client.RankingRule({rankByOneThingRule:(e.rankByOneThingRule||[]).map(ee.rpc_convert_batch.buildRankByOneThingRule_),pseudoRandomTiebreaking:e.pseudoRandomTiebreaking||null})},ee.rpc_convert_batch.buildRankByOneThingRule_=function(e){var t=new module$exports$eeapiclient$ee_api_client.RankByOneThingRule({direction:stringOrNull_(e.direction),rankByAttributeRule:null,rankByMinVisibleLodRule:null,rankByGeometryTypeRule:null,rankByNaturalOrderRule:null});return e.rankByAttributeRule?t.rankByAttributeRule=ee.rpc_convert_batch.buildRankByAttributeRule(e):e.rankByMinVisibleLodRule?t.rankByMinVisibleLodRule=new module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule({}):e.rankByGeometryTypeRule?t.rankByGeometryTypeRule=new module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule({}):e.rankByNaturalOrderRule&&(t.rankByNaturalOrderRule=new module$exports$eeapiclient$ee_api_client.RankByNaturalOrder({})),t},ee.rpc_convert_batch.buildRankByAttributeRule=function(e){return new module$exports$eeapiclient$ee_api_client.RankByAttributeRule({attributeName:stringOrNull_(e.attributeName)})},ee.data={},ee.data.AbstractTaskConfig={},ee.data.AlgorithmsRegistry={},ee.data.AssetList={},ee.data.ClassifierTaskConfig={},ee.data.ImageTaskConfig={},ee.data.MapTaskConfig={},ee.data.TableDmsTaskConfig={},ee.data.TableTaskConfig={},ee.data.VideoMapTaskConfig={},ee.data.VideoTaskConfig={},ee.data.authenticateViaOauth=function(e,t,n,i,r,u){var d=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!u,!1,i||[]);module$contents$ee$apiclient_apiclient.setAuthClient(e,d),e===null?module$contents$ee$apiclient_apiclient.clearAuthToken():module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function(){var c=r||goog.partial(ee.data.authenticateViaPopup,t,n);ee.data.refreshAuthToken(t,n,c)})},goog.exportSymbol("ee.data.authenticateViaOauth",ee.data.authenticateViaOauth),ee.data.authenticate=function(e,t,n,i,r){ee.data.authenticateViaOauth(e,t,n,i,r)},goog.exportSymbol("ee.data.authenticate",ee.data.authenticate),ee.data.authenticateViaPopup=function(e,t){goog.global.gapi.auth.authorize({client_id:module$contents$ee$apiclient_apiclient.getAuthClientId(),immediate:!1,scope:module$contents$ee$apiclient_apiclient.getAuthScopes().join(" ")},goog.partial(module$contents$ee$apiclient_apiclient.handleAuthResult_,e,t))},goog.exportSymbol("ee.data.authenticateViaPopup",ee.data.authenticateViaPopup),ee.data.authenticateViaPrivateKey=function(e,t,n,i,r){if("window"in goog.global)throw Error("Use of private key authentication in the browser is insecure. Consider using OAuth, instead.");var u=module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!r,!r,i||[]);module$contents$ee$apiclient_apiclient.setAuthClient(e.client_email,u);var d=new google.auth.JWT(e.client_email,null,e.private_key,u,null);ee.data.setAuthTokenRefresher(function(c,v){d.authorize(function(S,C){v(S?{error:S}:{access_token:C.access_token,token_type:C.token_type,expires_in:(C.expiry_date-Date.now())/1e3})})}),ee.data.refreshAuthToken(t,n)},goog.exportSymbol("ee.data.authenticateViaPrivateKey",ee.data.authenticateViaPrivateKey),ee.data.setApiKey=module$contents$ee$apiclient_apiclient.setApiKey,ee.data.setProject=module$contents$ee$apiclient_apiclient.setProject,ee.data.getProject=module$contents$ee$apiclient_apiclient.getProject,ee.data.PROFILE_REQUEST_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,ee.data.setExpressionAugmenter=function(e){ee.data.expressionAugmenter_=e||goog.functions.identity},goog.exportSymbol("ee.data.setExpressionAugmenter",ee.data.setExpressionAugmenter),ee.data.expressionAugmenter_=goog.functions.identity,ee.data.setAuthToken=module$contents$ee$apiclient_apiclient.setAuthToken,goog.exportSymbol("ee.data.setAuthToken",ee.data.setAuthToken),ee.data.refreshAuthToken=module$contents$ee$apiclient_apiclient.refreshAuthToken,goog.exportSymbol("ee.data.refreshAuthToken",ee.data.refreshAuthToken),ee.data.setAuthTokenRefresher=module$contents$ee$apiclient_apiclient.setAuthTokenRefresher,goog.exportSymbol("ee.data.setAuthTokenRefresher",ee.data.setAuthTokenRefresher),ee.data.getAuthToken=module$contents$ee$apiclient_apiclient.getAuthToken,goog.exportSymbol("ee.data.getAuthToken",ee.data.getAuthToken),ee.data.clearAuthToken=module$contents$ee$apiclient_apiclient.clearAuthToken,goog.exportSymbol("ee.data.clearAuthToken",ee.data.clearAuthToken),ee.data.getAuthClientId=module$contents$ee$apiclient_apiclient.getAuthClientId,goog.exportSymbol("ee.data.getAuthClientId",ee.data.getAuthClientId),ee.data.getAuthScopes=module$contents$ee$apiclient_apiclient.getAuthScopes,goog.exportSymbol("ee.data.getAuthScopes",ee.data.getAuthScopes),ee.data.setDeadline=module$contents$ee$apiclient_apiclient.setDeadline,goog.exportSymbol("ee.data.setDeadline",ee.data.setDeadline),ee.data.setParamAugmenter=module$contents$ee$apiclient_apiclient.setParamAugmenter,goog.exportSymbol("ee.data.setParamAugmenter",ee.data.setParamAugmenter),ee.data.initialize=module$contents$ee$apiclient_apiclient.initialize,ee.data.reset=module$contents$ee$apiclient_apiclient.reset,ee.data.PROFILE_HEADER=module$contents$ee$apiclient_apiclient.PROFILE_HEADER,ee.data.makeRequest_=module$contents$ee$apiclient_apiclient.makeRequest_,ee.data.send_=module$contents$ee$apiclient_apiclient.send,ee.data.setupMockSend=module$contents$ee$apiclient_apiclient.setupMockSend,ee.data.withProfiling=module$contents$ee$apiclient_apiclient.withProfiling,ee.data.getAlgorithms=function(e){var t=new module$contents$ee$apiclient_Call(e);return t.handle(t.algorithms().list(t.projectsPath(),{prettyPrint:!1}).then(ee.rpc_convert.algorithms))},ee.data.getMapId=function(e,t){if(typeof e.image=="string")throw Error("Image as JSON string not supported.");if(e.version!==void 0)throw Error("Image version specification not supported.");var n=new module$exports$eeapiclient$ee_api_client.EarthEngineMap({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.image)),fileFormat:ee.rpc_convert.fileFormat(e.format),bandIds:ee.rpc_convert.bandList(e.bands),visualizationOptions:ee.rpc_convert.visualizationOptions(e)}),i=new module$contents$ee$apiclient_Call(t);return i.handle(i.maps().create(i.projectsPath(),n,{fields:["name"]}).then(function(r){return ee.data.makeMapId_(r.name,"")}))},goog.exportSymbol("ee.data.getMapId",ee.data.getMapId),ee.data.getTileUrl=function(e,t,n,i){if(!e.formatTileUrl){var r=ee.data.makeMapId_(e.mapid,e.token,e.urlFormat);e.urlFormat=r.urlFormat,e.formatTileUrl=r.formatTileUrl}return e.formatTileUrl(t,n,i)},goog.exportSymbol("ee.data.getTileUrl",ee.data.getTileUrl),ee.data.makeMapId_=function(e,t,n){var i=n===void 0?"":n;if(!i){module$contents$ee$apiclient_apiclient.initialize();var r=module$contents$ee$apiclient_apiclient.getTileBaseUrl();i=t?r+"/map/"+e+"/{z}/{x}/{y}?token="+t:r+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e+"/tiles/{z}/{x}/{y}"}return{mapid:e,token:t,formatTileUrl:function(u,d,c){var v=Math.pow(2,c);return u%=v,u=String(0>u?u+v:u),i.replace("{x}",u).replace("{y}",d).replace("{z}",c)},urlFormat:i}},ee.data.getDmsTilesKey=function(e,t){var n=e.visParams?ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.visParams)):null,i=new module$exports$eeapiclient$ee_api_client.DMSMap({name:null,asset:e.assetName,dmsName:e.mapName,visualizationExpression:n}),r=new module$contents$ee$apiclient_Call(t);return r.handle(r.dmsMaps().create(r.projectsPath(),i,{fields:["name"]}).then(function(u){return{token:u.name}}))},goog.exportSymbol("ee.data.getDmsTilesKey",ee.data.getDmsTilesKey),ee.data.computeValue=function(e,t){var n=ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e)),i=new module$contents$ee$apiclient_Call(t);return i.handle(i.value().compute(i.projectsPath(),new module$exports$eeapiclient$ee_api_client.ComputeValueRequest({expression:n})).then(function(r){return r.result}))},goog.exportSymbol("ee.data.computeValue",ee.data.computeValue),ee.data.getThumbId=function(e,t){if(typeof e.image=="string")throw Error("Image as JSON string not supported.");if(e.version!==void 0)throw Error("Image version specification not supported.");if(e.region!==void 0)throw Error('"region" not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');if(e.dimensions!==void 0)throw Error('"dimensions" is not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');var n=new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.image)),fileFormat:ee.rpc_convert.fileFormat(e.format),filenamePrefix:e.name,bandIds:ee.rpc_convert.bandList(e.bands),visualizationOptions:ee.rpc_convert.visualizationOptions(e),grid:null}),i=new module$contents$ee$apiclient_Call(t);return i.handle(i.thumbnails().create(i.projectsPath(),n,{fields:["name"]}).then(function(r){return{thumbid:r.name,token:""}}))},goog.exportSymbol("ee.data.getThumbId",ee.data.getThumbId),ee.data.getVideoThumbId=function(e,t){var n=new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:e.framesPerSecond||null,maxFrames:e.maxFrames||null,maxPixelsPerFrame:e.maxPixelsPerFrame||null}),i=new module$exports$eeapiclient$ee_api_client.VideoThumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.imageCollection)),fileFormat:ee.rpc_convert.fileFormat(e.format),videoOptions:n,grid:null}),r=new module$contents$ee$apiclient_Call(t);return r.handle(r.videoThumbnails().create(r.projectsPath(),i,{fields:["name"]}).then(function(u){return{thumbid:u.name,token:""}}))},goog.exportSymbol("ee.data.getVideoThumbId",ee.data.getVideoThumbId),ee.data.getFilmstripThumbId=function(e,t){var n=new module$exports$eeapiclient$ee_api_client.FilmstripThumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.imageCollection)),fileFormat:ee.rpc_convert.fileFormat(e.format),orientation:ee.rpc_convert.orientation(e.orientation),grid:null}),i=new module$contents$ee$apiclient_Call(t);return i.handle(i.filmstripThumbnails().create(i.projectsPath(),n,{fields:["name"]}).then(function(r){return{thumbid:r.name,token:""}}))},goog.exportSymbol("ee.data.getFilmstripThumbId",ee.data.getFilmstripThumbId),ee.data.makeThumbUrl=function(e){return module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.thumbid+":getPixels"},goog.exportSymbol("ee.data.makeThumbUrl",ee.data.makeThumbUrl),ee.data.getDownloadId=function(e,t){if(e=Object.assign({},e),e.id&&(e.image=new ee.Image(e.id)),typeof e.image=="string")throw Error("Image as serialized JSON string not supported.");if(!e.image)throw Error("Missing ID or image parameter.");if(e.filePerBand=e.filePerBand!==!1,e.format=e.format||(e.filePerBand?"ZIPPED_GEO_TIFF_PER_BAND":"ZIPPED_GEO_TIFF"),e.region!=null&&(e.scale!=null||e.crs_transform!=null)&&e.dimensions!=null)throw Error("Cannot specify (bounding region, crs_transform/scale, dimensions) simultaneously.");if(typeof e.bands=="string")try{e.bands=JSON.parse(e.bands)}catch{e.bands=ee.rpc_convert.bandList(e.bands)}if(e.bands&&!Array.isArray(e.bands))throw Error("Bands parameter must be an array.");if(e.bands&&e.bands.every(function(u){return typeof u=="string"})&&(e.bands=e.bands.map(function(u){return{id:u}})),e.bands&&e.bands.some(function(u){return u.id==null}))throw Error("Each band dictionary must have an id.");if(typeof e.region=="string"&&(e.region=JSON.parse(e.region)),typeof e.crs_transform=="string")try{e.crs_transform=JSON.parse(e.crs_transform)}catch{}var n=ee.data.images.buildDownloadIdImage(e.image,e),i=new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null,expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(n)),fileFormat:ee.rpc_convert.fileFormat(e.format),filenamePrefix:e.name,bandIds:e.bands&&ee.rpc_convert.bandList(e.bands.map(function(u){return u.id})),grid:null}),r=new module$contents$ee$apiclient_Call(t);return r.handle(r.thumbnails().create(r.projectsPath(),i,{fields:["name"]}).then(function(u){return{docid:u.name,token:""}}))},goog.exportSymbol("ee.data.getDownloadId",ee.data.getDownloadId),ee.data.makeDownloadUrl=function(e){return module$contents$ee$apiclient_apiclient.initialize(),module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.docid+":getPixels"},goog.exportSymbol("ee.data.makeDownloadUrl",ee.data.makeDownloadUrl),ee.data.getTableDownloadId=function(e,t){var n=new module$contents$ee$apiclient_Call(t),i=ee.rpc_convert.tableFileFormat(e.format),r=ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(e.table)),u=null;if(e.selectors!=null)if(typeof e.selectors=="string")u=e.selectors.split(",");else if(Array.isArray(e.selectors)&&e.selectors.every(function(c){return typeof c=="string"}))u=e.selectors;else throw Error("'selectors' parameter must be an array of strings.");var d=new module$exports$eeapiclient$ee_api_client.Table({name:null,expression:r,fileFormat:i,selectors:u,filename:e.filename||null});return n.handle(n.tables().create(n.projectsPath(),d,{fields:["name"]}).then(function(c){return{docid:c.name||"",token:""}}))},goog.exportSymbol("ee.data.getTableDownloadId",ee.data.getTableDownloadId),ee.data.makeTableDownloadUrl=function(e){return module$contents$ee$apiclient_apiclient.getTileBaseUrl()+"/"+module$exports$ee$apiVersion.V1ALPHA+"/"+e.docid+":getFeatures"},goog.exportSymbol("ee.data.makeTableDownloadUrl",ee.data.makeTableDownloadUrl),ee.data.newTaskId=function(e,t){var n=function(d){return Math.floor(Math.random()*d)},i=function(d){return n(Math.pow(2,4*d)).toString(16).padStart(d,"0")},r=function(){return(8+n(4)).toString(16)+i(3)},u=module$contents$goog$array_range(e||1).map(function(){return[i(8),i(4),"4"+i(3),r(),i(12)].join("-")});return t?t(u):u},goog.exportSymbol("ee.data.newTaskId",ee.data.newTaskId),ee.data.getTaskStatus=function(e,t){var n=ee.data.makeStringArray_(e).map(ee.rpc_convert.taskIdToOperationName);if(n.length===1){var i=new module$contents$ee$apiclient_Call(t);return i.handle(i.operations().get(n[0]).then(function(d){return[ee.rpc_convert.operationToTask(d)]}))}var r=new module$contents$ee$apiclient_BatchCall(t),u=r.operations();return r.send(n.map(function(d){return[d,u.get(d)]}),function(d){return n.map(function(c){return ee.rpc_convert.operationToTask(d[c])})})},goog.exportSymbol("ee.data.getTaskStatus",ee.data.getTaskStatus),ee.data.makeStringArray_=function(e){if(typeof e=="string")return[e];if(Array.isArray(e))return e;throw Error("Invalid value: expected a string or an array of strings.")},ee.data.TASKLIST_PAGE_SIZE_=500,ee.data.getTaskList=function(e){return ee.data.getTaskListWithLimit(void 0,e)},goog.exportSymbol("ee.data.getTaskList",ee.data.getTaskList),ee.data.getTaskListWithLimit=function(e,t){var n=function(i){return{tasks:i.map(ee.rpc_convert.operationToTask)}};return t?(ee.data.listOperations(e,function(i,r){return t(i?n(i):null,r)}),null):n(ee.data.listOperations(e))},goog.exportSymbol("ee.data.getTaskListWithLimit",ee.data.getTaskListWithLimit),ee.data.listOperations=function(e,t){var n=[],i=function(){return e?n.slice(0,e):n},r={pageSize:ee.data.TASKLIST_PAGE_SIZE_},u=function(v){return module$contents$goog$array_extend(n,v.operations||[]),!v.nextPageToken||e&&n.length>=e?t&&t(i()):(r.pageToken=v.nextPageToken,d.handle(c.list(d.projectsPath(),r).then(u))),null},d=new module$contents$ee$apiclient_Call(t?function(v,S){return S&&t(v,S)}:void 0),c=d.operations();return d.handle(c.list(d.projectsPath(),r).then(u)),t?null:i()},goog.exportSymbol("ee.data.listOperations",ee.data.listOperations),ee.data.cancelOperation=function(e,t){var n=ee.data.makeStringArray_(e),i=new module$exports$eeapiclient$ee_api_client.CancelOperationRequest;if(n.length===1){var r=new module$contents$ee$apiclient_Call(t);r.handle(r.operations().cancel(n[0],i))}else{var u=new module$contents$ee$apiclient_BatchCall(t),d=u.operations();u.send(n.map(function(c){return[c,d.cancel(c,i)]}))}},goog.exportSymbol("ee.data.cancelOperation",ee.data.cancelOperation),ee.data.getOperation=function(e,t){var n=ee.data.makeStringArray_(e).map(ee.rpc_convert.taskIdToOperationName);if(!Array.isArray(e)){var i=new module$contents$ee$apiclient_Call(t);return i.handle(i.operations().get(n[0]))}var r=new module$contents$ee$apiclient_BatchCall(t),u=r.operations();return r.send(n.map(function(d){return[d,u.get(d)]}))},goog.exportSymbol("ee.data.getOperation",ee.data.getOperation),ee.data.cancelTask=function(e,t){return ee.data.updateTask(e,ee.data.TaskUpdateActions.CANCEL,t)},goog.exportSymbol("ee.data.cancelTask",ee.data.cancelTask),ee.data.updateTask=function(e,t,n){if(!module$contents$goog$object_containsValue(ee.data.TaskUpdateActions,t))throw Error("Invalid action: "+t);e=ee.data.makeStringArray_(e);var i=e.map(ee.rpc_convert.taskIdToOperationName);return ee.data.cancelOperation(i,n),null},goog.exportSymbol("ee.data.updateTask",ee.data.updateTask),ee.data.startProcessing=function(e,t,n){t.id=e;var i=t.type,r=t.sourceUrl!=null?{__source_url__:t.sourceUrl}:{},u=new module$contents$ee$apiclient_Call(n),d=function(H){return u.handle(H.then(ee.rpc_convert.operationToProcessingResponse))};switch(i){case ee.data.ExportType.IMAGE:var c=ee.data.prepareExportImageRequest_(t,r);return d(u.image().export(u.projectsPath(),c));case ee.data.ExportType.TABLE:var v=ee.rpc_convert_batch.taskToExportTableRequest(t);return v.expression=ee.data.expressionAugmenter_(v.expression,r),d(u.table().export(u.projectsPath(),v));case ee.data.ExportType.VIDEO:var S=ee.data.prepareExportVideoRequest_(t,r);return d(u.video().export(u.projectsPath(),S));case ee.data.ExportType.MAP:var C=ee.data.prepareExportMapRequest_(t,r);return d(u.map().export(u.projectsPath(),C));case ee.data.ExportType.VIDEO_MAP:var O=ee.data.prepareExportVideoMapRequest_(t,r);return d(u.videoMap().export(u.projectsPath(),O));case ee.data.ExportType.CLASSIFIER:var R=ee.data.prepareExportClassifierRequest_(t,r);return d(u.classifier().export(u.projectsPath(),R));default:throw Error("Unable to start processing for task of type "+i)}},goog.exportSymbol("ee.data.startProcessing",ee.data.startProcessing),ee.data.prepareExportImageRequest_=function(e,t){var n=ee.data.images.applyTransformsToImage(e),i=ee.rpc_convert_batch.taskToExportImageRequest(n);return i.expression=ee.data.expressionAugmenter_(i.expression,t),i},ee.data.prepareExportVideoRequest_=function(e,t){var n=ee.data.images.applyTransformsToCollection(e),i=ee.rpc_convert_batch.taskToExportVideoRequest(n);return i.expression=ee.data.expressionAugmenter_(i.expression,t),i},ee.data.prepareExportMapRequest_=function(e,t){var n=e.scale;delete e.scale;var i=ee.data.images.applyTransformsToImage(e);i.scale=n;var r=ee.rpc_convert_batch.taskToExportMapRequest(i);return r.expression=ee.data.expressionAugmenter_(r.expression,t),r},ee.data.prepareExportVideoMapRequest_=function(e,t){var n=e.scale;delete e.scale;var i=ee.data.images.applyTransformsToCollection(e);i.scale=n;var r=ee.rpc_convert_batch.taskToExportVideoMapRequest(i);return r.expression=ee.data.expressionAugmenter_(r.expression),r},ee.data.prepareExportClassifierRequest_=function(e,t){var n=ee.rpc_convert_batch.taskToExportClassifierRequest(e);return n.expression=ee.data.expressionAugmenter_(n.expression),n},ee.data.startIngestion=function(e,t,n){var i=ee.rpc_convert.toImageManifest(t),r=function(u){return u?ee.rpc_convert.operationToProcessingResponse(u):null};return r(ee.data.ingestImage(e,i,n&&function(u,d){return n(r(u),d)}))},goog.exportSymbol("ee.data.startIngestion",ee.data.startIngestion),ee.data.ingestImage=function(e,t,n){var i=new module$exports$eeapiclient$ee_api_client.ImportImageRequest({imageManifest:t,requestId:e,overwrite:null,description:null}),r=new module$contents$ee$apiclient_Call(n,e?void 0:0);return r.handle(r.image().import(r.projectsPath(),i))},ee.data.ingestTable=function(e,t,n){var i=new module$exports$eeapiclient$ee_api_client.ImportTableRequest({tableManifest:t,requestId:e,overwrite:null,description:null}),r=new module$contents$ee$apiclient_Call(n,e?void 0:0);return r.handle(r.table().import(r.projectsPath(),i))},ee.data.startTableIngestion=function(e,t,n){var i=ee.rpc_convert.toTableManifest(t),r=function(u){return u?ee.rpc_convert.operationToProcessingResponse(u):null};return r(ee.data.ingestTable(e,i,n&&function(u,d){return n(r(u),d)}))},goog.exportSymbol("ee.data.startTableIngestion",ee.data.startTableIngestion),ee.data.getAsset=function(e,t){var n=new module$contents$ee$apiclient_Call(t),i=ee.rpc_convert.assetIdToAssetName(e);return n.handle(n.assets().get(i,{prettyPrint:!1}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.getAsset",ee.data.getAsset),ee.data.getInfo=ee.data.getAsset,goog.exportSymbol("ee.data.getInfo",ee.data.getInfo),ee.data.getList=function(e,t){var n=new module$contents$ee$apiclient_Call(t),i=n.assets(),r=ee.rpc_convert.assetIdToAssetName(e.id),u=ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(e.id);if(u&&(i=n.projects(),r=ee.rpc_convert.projectParentFromPath(e.id)),Object.keys(e).every(function(c){return c==="id"||c==="num"}))return n.handle(i.listAssets(r,{pageSize:e.num}).then(ee.rpc_convert.listAssetsToGetList));if(u)throw Error("getList on a project does not support filtering options. Please provide a full asset path. Got: "+e.id);var d=ee.rpc_convert.getListToListImages(e);return n.handle(i.listImages(r,d).then(ee.rpc_convert.listImagesToGetList))},goog.exportSymbol("ee.data.getList",ee.data.getList),ee.data.listAssets=function(e,t,n){t=t===void 0?{}:t;var i=ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(e),r=new module$contents$ee$apiclient_Call(n),u=i?r.projects():r.assets();return e=i?ee.rpc_convert.projectParentFromPath(e):ee.rpc_convert.assetIdToAssetName(e),r.handle(u.listAssets(e,t))},goog.exportSymbol("ee.data.listAssets",ee.data.listAssets),ee.data.listImages=function(e,t,n){t=t===void 0?{}:t;var i=new module$contents$ee$apiclient_Call(n);return i.handle(i.assets().listImages(e,t))},goog.exportSymbol("ee.data.listImages",ee.data.listImages),ee.data.listBuckets=function(e,t){var n=new module$contents$ee$apiclient_Call(t);return n.handle(n.projects().listAssets(e||n.projectsPath()))},goog.exportSymbol("ee.data.listBuckets",ee.data.listBuckets),ee.data.getAssetRoots=function(e){var t=new module$contents$ee$apiclient_Call(e);return t.handle(t.projects().listAssets(t.projectsPath()).then(ee.rpc_convert.listAssetsToGetList))},goog.exportSymbol("ee.data.getAssetRoots",ee.data.getAssetRoots),ee.data.createAssetHome=function(e,t){var n=ee.rpc_convert.projectParentFromPath(e),i=n==="projects/"+module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_?e:void 0,r=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset({type:"Folder"}),u=new module$contents$ee$apiclient_Call(t);u.handle(u.assets().create(n,r,{assetId:i}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.createAssetHome",ee.data.createAssetHome),ee.data.createAsset=function(e,t,n,i,r){if(n)throw Error("Asset overwrite not supported.");if(typeof e=="string")throw Error("Asset cannot be specified as string.");var u=e.name||t&&ee.rpc_convert.assetIdToAssetName(t);if(!u)throw Error("Either asset name or opt_path must be specified.");var d=u.indexOf("/assets/");if(d===-1)throw Error("Asset name must contain /assets/.");var c=new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(e),v=u.slice(0,d),S=u.slice(d+8);c.id=null,c.name=null,i&&!c.properties&&(c.properties=i),c.type=ee.rpc_convert.assetTypeForCreate(c.type);var C=new module$contents$ee$apiclient_Call(r);return C.handle(C.assets().create(v,c,{assetId:S}).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.createAsset",ee.data.createAsset),ee.data.createFolder=function(e,t,n){return ee.data.createAsset({type:"Folder"},e,t,void 0,n)},goog.exportSymbol("ee.data.createFolder",ee.data.createFolder),ee.data.renameAsset=function(e,t,n){var i=ee.rpc_convert.assetIdToAssetName(e),r=ee.rpc_convert.assetIdToAssetName(t),u=new module$exports$eeapiclient$ee_api_client.MoveAssetRequest({destinationName:r}),d=new module$contents$ee$apiclient_Call(n);d.handle(d.assets().move(i,u).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.renameAsset",ee.data.renameAsset),ee.data.copyAsset=function(e,t,n,i){var r=ee.rpc_convert.assetIdToAssetName(e),u=ee.rpc_convert.assetIdToAssetName(t),d=new module$exports$eeapiclient$ee_api_client.CopyAssetRequest({destinationName:u,overwrite:n??null}),c=new module$contents$ee$apiclient_Call(i);c.handle(c.assets().copy(r,d).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.copyAsset",ee.data.copyAsset),ee.data.deleteAsset=function(e,t){var n=new module$contents$ee$apiclient_Call(t);n.handle(n.assets().delete(ee.rpc_convert.assetIdToAssetName(e)))},goog.exportSymbol("ee.data.deleteAsset",ee.data.deleteAsset),ee.data.getAssetAcl=function(e,t){var n=ee.rpc_convert.assetIdToAssetName(e),i=new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,r=new module$contents$ee$apiclient_Call(t);return r.handle(r.assets().getIamPolicy(n,i,{prettyPrint:!1}).then(ee.rpc_convert.iamPolicyToAcl))},goog.exportSymbol("ee.data.getAssetAcl",ee.data.getAssetAcl),ee.data.getIamPolicy=function(e,t){var n=ee.rpc_convert.assetIdToAssetName(e),i=new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest,r=new module$contents$ee$apiclient_Call(t);return r.handle(r.assets().getIamPolicy(n,i,{prettyPrint:!1}))},ee.data.setIamPolicy=function(e,t,n){var i=ee.rpc_convert.assetIdToAssetName(e),r=new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:t}),u=new module$contents$ee$apiclient_Call(n);return u.handle(u.assets().setIamPolicy(i,r,{prettyPrint:!1}))},ee.data.updateAsset=function(e,t,n,i){var r=(n||[]).join(","),u=new module$exports$eeapiclient$ee_api_client.UpdateAssetRequest({asset:t,updateMask:r}),d=new module$contents$ee$apiclient_Call(i);return d.handle(d.assets().patch(ee.rpc_convert.assetIdToAssetName(e),u).then(ee.rpc_convert.assetToLegacyResult))},goog.exportSymbol("ee.data.updateAsset",ee.data.updateAsset),ee.data.setAssetAcl=function(e,t,n){var i=ee.rpc_convert.assetIdToAssetName(e),r=ee.rpc_convert.aclToIamPolicy(t),u=new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:r}),d=new module$contents$ee$apiclient_Call(n);d.handle(d.assets().setIamPolicy(i,u,{prettyPrint:!1}))},goog.exportSymbol("ee.data.setAssetAcl",ee.data.setAssetAcl),ee.data.setAssetProperties=function(e,t,n){var i=ee.rpc_convert.legacyPropertiesToAssetUpdate(t),r=i.getClassMetadata().keys.filter(function(u){return u!=="properties"&&i.Serializable$has(u)}).map(function(u){return u.replace(/([A-Z])/g,function(d,c){return"_"+c.toLowerCase()})}).concat(Object.keys(i.properties||{}).map(function(u){return'properties."'+u+'"'}));ee.data.updateAsset(e,i,r,n)},goog.exportSymbol("ee.data.setAssetProperties",ee.data.setAssetProperties),ee.data.getAssetRootQuota=function(e,t){var n=ee.rpc_convert.assetIdToAssetName(e),i=new module$contents$ee$apiclient_Call(t),r=i.assets(),u=r.$apiClient.$validateParameter;r.$apiClient.$validateParameter=function(c,v){return v.source==="^projects\\/[^/]+\\/assets\\/.+$"&&(v=RegExp("^projects/[^/]+/assets/.*$")),u(c,v)};var d=r.get(n,{prettyPrint:!1});return i.handle(d.then(function(c){if(!(c instanceof module$exports$eeapiclient$ee_api_client.EarthEngineAsset&&c.quota))throw Error(e+" is not a root folder.");return ee.rpc_convert.folderQuotaToAssetQuotaDetails(c.quota)}))},goog.exportSymbol("ee.data.getAssetRootQuota",ee.data.getAssetRootQuota),ee.data.AssetType={ALGORITHM:"Algorithm",CLASSIFIER:"Classifier",DATA_MAPPING_SERVICE:"DmsAsset",FOLDER:"Folder",FEATURE_COLLECTION:"FeatureCollection",IMAGE:"Image",IMAGE_COLLECTION:"ImageCollection",TABLE:"Table",UNKNOWN:"Unknown"},ee.data.ExportType={IMAGE:"EXPORT_IMAGE",MAP:"EXPORT_TILES",TABLE:"EXPORT_FEATURES",VIDEO:"EXPORT_VIDEO",VIDEO_MAP:"EXPORT_VIDEO_MAP",CLASSIFIER:"EXPORT_CLASSIFIER"},ee.data.ExportState={UNSUBMITTED:"UNSUBMITTED",READY:"READY",RUNNING:"RUNNING",COMPLETED:"COMPLETED",FAILED:"FAILED",CANCEL_REQUESTED:"CANCEL_REQUESTED",CANCELLED:"CANCELLED"},ee.data.ExportDestination={DRIVE:"DRIVE",GCS:"GOOGLE_CLOUD_STORAGE",ASSET:"ASSET",DMS:"DMS"},ee.data.ThinningStrategy={GLOBALLY_CONSISTENT:"GLOBALLY_CONSISTENT",HIGHER_DENSITY:"HIGHER_DENSITY"},ee.data.Direction={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},ee.data.SystemPropertyPrefix="system:",ee.data.SystemTimeProperty={START:"system:time_start",END:"system:time_end"},ee.data.SYSTEM_ASSET_SIZE_PROPERTY="system:asset_size",ee.data.AssetDetailsProperty={TITLE:"system:title",DESCRIPTION:"system:description",TAGS:"system:tags"},ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_="col colgroup caption table tbody td tfoot th thead tr".split(" "),ee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS=ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_.concat("a code em i li ol p strong sub sup ul".split(" ")),ee.data.ShortAssetDescription=function(){},ee.data.AssetAcl=function(){},ee.data.AssetAclUpdate=function(){},ee.data.AssetQuotaEntry=function(){},ee.data.AssetQuotaDetails=function(){},ee.data.DmsAssetDescription=function(){},ee.data.FolderDescription=function(){},ee.data.FeatureCollectionDescription=function(){},ee.data.FeatureVisualizationParameters=function(){},ee.data.GeoJSONFeature=function(){},ee.data.GeoJSONGeometry=function(){},ee.data.GeoJSONGeometryCrs=function(){},ee.data.GeoJSONGeometryCrsProperties=function(){},ee.data.ImageCollectionDescription=function(){},ee.data.ImageDescription=function(){},ee.data.TableDescription=function(){},ee.data.TableDownloadParameters=function(){},ee.data.ImageVisualizationParameters=function(){},ee.data.DmsMapVisualizationParameters=function(){},ee.data.ThumbnailOptions=function(){},$jscomp.inherits(ee.data.ThumbnailOptions,ee.data.ImageVisualizationParameters),ee.data.VideoThumbnailOptions=function(){},$jscomp.inherits(ee.data.VideoThumbnailOptions,ee.data.ThumbnailOptions),ee.data.FilmstripThumbnailOptions=function(){},$jscomp.inherits(ee.data.FilmstripThumbnailOptions,ee.data.ThumbnailOptions),ee.data.BandDescription=function(){},ee.data.PixelTypeDescription=function(){},ee.data.AlgorithmSignature=function(){},ee.data.AlgorithmArgument=function(){},ee.data.ThumbnailId=function(){},ee.data.DownloadId=function(){},ee.data.RawMapId=function(){},ee.data.MapId=function(){},$jscomp.inherits(ee.data.MapId,ee.data.RawMapId),ee.data.DmsTilesKey=function(){},ee.data.MapZoomRange={MIN:0,MAX:24},ee.data.TaskStatus=function(){},ee.data.ProcessingResponse=function(){},ee.data.TaskListResponse=function(){},ee.data.TaskUpdateActions={CANCEL:"CANCEL",UPDATE:"UPDATE"},ee.data.AssetDescription=function(){},ee.data.IngestionRequest=function(){},ee.data.MissingData=function(){},ee.data.PyramidingPolicy={MEAN:"MEAN",MODE:"MODE",MIN:"MIN",MAX:"MAX",SAMPLE:"SAMPLE"},ee.data.Band=function(){},ee.data.Tileset=function(){},ee.data.FileBand=function(){},ee.data.FileSource=function(){},ee.data.TableIngestionRequest=function(){},ee.data.TableSource=function(){},$jscomp.inherits(ee.data.TableSource,ee.data.FileSource),ee.data.AuthPrivateKey=function(){},ee.ComputedObject=function(e,t,n){if(!(this instanceof ee.ComputedObject))return ee.ComputedObject.construct(ee.ComputedObject,arguments);if(n&&(e||t))throw Error('When "opt_varName" is specified, "func" and "args" must be null.');if(e&&!t)throw Error('When "func" is specified, "args" must not be null.');this.func=e,this.args=t,this.varName=n||null},goog.inherits(ee.ComputedObject,ee.Encodable),goog.exportSymbol("ee.ComputedObject",ee.ComputedObject),ee.ComputedObject.prototype.evaluate=function(e){if(!e||typeof e!="function")throw Error("evaluate() requires a callback function.");ee.data.computeValue(this,e)},goog.exportProperty(ee.ComputedObject.prototype,"evaluate",ee.ComputedObject.prototype.evaluate),ee.ComputedObject.prototype.getInfo=function(e){return ee.data.computeValue(this,e)},goog.exportProperty(ee.ComputedObject.prototype,"getInfo",ee.ComputedObject.prototype.getInfo),ee.ComputedObject.prototype.encode=function(e){if(this.isVariable())return{type:"ArgumentRef",value:this.varName};var t={},n;for(n in this.args)this.args[n]!==void 0&&(t[n]=e(this.args[n]));var i={type:"Invocation",arguments:t},r=e(this.func);return i[typeof r=="string"?"functionName":"function"]=r,i},ee.ComputedObject.prototype.encodeCloudValue=function(e){if(this.isVariable()){var t=this.varName||e.unboundName;if(!t)throw Error("A mapped function's arguments cannot be used in client-side operations");return ee.rpc_node.argumentReference(t)}var n={},i;for(i in this.args)this.args[i]!==void 0&&(n[i]=ee.rpc_node.reference(e.makeReference(this.args[i])));return typeof this.func=="string"?ee.rpc_node.functionByName(String(this.func),n):this.func.encodeCloudInvocation(e,n)},ee.ComputedObject.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},goog.exportProperty(ee.ComputedObject.prototype,"serialize",ee.ComputedObject.prototype.serialize),ee.ComputedObject.prototype.toString=function(){return"ee."+this.name()+"("+ee.Serializer.toReadableJSON(this)+")"},goog.exportSymbol("ee.ComputedObject.prototype.toString",ee.ComputedObject.prototype.toString),ee.ComputedObject.prototype.isVariable=function(){return this.func===null&&this.args===null},ee.ComputedObject.prototype.name=function(){return"ComputedObject"},ee.ComputedObject.prototype.aside=function(e,t){var n=Array.from(arguments);return n[0]=this,e.apply(goog.global,n),this},goog.exportProperty(ee.ComputedObject.prototype,"aside",ee.ComputedObject.prototype.aside),ee.ComputedObject.prototype.castInternal=function(e){if(e instanceof this.constructor)return e;var t=function(){};t.prototype=this.constructor.prototype;var n=new t;return n.func=e.func,n.args=e.args,n.varName=e.varName,n},ee.ComputedObject.construct=function(e,t){function n(){return e.apply(this,t)}return n.prototype=e.prototype,new n},ee.Types={},ee.Types.registeredClasses_={},ee.Types.registerClasses=function(e){ee.Types.registeredClasses_=e},ee.Types.nameToClass=function(e){return e in ee.Types.registeredClasses_?ee.Types.registeredClasses_[e]:null},ee.Types.classToName=function(e){return e.prototype instanceof ee.ComputedObject?e.prototype.name.call(null):e==Number?"Number":e==String?"String":e==Array?"Array":e==Date?"Date":"Object"},ee.Types.isSubtype=function(e,t){if(t==e)return!0;switch(e){case"Element":return t=="Element"||t=="Image"||t=="Feature"||t=="Collection"||t=="ImageCollection"||t=="FeatureCollection";case"FeatureCollection":case"Collection":return t=="Collection"||t=="ImageCollection"||t=="FeatureCollection";case"Object":return!0;default:return!1}},ee.Types.isNumber=function(e){return typeof e=="number"||e instanceof ee.ComputedObject&&e.name()=="Number"},ee.Types.isString=function(e){return typeof e=="string"||e instanceof ee.ComputedObject&&e.name()=="String"},ee.Types.isArray=function(e){return Array.isArray(e)||e instanceof ee.ComputedObject&&e.name()=="List"},ee.Types.isRegularObject=function(e){if(goog.isObject(e)&&typeof e!="function"){var t=Object.getPrototypeOf(e);return t!==null&&Object.getPrototypeOf(t)===null}return!1},ee.Types.useKeywordArgs=function(e,t,n){if(n=n===void 0?!1:n,e.length===1&&ee.Types.isRegularObject(e[0])){var i=t.args;if(n&&(i=i.slice(1)),i.length)return!(i.length===1||i[1].optional)||i[0].type!=="Dictionary"}return!1},ee.Function=function(){if(!(this instanceof ee.Function))return new ee.Function},goog.inherits(ee.Function,ee.Encodable),goog.exportSymbol("ee.Function",ee.Function),ee.Function.promoter_=goog.functions.identity,ee.Function.registerPromoter=function(e){ee.Function.promoter_=e},ee.Function.prototype.call=function(e){return this.apply(this.nameArgs(Array.prototype.slice.call(arguments,0)))},goog.exportProperty(ee.Function.prototype,"call",ee.Function.prototype.call),ee.Function.prototype.apply=function(e){var t=new ee.ComputedObject(this,this.promoteArgs(e));return ee.Function.promoter_(t,this.getReturnType())},goog.exportProperty(ee.Function.prototype,"apply",ee.Function.prototype.apply),ee.Function.prototype.callOrApply=function(e,t){var n=e!==void 0,i=this.getSignature();if(ee.Types.useKeywordArgs(t,i,n)){var r=module$contents$goog$object_clone(t[0]);if(n){var u=i.args[0].name;if(u in r)throw Error("Named args for "+i.name+" can't contain keyword "+u);r[u]=e}}else r=this.nameArgs(n?[e].concat(t):t);return this.apply(r)},ee.Function.prototype.promoteArgs=function(e){for(var t=this.getSignature().args,n={},i={},r=0;r<t.length;r++){var u=t[r].name;if(u in e&&e[u]!==void 0)n[u]=ee.Function.promoter_(e[u],t[r].type);else if(!t[r].optional)throw Error("Required argument ("+u+") missing to function: "+this);i[u]=!0}var d=[],c;for(c in e)i[c]||d.push(c);if(0<d.length)throw Error("Unrecognized arguments ("+d+") to function: "+this);return n},ee.Function.prototype.nameArgs=function(e){var t=this.getSignature().args;if(t.length<e.length)throw Error("Too many ("+e.length+") arguments to function: "+this);for(var n={},i=0;i<e.length;i++)n[t[i].name]=e[i];return n},ee.Function.prototype.getReturnType=function(){return this.getSignature().returns},ee.Function.prototype.toString=function(e,t){var n=this.getSignature(),i=[];if(i.push(e||n.name),i.push("("),i.push(module$contents$goog$array_map(n.args.slice(t?1:0),function(d){return d.name}).join(", ")),i.push(`)
`),i.push(`
`),n.description?i.push(n.description):i.push("Undocumented."),i.push(`
`),n.args.length){i.push(`
Args:
`);for(var r=0;r<n.args.length;r++){t&&r==0?i.push("  this:"):i.push(`
  `);var u=n.args[r];i.push(u.name),i.push(" ("),i.push(u.type),u.optional&&i.push(", optional"),i.push("): "),u.description?i.push(u.description):i.push("Undocumented.")}}return i.join("")},ee.Function.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},ee.ApiFunction=function(e,t){if(t===void 0)return ee.ApiFunction.lookup(e);if(!(this instanceof ee.ApiFunction))return ee.ComputedObject.construct(ee.ApiFunction,arguments);this.signature_=module$contents$goog$object_unsafeClone(t),this.signature_.name=e},goog.inherits(ee.ApiFunction,ee.Function),goog.exportSymbol("ee.ApiFunction",ee.ApiFunction),ee.ApiFunction._call=function(e,t){return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(e),Array.prototype.slice.call(arguments,1))},goog.exportSymbol("ee.ApiFunction._call",ee.ApiFunction._call),ee.ApiFunction._apply=function(e,t){return ee.ApiFunction.lookup(e).apply(t)},goog.exportSymbol("ee.ApiFunction._apply",ee.ApiFunction._apply),ee.ApiFunction.prototype.encode=function(e){return this.signature_.name},ee.ApiFunction.prototype.encodeCloudInvocation=function(e,t){return ee.rpc_node.functionByName(this.signature_.name,t)},ee.ApiFunction.prototype.getSignature=function(){return this.signature_},ee.ApiFunction.api_=null,ee.ApiFunction.boundSignatures_={},ee.ApiFunction.allSignatures=function(){return ee.ApiFunction.initialize(),module$contents$goog$object_map(ee.ApiFunction.api_,function(e){return e.getSignature()})},ee.ApiFunction.unboundFunctions=function(){return ee.ApiFunction.initialize(),module$contents$goog$object_filter(ee.ApiFunction.api_,function(e,t){return!ee.ApiFunction.boundSignatures_[t]})},ee.ApiFunction.lookup=function(e){var t=ee.ApiFunction.lookupInternal(e);if(!t)throw Error("Unknown built-in function name: "+e);return t},goog.exportSymbol("ee.ApiFunction.lookup",ee.ApiFunction.lookup),ee.ApiFunction.lookupInternal=function(e){return ee.ApiFunction.initialize(),ee.ApiFunction.api_[e]||null},ee.ApiFunction.initialize=function(e,t){if(ee.ApiFunction.api_)e&&e();else{var n=function(i,r){r?t&&t(Error(r)):(ee.ApiFunction.api_=module$contents$goog$object_map(i,function(u,d){u.returns=u.returns.replace(/<.*>/,"");for(var c=0;c<u.args.length;c++)u.args[c].type=u.args[c].type.replace(/<.*>/,"");return new ee.ApiFunction(d,u)}),e&&e())};e?ee.data.getAlgorithms(n):n(ee.data.getAlgorithms())}},ee.ApiFunction.reset=function(){ee.ApiFunction.api_=null,ee.ApiFunction.boundSignatures_={}},ee.ApiFunction.importApi=function(e,t,n,i){ee.ApiFunction.initialize();var r=i||"";module$contents$goog$object_forEach(ee.ApiFunction.api_,function(u,d){var c=d.split(".");if(c.length==2&&c[0]==t){var v=r+c[1],S=u.getSignature();ee.ApiFunction.boundSignatures_[d]=!0;var C=!1;if(S.args.length){var O=S.args[0].type;C=O!="Object"&&ee.Types.isSubtype(O,n)}var R=C?e.prototype:e;v in R&&!R[v].signature||(R[v]=function(H){return u.callOrApply(C?this:void 0,Array.prototype.slice.call(arguments,0))},R[v].toString=goog.bind(u.toString,u,v,C),R[v].signature=S)}})},ee.ApiFunction.clearApi=function(e){var t=function(n){for(var i in n)typeof n[i]=="function"&&n[i].signature&&delete n[i]};t(e),t(e.prototype||{})},ee.arguments={},ee.arguments.extractFromFunction=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_)},ee.arguments.extractFromClassConstructor=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_)},ee.arguments.extractFromClassMethod=function(e,t){return ee.arguments.extractImpl_(e,t,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_)},ee.arguments.extract=ee.arguments.extractFromFunction,ee.arguments.extractImpl_=function(e,t,n){var i=ee.arguments.getParamNames_(e,n),r=module$contents$goog$array_map(i,function(fe){return fe.replace(/^opt_/,"")}),u=ee.arguments.getFnName_(e),d=u?" to function "+u:"",c={},v=t[0],S=goog.isObject(v)&&typeof v!="function"&&!Array.isArray(v)&&Object.getPrototypeOf(v).constructor.name==="Object";if(1<t.length||!S){if(t.length>r.length)throw Error("Received too many arguments"+d+". Expected at most "+r.length+" but got "+t.length+".");for(var C=0;C<t.length;C++)c[r[C]]=t[C]}else{var O=new goog.structs.Set(module$contents$goog$object_getKeys(v)),R=new goog.structs.Set(r);if(R.intersection(O).isEmpty())c[r[0]]=t[0];else{var H=O.difference(R);if(H.size!==0)throw Error("Unexpected arguments"+d+": "+Array.from(H.values()).join(", "));c=module$contents$goog$object_clone(v)}}var K=new goog.structs.Set(module$contents$goog$object_getKeys(c)),le=new goog.structs.Set(module$contents$goog$array_filter(i,function(fe){return!goog.string.startsWith(fe,"opt_")})).difference(K);if(le.size!==0)throw Error("Missing required arguments"+d+": "+Array.from(le.values()).join(", "));return c},ee.arguments.getParamNames_=function(e,t){var n=[];if(goog.global.EXPORTED_FN_INFO){var i=goog.global.EXPORTED_FN_INFO[e.toString()];goog.isObject(i)||ee.arguments.throwMatchFailedError_(),n=i.paramNames,Array.isArray(n)||ee.arguments.throwMatchFailedError_()}else{var r=e.toString().replace(ee.arguments.JS_COMMENT_MATCHER_,"").match(t);r===null&&ee.arguments.throwMatchFailedError_(),n=(r[1].split(",")||[]).map(function(u){return u.replace(ee.arguments.JS_PARAM_DEFAULT_MATCHER_,"")})}return n},ee.arguments.getFnName_=function(e){return goog.global.EXPORTED_FN_INFO?goog.global.EXPORTED_FN_INFO[e.toString()].name.split(".").pop()+"()":null},ee.arguments.throwMatchFailedError_=function(){throw Error("Failed to locate function parameters.")},ee.arguments.JS_COMMENT_MATCHER_=/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_=/^function[^\(]*\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_=/^class[^\{]*{\S*?\bconstructor\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_=/[^\(]*\(([^\)]*)\)/m,ee.arguments.JS_PARAM_DEFAULT_MATCHER_=/=.*$/,ee.Element=function(e,t,n){ee.ComputedObject.call(this,e,t,n),ee.Element.initialize()},goog.inherits(ee.Element,ee.ComputedObject),goog.exportSymbol("ee.Element",ee.Element),ee.Element.initialized_=!1,ee.Element.initialize=function(){ee.Element.initialized_||(ee.ApiFunction.importApi(ee.Element,"Element","Element"),ee.Element.initialized_=!0)},ee.Element.reset=function(){ee.ApiFunction.clearApi(ee.Element),ee.Element.initialized_=!1},ee.Element.prototype.name=function(){return"Element"},ee.Element.prototype.set=function(e){if(1>=arguments.length){var t=arguments[0];if(ee.Types.isRegularObject(t)&&module$contents$goog$array_equals(module$contents$goog$object_getKeys(t),["properties"])&&goog.isObject(t.properties)&&(t=t.properties),ee.Types.isRegularObject(t)){var n=this;for(var i in t){var r=t[i];n=ee.ApiFunction._call("Element.set",n,i,r)}}else if(t instanceof ee.ComputedObject&&ee.ApiFunction.lookupInternal("Element.setMulti"))n=ee.ApiFunction._call("Element.setMulti",this,t);else throw Error("When Element.set() is passed one argument, it must be a dictionary.")}else{if(arguments.length%2!=0)throw Error("When Element.set() is passed multiple arguments, there must be an even number of them.");n=this;for(var u=0;u<arguments.length;u+=2)i=arguments[u],r=arguments[u+1],n=ee.ApiFunction._call("Element.set",n,i,r)}return this.castInternal(n)},goog.exportProperty(ee.Element.prototype,"set",ee.Element.prototype.set),ee.Geometry=function(e,t,n,i){if(!(this instanceof ee.Geometry))return ee.ComputedObject.construct(ee.Geometry,arguments);if(!("type"in e)){var r=ee.arguments.extractFromFunction(ee.Geometry,arguments);e=r.geoJson,t=r.proj,n=r.geodesic,i=r.evenOdd}ee.Geometry.initialize();var u=t!=null||n!=null||i!=null;if(e instanceof ee.ComputedObject&&!(e instanceof ee.Geometry&&e.type_)){if(u)throw Error("Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().");ee.ComputedObject.call(this,e.func,e.args,e.varName)}else{if(e instanceof ee.Geometry&&(e=e.encode()),!ee.Geometry.isValidGeometry_(e))throw Error("Invalid GeoJSON geometry: "+JSON.stringify(e));if(ee.ComputedObject.call(this,null,null),this.type_=e.type,this.coordinates_=e.coordinates!=null?module$contents$goog$object_unsafeClone(e.coordinates):null,this.geometries_=e.geometries||null,t!=null)this.proj_=t;else if("crs"in e)if(goog.isObject(e.crs)&&e.crs.type=="name"&&goog.isObject(e.crs.properties)&&typeof e.crs.properties.name=="string")this.proj_=e.crs.properties.name;else throw Error("Invalid CRS declaration in GeoJSON: "+new goog.json.Serializer().serialize(e.crs));this.geodesic_=n,this.geodesic_===void 0&&"geodesic"in e&&(this.geodesic_=!!e.geodesic),this.evenOdd_=i,this.evenOdd_===void 0&&"evenOdd"in e&&(this.evenOdd_=!!e.evenOdd)}},goog.inherits(ee.Geometry,ee.ComputedObject),goog.exportSymbol("ee.Geometry",ee.Geometry),ee.Geometry.initialized_=!1,ee.Geometry.initialize=function(){ee.Geometry.initialized_||(ee.ApiFunction.importApi(ee.Geometry,"Geometry","Geometry"),ee.Geometry.initialized_=!0)},ee.Geometry.reset=function(){ee.ApiFunction.clearApi(ee.Geometry),ee.Geometry.initialized_=!1},ee.Geometry.Point=function(e,t){if(!(this instanceof ee.Geometry.Point))return ee.Geometry.createInstance_(ee.Geometry.Point,arguments);var n=ee.Geometry.construct_(ee.Geometry.Point,"Point",1,arguments);if(!(n instanceof ee.ComputedObject)){var i=n.coordinates;if(!Array.isArray(i)||i.length!=2)throw Error("The Geometry.Point constructor requires 2 coordinates.")}ee.Geometry.call(this,n)},goog.inherits(ee.Geometry.Point,ee.Geometry),goog.exportProperty(ee.Geometry,"Point",ee.Geometry.Point),ee.Geometry.MultiPoint=function(e,t){if(!(this instanceof ee.Geometry.MultiPoint))return ee.Geometry.createInstance_(ee.Geometry.MultiPoint,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiPoint,"MultiPoint",2,arguments))},goog.inherits(ee.Geometry.MultiPoint,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiPoint",ee.Geometry.MultiPoint),ee.Geometry.Rectangle=function(e,t,n,i){if(!(this instanceof ee.Geometry.Rectangle))return ee.Geometry.createInstance_(ee.Geometry.Rectangle,arguments);var r=ee.Geometry.construct_(ee.Geometry.Rectangle,"Rectangle",2,arguments);if(!(r instanceof ee.ComputedObject)){var u=r.coordinates;if(u.length!=2)throw Error("The Geometry.Rectangle constructor requires 2 points or 4 coordinates.");var d=u[0][0],c=u[0][1],v=u[1][0],S=u[1][1];r.coordinates=[[[d,S],[d,c],[v,c],[v,S]]],r.type="Polygon"}ee.Geometry.call(this,r)},goog.inherits(ee.Geometry.Rectangle,ee.Geometry),goog.exportProperty(ee.Geometry,"Rectangle",ee.Geometry.Rectangle),ee.Geometry.BBox=function(e,t,n,i){if(!(this instanceof ee.Geometry.BBox))return ee.Geometry.createInstance_(ee.Geometry.BBox,arguments);var r=[e,t,n,i];if(ee.Geometry.hasServerValue_(r))return new ee.ApiFunction("GeometryConstructors.BBox").apply(r);if(!(1/0>e))throw Error("Geometry.BBox: west must not be "+e);if(!(-1/0<n))throw Error("Geometry.BBox: east must not be "+n);if(!(90>=t))throw Error("Geometry.BBox: south must be at most +90°, but was "+t+"°");if(!(-90<=i))throw Error("Geometry.BBox: north must be at least -90°, but was "+i+"°");t=Math.max(t,-90),i=Math.min(i,90),360<=n-e?(e=-180,n=180):(e=ee.Geometry.canonicalizeLongitude_(e),n=ee.Geometry.canonicalizeLongitude_(n),n<e&&(n+=360)),ee.Geometry.call(this,{type:"Polygon",coordinates:[[[e,i],[e,t],[n,t],[n,i]]]},void 0,!1,!0)},goog.inherits(ee.Geometry.BBox,ee.Geometry.Rectangle),goog.exportProperty(ee.Geometry,"BBox",ee.Geometry.BBox),ee.Geometry.canonicalizeLongitude_=function(e){return e%=360,180<e?e-=360:-180>e&&(e+=360),e},ee.Geometry.LineString=function(e,t,n,i){if(!(this instanceof ee.Geometry.LineString))return ee.Geometry.createInstance_(ee.Geometry.LineString,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.LineString,"LineString",2,arguments))},goog.inherits(ee.Geometry.LineString,ee.Geometry),goog.exportProperty(ee.Geometry,"LineString",ee.Geometry.LineString),ee.Geometry.LinearRing=function(e,t,n,i){if(!(this instanceof ee.Geometry.LinearRing))return ee.Geometry.createInstance_(ee.Geometry.LinearRing,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.LinearRing,"LinearRing",2,arguments))},goog.inherits(ee.Geometry.LinearRing,ee.Geometry),goog.exportProperty(ee.Geometry,"LinearRing",ee.Geometry.LinearRing),ee.Geometry.MultiLineString=function(e,t,n,i){if(!(this instanceof ee.Geometry.MultiLineString))return ee.Geometry.createInstance_(ee.Geometry.MultiLineString,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiLineString,"MultiLineString",3,arguments))},goog.inherits(ee.Geometry.MultiLineString,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiLineString",ee.Geometry.MultiLineString),ee.Geometry.Polygon=function(e,t,n,i,r){if(!(this instanceof ee.Geometry.Polygon))return ee.Geometry.createInstance_(ee.Geometry.Polygon,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.Polygon,"Polygon",3,arguments))},goog.inherits(ee.Geometry.Polygon,ee.Geometry),goog.exportProperty(ee.Geometry,"Polygon",ee.Geometry.Polygon),ee.Geometry.MultiPolygon=function(e,t,n,i,r){if(!(this instanceof ee.Geometry.MultiPolygon))return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon,arguments);ee.Geometry.call(this,ee.Geometry.construct_(ee.Geometry.MultiPolygon,"MultiPolygon",4,arguments))},goog.inherits(ee.Geometry.MultiPolygon,ee.Geometry),goog.exportProperty(ee.Geometry,"MultiPolygon",ee.Geometry.MultiPolygon),ee.Geometry.prototype.encode=function(e){if(!this.type_){if(!e)throw Error("Must specify an encode function when encoding a computed geometry.");return ee.ComputedObject.prototype.encode.call(this,e)}var t={type:this.type_};return this.type_=="GeometryCollection"?t.geometries=this.geometries_:t.coordinates=this.coordinates_,this.proj_!=null&&(t.crs={type:"name",properties:{name:this.proj_}}),this.geodesic_!=null&&(t.geodesic=this.geodesic_),this.evenOdd_!=null&&(t.evenOdd=this.evenOdd_),t},ee.Geometry.prototype.toGeoJSON=function(){if(this.func)throw Error("Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.");return this.encode()},goog.exportProperty(ee.Geometry.prototype,"toGeoJSON",ee.Geometry.prototype.toGeoJSON),ee.Geometry.prototype.toGeoJSONString=function(){if(this.func)throw Error("Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.");return new goog.json.Serializer().serialize(this.toGeoJSON())},goog.exportProperty(ee.Geometry.prototype,"toGeoJSONString",ee.Geometry.prototype.toGeoJSONString),ee.Geometry.prototype.serialize=function(e){return e!==void 0&&e?ee.Serializer.toJSON(this):ee.Serializer.toCloudApiJSON(this)},goog.exportProperty(ee.Geometry.prototype,"serialize",ee.Geometry.prototype.serialize),ee.Geometry.prototype.toString=function(){return"ee.Geometry("+this.toGeoJSONString()+")"},ee.Geometry.prototype.encodeCloudValue=function(e){if(!this.type_){if(!e)throw Error("Must specify a serializer when encoding a computed geometry.");return ee.ComputedObject.prototype.encodeCloudValue.call(this,e)}var t={},n="";this.type_==="GeometryCollection"?(t.geometries=this.geometries_.map(function(r){return new ee.Geometry(r)}),n="GeometryConstructors.MultiGeometry"):(t.coordinates=this.coordinates_,n="GeometryConstructors."+this.type_),this.proj_!=null&&(t.crs=typeof this.proj_=="string"?new ee.ApiFunction("Projection").call(this.proj_):this.proj_);var i=this.type_!=="Point"&&this.type_!=="MultiPoint";return this.geodesic_!=null&&i&&(t.geodesic=this.geodesic_),this.evenOdd_!=null&&(t.evenOdd=this.evenOdd_),new ee.ApiFunction(n).apply(t).encodeCloudValue(e)},ee.Geometry.isValidGeometry_=function(e){var t=e.type;if(t=="GeometryCollection"){var n=e.geometries;if(!Array.isArray(n))return!1;for(var i=0;i<n.length;i++)if(!ee.Geometry.isValidGeometry_(n[i]))return!1;return!0}var r=e.coordinates,u=ee.Geometry.isValidCoordinates_(r);return t=="Point"&&u==1||t=="MultiPoint"&&(u==2||r.length==0)||t=="LineString"&&u==2||t=="LinearRing"&&u==2||t=="MultiLineString"&&(u==3||r.length==0)||t=="Polygon"&&u==3||t=="MultiPolygon"&&(u==4||r.length==0)},ee.Geometry.isValidCoordinates_=function(e){if(!Array.isArray(e))return-1;if(Array.isArray(e[0])){for(var t=ee.Geometry.isValidCoordinates_(e[0]),n=1;n<e.length;n++)if(ee.Geometry.isValidCoordinates_(e[n])!=t)return-1;return t+1}for(n=0;n<e.length;n++)if(typeof e[n]!="number")return-1;return e.length%2==0?1:-1},ee.Geometry.coordinatesToLine_=function(e){if(typeof e[0]!="number"||e.length==2)return e;if(e.length%2!=0)throw Error("Invalid number of coordinates: "+e.length);for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t},ee.Geometry.construct_=function(e,t,n,i){var r=ee.Geometry.getEeApiArgs_(e,i);if(ee.Geometry.hasServerValue_(r.coordinates)||r.crs!=null||r.maxError!=null)return new ee.ApiFunction("GeometryConstructors."+t).apply(r);r.type=t,r.coordinates=ee.Geometry.fixDepth_(n,r.coordinates);var u=module$contents$goog$array_contains(["Polygon","Rectangle","MultiPolygon"],t);if(u&&r.evenOdd==null&&(r.evenOdd=!0),u&&r.geodesic===!1&&r.evenOdd===!1)throw Error("Planar interiors must be even/odd.");return r},ee.Geometry.getEeApiArgs_=function(e,t){if(module$contents$goog$array_every(t,ee.Types.isNumber))return{coordinates:module$contents$goog$array_toArray(t)};var n=ee.arguments.extractFromFunction(e,t);return n.coordinates=n.coords,delete n.coords,n.crs=n.proj,delete n.proj,module$contents$goog$object_filter(n,function(i){return i!=null})},ee.Geometry.hasServerValue_=function(e){return Array.isArray(e)?module$contents$goog$array_some(e,ee.Geometry.hasServerValue_):e instanceof ee.ComputedObject},ee.Geometry.fixDepth_=function(e,t){if(1>e||4<e)throw Error("Unexpected nesting level.");module$contents$goog$array_every(t,function(r){return typeof r=="number"})&&(t=ee.Geometry.coordinatesToLine_(t));for(var n=t,i=0;Array.isArray(n);)n=n[0],i++;for(;i<e;)t=[t],i++;if(ee.Geometry.isValidCoordinates_(t)!=e)throw Error("Invalid geometry");for(n=t;Array.isArray(n)&&n.length==1;)n=n[0];return Array.isArray(n)&&n.length==0?[]:t},ee.Geometry.createInstance_=function(e,t){var n=function(){};n.prototype=e.prototype;var i=new n,r=e.apply(i,t);return r!==void 0?r:i},ee.Geometry.prototype.name=function(){return"Geometry"},ee.Filter=function(e){if(!(this instanceof ee.Filter))return ee.ComputedObject.construct(ee.Filter,arguments);if(e instanceof ee.Filter)return e;if(ee.Filter.initialize(),Array.isArray(e)){if(e.length==0)throw Error("Empty list specified for ee.Filter().");if(e.length==1)return new ee.Filter(e[0]);ee.ComputedObject.call(this,new ee.ApiFunction("Filter.and"),{filters:e}),this.filter_=e}else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.filter_=[e];else if(e===void 0)ee.ComputedObject.call(this,null,null),this.filter_=[];else throw Error("Invalid argument specified for ee.Filter(): "+e)},goog.inherits(ee.Filter,ee.ComputedObject),goog.exportSymbol("ee.Filter",ee.Filter),ee.Filter.initialized_=!1,ee.Filter.initialize=function(){ee.Filter.initialized_||(ee.ApiFunction.importApi(ee.Filter,"Filter","Filter"),ee.Filter.initialized_=!0)},ee.Filter.reset=function(){ee.ApiFunction.clearApi(ee.Filter),ee.Filter.initialized_=!1},ee.Filter.functionNames_={equals:"equals",less_than:"lessThan",greater_than:"greaterThan",contains:"stringContains",starts_with:"stringStartsWith",ends_with:"stringEndsWith"},ee.Filter.prototype.append_=function(e){var t=this.filter_.slice(0);return e instanceof ee.Filter?module$contents$goog$array_extend(t,e.filter_):e instanceof Array?module$contents$goog$array_extend(t,e):t.push(e),new ee.Filter(t)},ee.Filter.prototype.not=function(){return ee.ApiFunction._call("Filter.not",this)},goog.exportProperty(ee.Filter.prototype,"not",ee.Filter.prototype.not),ee.Filter.eq=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.eq,arguments);return ee.ApiFunction._call("Filter.equals",n.name,n.value)},goog.exportProperty(ee.Filter,"eq",ee.Filter.eq),ee.Filter.neq=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.neq,arguments);return ee.Filter.eq(n.name,n.value).not()},goog.exportProperty(ee.Filter,"neq",ee.Filter.neq),ee.Filter.lt=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.lt,arguments);return ee.ApiFunction._call("Filter.lessThan",n.name,n.value)},goog.exportProperty(ee.Filter,"lt",ee.Filter.lt),ee.Filter.gte=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.gte,arguments);return ee.Filter.lt(n.name,n.value).not()},goog.exportProperty(ee.Filter,"gte",ee.Filter.gte),ee.Filter.gt=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.gt,arguments);return ee.ApiFunction._call("Filter.greaterThan",n.name,n.value)},goog.exportProperty(ee.Filter,"gt",ee.Filter.gt),ee.Filter.lte=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.lte,arguments);return ee.Filter.gt(n.name,n.value).not()},goog.exportProperty(ee.Filter,"lte",ee.Filter.lte),ee.Filter.and=function(e){var t=Array.prototype.slice.call(arguments);return ee.ApiFunction._call("Filter.and",t)},goog.exportProperty(ee.Filter,"and",ee.Filter.and),ee.Filter.or=function(e){var t=Array.prototype.slice.call(arguments);return ee.ApiFunction._call("Filter.or",t)},goog.exportProperty(ee.Filter,"or",ee.Filter.or),ee.Filter.date=function(e,t){var n=ee.arguments.extractFromFunction(ee.Filter.date,arguments),i=ee.ApiFunction._call("DateRange",n.start,n.end);return ee.ApiFunction._apply("Filter.dateRangeContains",{leftValue:i,rightField:"system:time_start"})},goog.exportProperty(ee.Filter,"date",ee.Filter.date),ee.Filter.inList=function(e,t,n,i){var r=ee.arguments.extractFromFunction(ee.Filter.inList,arguments);return ee.ApiFunction._apply("Filter.listContains",{leftField:r.rightField,rightValue:r.leftValue,rightField:r.leftField,leftValue:r.rightValue})},goog.exportProperty(ee.Filter,"inList",ee.Filter.inList),ee.Filter.bounds=function(e,t){return ee.ApiFunction._apply("Filter.intersects",{leftField:".all",rightValue:ee.ApiFunction._call("Feature",e),maxError:t})},goog.exportProperty(ee.Filter,"bounds",ee.Filter.bounds),ee.Filter.prototype.name=function(){return"Filter"},ee.Filter.metadata=function(e,t,n){t=t.toLowerCase();var i=!1;if(goog.string.startsWith(t,"not_")&&(i=!0,t=t.substring(4)),!(t in ee.Filter.functionNames_))throw Error("Unknown filtering operator: "+t);var r=ee.ApiFunction._call("Filter."+ee.Filter.functionNames_[t],e,n);return i?r.not():r},goog.exportProperty(ee.Filter,"metadata",ee.Filter.metadata),ee.Collection=function(e,t,n){ee.Element.call(this,e,t,n),ee.Collection.initialize()},goog.inherits(ee.Collection,ee.Element),goog.exportSymbol("ee.Collection",ee.Collection),ee.Collection.initialized_=!1,ee.Collection.initialize=function(){ee.Collection.initialized_||(ee.ApiFunction.importApi(ee.Collection,"Collection","Collection"),ee.ApiFunction.importApi(ee.Collection,"AggregateFeatureCollection","Collection","aggregate_"),ee.Collection.initialized_=!0)},ee.Collection.reset=function(){ee.ApiFunction.clearApi(ee.Collection),ee.Collection.initialized_=!1},ee.Collection.prototype.filter=function(e){if(e=ee.arguments.extractFromFunction(ee.Collection.prototype.filter,arguments).filter,!e)throw Error("Empty filters.");return this.castInternal(ee.ApiFunction._call("Collection.filter",this,e))},goog.exportProperty(ee.Collection.prototype,"filter",ee.Collection.prototype.filter),ee.Collection.prototype.filterMetadata=function(e,t,n){var i=ee.arguments.extractFromFunction(ee.Collection.prototype.filterMetadata,arguments);return this.filter(ee.Filter.metadata(i.name,i.operator,i.value))},goog.exportProperty(ee.Collection.prototype,"filterMetadata",ee.Collection.prototype.filterMetadata),ee.Collection.prototype.filterBounds=function(e){return this.filter(ee.Filter.bounds(e))},goog.exportProperty(ee.Collection.prototype,"filterBounds",ee.Collection.prototype.filterBounds),ee.Collection.prototype.filterDate=function(e,t){var n=ee.arguments.extractFromFunction(ee.Collection.prototype.filterDate,arguments);return this.filter(ee.Filter.date(n.start,n.end))},goog.exportProperty(ee.Collection.prototype,"filterDate",ee.Collection.prototype.filterDate),ee.Collection.prototype.limit=function(e,t,n){var i=ee.arguments.extractFromFunction(ee.Collection.prototype.limit,arguments);return this.castInternal(ee.ApiFunction._call("Collection.limit",this,i.max,i.property,i.ascending))},goog.exportProperty(ee.Collection.prototype,"limit",ee.Collection.prototype.limit),ee.Collection.prototype.sort=function(e,t){var n=ee.arguments.extractFromFunction(ee.Collection.prototype.sort,arguments);return this.castInternal(ee.ApiFunction._call("Collection.limit",this,void 0,n.property,n.ascending))},goog.exportProperty(ee.Collection.prototype,"sort",ee.Collection.prototype.sort),ee.Collection.prototype.name=function(){return"Collection"},ee.Collection.prototype.elementType=function(){return ee.Element},ee.Collection.prototype.map=function(e,t){var n=this.elementType();return this.castInternal(ee.ApiFunction._call("Collection.map",this,function(i){return e(new n(i))},t))},goog.exportProperty(ee.Collection.prototype,"map",ee.Collection.prototype.map),ee.Collection.prototype.iterate=function(e,t){var n=t!==void 0?t:null,i=this.elementType();return ee.ApiFunction._call("Collection.iterate",this,function(r,u){return e(new i(r),u)},n)},goog.exportProperty(ee.Collection.prototype,"iterate",ee.Collection.prototype.iterate),ee.Feature=function(e,t){if(!(this instanceof ee.Feature))return ee.ComputedObject.construct(ee.Feature,arguments);if(e instanceof ee.Feature){if(t)throw Error("Can't create Feature out of a Feature and properties.");return e}if(2<arguments.length)throw Error("The Feature constructor takes at most 2 arguments ("+arguments.length+" given)");if(ee.Feature.initialize(),e instanceof ee.Geometry||e===null)ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:e,metadata:t||null});else if(e instanceof ee.ComputedObject)ee.Element.call(this,e.func,e.args,e.varName);else if(e.type=="Feature"){var n=e.properties||{};if("id"in e){if("system:index"in n)throw Error(`Can't specify both "id" and "system:index".`);n=module$contents$goog$object_clone(n),n["system:index"]=e.id}ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:new ee.Geometry(e.geometry),metadata:n})}else ee.Element.call(this,new ee.ApiFunction("Feature"),{geometry:new ee.Geometry(e),metadata:t||null})},goog.inherits(ee.Feature,ee.Element),goog.exportSymbol("ee.Feature",ee.Feature),ee.Feature.initialized_=!1,ee.Feature.initialize=function(){ee.Feature.initialized_||(ee.ApiFunction.importApi(ee.Feature,"Feature","Feature"),ee.Feature.initialized_=!0)},ee.Feature.reset=function(){ee.ApiFunction.clearApi(ee.Feature),ee.Feature.initialized_=!1},ee.Feature.prototype.getInfo=function(e){return ee.Feature.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.Feature.prototype,"getInfo",ee.Feature.prototype.getInfo),ee.Feature.prototype.getMap=function(e,t){var n=ee.arguments.extractFromFunction(ee.Feature.prototype.getMap,arguments);return ee.ApiFunction._call("Collection",[this]).getMap(n.visParams,n.callback)},goog.exportProperty(ee.Feature.prototype,"getMap",ee.Feature.prototype.getMap),ee.Feature.prototype.name=function(){return"Feature"},ee.data.images={},ee.data.images.applyTransformsToImage=function(e){var t={},n=ee.data.images.applyCrsAndTransform(e.element,e);return n=ee.data.images.applySelectionAndScale(n,e,t),t.element=n,t},ee.data.images.applyTransformsToCollection=function(e){var t={},n=e.element.map(function(i){var r=ee.data.images.applyCrsAndTransform(i,e);return ee.data.images.applySelectionAndScale(r,e,t)});return t.element=n,t},ee.data.images.applySelectionAndScale=function(e,t,n){var i={},r=!1,u=["maxDimension","width","height","scale"];return module$contents$goog$object_forEach(t,function(d,c){if(d!=null)switch(c){case"dimensions":var v=typeof d=="string"?d.split("x").map(Number):Array.isArray(d)?d:typeof d=="number"?[d]:[];if(v.length===1)i.maxDimension=v[0];else if(v.length===2)i.width=v[0],i.height=v[1];else throw Error("Invalid dimensions "+d);break;case"dimensions_consumed":r=!0;break;case"bbox":i.geometry!=null&&console.warn("Multiple request parameters converted to region."),i.geometry=ee.data.images.bboxToGeometry(d);break;case"region":i.geometry!=null&&console.warn("Multiple request parameters converted to region."),i.geometry=ee.data.images.regionToGeometry(d);break;case"scale":i.scale=Number(d);break;default:n[c]=d}}),module$contents$goog$object_isEmpty(i)||(i.input=e,e=u.some(function(d){return d in i})||r?ee.ApiFunction._apply("Image.clipToBoundsAndScale",i):ee.ApiFunction._apply("Image.clip",i)),e},ee.data.images.bboxToGeometry=function(e){if(e instanceof ee.Geometry.Rectangle)return e;var t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{t=e.split(/\s*,\s*/).map(Number)}if(Array.isArray(t)){if(t.some(isNaN))throw Error("Invalid bbox `{bboxArray}`, please specify a list of numbers.");return new ee.Geometry.Rectangle(t,null,!1)}throw Error('Invalid bbox "{bbox}" type, must be of type Array<number>')},ee.data.images.regionToGeometry=function(e){if(e instanceof ee.Geometry)return e;var t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw Error('Region string "'+e+'" is not valid GeoJSON.')}if(Array.isArray(t))return new ee.Geometry.Polygon(t,null,!1);if(goog.isObject(t))return new ee.Geometry(t,null,!1);throw Error("Region {region} was not convertible to an ee.Geometry.")},ee.data.images.applyCrsAndTransform=function(e,t){var n=t.crs||"",i=t.crsTransform||t.crs_transform;if(i!=null&&(i=ee.data.images.maybeConvertCrsTransformToArray_(i)),!n&&!i)return e;if(i&&!n)throw Error('Must specify "crs" if "crsTransform" is specified.');if(i){if(e=ee.ApiFunction._apply("Image.reproject",{image:e,crs:n,crsTransform:i}),t.dimensions!=null&&t.scale==null&&t.region==null){var r=t.dimensions;if(typeof r=="string"&&(r=r.split("x").map(Number)),r.length===2){delete t.dimensions,t.dimensions_consumed=!0;var u=new ee.ApiFunction("Projection").call(n,i);t.region=new ee.Geometry.Rectangle([0,0,r[0],r[1]],u,!1)}}}else e=ee.ApiFunction._apply("Image.setDefaultProjection",{image:e,crs:n,crsTransform:[1,0,0,0,-1,0]});return e},ee.data.images.maybeConvertCrsTransformToArray_=function(e){var t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch{}if(Array.isArray(t)){if(t.length===6&&module$contents$goog$array_every(t,function(n){return typeof n=="number"}))return t;throw Error("Invalid argument, crs transform must be a list of 6 numbers.")}throw Error("Invalid argument, crs transform was not a string or array.")},ee.data.images.applyVisualization=function(e,t){var n={},i=ee.data.images.extractVisParams(t,n);return module$contents$goog$object_isEmpty(i)||(i.image=e,e=ee.ApiFunction._apply("Image.visualize",i)),n.image=e,n},ee.data.images.extractVisParams=function(e,t){var n="bands gain bias min max gamma palette opacity forceRgbOutput".split(" "),i={};return module$contents$goog$object_forEach(e,function(r,u){module$contents$goog$array_contains(n,u)?i[u]=r:t[u]=r}),i},ee.data.images.buildDownloadIdImage=function(e,t){t=Object.assign({},t);var n=function(d){var c={};return["crs","crs_transform","dimensions","region"].forEach(function(v){v in d&&(c[v]=d[v])}),d.scale!=null&&d.dimensions==null&&(c.scale=d.scale),c},i=function(d){var c=d.id;if(c===void 0)throw Error("Each band dictionary must have an id.");var v=e.select(c),S=n(t),C=n(d);return C=n(Object.assign(S,C)),v=ee.data.images.applyCrsAndTransform(v,C),v=ee.data.images.applySelectionAndScale(v,C,{})};if(t.format==="ZIPPED_GEO_TIFF_PER_BAND"&&t.bands&&t.bands.length){var r=t.bands.map(i);e=r.reduce(function(d,c){return ee.ApiFunction._call("Image.addBands",d,c,null,!0)},r.shift())}else{var u=n(t);e=ee.data.images.applyCrsAndTransform(e,u),e=ee.data.images.applySelectionAndScale(e,u,{})}return e},ee.Image=function(e){if(!(this instanceof ee.Image))return ee.ComputedObject.construct(ee.Image,arguments);if(e instanceof ee.Image)return e;ee.Image.initialize();var t=arguments.length;if(t==0||t==1&&e===void 0)ee.Element.call(this,new ee.ApiFunction("Image.mask"),{image:new ee.Image(0),mask:new ee.Image(0)});else if(t==1)if(ee.Types.isNumber(e))ee.Element.call(this,new ee.ApiFunction("Image.constant"),{value:e});else if(ee.Types.isString(e))ee.Element.call(this,new ee.ApiFunction("Image.load"),{id:e});else{if(Array.isArray(e))return ee.Image.combine_(module$contents$goog$array_map(e,function(r){return new ee.Image(r)}));if(e instanceof ee.ComputedObject)e.name()=="Array"?ee.Element.call(this,new ee.ApiFunction("Image.constant"),{value:e}):ee.Element.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to an Image: "+e)}else if(t==2){var n=arguments[0],i=arguments[1];if(ee.Types.isString(n)&&ee.Types.isNumber(i))ee.Element.call(this,new ee.ApiFunction("Image.load"),{id:n,version:i});else throw Error("Unrecognized argument types to convert to an Image: "+arguments)}else throw Error("The Image constructor takes at most 2 arguments ("+t+" given)")},goog.inherits(ee.Image,ee.Element),goog.exportSymbol("ee.Image",ee.Image),ee.Image.initialized_=!1,ee.Image.initialize=function(){ee.Image.initialized_||(ee.ApiFunction.importApi(ee.Image,"Image","Image"),ee.Image.initialized_=!0)},ee.Image.reset=function(){ee.ApiFunction.clearApi(ee.Image),ee.Image.initialized_=!1},ee.Image.prototype.getInfo=function(e){return ee.Image.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.Image.prototype,"getInfo",ee.Image.prototype.getInfo),ee.Image.prototype.getMap=function(e,t){var n=this,i=ee.arguments.extractFromFunction(ee.Image.prototype.getMap,arguments),r=ee.data.images.applyVisualization(this,i.visParams);if(i.callback){var u=i.callback;ee.data.getMapId(r,function(c,v){var S=c?Object.assign(c,{image:n}):void 0;u(S,v)})}else{var d=ee.data.getMapId(r);return d.image=this,d}},goog.exportProperty(ee.Image.prototype,"getMap",ee.Image.prototype.getMap),ee.Image.prototype.getDownloadURL=function(e,t){var n=ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL,arguments),i=n.params?module$contents$goog$object_clone(n.params):{};if(i.image=this,n.callback){var r=n.callback;ee.data.getDownloadId(i,function(u,d){u?r(ee.data.makeDownloadUrl(u)):r(null,d)})}else return ee.data.makeDownloadUrl(ee.data.getDownloadId(i))},goog.exportProperty(ee.Image.prototype,"getDownloadURL",ee.Image.prototype.getDownloadURL),ee.Image.prototype.getThumbId=function(e,t){var n=ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL,arguments),i=n.params?module$contents$goog$object_clone(n.params):{},r={},u=ee.data.images.applyCrsAndTransform(this,i);return u=ee.data.images.applySelectionAndScale(u,i,r),i=ee.data.images.applyVisualization(u,r),n.callback?(ee.data.getThumbId(i,n.callback),null):ee.data.getThumbId(i)},goog.exportProperty(ee.Image.prototype,"getThumbId",ee.Image.prototype.getThumbId),ee.Image.prototype.getThumbURL=function(e,t){var n=ee.arguments.extractFromFunction(ee.Image.prototype.getThumbURL,arguments);if(n.callback)this.getThumbId(n.params,function(i,r){var u="";if(r===void 0)try{u=ee.data.makeThumbUrl(i)}catch(d){r=String(d.message)}n.callback(u,r)});else return ee.data.makeThumbUrl(this.getThumbId(n.params))},goog.exportProperty(ee.Image.prototype,"getThumbURL",ee.Image.prototype.getThumbURL),ee.Image.rgb=function(e,t,n){var i=ee.arguments.extractFromFunction(ee.Image.rgb,arguments);return ee.Image.combine_([i.r,i.g,i.b],["vis-red","vis-green","vis-blue"])},goog.exportProperty(ee.Image,"rgb",ee.Image.rgb),ee.Image.cat=function(e){var t=Array.prototype.slice.call(arguments);return ee.Image.combine_(t,null)},goog.exportProperty(ee.Image,"cat",ee.Image.cat),ee.Image.combine_=function(e,t){if(e.length==0)return ee.ApiFunction._call("Image.constant",[]);for(var n=new ee.Image(e[0]),i=1;i<e.length;i++)n=ee.ApiFunction._call("Image.addBands",n,e[i]);return t&&(n=n.select([".*"],t)),n},ee.Image.prototype.select=function(e){var t=Array.prototype.slice.call(arguments),n={input:this,bandSelectors:t[0]||[]};if(2<t.length||ee.Types.isString(t[0])||ee.Types.isNumber(t[0])){for(var i=0;i<t.length;i++)if(!(ee.Types.isString(t[i])||ee.Types.isNumber(t[i])||t[i]instanceof ee.ComputedObject))throw Error("Illegal argument to select(): "+t[i]);n.bandSelectors=t}else t[1]&&(n.newNames=t[1]);return ee.ApiFunction._apply("Image.select",n)},goog.exportProperty(ee.Image.prototype,"select",ee.Image.prototype.select),ee.Image.prototype.expression=function(e,t){var n=ee.arguments.extractFromFunction(ee.Image.prototype.expression,arguments),i=["DEFAULT_EXPRESSION_IMAGE"],r={DEFAULT_EXPRESSION_IMAGE:this};if(n.map){var u=n.map,d;for(d in u)i.push(d),r[d]=new ee.Image(u[d])}var c=ee.ApiFunction._call("Image.parseExpression",n.expression,"DEFAULT_EXPRESSION_IMAGE",i),v=new ee.Function;return v.encode=function(S){return c.encode(S)},v.encodeCloudInvocation=function(S,C){return ee.rpc_node.functionByReference(S.makeReference(c),C)},v.getSignature=function(){return{name:"",args:module$contents$goog$array_map(i,function(S){return{name:S,type:"Image",optional:!1}},this),returns:"Image"}},v.apply(r)},goog.exportProperty(ee.Image.prototype,"expression",ee.Image.prototype.expression),ee.Image.prototype.clip=function(e){try{e=new ee.Geometry(e)}catch{}return ee.ApiFunction._call("Image.clip",this,e)},goog.exportProperty(ee.Image.prototype,"clip",ee.Image.prototype.clip),ee.Image.prototype.rename=function(e){var t=arguments.length!=1||ee.Types.isString(arguments[0])?Array.from(arguments):arguments[0];return ee.ApiFunction._call("Image.rename",this,t)},goog.exportProperty(ee.Image.prototype,"rename",ee.Image.prototype.rename),ee.Image.prototype.name=function(){return"Image"},ee.List=function(e){if(this instanceof ee.List){if(1<arguments.length)throw Error("ee.List() only accepts 1 argument.");if(e instanceof ee.List)return e}else return ee.ComputedObject.construct(ee.List,arguments);if(ee.List.initialize(),Array.isArray(e))ee.ComputedObject.call(this,null,null),this.list_=e;else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.list_=null;else throw Error("Invalid argument specified for ee.List(): "+e)},goog.inherits(ee.List,ee.ComputedObject),goog.exportSymbol("ee.List",ee.List),ee.List.initialized_=!1,ee.List.initialize=function(){ee.List.initialized_||(ee.ApiFunction.importApi(ee.List,"List","List"),ee.List.initialized_=!0)},ee.List.reset=function(){ee.ApiFunction.clearApi(ee.List),ee.List.initialized_=!1},ee.List.prototype.encode=function(e){return Array.isArray(this.list_)?module$contents$goog$array_map(this.list_,function(t){return e(t)}):ee.List.superClass_.encode.call(this,e)},ee.List.prototype.encodeCloudValue=function(e){return Array.isArray(this.list_)?ee.rpc_node.reference(e.makeReference(this.list_)):ee.List.superClass_.encodeCloudValue.call(this,e)},ee.List.prototype.name=function(){return"List"},ee.FeatureCollection=function(e,t){if(!(this instanceof ee.FeatureCollection))return ee.ComputedObject.construct(ee.FeatureCollection,arguments);if(e instanceof ee.FeatureCollection)return e;if(2<arguments.length)throw Error("The FeatureCollection constructor takes at most 2 arguments ("+arguments.length+" given)");if(ee.FeatureCollection.initialize(),e instanceof ee.Geometry&&(e=new ee.Feature(e)),e instanceof ee.Feature&&(e=[e]),ee.Types.isString(e)){var n={tableId:e};t&&(n.geometryColumn=t),ee.Collection.call(this,new ee.ApiFunction("Collection.loadTable"),n)}else if(Array.isArray(e))ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:module$contents$goog$array_map(e,function(i){return new ee.Feature(i)})});else if(e instanceof ee.List)ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:e});else if(e&&typeof e=="object"&&e.type==="FeatureCollection")ee.Collection.call(this,new ee.ApiFunction("Collection"),{features:e.features.map(function(i){return new ee.Feature(i)})});else if(e instanceof ee.ComputedObject)ee.Collection.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to a FeatureCollection: "+e)},goog.inherits(ee.FeatureCollection,ee.Collection),goog.exportSymbol("ee.FeatureCollection",ee.FeatureCollection),ee.FeatureCollection.initialized_=!1,ee.FeatureCollection.initialize=function(){ee.FeatureCollection.initialized_||(ee.ApiFunction.importApi(ee.FeatureCollection,"FeatureCollection","FeatureCollection"),ee.FeatureCollection.initialized_=!0)},ee.FeatureCollection.reset=function(){ee.ApiFunction.clearApi(ee.FeatureCollection),ee.FeatureCollection.initialized_=!1},ee.FeatureCollection.prototype.getMap=function(e,t){var n=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getMap,arguments),i=ee.ApiFunction._apply("Collection.draw",{collection:this,color:(n.visParams||{}).color||"000000"});if(n.callback)i.getMap(void 0,n.callback);else return i.getMap()},goog.exportProperty(ee.FeatureCollection.prototype,"getMap",ee.FeatureCollection.prototype.getMap),ee.FeatureCollection.prototype.getInfo=function(e){return ee.FeatureCollection.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.FeatureCollection.prototype,"getInfo",ee.FeatureCollection.prototype.getInfo),ee.FeatureCollection.prototype.getDownloadURL=function(e,t,n,i){var r=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getDownloadURL,arguments),u={table:this};if(r.format&&(u.format=r.format.toUpperCase()),r.filename&&(u.filename=r.filename),r.selectors&&(u.selectors=r.selectors),r.callback)ee.data.getTableDownloadId(u,function(d,c){d?r.callback(ee.data.makeTableDownloadUrl(d)):r.callback(null,c)});else return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(u))},goog.exportProperty(ee.FeatureCollection.prototype,"getDownloadURL",ee.FeatureCollection.prototype.getDownloadURL),ee.FeatureCollection.prototype.select=function(e,t,n){if(ee.Types.isString(e)){var i=Array.prototype.slice.call(arguments);return this.map(function(u){return u.select(i)})}var r=ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.select,arguments);return this.map(function(u){return u.select(r)})},goog.exportProperty(ee.FeatureCollection.prototype,"select",ee.FeatureCollection.prototype.select),ee.FeatureCollection.prototype.name=function(){return"FeatureCollection"},ee.FeatureCollection.prototype.elementType=function(){return ee.Feature},ee.ImageCollection=function(e){if(!(this instanceof ee.ImageCollection))return ee.ComputedObject.construct(ee.ImageCollection,arguments);if(e instanceof ee.ImageCollection)return e;if(arguments.length!=1)throw Error("The ImageCollection constructor takes exactly 1 argument ("+arguments.length+" given)");if(ee.ImageCollection.initialize(),e instanceof ee.Image&&(e=[e]),ee.Types.isString(e))ee.Collection.call(this,new ee.ApiFunction("ImageCollection.load"),{id:e});else if(Array.isArray(e))ee.Collection.call(this,new ee.ApiFunction("ImageCollection.fromImages"),{images:module$contents$goog$array_map(e,function(t){return new ee.Image(t)})});else if(e instanceof ee.List)ee.Collection.call(this,new ee.ApiFunction("ImageCollection.fromImages"),{images:e});else if(e instanceof ee.ComputedObject)ee.Collection.call(this,e.func,e.args,e.varName);else throw Error("Unrecognized argument type to convert to an ImageCollection: "+e)},goog.inherits(ee.ImageCollection,ee.Collection),goog.exportSymbol("ee.ImageCollection",ee.ImageCollection),ee.ImageCollection.initialized_=!1,ee.ImageCollection.initialize=function(){ee.ImageCollection.initialized_||(ee.ApiFunction.importApi(ee.ImageCollection,"ImageCollection","ImageCollection"),ee.ApiFunction.importApi(ee.ImageCollection,"reduce","ImageCollection"),ee.ImageCollection.initialized_=!0)},ee.ImageCollection.reset=function(){ee.ApiFunction.clearApi(ee.ImageCollection),ee.ImageCollection.initialized_=!1},ee.ImageCollection.prototype.getFilmstripThumbURL=function(e,t){var n=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getFilmstripThumbURL,arguments);return ee.ImageCollection.prototype.getThumbURL_(this,n,["png","jpg","jpeg"],ee.ImageCollection.ThumbTypes.FILMSTRIP,t)},goog.exportProperty(ee.ImageCollection.prototype,"getFilmstripThumbURL",ee.ImageCollection.prototype.getFilmstripThumbURL),ee.ImageCollection.prototype.getVideoThumbURL=function(e,t){var n=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getVideoThumbURL,arguments);return ee.ImageCollection.prototype.getThumbURL_(this,n,["gif"],ee.ImageCollection.ThumbTypes.VIDEO,t)},goog.exportProperty(ee.ImageCollection.prototype,"getVideoThumbURL",ee.ImageCollection.prototype.getVideoThumbURL),ee.ImageCollection.ThumbTypes={FILMSTRIP:"filmstrip",VIDEO:"video",IMAGE:"image"},ee.ImageCollection.prototype.getThumbURL_=function(e,t,n,i,r){var u={},d=e.map(function(C){var O=ee.data.images.applyCrsAndTransform(C,t.params);return ee.data.images.applySelectionAndScale(O,t.params,u)}),c={},v=ee.data.images.extractVisParams(u,c);if(c.imageCollection=d.map(function(C){return v.image=C,ee.ApiFunction._apply("Image.visualize",v)}),t.params.dimensions!=null&&(c.dimensions=t.params.dimensions),c.format){if(!module$contents$goog$array_some(n,function(C){return goog.string.caseInsensitiveEquals(C,c.format)}))throw Error("Invalid format specified.")}else c.format=n[0];var S=ee.data.getThumbId;switch(i){case ee.ImageCollection.ThumbTypes.VIDEO:S=ee.data.getVideoThumbId;break;case ee.ImageCollection.ThumbTypes.FILMSTRIP:S=ee.data.getFilmstripThumbId}if(t.callback)S(c,function(C,O){var R="";if(O===void 0)try{R=ee.data.makeThumbUrl(C)}catch(H){O=String(H.message)}t.callback(R,O)});else return ee.data.makeThumbUrl(S(c))},ee.ImageCollection.prototype.getMap=function(e,t){var n=ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getMap,arguments),i=ee.ApiFunction._call("ImageCollection.mosaic",this);if(n.callback)i.getMap(n.visParams,n.callback);else return i.getMap(n.visParams)},goog.exportProperty(ee.ImageCollection.prototype,"getMap",ee.ImageCollection.prototype.getMap),ee.ImageCollection.prototype.getInfo=function(e){return ee.ImageCollection.superClass_.getInfo.call(this,e)},goog.exportProperty(ee.ImageCollection.prototype,"getInfo",ee.ImageCollection.prototype.getInfo),ee.ImageCollection.prototype.select=function(e,t){var n=arguments;return this.map(function(i){return i.select.apply(i,n)})},goog.exportProperty(ee.ImageCollection.prototype,"select",ee.ImageCollection.prototype.select),ee.ImageCollection.prototype.first=function(){return new ee.Image(ee.ApiFunction._call("Collection.first",this))},goog.exportProperty(ee.ImageCollection.prototype,"first",ee.ImageCollection.prototype.first),ee.ImageCollection.prototype.name=function(){return"ImageCollection"},ee.ImageCollection.prototype.elementType=function(){return ee.Image},ee.batch={};var module$contents$ee$batch_Export={image:{},map:{},table:{},video:{},videoMap:{},classifier:{}},module$contents$ee$batch_ExportTask=function(e){this.config_=e,this.id=null};module$contents$ee$batch_ExportTask.create=function(e){var t={element:module$contents$ee$batch_Export.extractElement(e)};return Object.assign(t,e),t=module$contents$goog$object_filter(t,function(n){return n!=null}),new module$contents$ee$batch_ExportTask(t)},module$contents$ee$batch_ExportTask.prototype.start=function(e,t){var n=this;if(goog.asserts.assert(this.config_,"Task config must be specified for tasks to be started."),e){var i=function(){goog.asserts.assertString(n.id),ee.data.startProcessing(n.id,n.config_,function(r,u){u?t(u):e()})};this.id?i():ee.data.newTaskId(1,function(r){var u=r&&r[0];u?(n.id=u,i()):t("Failed to obtain task ID.")})}else this.id=this.id||ee.data.newTaskId(1)[0],goog.asserts.assertString(this.id,"Failed to obtain task ID."),ee.data.startProcessing(this.id,this.config_)},goog.exportProperty(module$contents$ee$batch_ExportTask.prototype,"start",module$contents$ee$batch_ExportTask.prototype.start),module$contents$ee$batch_Export.image.toAsset=function(e,t,n,i,r,u,d,c,v,S,C){var O=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toAsset,arguments),R=module$contents$ee$batch_Export.convertToServerParams(O,ee.data.ExportDestination.ASSET,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(R)},goog.exportSymbol("module$contents$ee$batch_Export.image.toAsset",module$contents$ee$batch_Export.image.toAsset),module$contents$ee$batch_Export.image.toCloudStorage=function(e,t,n,i,r,u,d,c,v,S,C,O,R,H,K){var le=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toCloudStorage,arguments),fe=module$contents$ee$batch_Export.convertToServerParams(le,ee.data.ExportDestination.GCS,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(fe)},goog.exportSymbol("module$contents$ee$batch_Export.image.toCloudStorage",module$contents$ee$batch_Export.image.toCloudStorage),module$contents$ee$batch_Export.image.toDrive=function(e,t,n,i,r,u,d,c,v,S,C,O,R,H,K){var le=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toDrive,arguments),fe=module$contents$ee$batch_Export.convertToServerParams(le,ee.data.ExportDestination.DRIVE,ee.data.ExportType.IMAGE);return module$contents$ee$batch_ExportTask.create(fe)},goog.exportSymbol("module$contents$ee$batch_Export.image.toDrive",module$contents$ee$batch_Export.image.toDrive),module$contents$ee$batch_Export.map.toCloudStorage=function(e,t,n,i,r,u,d,c,v,S,C,O,R){var H=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.map.toCloudStorage,arguments),K=module$contents$ee$batch_Export.convertToServerParams(H,ee.data.ExportDestination.GCS,ee.data.ExportType.MAP);return module$contents$ee$batch_ExportTask.create(K)},goog.exportSymbol("module$contents$ee$batch_Export.map.toCloudStorage",module$contents$ee$batch_Export.map.toCloudStorage),module$contents$ee$batch_Export.table.toCloudStorage=function(e,t,n,i,r,u,d){var c=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toCloudStorage,arguments),v=module$contents$ee$batch_Export.convertToServerParams(c,ee.data.ExportDestination.GCS,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(v)},goog.exportSymbol("module$contents$ee$batch_Export.table.toCloudStorage",module$contents$ee$batch_Export.table.toCloudStorage),module$contents$ee$batch_Export.table.toDrive=function(e,t,n,i,r,u,d){var c=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDrive,arguments);c.type=ee.data.ExportType.TABLE;var v=module$contents$ee$batch_Export.convertToServerParams(c,ee.data.ExportDestination.DRIVE,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(v)},goog.exportSymbol("module$contents$ee$batch_Export.table.toDrive",module$contents$ee$batch_Export.table.toDrive),module$contents$ee$batch_Export.table.toAsset=function(e,t,n,i){var r=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toAsset,arguments),u=module$contents$ee$batch_Export.convertToServerParams(r,ee.data.ExportDestination.ASSET,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(u)},goog.exportSymbol("module$contents$ee$batch_Export.table.toAsset",module$contents$ee$batch_Export.table.toAsset),module$contents$ee$batch_Export.table.toDmsLayer=function(e,t,n,i){var r=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDmsLayer,arguments),u=module$contents$ee$batch_Export.convertToServerParams(r,ee.data.ExportDestination.DMS,ee.data.ExportType.TABLE);return module$contents$ee$batch_ExportTask.create(u)},goog.exportSymbol("module$contents$ee$batch_Export.table.toDmsLayer",module$contents$ee$batch_Export.table.toDmsLayer),module$contents$ee$batch_Export.video.toCloudStorage=function(e,t,n,i,r,u,d,c,v,S,C,O){var R=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toCloudStorage,arguments),H=module$contents$ee$batch_Export.convertToServerParams(R,ee.data.ExportDestination.GCS,ee.data.ExportType.VIDEO);return module$contents$ee$batch_ExportTask.create(H)},goog.exportSymbol("module$contents$ee$batch_Export.video.toCloudStorage",module$contents$ee$batch_Export.video.toCloudStorage),module$contents$ee$batch_Export.video.toDrive=function(e,t,n,i,r,u,d,c,v,S,C,O){var R=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toDrive,arguments),H=module$contents$ee$batch_Export.convertToServerParams(R,ee.data.ExportDestination.DRIVE,ee.data.ExportType.VIDEO);return module$contents$ee$batch_ExportTask.create(H)},goog.exportSymbol("module$contents$ee$batch_Export.video.toDrive",module$contents$ee$batch_Export.video.toDrive),module$contents$ee$batch_Export.videoMap.toCloudStorage=function(e,t,n,i,r,u,d,c,v,S,C,O,R,H,K,le,fe,ye,xe,Pe){var Re=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.videoMap.toCloudStorage,arguments),Ze=module$contents$ee$batch_Export.convertToServerParams(Re,ee.data.ExportDestination.GCS,ee.data.ExportType.VIDEO_MAP);return module$contents$ee$batch_ExportTask.create(Ze)},goog.exportSymbol("module$contents$ee$batch_Export.videoMap.toCloudStorage",module$contents$ee$batch_Export.videoMap.toCloudStorage),module$contents$ee$batch_Export.classifier.toAsset=function(e,t,n){var i=ee.arguments.extractFromFunction(module$contents$ee$batch_Export.classifier.toAsset,arguments),r=module$contents$ee$batch_Export.convertToServerParams(i,ee.data.ExportDestination.ASSET,ee.data.ExportType.CLASSIFIER);return module$contents$ee$batch_ExportTask.create(r)},goog.exportSymbol("module$contents$ee$batch_Export.classifier.toAsset",module$contents$ee$batch_Export.classifier.toAsset),module$contents$ee$batch_Export.serializeRegion=function(e){if(e instanceof ee.Geometry)e=e.toGeoJSON();else if(typeof e=="string")try{e=goog.asserts.assertObject(JSON.parse(e))}catch{throw Error("Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.")}if(!(goog.isObject(e)&&"type"in e))try{new ee.Geometry.LineString(e)}catch{try{new ee.Geometry.Polygon(e)}catch{throw Error("Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.")}}return JSON.stringify(e)},module$contents$ee$batch_Export.resolveRegionParam=function(e){if(e=module$contents$goog$object_clone(e),!e.region)return goog.Promise.resolve(e);var t=e.region;return t instanceof ee.ComputedObject?(t instanceof ee.Element&&(t=t.geometry()),new goog.Promise(function(n,i){t.getInfo(function(r,u){u?i(u):(e.region=e.type===ee.data.ExportType.IMAGE?new ee.Geometry(r):module$contents$ee$batch_Export.serializeRegion(r),n(e))})})):(e.region=e.type===ee.data.ExportType.IMAGE?new ee.Geometry(t):module$contents$ee$batch_Export.serializeRegion(t),goog.Promise.resolve(e))},module$contents$ee$batch_Export.extractElement=function(e){var t=function(u){return u in e},n=module$contents$ee$batch_Export.EE_ELEMENT_KEYS.find(t);goog.asserts.assert(module$contents$goog$array_count(module$contents$ee$batch_Export.EE_ELEMENT_KEYS,t)===1,'Expected a single "image", "collection" or "classifier" key.');var i=e[n];if(i instanceof ee.Image)var r=i;else if(i instanceof ee.FeatureCollection)r=i;else if(i instanceof ee.ImageCollection)r=i;else if(i instanceof ee.Element)r=i;else if(i instanceof ee.ComputedObject)r=i;else throw Error("Unknown element type provided: "+typeof i+". Expected:  ee.Image, ee.ImageCollection, ee.FeatureCollection,  ee.Element or ee.ComputedObject.");return delete e[n],r},module$contents$ee$batch_Export.convertToServerParams=function(e,t,n,i){i=i===void 0?!0:i;var r={type:n};switch(Object.assign(r,e),n){case ee.data.ExportType.IMAGE:r=module$contents$ee$batch_Export.image.prepareTaskConfig_(r,t);break;case ee.data.ExportType.MAP:r=module$contents$ee$batch_Export.map.prepareTaskConfig_(r,t);break;case ee.data.ExportType.TABLE:r=module$contents$ee$batch_Export.table.prepareTaskConfig_(r,t);break;case ee.data.ExportType.VIDEO:r=module$contents$ee$batch_Export.video.prepareTaskConfig_(r,t);break;case ee.data.ExportType.VIDEO_MAP:r=module$contents$ee$batch_Export.videoMap.prepareTaskConfig_(r,t);break;case ee.data.ExportType.CLASSIFIER:r=module$contents$ee$batch_Export.classifier.prepareTaskConfig_(r,t);break;default:throw Error("Unknown export type: "+r.type)}return i&&r.region!=null&&(r.region=module$contents$ee$batch_Export.serializeRegion(r.region)),r},module$contents$ee$batch_Export.prepareDestination_=function(e,t){switch(t){case ee.data.ExportDestination.GCS:e.outputBucket=e.bucket||"",e.outputPrefix=e.fileNamePrefix||e.path||"",delete e.fileNamePrefix,delete e.path,delete e.bucket;break;case ee.data.ExportDestination.ASSET:e.assetId=e.assetId||"";break;case ee.data.ExportDestination.DMS:e.dmsName=e.dmsName||"";break;default:var n=goog.typeOf(e.folder);if(!module$contents$goog$array_contains(["string","undefined"],n))throw Error('Error: toDrive "folder" parameter must be a string, but is of type '+n+".");e.driveFolder=e.folder||"",e.driveFileNamePrefix=e.fileNamePrefix||"",delete e.folder,delete e.fileNamePrefix}return e},module$contents$ee$batch_Export.image.prepareTaskConfig_=function(e,t){return e.fileFormat==null&&(e.fileFormat="GeoTIFF"),e=module$contents$ee$batch_Export.reconcileImageFormat(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t),e.crsTransform!=null&&(e[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY]=e.crsTransform,delete e.crsTransform),e},module$contents$ee$batch_Export.table.prepareTaskConfig_=function(e,t){return Array.isArray(e.selectors)&&(e.selectors=e.selectors.join()),e=module$contents$ee$batch_Export.reconcileTableFormat(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t)},module$contents$ee$batch_Export.map.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.prepareDestination_(e,t),e=module$contents$ee$batch_Export.reconcileMapFormat(e)},module$contents$ee$batch_Export.video.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.reconcileVideoFormat_(e),e=module$contents$ee$batch_Export.prepareDestination_(e,t),e.crsTransform!=null&&(e[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY]=e.crsTransform,delete e.crsTransform),e},module$contents$ee$batch_Export.videoMap.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.reconcileVideoFormat_(e),e.version=e.version||module$contents$ee$batch_VideoMapVersion.V1,e.stride=e.stride||1,e.tileDimensions={width:e.tileWidth||256,height:e.tileHeight||256},e=module$contents$ee$batch_Export.prepareDestination_(e,t)},module$contents$ee$batch_Export.classifier.prepareTaskConfig_=function(e,t){return e=module$contents$ee$batch_Export.prepareDestination_(e,t)};var module$contents$ee$batch_VideoFormat={MP4:"MP4",GIF:"GIF",VP9:"VP9"},module$contents$ee$batch_MapFormat={AUTO_JPEG_PNG:"AUTO_JPEG_PNG",JPEG:"JPEG",PNG:"PNG"},module$contents$ee$batch_ImageFormat={GEO_TIFF:"GEO_TIFF",TF_RECORD_IMAGE:"TF_RECORD_IMAGE"},module$contents$ee$batch_TableFormat={CSV:"CSV",GEO_JSON:"GEO_JSON",KML:"KML",KMZ:"KMZ",SHP:"SHP",TF_RECORD_TABLE:"TF_RECORD_TABLE"},module$contents$ee$batch_VideoMapVersion={V1:"V1"},module$contents$ee$batch_FORMAT_OPTIONS_MAP={GEO_TIFF:["cloudOptimized","fileDimensions","shardSize"],TF_RECORD_IMAGE:"patchDimensions kernelSize compressed maxFileSize defaultValue tensorDepths sequenceData collapseBands maskedThreshold".split(" ")},module$contents$ee$batch_FORMAT_PREFIX_MAP={GEO_TIFF:"tiff",TF_RECORD_IMAGE:"tfrecord"};module$contents$ee$batch_Export.reconcileVideoFormat_=function(e){e.videoOptions=e.framesPerSecond||5,e.maxFrames=e.maxFrames||1e3,e.maxPixels=e.maxPixels||1e8;var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_VideoFormat.MP4),t=t.toUpperCase(),t){case"MP4":t=module$contents$ee$batch_VideoFormat.MP4;break;case"GIF":case"JIF":t=module$contents$ee$batch_VideoFormat.GIF;break;case"VP9":case"WEBM":t=module$contents$ee$batch_VideoFormat.VP9;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'MP4', 'GIF', and 'WEBM'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.reconcileImageFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_ImageFormat.GEO_TIFF),t=t.toUpperCase(),t){case"TIFF":case"TIF":case"GEO_TIFF":case"GEOTIFF":t=module$contents$ee$batch_ImageFormat.GEO_TIFF;break;case"TF_RECORD":case"TF_RECORD_IMAGE":case"TFRECORD":t=module$contents$ee$batch_ImageFormat.TF_RECORD_IMAGE;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'GEOTIFF', 'TFRECORD'.")}if(e.fileFormat=t,e.formatOptions!=null){var n=module$contents$ee$batch_Export.prefixImageFormatOptions_(e,t);delete e.formatOptions,Object.assign(e,n)}return e},module$contents$ee$batch_Export.reconcileMapFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG),t=t.toUpperCase(),t){case"AUTO":case"AUTO_JPEG_PNG":case"AUTO_JPG_PNG":t=module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG;break;case"JPG":case"JPEG":t=module$contents$ee$batch_MapFormat.JPEG;break;case"PNG":t=module$contents$ee$batch_MapFormat.PNG;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'AUTO', 'PNG', and 'JPEG'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.reconcileTableFormat=function(e){var t=e.fileFormat;switch(t==null&&(t=module$contents$ee$batch_TableFormat.CSV),t=t.toUpperCase(),t){case"CSV":t=module$contents$ee$batch_TableFormat.CSV;break;case"JSON":case"GEOJSON":case"GEO_JSON":t=module$contents$ee$batch_TableFormat.GEO_JSON;break;case"KML":t=module$contents$ee$batch_TableFormat.KML;break;case"KMZ":t=module$contents$ee$batch_TableFormat.KMZ;break;case"SHP":t=module$contents$ee$batch_TableFormat.SHP;break;case"TF_RECORD":case"TF_RECORD_TABLE":case"TFRECORD":t=module$contents$ee$batch_TableFormat.TF_RECORD_TABLE;break;default:throw Error("Invalid file format "+t+". Supported formats are: 'CSV', 'GeoJSON', 'KML', 'KMZ', 'SHP', and 'TFRecord'.")}return e.fileFormat=t,e},module$contents$ee$batch_Export.prefixImageFormatOptions_=function(e,t){var n=e.formatOptions;if(n==null)return{};if(Object.keys(e).some(function(H){return module$contents$goog$object_containsKey(n,H)}))throw Error("Parameter specified at least twice: once in config, and once in config format options.");for(var i=module$contents$ee$batch_FORMAT_PREFIX_MAP[t],r=module$contents$ee$batch_FORMAT_OPTIONS_MAP[t],u={},d=$jscomp.makeIterator(Object.entries(n)),c=d.next();!c.done;c=d.next()){var v=$jscomp.makeIterator(c.value),S=v.next().value,C=v.next().value;if(!module$contents$goog$array_contains(r,S)){var O=r.join(", ");throw Error('"'+S+'" is not a valid option, the image format "'+t+'""may have the following options: '+(O+'".'))}var R=i+S[0].toUpperCase()+S.substring(1);Array.isArray(C)?u[R]=C.join():u[R]=C}return u},module$contents$ee$batch_Export.CRS_TRANSFORM_KEY="crs_transform",module$contents$ee$batch_Export.EE_ELEMENT_KEYS=["image","collection","classifier"],ee.batch.Export=module$contents$ee$batch_Export,ee.batch.ExportTask=module$contents$ee$batch_ExportTask,ee.batch.ImageFormat=module$contents$ee$batch_ImageFormat,ee.batch.MapFormat=module$contents$ee$batch_MapFormat,ee.batch.ServerTaskConfig={},ee.batch.TableFormat=module$contents$ee$batch_TableFormat,ee.batch.VideoFormat=module$contents$ee$batch_VideoFormat,ee.Number=function(e){if(!(this instanceof ee.Number))return ee.ComputedObject.construct(ee.Number,arguments);if(e instanceof ee.Number)return e;if(ee.Number.initialize(),typeof e=="number")ee.ComputedObject.call(this,null,null),this.number_=e;else if(e instanceof ee.ComputedObject)ee.ComputedObject.call(this,e.func,e.args,e.varName),this.number_=null;else throw Error("Invalid argument specified for ee.Number(): "+e)},goog.inherits(ee.Number,ee.ComputedObject),goog.exportSymbol("ee.Number",ee.Number),ee.Number.initialized_=!1,ee.Number.initialize=function(){ee.Number.initialized_||(ee.ApiFunction.importApi(ee.Number,"Number","Number"),ee.Number.initialized_=!0)},ee.Number.reset=function(){ee.ApiFunction.clearApi(ee.Number),ee.Number.initialized_=!1},ee.Number.prototype.encode=function(e){return typeof this.number_=="number"?this.number_:ee.Number.superClass_.encode.call(this,e)},ee.Number.prototype.encodeCloudValue=function(e){return typeof this.number_=="number"?ee.rpc_node.reference(e.makeReference(this.number_)):ee.Number.superClass_.encodeCloudValue.call(this,e)},ee.Number.prototype.name=function(){return"Number"},ee.String=function(e){if(!(this instanceof ee.String))return ee.ComputedObject.construct(ee.String,arguments);if(e instanceof ee.String)return e;if(ee.String.initialize(),typeof e=="string")ee.ComputedObject.call(this,null,null),this.string_=e;else if(e instanceof ee.ComputedObject)this.string_=null,e.func&&e.func.getSignature().returns=="String"?ee.ComputedObject.call(this,e.func,e.args,e.varName):ee.ComputedObject.call(this,new ee.ApiFunction("String"),{input:e},null);else throw Error("Invalid argument specified for ee.String(): "+e)},goog.inherits(ee.String,ee.ComputedObject),goog.exportSymbol("ee.String",ee.String),ee.String.initialized_=!1,ee.String.initialize=function(){ee.String.initialized_||(ee.ApiFunction.importApi(ee.String,"String","String"),ee.String.initialized_=!0)},ee.String.reset=function(){ee.ApiFunction.clearApi(ee.String),ee.String.initialized_=!1},ee.String.prototype.encode=function(e){return typeof this.string_=="string"?this.string_:ee.String.superClass_.encode.call(this,e)},ee.String.prototype.encodeCloudValue=function(e){return typeof this.string_=="string"?ee.rpc_node.reference(e.makeReference(this.string_)):ee.String.superClass_.encodeCloudValue.call(this,e)},ee.String.prototype.name=function(){return"String"},ee.CustomFunction=function(e,t){if(!(this instanceof ee.CustomFunction))return ee.ComputedObject.construct(ee.CustomFunction,arguments);for(var n=[],i=e.args,r=0;r<i.length;r++){var u=i[r];n.push(ee.CustomFunction.variable(ee.Types.nameToClass(u.type),u.name))}if(t.apply(null,n)===void 0)throw Error("User-defined methods must return a value.");this.signature_=ee.CustomFunction.resolveNamelessArgs_(e,n,t),this.body_=t.apply(null,n)},goog.inherits(ee.CustomFunction,ee.Function),goog.exportSymbol("ee.CustomFunction",ee.CustomFunction),ee.CustomFunction.prototype.encode=function(e){return{type:"Function",argumentNames:module$contents$goog$array_map(this.signature_.args,function(t){return t.name}),body:e(this.body_)}},ee.CustomFunction.prototype.encodeCloudValue=function(e){return ee.rpc_node.functionDefinition(this.signature_.args.map(function(t){return t.name}),e.makeReference(this.body_))},ee.CustomFunction.prototype.encodeCloudInvocation=function(e,t){return ee.rpc_node.functionByReference(e.makeReference(this),t)},ee.CustomFunction.prototype.getSignature=function(){return this.signature_},ee.CustomFunction.variable=function(e,t){if(e=e||Object,!(e.prototype instanceof ee.ComputedObject))if(e&&e!=Object)if(e==String)e=ee.String;else if(e==Number)e=ee.Number;else if(e==Array)e=goog.global.ee.List;else throw Error("Variables must be of an EE type, e.g. ee.Image or ee.Number.");else e=ee.ComputedObject;var n=function(i){this.args=this.func=null,this.varName=i};return n.prototype=e.prototype,new n(t)},ee.CustomFunction.create=function(e,t,n){var i=function(d){return typeof d=="string"?d:ee.Types.classToName(d)},r=module$contents$goog$array_map(n,function(d){return{name:null,type:i(d)}}),u={name:"",returns:i(t),args:r};return new ee.CustomFunction(u,e)},ee.CustomFunction.resolveNamelessArgs_=function(e,t,n){for(var i=[],r=0;r<t.length;r++)t[r].varName===null&&i.push(r);if(i.length===0)return e;for(var u="_MAPPING_VAR_"+function(S){var C=function(R){return R.map(O).reduce(function(H,K){return H+K},0)},O=function(R){return R.functionDefinitionValue?1:R.arrayValue?C(R.arrayValue.values):R.dictionaryValue?C(Object.values(R.dictionaryValue.values)):R.functionInvocationValue?C(Object.values(R.functionInvocationValue.arguments)):0};return C(Object.values(S.values))}(ee.Serializer.encodeCloudApiExpression(n.apply(null,t),"<unbound>"))+"_",d=0;d<i.length;d++){var c=i[d],v=u+d;t[c].varName=v,e.args[c].name=v}return e},ee.Date=function(e,t){if(!(this instanceof ee.Date))return ee.ComputedObject.construct(ee.Date,arguments);if(e instanceof ee.Date)return e;ee.Date.initialize();var n=ee.arguments.extractFromFunction(ee.Date,arguments);e=n.date;var i=n.tz,r=new ee.ApiFunction("Date"),u={},d=null;if(ee.Types.isString(e)){if(u.value=e,i)if(ee.Types.isString(i))u.timeZone=i;else throw Error("Invalid argument specified for ee.Date(..., opt_tz): "+i)}else if(ee.Types.isNumber(e))u.value=e;else if(goog.isDateLike(e))u.value=Math.floor(e.getTime());else if(e instanceof ee.ComputedObject)e.func&&e.func.getSignature().returns=="Date"?(r=e.func,u=e.args,d=e.varName):u.value=e;else throw Error("Invalid argument specified for ee.Date(): "+e);ee.ComputedObject.call(this,r,u,d)},goog.inherits(ee.Date,ee.ComputedObject),goog.exportSymbol("ee.Date",ee.Date),ee.Date.initialized_=!1,ee.Date.initialize=function(){ee.Date.initialized_||(ee.ApiFunction.importApi(ee.Date,"Date","Date"),ee.Date.initialized_=!0)},ee.Date.reset=function(){ee.ApiFunction.clearApi(ee.Date),ee.Date.initialized_=!1},ee.Date.prototype.name=function(){return"Date"},ee.Deserializer=function(){},goog.exportSymbol("ee.Deserializer",ee.Deserializer),ee.Deserializer.fromJSON=function(e){return ee.Deserializer.decode(JSON.parse(e))},goog.exportSymbol("ee.Deserializer.fromJSON",ee.Deserializer.fromJSON),ee.Deserializer.decode=function(e){if("result"in e&&"values"in e)return ee.Deserializer.decodeCloudApi(e);var t={};if(goog.isObject(e)&&e.type==="CompoundValue"){for(var n=e.scope,i=0;i<n.length;i++){var r=n[i][0],u=n[i][1];if(r in t)throw Error('Duplicate scope key "'+r+'" in scope #'+i+".");t[r]=ee.Deserializer.decodeValue_(u,t)}e=e.value}return ee.Deserializer.decodeValue_(e,t)},goog.exportSymbol("ee.Deserializer.decode",ee.Deserializer.decode),ee.Deserializer.decodeValue_=function(e,t){if(e===null||typeof e=="number"||typeof e=="boolean"||typeof e=="string")return e;if(Array.isArray(e))return module$contents$goog$array_map(e,function(S){return ee.Deserializer.decodeValue_(S,t)});if(!goog.isObject(e)||typeof e=="function")throw Error("Cannot decode object: "+e);var n=e.type;switch(n){case"ValueRef":if(e.value in t)return t[e.value];throw Error("Unknown ValueRef: "+e);case"ArgumentRef":var i=e.value;if(typeof i!="string")throw Error("Invalid variable name: "+i);return ee.CustomFunction.variable(Object,i);case"Date":var r=e.value;if(typeof r!="number")throw Error("Invalid date value: "+r);return new ee.Date(r/1e3);case"Bytes":return ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:e}),e);case"Invocation":var u="functionName"in e?ee.ApiFunction.lookup(e.functionName):ee.Deserializer.decodeValue_(e.function,t),d=module$contents$goog$object_map(e.arguments,function(S){return ee.Deserializer.decodeValue_(S,t)});return ee.Deserializer.invocation_(u,d);case"Dictionary":return module$contents$goog$object_map(e.value,function(S){return ee.Deserializer.decodeValue_(S,t)});case"Function":var c=ee.Deserializer.decodeValue_(e.body,t),v={name:"",args:module$contents$goog$array_map(e.argumentNames,function(S){return{name:S,type:"Object",optional:!1}}),returns:"Object"};return new ee.CustomFunction(v,function(){return c});case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"LinearRing":case"GeometryCollection":return new ee.Geometry(e);case"CompoundValue":throw Error("Nested CompoundValues are disallowed.");default:throw Error("Unknown encoded object type: "+n)}},ee.Deserializer.roundTrip_=function(e,t){var n=function(){};return $jscomp.inherits(n,ee.Encodable),n.prototype.encode=function(i){return t},n.prototype.encodeCloudValue=function(i){return e},new n},ee.Deserializer.invocation_=function(e,t){if(e instanceof ee.Function)return e.apply(t);if(e instanceof ee.ComputedObject){var n=function(){return ee.Function.apply(this,arguments)||this};return $jscomp.inherits(n,ee.Function),n.prototype.encode=function(i){return e.encode(i)},n.prototype.encodeCloudInvocation=function(i,r){return ee.rpc_node.functionByReference(i.makeReference(e),r)},new ee.ComputedObject(new n,t)}throw Error("Invalid function value")},ee.Deserializer.fromCloudApiJSON=function(e){return ee.Deserializer.decodeCloudApi(JSON.parse(e))},goog.exportSymbol("ee.Deserializer.fromCloudApiJSON",ee.Deserializer.fromCloudApiJSON),ee.Deserializer.decodeCloudApi=function(e){var t=module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Expression,e),n={},i=function(c,v){if(!(c in n)){if(!(c in t.values))throw Error("Cannot find "+v+" "+c);n[c]=r(t.values[c])}return n[c]},r=function(c){return c.constantValue!==null?c.constantValue:c.arrayValue!==null?c.arrayValue.values.map(r):c.dictionaryValue!==null?module$contents$goog$object_map(c.dictionaryValue.values,r):c.argumentReference!==null?ee.CustomFunction.variable(Object,c.argumentReference):c.functionDefinitionValue!==null?u(c.functionDefinitionValue):c.functionInvocationValue!==null?d(c.functionInvocationValue):c.bytesValue!==null?ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:c.bytesValue}),c.bytesValue):c.integerValue!==null?ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({integerValue:c.integerValue}),c.integerValue):c.valueReference!==null?i(c.valueReference,"reference"):null},u=function(c){var v=i(c.body,"function body"),S={args:c.argumentNames.map(function(C){return{name:C,type:"Object",optional:!1}}),name:"",returns:"Object"};return new ee.CustomFunction(S,function(){return v})},d=function(c){var v=c.functionReference?i(c.functionReference,"function"):ee.ApiFunction.lookup(c.functionName),S=module$contents$goog$object_map(c.arguments,r);return ee.Deserializer.invocation_(v,S)};return i(t.result,"result value")},goog.exportSymbol("ee.Deserializer.decodeCloudApi",ee.Deserializer.decodeCloudApi),ee.Dictionary=function(e){if(!(this instanceof ee.Dictionary))return ee.ComputedObject.construct(ee.Dictionary,arguments);if(e instanceof ee.Dictionary)return e;ee.Dictionary.initialize(),ee.Types.isRegularObject(e)?(ee.ComputedObject.call(this,null,null),this.dict_=e):(e instanceof ee.ComputedObject&&e.func&&e.func.getSignature().returns=="Dictionary"?ee.ComputedObject.call(this,e.func,e.args,e.varName):ee.ComputedObject.call(this,new ee.ApiFunction("Dictionary"),{input:e},null),this.dict_=null)},goog.inherits(ee.Dictionary,ee.ComputedObject),goog.exportSymbol("ee.Dictionary",ee.Dictionary),ee.Dictionary.initialized_=!1,ee.Dictionary.initialize=function(){ee.Dictionary.initialized_||(ee.ApiFunction.importApi(ee.Dictionary,"Dictionary","Dictionary"),ee.Dictionary.initialized_=!0)},ee.Dictionary.reset=function(){ee.ApiFunction.clearApi(ee.Dictionary),ee.Dictionary.initialized_=!1},ee.Dictionary.prototype.encode=function(e){return this.dict_!==null?e(this.dict_):ee.Dictionary.superClass_.encode.call(this,e)},ee.Dictionary.prototype.encodeCloudValue=function(e){return this.dict_!==null?ee.rpc_node.reference(e.makeReference(this.dict_)):ee.Dictionary.superClass_.encodeCloudValue.call(this,e)},ee.Dictionary.prototype.name=function(){return"Dictionary"},ee.Terrain={},goog.exportSymbol("ee.Terrain",ee.Terrain),ee.Terrain.initialized_=!1,ee.Terrain.initialize=function(){ee.Terrain.initialized_||(ee.ApiFunction.importApi(ee.Terrain,"Terrain","Terrain"),ee.Terrain.initialized_=!0)},ee.Terrain.reset=function(){ee.ApiFunction.clearApi(ee.Terrain),ee.Terrain.initialized_=!1},ee.initialize=function(e,t,n,i,r,u){if(ee.ready_!=ee.InitState.READY||e||t){var d=n!=null;if(i)if(d)ee.errorCallbacks_.push(i);else throw Error("Can't pass an error callback without a success callback.");if(ee.ready_==ee.InitState.LOADING&&d)ee.successCallbacks_.push(n);else if(ee.ready_=ee.InitState.LOADING,ee.data.initialize(e,t,r,u),d)ee.successCallbacks_.push(n),ee.ApiFunction.initialize(ee.initializationSuccess_,ee.initializationFailure_);else try{ee.ApiFunction.initialize(),ee.initializationSuccess_()}catch(c){throw ee.initializationFailure_(c),c}}else n&&n()},goog.exportSymbol("ee.initialize",ee.initialize),ee.reset=function(){ee.ready_=ee.InitState.NOT_READY,ee.data.reset(),ee.ApiFunction.reset(),ee.Date.reset(),ee.Dictionary.reset(),ee.Element.reset(),ee.Image.reset(),ee.Feature.reset(),ee.Collection.reset(),ee.ImageCollection.reset(),ee.FeatureCollection.reset(),ee.Filter.reset(),ee.Geometry.reset(),ee.List.reset(),ee.Number.reset(),ee.String.reset(),ee.Terrain.reset(),ee.resetGeneratedClasses_(),module$contents$goog$object_clear(ee.Algorithms)},goog.exportSymbol("ee.reset",ee.reset),ee.InitState={NOT_READY:"not_ready",LOADING:"loading",READY:"ready"},goog.exportSymbol("ee.InitState",ee.InitState),goog.exportSymbol("ee.InitState.NOT_READY",ee.InitState.NOT_READY),goog.exportSymbol("ee.InitState.LOADING",ee.InitState.LOADING),goog.exportSymbol("ee.InitState.READY",ee.InitState.READY),ee.ready_=ee.InitState.NOT_READY,ee.successCallbacks_=[],ee.errorCallbacks_=[],ee.TILE_SIZE=256,goog.exportSymbol("ee.TILE_SIZE",ee.TILE_SIZE),ee.generatedClasses_=[],ee.Algorithms={},goog.exportSymbol("ee.Algorithms",ee.Algorithms),ee.ready=function(){return ee.ready_},ee.call=function(e,t){typeof e=="string"&&(e=new ee.ApiFunction(e));var n=Array.prototype.slice.call(arguments,1);return ee.Function.prototype.call.apply(e,n)},goog.exportSymbol("ee.call",ee.call),ee.apply=function(e,t){return typeof e=="string"&&(e=new ee.ApiFunction(e)),e.apply(t)},goog.exportSymbol("ee.apply",ee.apply),ee.initializationSuccess_=function(){if(ee.ready_==ee.InitState.LOADING){try{ee.Date.initialize(),ee.Dictionary.initialize(),ee.Element.initialize(),ee.Image.initialize(),ee.Feature.initialize(),ee.Collection.initialize(),ee.ImageCollection.initialize(),ee.FeatureCollection.initialize(),ee.Filter.initialize(),ee.Geometry.initialize(),ee.List.initialize(),ee.Number.initialize(),ee.String.initialize(),ee.Terrain.initialize(),ee.initializeGeneratedClasses_(),ee.initializeUnboundMethods_()}catch(e){ee.initializationFailure_(e);return}for(ee.ready_=ee.InitState.READY,ee.errorCallbacks_=[];0<ee.successCallbacks_.length;)ee.successCallbacks_.shift()()}},ee.initializationFailure_=function(e){if(ee.ready_==ee.InitState.LOADING)for(ee.ready_=ee.InitState.NOT_READY,ee.successCallbacks_=[];0<ee.errorCallbacks_.length;)ee.errorCallbacks_.shift()(e)},ee.promote_=function(e,t){if(e===null)return null;if(e!==void 0){var n=goog.global.ee;switch(t){case"Image":return new ee.Image(e);case"Feature":return e instanceof ee.Collection?ee.ApiFunction._call("Feature",ee.ApiFunction._call("Collection.geometry",e)):new ee.Feature(e);case"Element":if(e instanceof ee.Element)return e;if(e instanceof ee.Geometry)return new ee.Feature(e);if(e instanceof ee.ComputedObject)return new ee.Element(e.func,e.args,e.varName);throw Error("Cannot convert "+e+" to Element.");case"Geometry":return e instanceof ee.FeatureCollection?ee.ApiFunction._call("Collection.geometry",e):new ee.Geometry(e);case"FeatureCollection":case"Collection":return e instanceof ee.Collection?e:new ee.FeatureCollection(e);case"ImageCollection":return new ee.ImageCollection(e);case"Filter":return new ee.Filter(e);case"Algorithm":if(typeof e=="string")return new ee.ApiFunction(e);if(typeof e=="function")return ee.CustomFunction.create(e,"Object",module$contents$goog$array_repeat("Object",e.length));if(e instanceof ee.Encodable)return e;throw Error("Argument is not a function: "+e);case"String":return ee.Types.isString(e)||e instanceof ee.String||e instanceof ee.ComputedObject?new ee.String(e):e;case"Dictionary":return ee.Types.isRegularObject(e)?e:new ee.Dictionary(e);case"List":return new ee.List(e);case"Number":case"Float":case"Long":case"Integer":case"Short":case"Byte":return new ee.Number(e);default:if(t in n){var i=ee.ApiFunction.lookupInternal(t);if(e instanceof n[t])return e;if(i)return new n[t](e);if(typeof e=="string"){if(e in n[t])return n[t][e].call();throw Error("Unknown algorithm: "+t+"."+e)}return new n[t](e)}return e}}},ee.initializeUnboundMethods_=function(){var e=ee.ApiFunction.unboundFunctions();module$contents$goog$object_getKeys(e).sort().forEach(function(t){var n=e[t],i=n.getSignature();if(!i.hidden){var r=t.split("."),u=ee.Algorithms;for(u.signature={};1<r.length;){var d=r[0];d in u||(u[d]={signature:{}}),u=u[d],r=module$contents$goog$array_slice(r,1)}var c=function(v){return n.callOrApply(void 0,Array.prototype.slice.call(arguments,0))};c.signature=i,c.toString=goog.bind(n.toString,n),u[r[0]]=c}})},ee.initializeGeneratedClasses_=function(){var e=ee.ApiFunction.allSignatures(),t={},n={},i;for(i in e){var r=i.indexOf(".")!=-1?i.slice(0,i.indexOf(".")):i;t[r]=!0;var u=e[i].returns.replace(/<.*>/,"");n[u]=!0}var d=goog.global.ee,c;for(c in t)c in n&&!(c in d)&&(d[c]=ee.makeClass_(c),ee.generatedClasses_.push(c),e[c]?(d[c].signature=e[c],d[c].signature.isConstructor=!0,ee.ApiFunction.boundSignatures_[c]=!0):d[c].signature={});ee.Types.registerClasses(d)},ee.resetGeneratedClasses_=function(){for(var e=goog.global.ee,t=0;t<ee.generatedClasses_.length;t++){var n=ee.generatedClasses_[t];ee.ApiFunction.clearApi(e[n]),delete e[n]}ee.generatedClasses_=[],ee.Types.registerClasses(e)},ee.makeClass_=function(e){var t=function(n){var i=goog.global.ee[e],r=Array.prototype.slice.call(arguments),u=r.length==1;if(u&&r[0]instanceof i)return r[0];if(!(this instanceof i))return ee.ComputedObject.construct(i,r);var d=ee.ApiFunction.lookupInternal(e),c=!(r[0]instanceof ee.ComputedObject),v=!1;if(d&&(u?c?v=!0:r[0].func&&r[0].func.getSignature().returns==d.getSignature().returns||(v=!0):v=!0),v){var S=ee.Types.useKeywordArgs(r,d.getSignature())?r[0]:d.nameArgs(r);ee.ComputedObject.call(this,d,d.promoteArgs(S))}else{if(!u)throw Error("Too many arguments for ee."+e+"(): "+r);if(c)throw Error("Invalid argument for ee."+e+"(): "+r+". Must be a ComputedObject.");var C=r[0];ee.ComputedObject.call(this,C.func,C.args,C.varName)}};return goog.inherits(t,ee.ComputedObject),t.prototype.name=function(){return e},ee.ApiFunction.importApi(t,e,e),t},ee.Function.registerPromoter(ee.promote_),ee.FloatTileOverlay=function(e,t,n){ee.AbstractOverlay.call(this,e,t,n),this.tileSize=new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH,ee.FloatTileOverlay.TILE_EDGE_LENGTH),this.floatTiles_=new goog.structs.Map,this.floatTileDivs_=new goog.structs.Map},$jscomp.inherits(ee.FloatTileOverlay,ee.AbstractOverlay),ee.FloatTileOverlay.prototype.getTile=function(e,t,n){var i=this.getTileId(e,t),r=[this.url,i].join("/")+"?token="+this.token,u=[i,this.tileCounter,this.token].join("/");this.tilesLoading.push(u),this.tileCounter+=1;var d=goog.dom.createDom(goog.dom.TagName.DIV);return this.loadFloatTile_(r,e,u,d),this.dispatchTileEvent_(),d},ee.FloatTileOverlay.prototype.loadFloatTile_=function(e,t,n,i){var r=goog.net.XmlHttp();r.open("GET",e,!0),r.responseType="arraybuffer",r.onreadystatechange=goog.bind(function(){if(r.readyState===XMLHttpRequest.DONE&&r.status===200){var u=r.response;if(u){var d=new Float32Array(u);this.handleFloatTileLoaded_(d,t,n,i)}else throw this.tilesFailed.add(n),Error("Unable to request floating point array buffers.")}},this),r.send()},ee.FloatTileOverlay.prototype.handleFloatTileLoaded_=function(e,t,n,i){this.floatTiles_.set(t,e),this.floatTileDivs_.set(t,i),module$contents$goog$array_remove(this.tilesLoading,n),this.dispatchTileEvent_()},ee.FloatTileOverlay.prototype.getAllFloatTiles=function(){return this.floatTiles_},ee.FloatTileOverlay.prototype.getAllFloatTileDivs=function(){return this.floatTileDivs_},ee.FloatTileOverlay.prototype.getLoadedFloatTilesCount=function(){return this.floatTiles_.getCount()},ee.FloatTileOverlay.prototype.dispatchTileEvent_=function(){this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length))},ee.FloatTileOverlay.prototype.disposeInternal=function(){this.floatTileDivs_=this.floatTiles_=null,ee.AbstractOverlay.prototype.disposeInternal.call(this)},goog.exportSymbol("ee.FloatTileOverlay",ee.FloatTileOverlay),ee.FloatTileOverlay.TILE_EDGE_LENGTH=256,ee.layers={};var module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats=function(e){this.statsByZoom_=new Map,this.uniqueId_=e};module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.addTileStats=function(e,t,n){this.getStatsForZoom_(n).tileLatencies.push(t-e)},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementThrottleCounter=function(e){this.getStatsForZoom_(e).throttleCount++},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementErrorCounter=function(e){this.getStatsForZoom_(e).errorCount++},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.clear=function(){this.statsByZoom_.clear()},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.hasData=function(){return 0<this.statsByZoom_.size},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getSummaryList=function(){var e=this,t=[];return this.statsByZoom_.forEach(function(n,i){return t.push({layerId:e.uniqueId_,zoomLevel:i,tileLatencies:n.tileLatencies,throttleCount:n.throttleCount,errorCount:n.errorCount})}),t},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getStatsForZoom_=function(e){return this.statsByZoom_.has(e)||this.statsByZoom_.set(e,{throttleCount:0,errorCount:0,tileLatencies:[]}),this.statsByZoom_.get(e)},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.LayerStatsForZoomLevel=function(){},module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.Summary=function(){},ee.layers.AbstractOverlayStats=module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats,goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,t,n,i){return this.listen_(e,t,n,i)},goog.events.EventHandler.prototype.listenWithScope=function(e,t,n,i,r){return this.listen_(e,t,n,i,r)},goog.events.EventHandler.prototype.listen_=function(e,t,n,i,r){Array.isArray(t)||(t&&(goog.events.EventHandler.typeArray_[0]=t.toString()),t=goog.events.EventHandler.typeArray_);for(var u=0;u<t.length;u++){var d=goog.events.listen(e,t[u],n||this.handleEvent,i||!1,r||this.handler_||this);if(!d)break;this.keys_[d.key]=d}return this},goog.events.EventHandler.prototype.listenOnce=function(e,t,n,i){return this.listenOnce_(e,t,n,i)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,t,n,i,r){return this.listenOnce_(e,t,n,i,r)},goog.events.EventHandler.prototype.listenOnce_=function(e,t,n,i,r){if(Array.isArray(t))for(var u=0;u<t.length;u++)this.listenOnce_(e,t[u],n,i,r);else{var d=goog.events.listenOnce(e,t,n||this.handleEvent,i,r||this.handler_||this);if(!d)return this;this.keys_[d.key]=d}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,t,n,i){return this.listenWithWrapper_(e,t,n,i)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,n,i,r){return this.listenWithWrapper_(e,t,n,i,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,t,n,i,r){return t.listen(e,n,i,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e=0,t;for(t in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,t)&&e++;return e},goog.events.EventHandler.prototype.unlisten=function(e,t,n,i,r){if(Array.isArray(t))for(var u=0;u<t.length;u++)this.unlisten(e,t[u],n,i,r);else{var d=goog.events.getListener(e,t,n||this.handleEvent,goog.isObject(i)?!!i.capture:!!i,r||this.handler_||this);d&&(goog.events.unlistenByKey(d),delete this.keys_[d.key])}return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,n,i,r){return t.unlisten(e,n,i,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){module$contents$goog$object_forEach(this.keys_,function(e,t){this.keys_.hasOwnProperty(t)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.fs.DOMErrorLike=function(){},goog.fs.Error=function(e,t){if(e.name!==void 0)this.name=e.name,this.code=goog.fs.Error.getCodeFromName_(e.name);else{var n=goog.asserts.assertNumber(e.code);this.code=n,this.name=goog.fs.Error.getNameFromCode_(n)}module$contents$goog$debug$Error_DebugError.call(this,goog.string.subs("%s %s",this.name,t))},goog.inherits(goog.fs.Error,module$contents$goog$debug$Error_DebugError),goog.fs.Error.ErrorName={ABORT:"AbortError",ENCODING:"EncodingError",INVALID_MODIFICATION:"InvalidModificationError",INVALID_STATE:"InvalidStateError",NOT_FOUND:"NotFoundError",NOT_READABLE:"NotReadableError",NO_MODIFICATION_ALLOWED:"NoModificationAllowedError",PATH_EXISTS:"PathExistsError",QUOTA_EXCEEDED:"QuotaExceededError",SECURITY:"SecurityError",SYNTAX:"SyntaxError",TYPE_MISMATCH:"TypeMismatchError"},goog.fs.Error.ErrorCode={NOT_FOUND:1,SECURITY:2,ABORT:3,NOT_READABLE:4,ENCODING:5,NO_MODIFICATION_ALLOWED:6,INVALID_STATE:7,SYNTAX:8,INVALID_MODIFICATION:9,QUOTA_EXCEEDED:10,TYPE_MISMATCH:11,PATH_EXISTS:12},goog.fs.Error.getNameFromCode_=function(e){var t=module$contents$goog$object_findKey(goog.fs.Error.NameToCodeMap_,function(n){return e==n});if(t===void 0)throw Error("Invalid code: "+e);return t},goog.fs.Error.getCodeFromName_=function(e){return goog.fs.Error.NameToCodeMap_[e]};var $jscomp$compprop4={};goog.fs.Error.NameToCodeMap_=($jscomp$compprop4[goog.fs.Error.ErrorName.ABORT]=goog.fs.Error.ErrorCode.ABORT,$jscomp$compprop4[goog.fs.Error.ErrorName.ENCODING]=goog.fs.Error.ErrorCode.ENCODING,$jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_MODIFICATION]=goog.fs.Error.ErrorCode.INVALID_MODIFICATION,$jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_STATE]=goog.fs.Error.ErrorCode.INVALID_STATE,$jscomp$compprop4[goog.fs.Error.ErrorName.NOT_FOUND]=goog.fs.Error.ErrorCode.NOT_FOUND,$jscomp$compprop4[goog.fs.Error.ErrorName.NOT_READABLE]=goog.fs.Error.ErrorCode.NOT_READABLE,$jscomp$compprop4[goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED]=goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED,$jscomp$compprop4[goog.fs.Error.ErrorName.PATH_EXISTS]=goog.fs.Error.ErrorCode.PATH_EXISTS,$jscomp$compprop4[goog.fs.Error.ErrorName.QUOTA_EXCEEDED]=goog.fs.Error.ErrorCode.QUOTA_EXCEEDED,$jscomp$compprop4[goog.fs.Error.ErrorName.SECURITY]=goog.fs.Error.ErrorCode.SECURITY,$jscomp$compprop4[goog.fs.Error.ErrorName.SYNTAX]=goog.fs.Error.ErrorCode.SYNTAX,$jscomp$compprop4[goog.fs.Error.ErrorName.TYPE_MISMATCH]=goog.fs.Error.ErrorCode.TYPE_MISMATCH,$jscomp$compprop4),goog.fs.ProgressEvent=function(e,t){goog.events.Event.call(this,e.type,t),this.event_=e},goog.inherits(goog.fs.ProgressEvent,goog.events.Event),goog.fs.ProgressEvent.prototype.isLengthComputable=function(){return this.event_.lengthComputable},goog.fs.ProgressEvent.prototype.getLoaded=function(){return this.event_.loaded},goog.fs.ProgressEvent.prototype.getTotal=function(){return this.event_.total},goog.fs.FileReader=function(){goog.events.EventTarget.call(this),this.reader_=new FileReader,this.reader_.onloadstart=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onprogress=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onload=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onabort=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onerror=goog.bind(this.dispatchProgressEvent_,this),this.reader_.onloadend=goog.bind(this.dispatchProgressEvent_,this)},goog.inherits(goog.fs.FileReader,goog.events.EventTarget),goog.fs.FileReader.ReadyState={INIT:0,LOADING:1,DONE:2},goog.fs.FileReader.EventType={LOAD_START:"loadstart",PROGRESS:"progress",LOAD:"load",ABORT:"abort",ERROR:"error",LOAD_END:"loadend"},goog.fs.FileReader.prototype.abort=function(){try{this.reader_.abort()}catch(e){throw new goog.fs.Error(e,"aborting read")}},goog.fs.FileReader.prototype.getReadyState=function(){return this.reader_.readyState},goog.fs.FileReader.prototype.getResult=function(){return this.reader_.result},goog.fs.FileReader.prototype.getError=function(){return this.reader_.error&&new goog.fs.Error(this.reader_.error,"reading file")},goog.fs.FileReader.prototype.dispatchProgressEvent_=function(e){this.dispatchEvent(new goog.fs.ProgressEvent(e,this))},goog.fs.FileReader.prototype.disposeInternal=function(){goog.fs.FileReader.superClass_.disposeInternal.call(this),delete this.reader_},goog.fs.FileReader.prototype.readAsBinaryString=function(e){this.reader_.readAsBinaryString(e)},goog.fs.FileReader.readAsBinaryString=function(e){var t=new goog.fs.FileReader,n=goog.fs.FileReader.createDeferred_(t);return t.readAsBinaryString(e),n},goog.fs.FileReader.prototype.readAsArrayBuffer=function(e){this.reader_.readAsArrayBuffer(e)},goog.fs.FileReader.readAsArrayBuffer=function(e){var t=new goog.fs.FileReader,n=goog.fs.FileReader.createDeferred_(t);return t.readAsArrayBuffer(e),n},goog.fs.FileReader.prototype.readAsText=function(e,t){this.reader_.readAsText(e,t)},goog.fs.FileReader.readAsText=function(e,t){var n=new goog.fs.FileReader,i=goog.fs.FileReader.createDeferred_(n);return n.readAsText(e,t),i},goog.fs.FileReader.prototype.readAsDataUrl=function(e){this.reader_.readAsDataURL(e)},goog.fs.FileReader.readAsDataUrl=function(e){var t=new goog.fs.FileReader,n=goog.fs.FileReader.createDeferred_(t);return t.readAsDataUrl(e),n},goog.fs.FileReader.createDeferred_=function(e){var t=new goog.async.Deferred;return e.listen(goog.fs.FileReader.EventType.LOAD_END,goog.partial(function(n,i,r){var u=i.getResult(),d=i.getError();u==null||d?n.errback(d):n.callback(u),i.dispose()},t,e)),t},goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":null},goog.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var n=goog.dom.vendor.getVendorJsPrefix();if(n){n=n.toLowerCase();var i=n+goog.string.toTitleCase(e);return t===void 0||i in t?i:null}return null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.math.Box=function(e,t,n,i){this.top=e,this.right=t,this.bottom=n,this.left=i},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),n=1;n<arguments.length;n++)t.expandToIncludeCoordinate(arguments[n]);return t},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,n,i){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(t),this.bottom+=Number(n),this.left-=Number(i)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,t){return e==t?!0:e&&t?e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left:!1},goog.math.Box.contains=function(e,t){return e&&t?t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom:!1},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var n=goog.math.Box.relativePositionX(e,t),i=goog.math.Box.relativePositionY(e,t);return Math.sqrt(n*n+i*i)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,n){return e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,typeof t=="number"&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){var n=typeof t=="number"?t:e;return this.left*=e,this.right*=e,this.top*=n,this.bottom*=n,this},goog.math.IRect=function(){},goog.math.Rect=function(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,t){return new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t?!0:e&&t?e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height:!1},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),n=Math.min(this.left+this.width,e.left+e.width);if(t<=n){var i=Math.max(this.top,e.top),r=Math.min(this.top+this.height,e.top+e.height);if(i<=r)return this.left=t,this.top=i,this.width=n-t,this.height=r-i,!0}return!1},goog.math.Rect.intersection=function(e,t){var n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width);if(n<=i){var r=Math.max(e.top,t.top),u=Math.min(e.top+e.height,t.top+t.height);if(r<=u)return new goog.math.Rect(n,r,i-n,u-r)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var n=goog.math.Rect.intersection(e,t);if(!n||!n.height||!n.width)return[e.clone()];var i=[],r=e.top,u=e.height,d=e.left+e.width,c=e.top+e.height,v=t.left+t.width,S=t.top+t.height;return t.top>e.top&&(i.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),r=t.top,u-=t.top-e.top),S<c&&(i.push(new goog.math.Rect(e.left,S,e.width,c-S)),u=S-r),t.left>e.left&&i.push(new goog.math.Rect(e.left,r,t.left-e.left,u)),v<d&&i.push(new goog.math.Rect(v,r,d-v,u)),i},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var n=new goog.math.Rect(e.left,e.top,e.width,e.height);return n.boundingRect(t),n},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Coordinate?e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height:this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height},goog.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0),n=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0);return t*t+n*n},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),typeof t=="number"&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){var n=typeof t=="number"?t:e;return this.left*=e,this.width*=e,this.top*=n,this.height*=n,this},goog.style={},goog.style.setStyle=function(e,t,n){if(typeof t=="string")goog.style.setStyle_(e,n,t);else for(var i in t)goog.style.setStyle_(e,t[i],i)},goog.style.setStyle_=function(e,t,n){var i=goog.style.getVendorJsStyleName_(e,n);i&&(e.style[i]=t)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,t){var n=goog.style.styleNameCache_[t];if(!n){var i=goog.string.toCamelCase(t);if(n=i,e.style[i]===void 0){var r=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(i);e.style[r]!==void 0&&(n=r)}goog.style.styleNameCache_[t]=n}return n},goog.style.getVendorStyleName_=function(e,t){var n=goog.string.toCamelCase(t);if(e.style[n]===void 0){var i=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n);if(e.style[i]!==void 0)return goog.dom.vendor.getVendorPrefix()+"-"+t}return t},goog.style.getStyle=function(e,t){var n=e.style[goog.string.toCamelCase(t)];return typeof n<"u"?n:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var n=goog.dom.getOwnerDocument(e);if(n.defaultView&&n.defaultView.getComputedStyle){var i=n.defaultView.getComputedStyle(e,null);if(i)return i[t]||i.getPropertyValue(t)||""}return""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var t=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,t)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,t,n){if(t instanceof goog.math.Coordinate)var i=t.x,r=t.y;else i=t,r=n;e.style.left=goog.style.getPixelStyleValue_(i,!1),e.style.top=goog.style.getPixelStyleValue_(r,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){var t=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument();return!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(t).isCss1CompatMode()?t.documentElement:t.body},goog.style.getViewportPageOffset=function(e){var t=e.body,n=e.documentElement;return new goog.math.Coordinate(t.scrollLeft||n.scrollLeft,t.scrollTop||n.scrollTop)},goog.style.getBoundingClientRect_=function(e){try{return e.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;for(var t=goog.dom.getOwnerDocument(e),n=goog.style.getStyle_(e,"position"),i=n=="fixed"||n=="absolute",r=e.parentNode;r&&r!=t;r=r.parentNode)if(r.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&r.host&&(r=r.host),n=goog.style.getStyle_(r,"position"),i=i&&n=="static"&&r!=t.documentElement&&r!=t.body,!i&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight||n=="fixed"||n=="absolute"||n=="relative"))return r;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),n=goog.dom.getDomHelper(e),i=n.getDocument().body,r=n.getDocument().documentElement,u=n.getDocumentScrollElement(),d=e;d=goog.style.getOffsetParent(d);)if(!(goog.userAgent.IE&&d.clientWidth==0||goog.userAgent.WEBKIT&&d.clientHeight==0&&d==i)&&d!=i&&d!=r&&goog.style.getStyle_(d,"overflow")!="visible"){var c=goog.style.getPageOffset(d),v=goog.style.getClientLeftTop(d);c.x+=v.x,c.y+=v.y,t.top=Math.max(t.top,c.y),t.right=Math.min(t.right,c.x+d.clientWidth),t.bottom=Math.min(t.bottom,c.y+d.clientHeight),t.left=Math.max(t.left,c.x)}var S=u.scrollLeft,C=u.scrollTop;t.left=Math.max(t.left,S),t.top=Math.max(t.top,C);var O=n.getViewportSize();return t.right=Math.min(t.right,S+O.width),t.bottom=Math.min(t.bottom,C+O.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,n){var i=t||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(e),u=goog.style.getPageOffset(i),d=goog.style.getBorderBox(i);if(i==goog.dom.getDocumentScrollElement()){var c=r.x-i.scrollLeft,v=r.y-i.scrollTop;goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(c+=d.left,v+=d.top)}else c=r.x-u.x-d.left,v=r.y-u.y-d.top;var S=goog.style.getSizeWithDisplay_(e),C=i.clientWidth-S.width,O=i.clientHeight-S.height,R=i.scrollLeft,H=i.scrollTop;return n?(R+=c-C/2,H+=v-O/2):(R+=Math.min(c,Math.max(c-C,0)),H+=Math.min(v,Math.max(v-O,0))),new goog.math.Coordinate(R,H)},goog.style.scrollIntoContainerView=function(e,t,n){var i=t||goog.dom.getDocumentScrollElement(),r=goog.style.getContainerOffsetToScrollInto(e,i,n);i.scrollLeft=r.x,i.scrollTop=r.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var n=new goog.math.Coordinate(0,0),i=goog.style.getClientViewportElement(t);if(e==i)return n;var r=goog.style.getBoundingClientRect_(e),u=goog.dom.getDomHelper(t).getDocumentScroll();return n.x=r.left+u.x,n.y=r.top+u.y,n},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var n=new goog.math.Coordinate(0,0),i=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(i,"parent"))return n;var r=e;do{var u=i==t?goog.style.getPageOffset(r):goog.style.getClientPositionForElement_(goog.asserts.assert(r));n.x+=u.x,n.y+=u.y}while(i&&i!=t&&i!=i.parent&&(r=i.frameElement)&&(i=i.parent));return n},goog.style.translateRectForAnotherFrame=function(e,t,n){if(t.getDocument()!=n.getDocument()){var i=t.getDocument().body,r=goog.style.getFramedPageOffset(i,n.getWindow());r=goog.math.Coordinate.difference(r,goog.style.getPageOffset(i)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||t.isCss1CompatMode()||(r=goog.math.Coordinate.difference(r,t.getDocumentScroll())),e.left+=r.x,e.top+=r.y}},goog.style.getRelativePosition=function(e,t){var n=goog.style.getClientPosition(e),i=goog.style.getClientPosition(t);return new goog.math.Coordinate(n.x-i.x,n.y-i.y)},goog.style.getClientPositionForElement_=function(e){var t=goog.style.getBoundingClientRect_(e);return new goog.math.Coordinate(t.left,t.top)},goog.style.getClientPosition=function(e){if(goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(e);var t=e.changedTouches?e.changedTouches[0]:e;return new goog.math.Coordinate(t.clientX,t.clientY)},goog.style.setPageOffset=function(e,t,n){var i=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(n=t.y,t=t.x);var r=goog.asserts.assertNumber(t)-i.x;goog.style.setPosition(e,e.offsetLeft+r,e.offsetTop+(Number(n)-i.y))},goog.style.setSize=function(e,t,n){if(t instanceof goog.math.Size){var i=t.height;t=t.width}else{if(n==null)throw Error("missing height argument");i=n}goog.style.setWidth(e,t),goog.style.setHeight(e,i)},goog.style.getPixelStyleValue_=function(e,t){return typeof e=="number"&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,t){if(goog.style.getStyle_(t,"display")!="none")return e(t);var n=t.style,i=n.display,r=n.visibility,u=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var d=e(t);return n.display=i,n.position=u,n.visibility=r,d},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,n=e.offsetHeight,i=goog.userAgent.WEBKIT&&!t&&!n;if((t===void 0||i)&&e.getBoundingClientRect){var r=goog.style.getBoundingClientRect_(e);return new goog.math.Size(r.right-r.left,r.bottom-r.top)}return new goog.math.Size(t,n)},goog.style.getTransformedSize=function(e){if(!e.getBoundingClientRect)return null;var t=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e);return new goog.math.Size(t.right-t.left,t.bottom-t.top)},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e),n=goog.style.getSize(e);return new goog.math.Rect(t.x,t.y,n.width,n.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var t=e.style,n="";if("opacity"in t)n=t.opacity;else if("MozOpacity"in t)n=t.MozOpacity;else if("filter"in t){var i=t.filter.match(/alpha\(opacity=([\d.]+)\)/);i&&(n=String(i[1]/100))}return n==""?n:Number(n)},goog.style.setOpacity=function(e,t){goog.asserts.assert(e);var n=e.style;"opacity"in n?n.opacity=t:"MozOpacity"in n?n.MozOpacity=t:"filter"in n&&(n.filter=t===""?"":"alpha(opacity="+100*Number(t)+")")},goog.style.setTransparentBackgroundImage=function(e,t){var n=e.style;n.backgroundImage="url("+t+")",n.backgroundPosition="top left",n.backgroundRepeat="no-repeat"},goog.style.clearTransparentBackgroundImage=function(e){var t=e.style;"filter"in t?t.filter="":t.backgroundImage="none"},goog.style.showElement=function(e,t){goog.style.setElementShown(e,t)},goog.style.setElementShown=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return e.style.display!="none"},goog.style.installSafeStyleSheet=function(e,t){var n=goog.dom.getDomHelper(t),i=n.getDocument();if(goog.userAgent.IE&&i.createStyleSheet){var r=i.createStyleSheet();return goog.style.setSafeStyleSheet(r,e),r}var u=n.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];if(!u){var d=n.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];u=n.createDom(goog.dom.TagName.HEAD),d.parentNode.insertBefore(u,d)}var c=n.createDom(goog.dom.TagName.STYLE),v=goog.dom.safe.getStyleNonce();return v&&c.setAttribute("nonce",v),goog.style.setSafeStyleSheet(c,e),n.appendChild(u,c),c},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setSafeStyleSheet=function(e,t){var n=module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(t);goog.userAgent.IE&&e.cssText!==void 0?e.cssText=n:goog.global.trustedTypes?goog.dom.setTextContent(e,n):e.innerHTML=n},goog.style.setPreWrap=function(e){e.style.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){var t=e.style;t.position="relative",t.display="inline-block"},goog.style.isRightToLeft=function(e){return goog.style.getStyle_(e,"direction")=="rtl"},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?e.style[goog.style.unselectableStyle_].toLowerCase()=="none":goog.userAgent.IE?e.getAttribute("unselectable")=="on":!1},goog.style.setUnselectable=function(e,t,n){var i=n?null:e.getElementsByTagName("*"),r=goog.style.unselectableStyle_;if(r){var u=t?"none":"";if(e.style&&(e.style[r]=u),i)for(var d=0,c;c=i[d];d++)c.style&&(c.style[r]=u)}else if(goog.userAgent.IE&&(u=t?"on":"",e.setAttribute("unselectable",u),i))for(d=0;c=i[d];d++)c.setAttribute("unselectable",u)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var n=goog.dom.getOwnerDocument(e),i=goog.dom.getDomHelper(n).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||i)goog.style.setBoxSizingSize_(e,t,"border-box");else{var r=e.style;if(i){var u=goog.style.getPaddingBox(e),d=goog.style.getBorderBox(e);r.pixelWidth=t.width-d.left-u.left-u.right-d.right,r.pixelHeight=t.height-d.top-u.top-u.bottom-d.bottom}else r.pixelWidth=t.width,r.pixelHeight=t.height}},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),n=goog.userAgent.IE&&e.currentStyle;if(n&&goog.dom.getDomHelper(t).isCss1CompatMode()&&n.width!="auto"&&n.height!="auto"&&!n.boxSizing){var i=goog.style.getIePixelValue_(e,n.width,"width","pixelWidth"),r=goog.style.getIePixelValue_(e,n.height,"height","pixelHeight");return new goog.math.Size(i,r)}var u=goog.style.getBorderBoxSize(e),d=goog.style.getPaddingBox(e),c=goog.style.getBorderBox(e);return new goog.math.Size(u.width-c.left-d.left-d.right-c.right,u.height-c.top-d.top-d.bottom-c.bottom)},goog.style.setContentBoxSize=function(e,t){var n=goog.dom.getOwnerDocument(e),i=goog.dom.getDomHelper(n).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||i)goog.style.setBoxSizingSize_(e,t,"content-box");else{var r=e.style;if(i)r.pixelWidth=t.width,r.pixelHeight=t.height;else{var u=goog.style.getPaddingBox(e),d=goog.style.getBorderBox(e);r.pixelWidth=t.width+d.left+u.left+u.right+d.right,r.pixelHeight=t.height+d.top+u.top+u.bottom+d.bottom}}},goog.style.setBoxSizingSize_=function(e,t,n){var i=e.style;goog.userAgent.GECKO?i.MozBoxSizing=n:goog.userAgent.WEBKIT?i.WebkitBoxSizing=n:i.boxSizing=n,i.width=Math.max(t.width,0)+"px",i.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,n,i){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[n],u=e.runtimeStyle[n];e.runtimeStyle[n]=e.currentStyle[n],e.style[n]=t;var d=e.style[i];return e.style[n]=r,e.runtimeStyle[n]=u,+d},goog.style.getIePixelDistance_=function(e,t){var n=goog.style.getCascadedStyle(e,t);return n?goog.style.getIePixelValue_(e,n,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var n=goog.style.getIePixelDistance_(e,t+"Left"),i=goog.style.getIePixelDistance_(e,t+"Right"),r=goog.style.getIePixelDistance_(e,t+"Top"),u=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(r,i,u,n)}return n=goog.style.getComputedStyle(e,t+"Left"),i=goog.style.getComputedStyle(e,t+"Right"),r=goog.style.getComputedStyle(e,t+"Top"),u=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(i),parseFloat(u),parseFloat(n))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if(goog.style.getCascadedStyle(e,t+"Style")=="none")return 0;var n=goog.style.getCascadedStyle(e,t+"Width");return n in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[n]:goog.style.getIePixelValue_(e,n,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var t=goog.style.getIePixelBorder_(e,"borderLeft"),n=goog.style.getIePixelBorder_(e,"borderRight"),i=goog.style.getIePixelBorder_(e,"borderTop"),r=goog.style.getIePixelBorder_(e,"borderBottom");return new goog.math.Box(i,n,r,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),n=goog.style.getComputedStyle(e,"borderRightWidth"),i=goog.style.getComputedStyle(e,"borderTopWidth"),r=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(i),parseFloat(n),parseFloat(r),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),n="";if(t.body.createTextRange&&goog.dom.contains(t,e)){var i=t.body.createTextRange();i.moveToElementText(e);try{n=i.queryCommandValue("FontName")}catch{n=""}}n||(n=goog.style.getStyle_(e,"fontFamily"));var r=n.split(",");return 1<r.length&&(n=r[0]),goog.string.stripQuotes(n,`"'`)},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){var t=e.match(goog.style.lengthUnitRegex_);return t&&t[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),n=goog.style.getLengthUnits(t);if(t&&n=="px")return parseInt(t,10);if(goog.userAgent.IE){if(String(n)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(n)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_){var i=e.parentNode,r=goog.style.getStyle_(i,"fontSize");return goog.style.getIePixelValue_(i,t==r?"1em":t,"left","pixelLeft")}}var u=goog.dom.createDom(goog.dom.TagName.SPAN,{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});return goog.dom.appendChild(e,u),t=u.offsetHeight,goog.dom.removeNode(u),t},goog.style.parseStyleAttribute=function(e){var t={};return e.split(/\s*;\s*/).forEach(function(n){var i=n.match(/\s*([\w-]+)\s*:(.+)/);if(i){var r=goog.string.trim(i[2]);t[goog.string.toCamelCase(i[1].toLowerCase())]=r}}),t},goog.style.toStyleAttribute=function(e){var t=[];return module$contents$goog$object_forEach(e,function(n,i){t.push(goog.string.toSelectorCase(i),":",n,";")}),t.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement(goog.dom.TagName.DIV);e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";var n=goog.dom.createElement(goog.dom.TagName.DIV);goog.style.setSize(n,"200px","200px"),t.appendChild(n),goog.dom.appendChild(goog.dom.getDocument().body,t);var i=t.offsetWidth-t.clientWidth;return goog.dom.removeNode(t),i},goog.style.MATRIX_TRANSLATION_REGEX_=RegExp("matrix\\([0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, [0-9\\.\\-]+, ([0-9\\.\\-]+)p?x?, ([0-9\\.\\-]+)p?x?\\)"),goog.style.getCssTranslation=function(e){var t=goog.style.getComputedTransform(e);if(!t)return new goog.math.Coordinate(0,0);var n=t.match(goog.style.MATRIX_TRANSLATION_REGEX_);return n?new goog.math.Coordinate(parseFloat(n[1]),parseFloat(n[2])):new goog.math.Coordinate(0,0)},ee.layers.AbstractOverlay=function(e,t){goog.events.EventTarget.call(this);var n=t||{};if(this.minZoom=n.minZoom||0,this.maxZoom=n.maxZoom||20,!window.google||!window.google.maps)throw Error("Google Maps API hasn't been initialized.");this.tileSize=n.tileSize||new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH,ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH),this.isPng="isPng"in n?n.isPng:!0,this.name=n.name,this.opacity="opacity"in n?n.opacity:1,this.stats=new module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats(e.getUniqueId()),this.tilesById=new goog.structs.Map,this.tileCounter=0,this.tileSource=e,this.handler=new goog.events.EventHandler(this),this.projection=null,this.radius=0,this.alt=null},$jscomp.inherits(ee.layers.AbstractOverlay,goog.events.EventTarget),ee.layers.AbstractOverlay.prototype.addTileCallback=function(e){return goog.events.listen(this,ee.layers.AbstractOverlay.EventType.TILE_LOAD,e)},ee.layers.AbstractOverlay.prototype.removeTileCallback=function(e){goog.events.unlistenByKey(e)},ee.layers.AbstractOverlay.prototype.getLoadingTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.THROTTLED)+this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING)+this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW)},ee.layers.AbstractOverlay.prototype.getFailedTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED)},ee.layers.AbstractOverlay.prototype.getLoadedTilesCount=function(){return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED)},ee.layers.AbstractOverlay.prototype.setOpacity=function(e){this.opacity=e,this.tilesById.forEach(function(t){goog.style.setOpacity(t.div,this.opacity)},this)},ee.layers.AbstractOverlay.prototype.getStats=function(){return this.stats},ee.layers.AbstractOverlay.prototype.getTile=function(e,t,n){var i=1<<t;if(t<this.minZoom||0>e.y||e.y>=i)return n.createElement("div");var r=e.x%i;0>r&&(r+=i);var u=new google.maps.Point(r,e.y),d=this.getUniqueTileId_(e,t),c=this.createTile(u,t,n,d);return c.tileSize=this.tileSize,goog.style.setOpacity(c.div,this.opacity),this.tilesById.set(d,c),this.registerStatusChangeListener_(c),this.dispatchEvent(new ee.layers.TileStartEvent(this.getLoadingTilesCount())),this.tileSource.loadTile(c,new Date().getTime()/1e3),c.div},ee.layers.AbstractOverlay.prototype.releaseTile=function(e){var t=this.tilesById.get(e.id);this.tilesById.remove(e.id),t&&(t.abort(),module$contents$goog$dispose_dispose(t))},ee.layers.AbstractOverlay.prototype.registerStatusChangeListener_=function(e){this.handler.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){var t=ee.layers.AbstractTile.Status;switch(e.getStatus()){case t.LOADED:this.stats.addTileStats(e.loadingStartTs_,new Date().getTime(),e.zoom),this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));break;case t.THROTTLED:this.stats.incrementThrottleCounter(e.zoom),this.dispatchEvent(new ee.layers.TileThrottleEvent(e.sourceUrl));break;case t.FAILED:this.stats.incrementErrorCounter(e.zoom),this.dispatchEvent(new ee.layers.TileFailEvent(e.sourceUrl,e.errorMessage_));break;case t.ABORTED:this.dispatchEvent(new ee.layers.TileAbortEvent(this.getLoadingTilesCount()))}})},ee.layers.AbstractOverlay.prototype.getUniqueTileId_=function(e,t){var n=[e.x,e.y,t,this.tileCounter++].join("-"),i=this.tileSource.getUniqueId();return[n,i].join("-")},ee.layers.AbstractOverlay.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.tilesById.forEach(module$contents$goog$dispose_dispose),this.tilesById.clear(),this.tilesById=null,module$contents$goog$dispose_dispose(this.handler),this.tileSource=this.handler=null},ee.layers.AbstractOverlay.prototype.getTileCountForStatus_=function(e){return module$contents$goog$array_count(this.tilesById.getValues(),function(t){return t.getStatus()==e})},goog.exportSymbol("ee.layers.AbstractOverlay",ee.layers.AbstractOverlay),goog.exportProperty(ee.layers.AbstractOverlay.prototype,"removeTileCallback",ee.layers.AbstractOverlay.prototype.removeTileCallback),goog.exportProperty(ee.layers.AbstractOverlay.prototype,"addTileCallback",ee.layers.AbstractOverlay.prototype.addTileCallback),ee.layers.AbstractOverlay.EventType={TILE_FAIL:"tile-fail",TILE_ABORT:"tile-abort",TILE_THROTTLE:"tile-throttle",TILE_LOAD:"tile-load",TILE_START:"tile-start"},ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH=256,ee.layers.TileLoadEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_LOAD),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileLoadEvent,goog.events.Event),ee.layers.TileStartEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_START),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileStartEvent,goog.events.Event),ee.layers.TileThrottleEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_THROTTLE),this.tileUrl=e},$jscomp.inherits(ee.layers.TileThrottleEvent,goog.events.Event),ee.layers.TileFailEvent=function(e,t){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_FAIL),this.tileUrl=e,this.errorMessage=t},$jscomp.inherits(ee.layers.TileFailEvent,goog.events.Event),ee.layers.TileAbortEvent=function(e){goog.events.Event.call(this,ee.layers.AbstractOverlay.EventType.TILE_ABORT),this.loadingTileCount=e},$jscomp.inherits(ee.layers.TileAbortEvent,goog.events.Event),ee.layers.AbstractTile=function(e,t,n,i){goog.events.EventTarget.call(this),this.coord=e,this.zoom=t,this.div=n.createElement("div"),this.div.id=i,this.maxRetries=ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_,this.renderer=function(){},this.status_=ee.layers.AbstractTile.Status.NEW,this.retryAttemptCount_=0,this.isRetrying_=!1},$jscomp.inherits(ee.layers.AbstractTile,goog.events.EventTarget),ee.layers.AbstractTile.prototype.startLoad=function(){var e=this;if(!this.isRetrying_&&this.getStatus()==ee.layers.AbstractTile.Status.LOADING)throw Error("startLoad() can only be invoked once. Use retryLoad() after the first attempt.");this.setStatus(ee.layers.AbstractTile.Status.LOADING),this.loadingStartTs_=new Date().getTime(),this.xhrIo_=new goog.net.XhrIo,this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB),this.xhrIo_.listen(goog.net.EventType.COMPLETE,function(t){var n=e.xhrIo_.getResponse(),i=e.xhrIo_.getStatus(),r=goog.net.HttpStatus;if(i==r.TOO_MANY_REQUESTS&&e.setStatus(ee.layers.AbstractTile.Status.THROTTLED),r.isSuccess(i)){var u={};module$contents$goog$object_forEach(e.xhrIo_.getResponseHeaders(),function(c,v){u[v.toLowerCase()]=c}),e.sourceResponseHeaders=u,e.sourceData=n,e.finishLoad()}else if(n){var d=new goog.fs.FileReader;d.listen(goog.fs.FileReader.EventType.LOAD_END,function(){e.retryLoad(d.getResult())},void 0),d.readAsText(n)}else e.retryLoad("Failed to load tile.")},!1),this.xhrIo_.listenOnce(goog.net.EventType.READY,goog.partial(module$contents$goog$dispose_dispose,this.xhrIo_)),this.sourceUrl&&this.sourceUrl.endsWith("&profiling=1")&&(this.sourceUrl=this.sourceUrl.replace("&profiling=1",""),this.xhrIo_.headers.set(module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER,"1")),this.xhrIo_.send(this.sourceUrl,"GET")},ee.layers.AbstractTile.prototype.finishLoad=function(){this.renderer(this),this.setStatus(ee.layers.AbstractTile.Status.LOADED)},ee.layers.AbstractTile.prototype.cancelLoad=function(){module$contents$goog$dispose_dispose(this.xhrIo_)},ee.layers.AbstractTile.prototype.retryLoad=function(e){var t=function(n){try{if(n=JSON.parse(n),n.error&&n.error.message)return n.error.message}catch{}return n};this.retryAttemptCount_>=this.maxRetries?(this.errorMessage_=t(e),this.setStatus(ee.layers.AbstractTile.Status.FAILED)):(this.cancelLoad(),setTimeout(goog.bind(function(){this.isDisposed()||(this.isRetrying_=!0,this.startLoad(),this.isRetrying_=!1)},this),1e3*Math.pow(2,this.retryAttemptCount_++)))},ee.layers.AbstractTile.prototype.abort=function(){this.cancelLoad(),this.getStatus()!=ee.layers.AbstractTile.Status.ABORTED&&this.getStatus()!=ee.layers.AbstractTile.Status.REMOVED&&this.setStatus(this.isDone()?ee.layers.AbstractTile.Status.REMOVED:ee.layers.AbstractTile.Status.ABORTED)},ee.layers.AbstractTile.prototype.isDone=function(){return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_},ee.layers.AbstractTile.prototype.getStatus=function(){return this.status_},ee.layers.AbstractTile.prototype.setStatus=function(e){this.status_=e,this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED)},ee.layers.AbstractTile.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.cancelLoad(),this.div.remove(),this.renderer=null},ee.layers.AbstractTile.EventType={STATUS_CHANGED:"status-changed"},ee.layers.AbstractTile.Status={NEW:"new",LOADING:"loading",THROTTLED:"throttled",LOADED:"loaded",FAILED:"failed",ABORTED:"aborted",REMOVED:"removed"},ee.layers.AbstractTile.DONE_STATUS_SET_=module$contents$goog$object_createSet(ee.layers.AbstractTile.Status.ABORTED,ee.layers.AbstractTile.Status.FAILED,ee.layers.AbstractTile.Status.LOADED,ee.layers.AbstractTile.Status.REMOVED),ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_=5;var module$exports$ee$layers$AbstractTileSource=function(){goog.Disposable.call(this)};$jscomp.inherits(module$exports$ee$layers$AbstractTileSource,goog.Disposable),ee.layers.BinaryOverlay=function(e,t){ee.layers.AbstractOverlay.call(this,e,t),this.buffersByCoord_=new goog.structs.Map,this.divsByCoord_=new goog.structs.Map},$jscomp.inherits(ee.layers.BinaryOverlay,ee.layers.AbstractOverlay),ee.layers.BinaryOverlay.prototype.createTile=function(e,t,n,i){var r=new ee.layers.BinaryTile(e,t,n,i);return this.handler.listen(r,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){r.getStatus()==ee.layers.AbstractTile.Status.LOADED&&(this.buffersByCoord_.set(e,new Float32Array(r.buffer_)),this.divsByCoord_.set(e,r.div))}),r},ee.layers.BinaryOverlay.prototype.getBuffersByCoord=function(){return this.buffersByCoord_},ee.layers.BinaryOverlay.prototype.getDivsByCoord=function(){return this.divsByCoord_},ee.layers.BinaryOverlay.prototype.disposeInternal=function(){ee.layers.AbstractOverlay.prototype.disposeInternal.call(this),this.divsByCoord_=this.buffersByCoord_=null},goog.exportSymbol("ee.layers.BinaryOverlay",ee.layers.BinaryOverlay),ee.layers.BinaryTile=function(e,t,n,i){ee.layers.AbstractTile.call(this,e,t,n,i)},$jscomp.inherits(ee.layers.BinaryTile,ee.layers.AbstractTile),ee.layers.BinaryTile.prototype.finishLoad=function(){var e=new goog.fs.FileReader;e.listen(goog.fs.FileReader.EventType.LOAD_END,function(){this.buffer_=e.getResult(),ee.layers.AbstractTile.prototype.finishLoad.call(this)},void 0,this),e.readAsArrayBuffer(this.sourceData)},goog.net.ImageLoader=function(e){goog.events.EventTarget.call(this),this.imageIdToRequestMap_={},this.imageIdToImageMap_={},this.handler_=new goog.events.EventHandler(this),this.parent_=e,this.completionFired_=!1},goog.inherits(goog.net.ImageLoader,goog.events.EventTarget),goog.net.ImageLoader.CorsRequestType={ANONYMOUS:"anonymous",USE_CREDENTIALS:"use-credentials"},goog.net.ImageLoader.IMAGE_LOAD_EVENTS_=[goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("11")?goog.net.EventType.READY_STATE_CHANGE:goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],goog.net.ImageLoader.prototype.addImage=function(e,t,n){var i=typeof t=="string"?t:t.src;i&&(this.completionFired_=!1,this.imageIdToRequestMap_[e]={src:i,corsRequestType:n!==void 0?n:null})},goog.net.ImageLoader.prototype.removeImage=function(e){delete this.imageIdToRequestMap_[e];var t=this.imageIdToImageMap_[e];t&&(delete this.imageIdToImageMap_[e],this.handler_.unlisten(t,goog.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_))},goog.net.ImageLoader.prototype.start=function(){var e=this.imageIdToRequestMap_;module$contents$goog$object_getKeys(e).forEach(function(t){var n=e[t];n&&(delete e[t],this.loadImage_(n,t))},this)},goog.net.ImageLoader.prototype.loadImage_=function(e,t){if(!this.isDisposed()){var n=this.parent_?goog.dom.getDomHelper(this.parent_).createDom(goog.dom.TagName.IMG):new Image;e.corsRequestType&&(n.crossOrigin=e.corsRequestType),this.handler_.listen(n,goog.net.ImageLoader.IMAGE_LOAD_EVENTS_,this.onNetworkEvent_),this.imageIdToImageMap_[t]=n,n.id=t,n.src=e.src}},goog.net.ImageLoader.prototype.onNetworkEvent_=function(e){var t=e.currentTarget;if(t){if(e.type==goog.net.EventType.READY_STATE_CHANGE)if(t.readyState==goog.net.EventType.COMPLETE)e.type=goog.events.EventType.LOAD;else return;typeof t.naturalWidth>"u"&&(e.type==goog.events.EventType.LOAD?(t.naturalWidth=t.width,t.naturalHeight=t.height):(t.naturalWidth=0,t.naturalHeight=0)),this.removeImage(t.id),this.dispatchEvent({type:e.type,target:t}),this.isDisposed()||this.maybeFireCompletionEvent_()}},goog.net.ImageLoader.prototype.maybeFireCompletionEvent_=function(){module$contents$goog$object_isEmpty(this.imageIdToImageMap_)&&module$contents$goog$object_isEmpty(this.imageIdToRequestMap_)&&!this.completionFired_&&(this.completionFired_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE))},goog.net.ImageLoader.prototype.disposeInternal=function(){delete this.imageIdToRequestMap_,delete this.imageIdToImageMap_,module$contents$goog$dispose_dispose(this.handler_),goog.net.ImageLoader.superClass_.disposeInternal.call(this)},ee.layers.ImageOverlay=function(e,t){ee.layers.AbstractOverlay.call(this,e,t)},$jscomp.inherits(ee.layers.ImageOverlay,ee.layers.AbstractOverlay),ee.layers.ImageOverlay.prototype.createTile=function(e,t,n,i){return new ee.layers.ImageTile(e,t,n,i)},goog.exportSymbol("ee.layers.ImageOverlay",ee.layers.ImageOverlay),ee.layers.ImageTile=function(e,t,n,i){ee.layers.AbstractTile.call(this,e,t,n,i),this.renderer=ee.layers.ImageTile.defaultRenderer_,this.imageLoaderListenerKey_=this.imageLoader_=this.imageEl=null,this.objectUrl_=""},$jscomp.inherits(ee.layers.ImageTile,ee.layers.AbstractTile),ee.layers.ImageTile.prototype.finishLoad=function(){try{var e=goog.html.SafeUrl.fromBlob(this.sourceData);this.objectUrl_=goog.html.SafeUrl.unwrap(e);var t=this.objectUrl_!==goog.html.SafeUrl.INNOCUOUS_STRING?this.objectUrl_:this.sourceUrl}catch{t=this.sourceUrl}this.imageLoader_=new goog.net.ImageLoader,this.imageLoader_.addImage(this.div.id+"-image",t),this.imageLoaderListenerKey_=goog.events.listenOnce(this.imageLoader_,ee.layers.ImageTile.IMAGE_LOADER_EVENTS_,function(n){n.type==goog.events.EventType.LOAD?(this.imageEl=n.target,ee.layers.AbstractTile.prototype.finishLoad.call(this)):this.retryLoad()},void 0,this),this.imageLoader_.start()},ee.layers.ImageTile.prototype.cancelLoad=function(){ee.layers.AbstractTile.prototype.cancelLoad.call(this),this.imageLoader_&&(goog.events.unlistenByKey(this.imageLoaderListenerKey_),module$contents$goog$dispose_dispose(this.imageLoader_))},ee.layers.ImageTile.prototype.disposeInternal=function(){ee.layers.AbstractTile.prototype.disposeInternal.call(this),this.objectUrl_&&URL.revokeObjectURL(this.objectUrl_)},ee.layers.ImageTile.defaultRenderer_=function(e){e.div.appendChild(e.imageEl)},ee.layers.ImageTile.IMAGE_LOADER_EVENTS_=[goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],goog.string.path={},goog.string.path.baseName=function(e){var t=e.lastIndexOf("/")+1;return e.slice(t)},goog.string.path.basename=goog.string.path.baseName,goog.string.path.dirname=function(e){var t=e.lastIndexOf("/")+1,n=e.slice(0,t);return/^\/+$/.test(n)||(n=n.replace(/\/+$/,"")),n},goog.string.path.extension=function(e){var t=goog.string.path.baseName(e).replace(/\.+/g,"."),n=t.lastIndexOf(".");return 0>=n?"":t.substr(n+1)},goog.string.path.join=function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var i=arguments[n];t=goog.string.startsWith(i,"/")?i:t==""||goog.string.endsWith(t,"/")?t+i:t+("/"+i)}return t},goog.string.path.normalizePath=function(e){if(e=="")return".";var t="";goog.string.startsWith(e,"/")&&(t="/",goog.string.startsWith(e,"//")&&!goog.string.startsWith(e,"///")&&(t="//"));for(var n=e.split("/"),i=[],r=0;r<n.length;r++){var u=n[r];u!=""&&u!="."&&(u!=".."||!t&&!i.length||module$contents$goog$array_peek(i)==".."?i.push(u):i.pop())}return t+i.join("/")||"."},goog.string.path.split=function(e){var t=goog.string.path.dirname(e),n=goog.string.path.baseName(e);return[t,n]};var module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource=function(e,t,n,i){module$exports$ee$layers$AbstractTileSource.call(this),this.bucket_=e,this.path_=t,this.suffix_=i||"",this.maxZoom_=n};$jscomp.inherits(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource,module$exports$ee$layers$AbstractTileSource),module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.loadTile=function(e,t){if(e.zoom<=this.maxZoom_)e.sourceUrl=this.getTileUrl_(e.coord,e.zoom);else{var n=e.zoom-this.maxZoom_,i=Math.pow(2,n),r=new google.maps.Point(Math.floor(e.coord.x/i),Math.floor(e.coord.y/i));e.sourceUrl=this.getTileUrl_(r,e.zoom-n),e.renderer=goog.partial(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_,this.maxZoom_)}var u=goog.bind(e.retryLoad,e);e.retryLoad=goog.bind(function(d){d&&(d.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_)||d.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_))?e.setStatus(ee.layers.AbstractTile.Status.LOADED):u(d)},e),e.startLoad()},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getUniqueId=function(){return[this.bucket_,this.path_,this.maxZoom_,this.suffix_].join("-")},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getTileUrl_=function(e,t){var n=goog.string.path.join(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL,this.bucket_,this.path_,String(t),String(e.x),String(e.y));return this.suffix_&&(n+=this.suffix_),n},module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_=function(e,t){if(!t.imageEl)throw Error("Tile must have an image element to be rendered.");var n=Math.pow(2,t.zoom-e),i=t.tileSize.width,r=t.div.ownerDocument.createElement("canvas");r.setAttribute("width",i),r.setAttribute("height",i),t.div.appendChild(r);var u=r.getContext("2d");u.imageSmoothingEnabled=!1,u.mozImageSmoothingEnabled=!1,u.webkitImageSmoothingEnabled=!1,u.drawImage(t.imageEl,i/n*(t.coord.x%n),i/n*(t.coord.y%n),i/n,i/n,0,0,i,i)},goog.exportSymbol("ee.layers.CloudStorageTileSource",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource),module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL="https://storage.googleapis.com",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_="The specified key does not exist.",module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_="AccessDenied",ee.layers.CloudStorageTileSource=module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource,goog.structs.Queue=function(){this.front_=[],this.back_=[]},goog.structs.Queue.prototype.maybeFlip_=function(){this.front_.length===0&&(this.front_=this.back_,this.front_.reverse(),this.back_=[])},goog.structs.Queue.prototype.enqueue=function(e){this.back_.push(e)},goog.structs.Queue.prototype.dequeue=function(){return this.maybeFlip_(),this.front_.pop()},goog.structs.Queue.prototype.peek=function(){return this.maybeFlip_(),module$contents$goog$array_peek(this.front_)},goog.structs.Queue.prototype.getCount=function(){return this.front_.length+this.back_.length},goog.structs.Queue.prototype.isEmpty=function(){return this.front_.length===0&&this.back_.length===0},goog.structs.Queue.prototype.clear=function(){this.front_=[],this.back_=[]},goog.structs.Queue.prototype.contains=function(e){return module$contents$goog$array_contains(this.front_,e)||module$contents$goog$array_contains(this.back_,e)},goog.structs.Queue.prototype.remove=function(e){return module$contents$goog$array_removeLast(this.front_,e)||module$contents$goog$array_remove(this.back_,e)},goog.structs.Queue.prototype.getValues=function(){for(var e=[],t=this.front_.length-1;0<=t;--t)e.push(this.front_[t]);var n=this.back_.length;for(t=0;t<n;++t)e.push(this.back_[t]);return e},goog.structs.Pool=function(e,t){if(goog.Disposable.call(this),this.minCount_=e||0,this.maxCount_=t||10,this.minCount_>this.maxCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.freeQueue_=new goog.structs.Queue,this.inUseSet_=new goog.structs.Set,this.delay=0,this.lastAccess=null,this.adjustForMinMax()},goog.inherits(goog.structs.Pool,goog.Disposable),goog.structs.Pool.ERROR_MIN_MAX_="[goog.structs.Pool] Min can not be greater than max",goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_="[goog.structs.Pool] Objects not released",goog.structs.Pool.prototype.setMinimumCount=function(e){if(e>this.maxCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.minCount_=e,this.adjustForMinMax()},goog.structs.Pool.prototype.setMaximumCount=function(e){if(e<this.minCount_)throw Error(goog.structs.Pool.ERROR_MIN_MAX_);this.maxCount_=e,this.adjustForMinMax()},goog.structs.Pool.prototype.setDelay=function(e){this.delay=e},goog.structs.Pool.prototype.getObject=function(){var e=Date.now();if(!(this.lastAccess!=null&&e-this.lastAccess<this.delay)){var t=this.removeFreeObject_();return t&&(this.lastAccess=e,this.inUseSet_.add(t)),t}},goog.structs.Pool.prototype.releaseObject=function(e){return this.inUseSet_.remove(e)?(this.addFreeObject(e),!0):!1},goog.structs.Pool.prototype.removeFreeObject_=function(){for(var e;0<this.getFreeCount()&&(e=this.freeQueue_.dequeue(),!this.objectCanBeReused(e));)this.adjustForMinMax();return!e&&this.getCount()<this.maxCount_&&(e=this.createObject()),e},goog.structs.Pool.prototype.addFreeObject=function(e){this.inUseSet_.remove(e),this.objectCanBeReused(e)&&this.getCount()<this.maxCount_?this.freeQueue_.enqueue(e):this.disposeObject(e)},goog.structs.Pool.prototype.adjustForMinMax=function(){for(var e=this.freeQueue_;this.getCount()<this.minCount_;)e.enqueue(this.createObject());for(;this.getCount()>this.maxCount_&&0<this.getFreeCount();)this.disposeObject(e.dequeue())},goog.structs.Pool.prototype.createObject=function(){return{}},goog.structs.Pool.prototype.disposeObject=function(e){if(typeof e.dispose=="function")e.dispose();else for(var t in e)e[t]=null},goog.structs.Pool.prototype.objectCanBeReused=function(e){return typeof e.canBeReused=="function"?e.canBeReused():!0},goog.structs.Pool.prototype.contains=function(e){return this.freeQueue_.contains(e)||this.inUseSet_.contains(e)},goog.structs.Pool.prototype.getCount=function(){return this.freeQueue_.getCount()+this.inUseSet_.getCount()},goog.structs.Pool.prototype.getInUseCount=function(){return this.inUseSet_.getCount()},goog.structs.Pool.prototype.getFreeCount=function(){return this.freeQueue_.getCount()},goog.structs.Pool.prototype.isEmpty=function(){return this.freeQueue_.isEmpty()&&this.inUseSet_.isEmpty()},goog.structs.Pool.prototype.disposeInternal=function(){if(goog.structs.Pool.superClass_.disposeInternal.call(this),0<this.getInUseCount())throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);delete this.inUseSet_;for(var e=this.freeQueue_;!e.isEmpty();)this.disposeObject(e.dequeue());delete this.freeQueue_},goog.structs.Node=function(e,t){this.key_=e,this.value_=t},goog.structs.Node.prototype.getKey=function(){return this.key_},goog.structs.Node.prototype.getValue=function(){return this.value_},goog.structs.Node.prototype.clone=function(){return new goog.structs.Node(this.key_,this.value_)},goog.structs.Heap=function(e){this.nodes_=[],e&&this.insertAll(e)},goog.structs.Heap.prototype.insert=function(e,t){var n=new goog.structs.Node(e,t),i=this.nodes_;i.push(n),this.moveUp_(i.length-1)},goog.structs.Heap.prototype.insertAll=function(e){if(e instanceof goog.structs.Heap){var t=e.getKeys(),n=e.getValues();if(0>=this.getCount()){for(var i=this.nodes_,r=0;r<t.length;r++)i.push(new goog.structs.Node(t[r],n[r]));return}}else t=module$contents$goog$object_getKeys(e),n=module$contents$goog$object_getValues(e);for(r=0;r<t.length;r++)this.insert(t[r],n[r])},goog.structs.Heap.prototype.remove=function(){var e=this.nodes_,t=e.length,n=e[0];if(!(0>=t))return t==1?module$contents$goog$array_clear(e):(e[0]=e.pop(),this.moveDown_(0)),n.getValue()},goog.structs.Heap.prototype.peek=function(){var e=this.nodes_;if(e.length!=0)return e[0].getValue()},goog.structs.Heap.prototype.peekKey=function(){return this.nodes_[0]&&this.nodes_[0].getKey()},goog.structs.Heap.prototype.moveDown_=function(e){for(var t=this.nodes_,n=t.length,i=t[e];e<n>>1;){var r=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),d=u<n&&t[u].getKey()<t[r].getKey()?u:r;if(t[d].getKey()>i.getKey())break;t[e]=t[d],e=d}t[e]=i},goog.structs.Heap.prototype.moveUp_=function(e){for(var t=this.nodes_,n=t[e];0<e;){var i=this.getParentIndex_(e);if(t[i].getKey()>n.getKey())t[e]=t[i],e=i;else break}t[e]=n},goog.structs.Heap.prototype.getLeftChildIndex_=function(e){return 2*e+1},goog.structs.Heap.prototype.getRightChildIndex_=function(e){return 2*e+2},goog.structs.Heap.prototype.getParentIndex_=function(e){return e-1>>1},goog.structs.Heap.prototype.getValues=function(){for(var e=this.nodes_,t=[],n=e.length,i=0;i<n;i++)t.push(e[i].getValue());return t},goog.structs.Heap.prototype.getKeys=function(){for(var e=this.nodes_,t=[],n=e.length,i=0;i<n;i++)t.push(e[i].getKey());return t},goog.structs.Heap.prototype.containsValue=function(e){return module$contents$goog$array_some(this.nodes_,function(t){return t.getValue()==e})},goog.structs.Heap.prototype.containsKey=function(e){return module$contents$goog$array_some(this.nodes_,function(t){return t.getKey()==e})},goog.structs.Heap.prototype.clone=function(){return new goog.structs.Heap(this)},goog.structs.Heap.prototype.getCount=function(){return this.nodes_.length},goog.structs.Heap.prototype.isEmpty=function(){return this.nodes_.length===0},goog.structs.Heap.prototype.clear=function(){module$contents$goog$array_clear(this.nodes_)},goog.structs.PriorityQueue=function(){goog.structs.Heap.call(this)},goog.inherits(goog.structs.PriorityQueue,goog.structs.Heap),goog.structs.PriorityQueue.prototype.enqueue=function(e,t){this.insert(e,t)},goog.structs.PriorityQueue.prototype.dequeue=function(){return this.remove()},goog.structs.PriorityPool=function(e,t){this.delayTimeout_=void 0,this.requestQueue_=new goog.structs.PriorityQueue,goog.structs.Pool.call(this,e,t)},goog.inherits(goog.structs.PriorityPool,goog.structs.Pool),goog.structs.PriorityPool.DEFAULT_PRIORITY_=100,goog.structs.PriorityPool.prototype.setDelay=function(e){goog.structs.PriorityPool.superClass_.setDelay.call(this,e),this.lastAccess!=null&&(goog.global.clearTimeout(this.delayTimeout_),this.delayTimeout_=goog.global.setTimeout(goog.bind(this.handleQueueRequests_,this),this.delay+this.lastAccess-Date.now()),this.handleQueueRequests_())},goog.structs.PriorityPool.prototype.getObject=function(e,t){if(!e){var n=goog.structs.PriorityPool.superClass_.getObject.call(this);return n&&this.delay&&(this.delayTimeout_=goog.global.setTimeout(goog.bind(this.handleQueueRequests_,this),this.delay)),n}this.requestQueue_.enqueue(t!==void 0?t:goog.structs.PriorityPool.DEFAULT_PRIORITY_,e),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.handleQueueRequests_=function(){for(var e=this.requestQueue_;0<e.getCount();){var t=this.getObject();if(t)e.dequeue().apply(this,[t]);else break}},goog.structs.PriorityPool.prototype.addFreeObject=function(e){goog.structs.PriorityPool.superClass_.addFreeObject.call(this,e),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.adjustForMinMax=function(){goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this),this.handleQueueRequests_()},goog.structs.PriorityPool.prototype.disposeInternal=function(){goog.structs.PriorityPool.superClass_.disposeInternal.call(this),goog.global.clearTimeout(this.delayTimeout_),this.requestQueue_.clear(),this.requestQueue_=null};var module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource=function(e,t){module$exports$ee$layers$AbstractTileSource.call(this),this.mapId_=e,this.profiler_=t||null};$jscomp.inherits(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource,module$exports$ee$layers$AbstractTileSource),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.loadTile=function(e,t){var n=module$contents$ee$apiclient_apiclient.PROFILE_HEADER.toLowerCase(),i=goog.events.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){switch(e.getStatus()){case ee.layers.AbstractTile.Status.LOADED:var u=e.sourceResponseHeaders[n];this.profiler_&&u&&this.profiler_.addTile(e.div.id,u);break;case ee.layers.AbstractTile.Status.FAILED:case ee.layers.AbstractTile.Status.ABORTED:this.profiler_&&e.div.id!==""&&this.profiler_.removeTile(e.div.id),goog.events.unlistenByKey(i)}},void 0,this);e.sourceUrl=this.getTileUrl_(e.coord,e.zoom);var r=goog.bind(this.handleAvailableToken_,this,e);module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_().getObject(r,t)},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getUniqueId=function(){return this.mapId_.mapid+"-"+this.mapId_.token},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.handleAvailableToken_=function(e,t){var n=module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_();if(e.isDisposed()||e.getStatus()==ee.layers.AbstractTile.Status.ABORTED)n.releaseObject(t);else{var i=goog.events.listen(e,ee.layers.AbstractTile.EventType.STATUS_CHANGED,function(){e.isDone()&&(goog.events.unlistenByKey(i),n.releaseObject(t))});e.startLoad()}},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getTileUrl_=function(e,t){var n=ee.data.getTileUrl(this.mapId_,e.x,e.y,t);return this.profiler_&&this.profiler_.isEnabled()?n+"&profiling=1":n},module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_=function(){return module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_||(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_=new goog.structs.PriorityPool(0,module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_)),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_},goog.exportSymbol("ee.layers.EarthEngineTileSource",module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource),module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_=null,module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_=4,ee.layers.EarthEngineTileSource=module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource,goog.singleton={};var module$contents$goog$singleton_instantiatedSingletons=[];goog.singleton.getInstance=function(e){if((0,goog.asserts.assert)(!Object.isSealed(e),"Cannot use getInstance() with a sealed constructor."),e.instance_&&e.hasOwnProperty("instance_"))return e.instance_;goog.DEBUG&&module$contents$goog$singleton_instantiatedSingletons.push(e);var t=new e;return e.instance_=t,(0,goog.asserts.assert)(e.hasOwnProperty("instance_"),"Could not instantiate singleton."),t},goog.singleton.instantiatedSingletons=module$contents$goog$singleton_instantiatedSingletons,ee.MapTileManager=function(){goog.events.EventTarget.call(this),this.tokenPool_=new ee.MapTileManager.TokenPool_(0,60),this.requests_=new goog.structs.Map},$jscomp.inherits(ee.MapTileManager,goog.events.EventTarget),ee.MapTileManager.prototype.getOutstandingCount=function(){return this.requests_.getCount()},ee.MapTileManager.prototype.send=function(e,t,n,i,r){if(this.requests_.get(e))throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);var u=new ee.MapTileManager.Request_(e,t,i,goog.bind(this.releaseRequest_,this),r!==void 0?r:ee.MapTileManager.MAX_RETRIES);this.requests_.set(e,u);var d=goog.bind(this.handleAvailableToken_,this,u);return this.tokenPool_.getObject(d,n),u},ee.MapTileManager.prototype.abort=function(e){var t=this.requests_.get(e);t&&(t.setAborted(!0),this.releaseRequest_(t))},ee.MapTileManager.prototype.handleAvailableToken_=function(e,t){if(e.getImageLoader()||e.getAborted())this.releaseObject_(t);else if(e.setToken(t),t.setActive(!0),e.setImageLoader(new goog.net.ImageLoader),!e.retry())throw Error("Cannot dispatch first request!")},ee.MapTileManager.prototype.releaseRequest_=function(e){this.requests_.remove(e.getId()),e.getImageLoader()&&(this.releaseObject_(e.getToken()),e.getImageLoader().dispose()),e.fireImageEventCallback()},ee.MapTileManager.prototype.releaseObject_=function(e){if(e.setActive(!1),!this.tokenPool_.releaseObject(e))throw Error("Object not released")},ee.MapTileManager.prototype.disposeInternal=function(){goog.events.EventTarget.prototype.disposeInternal.call(this),this.tokenPool_.dispose(),this.tokenPool_=null;var e=this.requests_;module$contents$goog$array_forEach(e.getValues(),function(t){t.dispose()}),e.clear(),this.requests_=null},ee.MapTileManager.getInstance=function(){return goog.singleton.getInstance(ee.MapTileManager)},goog.exportSymbol("ee.MapTileManager",ee.MapTileManager),ee.MapTileManager.MAX_RETRIES=1,ee.MapTileManager.ERROR_ID_IN_USE_="[ee.MapTileManager] ID in use",ee.MapTileManager.Request_=function(e,t,n,i,r){goog.Disposable.call(this),this.id_=e,this.url_=t,this.maxRetries_=r!==void 0?r:ee.MapTileManager.MAX_RETRIES,this.imageEventCallback_=n,this.requestCompleteCallback_=i},$jscomp.inherits(ee.MapTileManager.Request_,goog.Disposable),ee.MapTileManager.Request_.prototype.getImageLoader=function(){return this.imageLoader_},ee.MapTileManager.Request_.prototype.setImageLoader=function(e){this.imageLoader_=e},ee.MapTileManager.Request_.prototype.getToken=function(){return this.token_},ee.MapTileManager.Request_.prototype.setToken=function(e){this.token_=e},ee.MapTileManager.Request_.prototype.addImageEventListener=function(){goog.events.listenOnce(this.imageLoader_,ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_,goog.bind(this.handleImageEvent_,this))},ee.MapTileManager.Request_.prototype.fireImageEventCallback=function(){this.imageEventCallback_&&this.imageEventCallback_(this.event_,this.profileId_)},ee.MapTileManager.Request_.prototype.getId=function(){return this.id_},ee.MapTileManager.Request_.prototype.getUrl=function(){return this.url_},ee.MapTileManager.Request_.prototype.getMaxRetries=function(){return this.maxRetries_},ee.MapTileManager.Request_.prototype.getAttemptCount=function(){return this.attemptCount_},ee.MapTileManager.Request_.prototype.increaseAttemptCount=function(){this.attemptCount_++},ee.MapTileManager.Request_.prototype.hasReachedMaxRetries=function(){return this.attemptCount_>this.maxRetries_},ee.MapTileManager.Request_.prototype.setAborted=function(e){e&&!this.aborted_&&(this.aborted_=e,this.event_=new goog.events.Event(goog.net.EventType.ABORT))},ee.MapTileManager.Request_.prototype.getAborted=function(){return this.aborted_},ee.MapTileManager.Request_.prototype.handleImageEvent_=function(e){if(this.getAborted())this.markCompleted_();else switch(e.type){case goog.events.EventType.LOAD:this.handleSuccess_(e),this.markCompleted_();break;case goog.net.EventType.ERROR:case goog.net.EventType.ABORT:this.handleError_(e)}},ee.MapTileManager.Request_.prototype.markCompleted_=function(){this.requestCompleteCallback_&&this.requestCompleteCallback_(this)},ee.MapTileManager.Request_.prototype.handleSuccess_=function(e){this.event_=e},ee.MapTileManager.Request_.prototype.handleError_=function(e){this.retry()||(this.event_=e,this.markCompleted_())},ee.MapTileManager.Request_.prototype.disposeInternal=function(){goog.Disposable.prototype.disposeInternal.call(this),delete this.imageEventCallback_,delete this.requestCompleteCallback_},ee.MapTileManager.Request_.prototype.retry=function(){return this.hasReachedMaxRetries()?!1:(this.increaseAttemptCount(),this.imageLoader_.removeImage(this.id_),setTimeout(goog.bind(this.start_,this),0),!0)},ee.MapTileManager.Request_.prototype.start_=function(){if(!this.getAborted()){var e=goog.bind(function(i){this.getAborted()||(this.imageLoader_.addImage(this.id_,i),this.addImageEventListener(),this.imageLoader_.start())},this),t=this.getUrl();if(goog.Uri.parse(t).getQueryData().containsKey("profiling")){var n=new goog.net.XhrIo;n.setResponseType(goog.net.XhrIo.ResponseType.BLOB),n.listen(goog.net.EventType.COMPLETE,goog.bind(function(i){if(this.profileId_=n.getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER)||null,200<=n.getStatus()&&300>n.getStatus())try{var r=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.fromBlob(n.getResponse())),u=r!==goog.html.SafeUrl.INNOCUOUS_STRING}catch{}e(u?r:t)},this)),n.listenOnce(goog.net.EventType.READY,goog.bind(n.dispose,n)),n.send(t,"GET")}else e(t)}},ee.MapTileManager.Request_.prototype.attemptCount_=0,ee.MapTileManager.Request_.prototype.aborted_=!1,ee.MapTileManager.Request_.prototype.imageLoader_=null,ee.MapTileManager.Request_.prototype.token_=null,ee.MapTileManager.Request_.prototype.event_=null,ee.MapTileManager.Request_.prototype.profileId_=null,ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_=[goog.events.EventType.LOAD,goog.net.EventType.ABORT,goog.net.EventType.ERROR],ee.MapTileManager.Token_=function(){goog.Disposable.call(this),this.active_=!1},$jscomp.inherits(ee.MapTileManager.Token_,goog.Disposable),ee.MapTileManager.Token_.prototype.setActive=function(e){this.active_=e},ee.MapTileManager.Token_.prototype.isActive=function(){return this.active_},ee.MapTileManager.TokenPool_=function(e,t){goog.structs.PriorityPool.call(this,e,t)},$jscomp.inherits(ee.MapTileManager.TokenPool_,goog.structs.PriorityPool),ee.MapTileManager.TokenPool_.prototype.createObject=function(){return new ee.MapTileManager.Token_},ee.MapTileManager.TokenPool_.prototype.disposeObject=function(e){e.dispose()},ee.MapTileManager.TokenPool_.prototype.objectCanBeReused=function(e){return!e.isDisposed()&&!e.isActive()},ee.MapLayerOverlay=function(e,t,n,i,r){if(ee.AbstractOverlay.call(this,e,t,n,i,r),this.minZoom=i.minZoom||0,this.maxZoom=i.maxZoom||20,!window.google||!window.google.maps)throw Error("Google Maps API hasn't been initialized.");this.tileSize=i.tileSize||new google.maps.Size(256,256),this.isPng=i.isPng!==void 0?i.isPng:!0,this.name=i.name,this.tiles_=new goog.structs.Set,this.opacity_=1,this.visible_=!0,this.profiler_=r||null},$jscomp.inherits(ee.MapLayerOverlay,ee.AbstractOverlay),ee.MapLayerOverlay.prototype.addTileCallback=function(e){return goog.events.listen(this,ee.AbstractOverlay.EventType.TILE_LOADED,e)},ee.MapLayerOverlay.prototype.removeTileCallback=function(e){goog.events.unlistenByKey(e)},ee.MapLayerOverlay.prototype.dispatchTileEvent_=function(){this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length))},ee.MapLayerOverlay.prototype.getTile=function(e,t,n){if(t<this.minZoom||0>e.y||e.y>=1<<t){var i=n.createElement("IMG");return i.style.width="0px",i.style.height="0px",i}var r=this.profiler_&&this.profiler_.isEnabled(),u=this.getTileId(e,t),d=[this.url,u].join("/")+"?token="+this.token;r&&(d+="&profiling=1");var c=[u,this.tileCounter,this.token].join("/");this.tileCounter+=1;var v=goog.dom.createDom(goog.dom.TagName.DIV,{id:c}),S=new Date().getTime()/1e3;return this.tilesLoading.push(c),ee.MapTileManager.getInstance().send(c,d,S,goog.bind(this.handleImageCompleted_,this,v,c)),this.dispatchTileEvent_(),v},ee.MapLayerOverlay.prototype.getLoadedTilesCount=function(){return this.tiles_.getCount()},ee.MapLayerOverlay.prototype.getLoadingTilesCount=function(){return this.tilesLoading.length},ee.MapLayerOverlay.prototype.releaseTile=function(e){ee.MapTileManager.getInstance().abort(e.id),this.tiles_.remove(goog.dom.getFirstElementChild(e)),e.id!==""&&(this.tilesFailed.remove(e.id),this.profiler_&&this.profiler_.removeTile(e.id))},ee.MapLayerOverlay.prototype.setOpacity=function(e){this.opacity_=e;var t=this.tiles_.__iterator__();goog.iter.forEach(t,function(n){goog.style.setOpacity(n,e)})},ee.MapLayerOverlay.prototype.handleImageCompleted_=function(e,t,n,i){if(n.type==goog.net.EventType.ERROR)module$contents$goog$array_remove(this.tilesLoading,t),this.tilesFailed.add(t),this.dispatchEvent(n);else{if(module$contents$goog$array_remove(this.tilesLoading,t),n.target&&n.type==goog.events.EventType.LOAD){var r=n.target;this.tiles_.add(r),this.opacity_!=1&&goog.style.setOpacity(r,this.opacity_),e.appendChild(r)}this.dispatchTileEvent_()}this.profiler_&&i!==null&&this.profiler_.addTile(t,i)},goog.exportSymbol("ee.MapLayerOverlay",ee.MapLayerOverlay),goog.exportProperty(ee.MapLayerOverlay.prototype,"removeTileCallback",ee.MapLayerOverlay.prototype.removeTileCallback),goog.exportProperty(ee.MapLayerOverlay.prototype,"addTileCallback",ee.MapLayerOverlay.prototype.addTileCallback),goog.exportProperty(ee.MapLayerOverlay.prototype,"getTile",ee.MapLayerOverlay.prototype.getTile),goog.exportProperty(ee.MapLayerOverlay.prototype,"setOpacity",ee.MapLayerOverlay.prototype.setOpacity),goog.exportProperty(ee.MapLayerOverlay.prototype,"releaseTile",ee.MapLayerOverlay.prototype.releaseTile),goog.async.Delay=function(e,t,n){goog.Disposable.call(this),this.listener_=e,this.interval_=t||0,this.handler_=n,this.callback_=goog.bind(this.doAction_,this)},goog.inherits(goog.async.Delay,goog.Disposable),goog.async.Delay.prototype.id_=0,goog.async.Delay.prototype.disposeInternal=function(){goog.async.Delay.superClass_.disposeInternal.call(this),this.stop(),delete this.listener_,delete this.handler_},goog.async.Delay.prototype.start=function(e){this.stop(),this.id_=goog.Timer.callOnce(this.callback_,e!==void 0?e:this.interval_)},goog.async.Delay.prototype.startIfNotActive=function(e){this.isActive()||this.start(e)},goog.async.Delay.prototype.stop=function(){this.isActive()&&goog.Timer.clear(this.id_),this.id_=0},goog.async.Delay.prototype.fire=function(){this.stop(),this.doAction_()},goog.async.Delay.prototype.fireIfActive=function(){this.isActive()&&this.fire()},goog.async.Delay.prototype.isActive=function(){return this.id_!=0},goog.async.Delay.prototype.doAction_=function(){this.id_=0,this.listener_&&this.listener_.call(this.handler_)},ee.data.Profiler=function(e){goog.events.EventTarget.call(this),this.format_=e,this.isEnabled_=!1,this.lastRefreshToken_=null,this.profileIds_=Object.create(null),this.tileProfileIds_=Object.create(null),this.showInternal_=!1,this.profileError_=null,this.throttledRefresh_=new goog.async.Delay(goog.bind(this.refresh_,this),ee.data.Profiler.DELAY_BEFORE_REFRESH_),this.profileData_=ee.data.Profiler.getEmptyProfile_(e),this.MAX_RETRY_COUNT_=5},$jscomp.inherits(ee.data.Profiler,goog.events.EventTarget),ee.data.Profiler.prototype.isEnabled=function(){return this.isEnabled_},ee.data.Profiler.prototype.setEnabled=function(e){this.isEnabled_=!!e,this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED))},ee.data.Profiler.prototype.isLoading=function(){return this.lastRefreshToken_!==null},ee.data.Profiler.prototype.isError=function(){return this.profileError_!=null},ee.data.Profiler.prototype.getStatusText=function(){if(this.profileError_)return this.profileError_;if(this.lastRefreshToken_)return"Loading...";var e=0,t=0,n=0;return module$contents$goog$object_forEach(this.profileIds_,function(i){e++,i===1/0?t++:n++},this),"Viewing "+e+" profiles, "+t+" from API calls and "+n+" from map tiles."},ee.data.Profiler.prototype.getProfileData=function(){return this.profileData_},ee.data.Profiler.prototype.clearAndDrop=function(){this.profileIds_=Object.create(null),this.tileProfileIds_=Object.create(null),this.refresh_()},ee.data.Profiler.prototype.getProfileHook=function(){var e=this.profileIds_;return this.isEnabled_?goog.bind(function(t){e[t]=1/0,this.throttledRefresh_.start()},this):null},ee.data.Profiler.prototype.removeProfile_=function(e){var t=this.profileIds_[e];1<t?this.profileIds_[e]--:t!==void 0&&(delete this.profileIds_[e],this.throttledRefresh_.start())},ee.data.Profiler.prototype.refresh_=function(e){var t=this;e=e===void 0?0:e;var n={};this.lastRefreshToken_=n;var i=function(u,d){n==t.lastRefreshToken_&&(d&&typeof e=="number"&&e<t.MAX_RETRY_COUNT_?goog.Timer.callOnce(goog.bind(t.refresh_,t,e+1),2*ee.data.Profiler.DELAY_BEFORE_REFRESH_):(t.profileError_=d||null,t.profileData_=d?ee.data.Profiler.getEmptyProfile_(t.format_):u,t.lastRefreshToken_=null,t.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED),t.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED)))},r=module$contents$goog$object_getKeys(this.profileIds_);r.length===0?i(ee.data.Profiler.getEmptyProfile_(this.format_),void 0):(ee.ApiFunction._apply(this.showInternal_?"Profile.getProfilesInternal":"Profile.getProfiles",{ids:r,format:this.format_.toString()}).getInfo(i),this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED))},ee.data.Profiler.prototype.addTile=function(e,t){this.tileProfileIds_[e]||(this.tileProfileIds_[e]=t,this.profileIds_[t]=(this.profileIds_[t]||0)+1,this.throttledRefresh_.start())},ee.data.Profiler.prototype.removeTile=function(e){var t=this.tileProfileIds_[e];t&&(delete this.tileProfileIds_[e],this.removeProfile_(t))},ee.data.Profiler.prototype.getShowInternal=function(){return this.showInternal_},ee.data.Profiler.prototype.setShowInternal=function(e){this.showInternal_=!!e,this.throttledRefresh_.fire()},ee.data.Profiler.prototype.setParentEventTarget=function(e){throw Error("not applicable")},ee.data.Profiler.getEmptyProfile_=function(e){switch(e){case ee.data.Profiler.Format.TEXT:return"";case ee.data.Profiler.Format.JSON:return ee.data.Profiler.EMPTY_JSON_PROFILE_;default:throw Error("Invalid Profiler data format: "+e)}},ee.data.Profiler.DELAY_BEFORE_REFRESH_=500,ee.data.Profiler.EMPTY_JSON_PROFILE_={cols:[],rows:[]},ee.data.Profiler.EventType={STATE_CHANGED:"statechanged",DATA_CHANGED:"datachanged"},ee.data.Profiler.Format=function(e){this.format_=e},ee.data.Profiler.Format.prototype.toString=function(){return this.format_},ee.data.Profiler.Format.TEXT=new ee.data.Profiler.Format("text"),ee.data.Profiler.Format.JSON=new ee.data.Profiler.Format("json"),function(){var e={},t="ee.ApiFunction._call ee.ApiFunction._apply ee.ApiFunction.lookup ee.batch.Export.table.toDmsLayer ee.batch.Export.image.toAsset ee.batch.Export.videoMap.toCloudStorage ee.batch.Export.video.toCloudStorage ee.batch.Export.classifier.toAsset ee.batch.Export.image.toCloudStorage ee.batch.Export.video.toDrive ee.batch.Export.image.toDrive ee.batch.Export.table.toAsset ee.batch.Export.map.toCloudStorage ee.batch.Export.table.toDrive ee.batch.Export.table.toCloudStorage ee.Collection.prototype.filterDate ee.Collection.prototype.filter ee.Collection.prototype.filterMetadata ee.Collection.prototype.limit ee.Collection.prototype.map ee.Collection.prototype.filterBounds ee.Collection.prototype.sort ee.Collection.prototype.iterate ee.ComputedObject.prototype.aside ee.ComputedObject.prototype.evaluate ee.ComputedObject.prototype.serialize ee.ComputedObject.prototype.getInfo ee.data.authenticateViaPopup ee.data.makeTableDownloadUrl ee.data.newTaskId ee.data.getList ee.data.authenticateViaPrivateKey ee.data.cancelOperation ee.data.getTaskStatus ee.data.listAssets ee.data.authenticateViaOauth ee.data.getOperation ee.data.startTableIngestion ee.data.listOperations ee.data.getAssetAcl ee.data.listImages ee.data.cancelTask ee.data.getMapId ee.data.getDmsTilesKey ee.data.getAsset ee.data.getThumbId ee.data.getInfo ee.data.getTaskList ee.data.listBuckets ee.data.authenticate ee.data.createAssetHome ee.data.deleteAsset ee.data.getTileUrl ee.data.getAssetRoots ee.data.computeValue ee.data.updateTask ee.data.getTaskListWithLimit ee.data.startIngestion ee.data.getVideoThumbId ee.data.startProcessing ee.data.getFilmstripThumbId ee.data.getAssetRootQuota ee.data.createAsset ee.data.makeThumbUrl ee.data.createFolder ee.data.getDownloadId ee.data.renameAsset ee.data.updateAsset ee.data.makeDownloadUrl ee.data.getTableDownloadId ee.data.setAssetProperties ee.data.copyAsset ee.data.setAssetAcl ee.Date ee.Deserializer.fromCloudApiJSON ee.Deserializer.fromJSON ee.Deserializer.decode ee.Deserializer.decodeCloudApi ee.Dictionary ee.reset ee.call ee.TILE_SIZE ee.InitState ee.apply ee.initialize ee.Algorithms ee.Element.prototype.set ee.Feature ee.Feature.prototype.getMap ee.Feature.prototype.getInfo ee.FeatureCollection.prototype.getMap ee.FeatureCollection.prototype.getInfo ee.FeatureCollection ee.FeatureCollection.prototype.select ee.FeatureCollection.prototype.getDownloadURL ee.Filter.prototype.not ee.Filter.date ee.Filter.gte ee.Filter.neq ee.Filter.and ee.Filter.metadata ee.Filter.gt ee.Filter.lte ee.Filter.inList ee.Filter.eq ee.Filter ee.Filter.or ee.Filter.bounds ee.Filter.lt ee.Function.prototype.apply ee.Function.prototype.call ee.Geometry.MultiLineString ee.Geometry.prototype.toGeoJSON ee.Geometry.BBox ee.Geometry ee.Geometry.prototype.toGeoJSONString ee.Geometry.Rectangle ee.Geometry.Polygon ee.Geometry.MultiPolygon ee.Geometry.LinearRing ee.Geometry.LineString ee.Geometry.prototype.serialize ee.Geometry.Point ee.Geometry.MultiPoint ee.Image.cat ee.Image.prototype.select ee.Image.prototype.getInfo ee.Image.prototype.expression ee.Image.prototype.rename ee.Image.prototype.getThumbId ee.Image.prototype.clip ee.Image.prototype.getMap ee.Image.prototype.getDownloadURL ee.Image.prototype.getThumbURL ee.Image ee.Image.rgb ee.ImageCollection.prototype.getVideoThumbURL ee.ImageCollection.prototype.getInfo ee.ImageCollection.prototype.first ee.ImageCollection ee.ImageCollection.prototype.getMap ee.ImageCollection.prototype.getFilmstripThumbURL ee.ImageCollection.prototype.select ee.List ee.Number ee.Serializer.toReadableCloudApiJSON ee.Serializer.encodeCloudApi ee.Serializer.toCloudApiJSON ee.Serializer.encode ee.Serializer.encodeCloudApiPretty ee.Serializer.toReadableJSON ee.Serializer.toJSON ee.String ee.Terrain".split(" "),n=[["name","var_args"],["name","namedArgs"],["name"],["collection","opt_description","opt_assetId","opt_maxVertices"],"image opt_description opt_assetId opt_pyramidingPolicy opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_writePublicTiles opt_minZoom opt_maxZoom opt_scale opt_region opt_skipEmptyTiles opt_minTimeMachineZoomSubset opt_maxTimeMachineZoomSubset opt_tileWidth opt_tileHeight opt_tileStride opt_videoFormat opt_version opt_mapsApiKey opt_bucketCorsUris".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames".split(" "),["classifier","opt_description","opt_assetId"],"image opt_description opt_bucket opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions".split(" "),"collection opt_description opt_folder opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames".split(" "),"image opt_description opt_folder opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions".split(" "),["collection","opt_description","opt_assetId","opt_maxVertices"],"image opt_description opt_bucket opt_fileFormat opt_path opt_writePublicTiles opt_scale opt_maxZoom opt_minZoom opt_region opt_skipEmptyTiles opt_mapsApiKey opt_bucketCorsUris".split(" "),"collection opt_description opt_folder opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices".split(" "),"collection opt_description opt_bucket opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices".split(" "),["start","opt_end"],["filter"],["name","operator","value"],["max","opt_property","opt_ascending"],["algorithm","opt_dropNulls"],["geometry"],["property","opt_ascending"],["algorithm","opt_first"],["func","var_args"],["callback"],["legacy"],["opt_callback"],["opt_success","opt_error"],["id"],["opt_count","opt_callback"],["params","opt_callback"],["privateKey","opt_success","opt_error","opt_extraScopes","opt_suppressDefaultScopes"],["operationName","opt_callback"],["taskId","opt_callback"],["parent","params","opt_callback"],"clientId success opt_error opt_extraScopes opt_onImmediateFailed opt_suppressDefaultScopes".split(" "),["operationName","opt_callback"],["taskId","request","opt_callback"],["opt_limit","opt_callback"],["assetId","opt_callback"],["parent","params","opt_callback"],["taskId","opt_callback"],["params","opt_callback"],["params","opt_callback"],["id","opt_callback"],["params","opt_callback"],["id","opt_callback"],["opt_callback"],["project","opt_callback"],["clientId","success","opt_error","opt_extraScopes","opt_onImmediateFailed"],["requestedId","opt_callback"],["assetId","opt_callback"],["id","x","y","z"],["opt_callback"],["obj","opt_callback"],["taskId","action","opt_callback"],["opt_limit","opt_callback"],["taskId","request","opt_callback"],["params","opt_callback"],["taskId","params","opt_callback"],["params","opt_callback"],["rootId","opt_callback"],["value","opt_path","opt_force","opt_properties","opt_callback"],["id"],["path","opt_force","opt_callback"],["params","opt_callback"],["sourceId","destinationId","opt_callback"],["assetId","asset","updateFields","opt_callback"],["id"],["params","opt_callback"],["assetId","properties","opt_callback"],["sourceId","destinationId","opt_overwrite","opt_callback"],["assetId","aclUpdate","opt_callback"],["date","opt_tz"],["json"],["json"],["json"],["json"],["opt_dict"],[],["func","var_args"],[],[],["func","namedArgs"],"opt_baseurl opt_tileurl opt_successCallback opt_errorCallback opt_xsrfToken opt_project".split(" "),[],["var_args"],["geometry","opt_properties"],["opt_visParams","opt_callback"],["opt_callback"],["opt_visParams","opt_callback"],["opt_callback"],["args","opt_column"],["propertySelectors","opt_newProperties","opt_retainGeometry"],["opt_format","opt_selectors","opt_filename","opt_callback"],[],["start","opt_end"],["name","value"],["name","value"],["var_args"],["name","operator","value"],["name","value"],["name","value"],["opt_leftField","opt_rightValue","opt_rightField","opt_leftValue"],["name","value"],["opt_filter"],["var_args"],["geometry","opt_errorMargin"],["name","value"],["namedArgs"],["var_args"],["coords","opt_proj","opt_geodesic","opt_maxError"],[],["west","south","east","north"],["geoJson","opt_proj","opt_geodesic","opt_evenOdd"],[],["coords","opt_proj","opt_geodesic","opt_evenOdd"],["coords","opt_proj","opt_geodesic","opt_maxError","opt_evenOdd"],["coords","opt_proj","opt_geodesic","opt_maxError","opt_evenOdd"],["coords","opt_proj","opt_geodesic","opt_maxError"],["coords","opt_proj","opt_geodesic","opt_maxError"],["legacy"],["coords","opt_proj"],["coords","opt_proj"],["var_args"],["var_args"],["opt_callback"],["expression","opt_map"],["var_args"],["params","opt_callback"],["geometry"],["opt_visParams","opt_callback"],["params","opt_callback"],["params","opt_callback"],["opt_args"],["r","g","b"],["params","opt_callback"],["opt_callback"],[],["args"],["opt_visParams","opt_callback"],["params","opt_callback"],["selectors","opt_names"],["list"],["number"],["obj"],["obj"],["obj"],["obj","opt_isCompound"],["obj"],["obj"],["obj"],["string"],[]];[ee.ApiFunction._call,ee.ApiFunction._apply,ee.ApiFunction.lookup,module$contents$ee$batch_Export.table.toDmsLayer,module$contents$ee$batch_Export.image.toAsset,module$contents$ee$batch_Export.videoMap.toCloudStorage,module$contents$ee$batch_Export.video.toCloudStorage,module$contents$ee$batch_Export.classifier.toAsset,module$contents$ee$batch_Export.image.toCloudStorage,module$contents$ee$batch_Export.video.toDrive,module$contents$ee$batch_Export.image.toDrive,module$contents$ee$batch_Export.table.toAsset,module$contents$ee$batch_Export.map.toCloudStorage,module$contents$ee$batch_Export.table.toDrive,module$contents$ee$batch_Export.table.toCloudStorage,ee.Collection.prototype.filterDate,ee.Collection.prototype.filter,ee.Collection.prototype.filterMetadata,ee.Collection.prototype.limit,ee.Collection.prototype.map,ee.Collection.prototype.filterBounds,ee.Collection.prototype.sort,ee.Collection.prototype.iterate,ee.ComputedObject.prototype.aside,ee.ComputedObject.prototype.evaluate,ee.ComputedObject.prototype.serialize,ee.ComputedObject.prototype.getInfo,ee.data.authenticateViaPopup,ee.data.makeTableDownloadUrl,ee.data.newTaskId,ee.data.getList,ee.data.authenticateViaPrivateKey,ee.data.cancelOperation,ee.data.getTaskStatus,ee.data.listAssets,ee.data.authenticateViaOauth,ee.data.getOperation,ee.data.startTableIngestion,ee.data.listOperations,ee.data.getAssetAcl,ee.data.listImages,ee.data.cancelTask,ee.data.getMapId,ee.data.getDmsTilesKey,ee.data.getAsset,ee.data.getThumbId,ee.data.getInfo,ee.data.getTaskList,ee.data.listBuckets,ee.data.authenticate,ee.data.createAssetHome,ee.data.deleteAsset,ee.data.getTileUrl,ee.data.getAssetRoots,ee.data.computeValue,ee.data.updateTask,ee.data.getTaskListWithLimit,ee.data.startIngestion,ee.data.getVideoThumbId,ee.data.startProcessing,ee.data.getFilmstripThumbId,ee.data.getAssetRootQuota,ee.data.createAsset,ee.data.makeThumbUrl,ee.data.createFolder,ee.data.getDownloadId,ee.data.renameAsset,ee.data.updateAsset,ee.data.makeDownloadUrl,ee.data.getTableDownloadId,ee.data.setAssetProperties,ee.data.copyAsset,ee.data.setAssetAcl,ee.Date,ee.Deserializer.fromCloudApiJSON,ee.Deserializer.fromJSON,ee.Deserializer.decode,ee.Deserializer.decodeCloudApi,ee.Dictionary,ee.reset,ee.call,ee.TILE_SIZE,ee.InitState,ee.apply,ee.initialize,ee.Algorithms,ee.Element.prototype.set,ee.Feature,ee.Feature.prototype.getMap,ee.Feature.prototype.getInfo,ee.FeatureCollection.prototype.getMap,ee.FeatureCollection.prototype.getInfo,ee.FeatureCollection,ee.FeatureCollection.prototype.select,ee.FeatureCollection.prototype.getDownloadURL,ee.Filter.prototype.not,ee.Filter.date,ee.Filter.gte,ee.Filter.neq,ee.Filter.and,ee.Filter.metadata,ee.Filter.gt,ee.Filter.lte,ee.Filter.inList,ee.Filter.eq,ee.Filter,ee.Filter.or,ee.Filter.bounds,ee.Filter.lt,ee.Function.prototype.apply,ee.Function.prototype.call,ee.Geometry.MultiLineString,ee.Geometry.prototype.toGeoJSON,ee.Geometry.BBox,ee.Geometry,ee.Geometry.prototype.toGeoJSONString,ee.Geometry.Rectangle,ee.Geometry.Polygon,ee.Geometry.MultiPolygon,ee.Geometry.LinearRing,ee.Geometry.LineString,ee.Geometry.prototype.serialize,ee.Geometry.Point,ee.Geometry.MultiPoint,ee.Image.cat,ee.Image.prototype.select,ee.Image.prototype.getInfo,ee.Image.prototype.expression,ee.Image.prototype.rename,ee.Image.prototype.getThumbId,ee.Image.prototype.clip,ee.Image.prototype.getMap,ee.Image.prototype.getDownloadURL,ee.Image.prototype.getThumbURL,ee.Image,ee.Image.rgb,ee.ImageCollection.prototype.getVideoThumbURL,ee.ImageCollection.prototype.getInfo,ee.ImageCollection.prototype.first,ee.ImageCollection,ee.ImageCollection.prototype.getMap,ee.ImageCollection.prototype.getFilmstripThumbURL,ee.ImageCollection.prototype.select,ee.List,ee.Number,ee.Serializer.toReadableCloudApiJSON,ee.Serializer.encodeCloudApi,ee.Serializer.toCloudApiJSON,ee.Serializer.encode,ee.Serializer.encodeCloudApiPretty,ee.Serializer.toReadableJSON,ee.Serializer.toJSON,ee.String,ee.Terrain].forEach(function(i,r){i&&(e[i.toString()]={name:t[r],paramNames:n[r]})}),goog.global.EXPORTED_FN_INFO=e}(),goog.Timer.defaultTimerObject=self;var ee_api_js_worker=goog.global.ee=ee,ee$1=getDefaultExportFromCjs(ee_api_js_worker);function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const squareMetersToHectares=e=>e/1e4,squareMetersToAcres=e=>e/4046.8564224,classAggregation=["percentage","hectares","acres"],hasClasses=e=>classAggregation.includes(e),getInfo=e=>new Promise((t,n)=>e.evaluate((i,r)=>{r?n(r):t(i)})),combineReducers=e=>t=>t.reduce((n,i,r)=>r===0?n[i]():n.combine({reducer2:e.Reducer[i](),sharedInputs:!0}),e.Reducer),getScale=e=>e.select(0).projection().nominalScale(),getParamsFromLegend=e=>{const t=e.map(u=>u.id),n=Math.min(...t),i=Math.max(...t),r=e.map(u=>u.color).join(",");return{min:n,max:i,palette:r}},getHistogramStatistics=({data:e,scale:t,aggregationType:n,legend:i})=>e.features.reduce((r,{id:u,properties:d})=>{const{histogram:c}=d,v=Object.values(c).reduce((S,C)=>S+C,0);return r[u]=i.reduce((S,{id:C})=>{const O=c[C]||0,R=O*(t*t);let H;switch(n){case"hectares":H=Math.round(squareMetersToHectares(R));break;case"acres":H=Math.round(squareMetersToAcres(R));break;default:H=O/v*100}return S[C]=H,S},{}),r},{}),getFeatureCollectionProperties=e=>e.features.reduce((t,n)=>_objectSpread$1(_objectSpread$1({},t),{},{[n.id]:n.properties}),{}),getClassifiedImage=(e,{legend:t=[],params:n})=>{if(!n)return{eeImage:e,params:getParamsFromLegend(t)};const i=0,r=t.length-1,{palette:u}=n;let d;for(let c=i,v;c<r;c++)v=t[c],d?d=d.add(e.gt(v.to)):d=e.gt(v.to);return{eeImage:d,params:{min:i,max:r,palette:u}}};var earthRadius=63710088e-1,factors={centimeters:earthRadius*100,centimetres:earthRadius*100,degrees:earthRadius/111325,feet:earthRadius*3.28084,inches:earthRadius*39.37,kilometers:earthRadius/1e3,kilometres:earthRadius/1e3,meters:earthRadius,metres:earthRadius,miles:earthRadius/1609.344,millimeters:earthRadius*1e3,millimetres:earthRadius*1e3,nauticalmiles:earthRadius/1852,radians:1,yards:earthRadius*1.0936};function feature(e,t,n){n===void 0&&(n={});var i={type:"Feature"};return(n.id===0||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=t||{},i.geometry=e,i}function point(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!isNumber(e[0])||!isNumber(e[1]))throw new Error("coordinates must contain numbers");var i={type:"Point",coordinates:e};return feature(i,t,n)}function polygon(e,t,n){n===void 0&&(n={});for(var i=0,r=e;i<r.length;i++){var u=r[i];if(u.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<u[u.length-1].length;d++)if(u[u.length-1][d]!==u[0][d])throw new Error("First and last Position are not equivalent.")}var c={type:"Polygon",coordinates:e};return feature(c,t,n)}function featureCollection(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function radiansToLength(e,t){var n=factors[t];return e*n}function lengthToRadians(e,t){t===void 0&&(t="kilometers");var n=factors[t];if(!n)throw new Error(t+" units is invalid");return e/n}function radiansToDegrees(e){var t=e%(2*Math.PI);return t*180/Math.PI}function degreesToRadians(e){var t=e%360;return t*Math.PI/180}function isNumber(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function getCoord(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function destination(e,t,n,i){i===void 0&&(i={});var r=getCoord(e),u=degreesToRadians(r[0]),d=degreesToRadians(r[1]),c=degreesToRadians(n),v=lengthToRadians(t,i.units),S=Math.asin(Math.sin(d)*Math.cos(v)+Math.cos(d)*Math.sin(v)*Math.cos(c)),C=u+Math.atan2(Math.sin(c)*Math.sin(v)*Math.cos(d),Math.cos(v)-Math.sin(d)*Math.sin(S)),O=radiansToDegrees(C),R=radiansToDegrees(S);return point([O,R],i.properties)}function circle(e,t,n){n===void 0&&(n={});for(var i=n.steps||64,r=n.properties?n.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},u=[],d=0;d<i;d++)u.push(destination(e,t,d*-360/i,n).geometry.coordinates);return u.push(u[0]),polygon([u],r)}function coordEach(e,t,n){if(e!==null)for(var i,r,u,d,c,v,S,C=0,O=0,R,H=e.type,K=H==="FeatureCollection",le=H==="Feature",fe=K?e.features.length:1,ye=0;ye<fe;ye++){S=K?e.features[ye].geometry:le?e.geometry:e,R=S?S.type==="GeometryCollection":!1,c=R?S.geometries.length:1;for(var xe=0;xe<c;xe++){var Pe=0,Re=0;if(d=R?S.geometries[xe]:S,d!==null){v=d.coordinates;var Ze=d.type;switch(C=0,Ze){case null:break;case"Point":if(t(v,O,ye,Pe,Re)===!1)return!1;O++,Pe++;break;case"LineString":case"MultiPoint":for(i=0;i<v.length;i++){if(t(v[i],O,ye,Pe,Re)===!1)return!1;O++,Ze==="MultiPoint"&&Pe++}Ze==="LineString"&&Pe++;break;case"Polygon":case"MultiLineString":for(i=0;i<v.length;i++){for(r=0;r<v[i].length-C;r++){if(t(v[i][r],O,ye,Pe,Re)===!1)return!1;O++}Ze==="MultiLineString"&&Pe++,Ze==="Polygon"&&Re++}Ze==="Polygon"&&Pe++;break;case"MultiPolygon":for(i=0;i<v.length;i++){for(Re=0,r=0;r<v[i].length;r++){for(u=0;u<v[i][r].length-C;u++){if(t(v[i][r][u],O,ye,Pe,Re)===!1)return!1;O++}Re++}Pe++}break;case"GeometryCollection":for(i=0;i<d.geometries.length;i++)if(coordEach(d.geometries[i],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function featureEach(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function geomEach(e,t){var n,i,r,u,d,c,v,S,C,O,R=0,H=e.type==="FeatureCollection",K=e.type==="Feature",le=H?e.features.length:1;for(n=0;n<le;n++){for(c=H?e.features[n].geometry:K?e.geometry:e,S=H?e.features[n].properties:K?e.properties:{},C=H?e.features[n].bbox:K?e.bbox:void 0,O=H?e.features[n].id:K?e.id:void 0,v=c?c.type==="GeometryCollection":!1,d=v?c.geometries.length:1,r=0;r<d;r++){if(u=v?c.geometries[r]:c,u===null){if(t(null,R,S,C,O)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(u,R,S,C,O)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<u.geometries.length;i++)if(t(u.geometries[i],R,S,C,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}R++}}function bbox(e){var t=[1/0,1/0,-1/0,-1/0];return coordEach(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}bbox.default=bbox;function center(e,t){t===void 0&&(t={});var n=bbox(e),i=(n[0]+n[2])/2,r=(n[1]+n[3])/2;return point([i,r],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),i=Math.max(Math.min(n.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(i+r,0):Math.min(r,i);var u=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:i;for(u=u<0?Math.max(i+arguments[2],0):Math.min(u,i);r<u;)n[r]=t,++r;return n},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!==e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var NumberUtil=function e(){};NumberUtil.prototype.interfaces_=function e(){return[]},NumberUtil.prototype.getClass=function e(){return NumberUtil},NumberUtil.prototype.equalsWithTolerance=function e(t,n,i){return Math.abs(t-n)<=i};var IllegalArgumentException=function(e){function t(n){e.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Double=function e(){},staticAccessors$1={MAX_VALUE:{configurable:!0}};Double.isNaN=function e(t){return Number.isNaN(t)},Double.doubleToLongBits=function e(t){return t},Double.longBitsToDouble=function e(t){return t},Double.isInfinite=function e(t){return!Number.isFinite(t)},staticAccessors$1.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Double,staticAccessors$1);var Comparable=function e(){},Clonable=function e(){},Comparator=function e(){};function Serializable(){}var Coordinate=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},staticAccessors={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Coordinate.prototype.setOrdinate=function e(t,n){switch(t){case Coordinate.X:this.x=n;break;case Coordinate.Y:this.y=n;break;case Coordinate.Z:this.z=n;break;default:throw new IllegalArgumentException("Invalid ordinate index: "+t)}},Coordinate.prototype.equals2D=function e(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return!(!NumberUtil.equalsWithTolerance(this.x,n.x,i)||!NumberUtil.equalsWithTolerance(this.y,n.y,i))}},Coordinate.prototype.getOrdinate=function e(t){switch(t){case Coordinate.X:return this.x;case Coordinate.Y:return this.y;case Coordinate.Z:return this.z}throw new IllegalArgumentException("Invalid ordinate index: "+t)},Coordinate.prototype.equals3D=function e(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Double.isNaN(this.z))&&Double.isNaN(t.z)},Coordinate.prototype.equals=function e(t){return t instanceof Coordinate?this.equals2D(t):!1},Coordinate.prototype.equalInZ=function e(t,n){return NumberUtil.equalsWithTolerance(this.z,t.z,n)},Coordinate.prototype.compareTo=function e(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0},Coordinate.prototype.clone=function e(){},Coordinate.prototype.copy=function e(){return new Coordinate(this)},Coordinate.prototype.toString=function e(){return"("+this.x+", "+this.y+", "+this.z+")"},Coordinate.prototype.distance3D=function e(t){var n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return Math.sqrt(n*n+i*i+r*r)},Coordinate.prototype.distance=function e(t){var n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)},Coordinate.prototype.hashCode=function e(){var t=17;return t=37*t+Coordinate.hashCode(this.x),t=37*t+Coordinate.hashCode(this.y),t},Coordinate.prototype.setCoordinate=function e(t){this.x=t.x,this.y=t.y,this.z=t.z},Coordinate.prototype.interfaces_=function e(){return[Comparable,Clonable,Serializable]},Coordinate.prototype.getClass=function e(){return Coordinate},Coordinate.hashCode=function e(){if(arguments.length===1){var t=arguments[0],n=Double.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}},staticAccessors.DimensionalComparator.get=function(){return DimensionalComparator},staticAccessors.serialVersionUID.get=function(){return 6683108902428367e3},staticAccessors.NULL_ORDINATE.get=function(){return Double.NaN},staticAccessors.X.get=function(){return 0},staticAccessors.Y.get=function(){return 1},staticAccessors.Z.get=function(){return 2},Object.defineProperties(Coordinate,staticAccessors);var DimensionalComparator=function e(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new IllegalArgumentException("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};DimensionalComparator.prototype.compare=function e(t,n){var i=t,r=n,u=DimensionalComparator.compare(i.x,r.x);if(u!==0)return u;var d=DimensionalComparator.compare(i.y,r.y);if(d!==0)return d;if(this._dimensionsToTest<=2)return 0;var c=DimensionalComparator.compare(i.z,r.z);return c},DimensionalComparator.prototype.interfaces_=function e(){return[Comparator]},DimensionalComparator.prototype.getClass=function e(){return DimensionalComparator},DimensionalComparator.compare=function e(t,n){return t<n?-1:t>n?1:Double.isNaN(t)?Double.isNaN(n)?0:-1:Double.isNaN(n)?1:0};var CoordinateSequenceFactory=function e(){};CoordinateSequenceFactory.prototype.create=function e(){},CoordinateSequenceFactory.prototype.interfaces_=function e(){return[]},CoordinateSequenceFactory.prototype.getClass=function e(){return CoordinateSequenceFactory};var Location=function e(){},staticAccessors$4={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Location.prototype.interfaces_=function e(){return[]},Location.prototype.getClass=function e(){return Location},Location.toLocationSymbol=function e(t){switch(t){case Location.EXTERIOR:return"e";case Location.BOUNDARY:return"b";case Location.INTERIOR:return"i";case Location.NONE:return"-"}throw new IllegalArgumentException("Unknown location value: "+t)},staticAccessors$4.INTERIOR.get=function(){return 0},staticAccessors$4.BOUNDARY.get=function(){return 1},staticAccessors$4.EXTERIOR.get=function(){return 2},staticAccessors$4.NONE.get=function(){return-1},Object.defineProperties(Location,staticAccessors$4);var hasInterface=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},MathUtil=function e(){},staticAccessors$5={LOG_10:{configurable:!0}};MathUtil.prototype.interfaces_=function e(){return[]},MathUtil.prototype.getClass=function e(){return MathUtil},MathUtil.log10=function e(t){var n=Math.log(t);return Double.isInfinite(n)||Double.isNaN(n)?n:n/MathUtil.LOG_10},MathUtil.min=function e(t,n,i,r){var u=t;return n<u&&(u=n),i<u&&(u=i),r<u&&(u=r),u},MathUtil.clamp=function e(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],i=arguments[2];return t<n?n:t>i?i:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],u=arguments[1],d=arguments[2];return r<u?u:r>d?d:r}},MathUtil.wrap=function e(t,n){return t<0?n- -t%n:t%n},MathUtil.max=function e(){if(arguments.length===3){var t=arguments[0],n=arguments[1],i=arguments[2],r=t;return n>r&&(r=n),i>r&&(r=i),r}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],v=arguments[3],S=u;return d>S&&(S=d),c>S&&(S=c),v>S&&(S=v),S}},MathUtil.average=function e(t,n){return(t+n)/2},staticAccessors$5.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(MathUtil,staticAccessors$5);var StringBuffer=function e(t){this.str=t};StringBuffer.prototype.append=function e(t){this.str+=t},StringBuffer.prototype.setCharAt=function e(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)},StringBuffer.prototype.toString=function e(t){return this.str};var Integer=function e(t){this.value=t};Integer.prototype.intValue=function e(){return this.value},Integer.prototype.compareTo=function e(t){return this.value<t?-1:this.value>t?1:0},Integer.isNaN=function e(t){return Number.isNaN(t)};var Character=function e(){};Character.isWhitespace=function e(t){return t<=32&&t>=0||t===127},Character.toUpperCase=function e(t){return t.toUpperCase()};var DD=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var i=arguments[0];e.call(this,e.parse(i))}}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.init(r,u)}},staticAccessors$7={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};DD.prototype.le=function e(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},DD.prototype.extractSignificantDigits=function e(t,n){var i=this.abs(),r=DD.magnitude(i._hi),u=DD.TEN.pow(r);i=i.divide(u),i.gt(DD.TEN)?(i=i.divide(DD.TEN),r+=1):i.lt(DD.ONE)&&(i=i.multiply(DD.TEN),r-=1);for(var d=r+1,c=new StringBuffer,v=DD.MAX_PRINT_DIGITS-1,S=0;S<=v;S++){t&&S===d&&c.append(".");var C=Math.trunc(i._hi);if(C<0)break;var O=!1,R=0;C>9?(O=!0,R="9"):R="0"+C,c.append(R),i=i.subtract(DD.valueOf(C)).multiply(DD.TEN),O&&i.selfAdd(DD.TEN);var H=!0,K=DD.magnitude(i._hi);if(K<0&&Math.abs(K)>=v-S&&(H=!1),!H)break}return n[0]=r,c.toString()},DD.prototype.sqr=function e(){return this.multiply(this)},DD.prototype.doubleValue=function e(){return this._hi+this._lo},DD.prototype.subtract=function e(){if(arguments[0]instanceof DD){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}},DD.prototype.equals=function e(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},DD.prototype.isZero=function e(){return this._hi===0&&this._lo===0},DD.prototype.selfSubtract=function e(){if(arguments[0]instanceof DD){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}},DD.prototype.getSpecialNumberString=function e(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},DD.prototype.min=function e(t){return this.le(t)?this:t},DD.prototype.selfDivide=function e(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],u=null,d=null,c=null,v=null,S=null,C=null,O=null,R=null;return S=this._hi/i,C=DD.SPLIT*S,u=C-S,R=DD.SPLIT*i,u=C-u,d=S-u,c=R-i,O=S*i,c=R-c,v=i-c,R=u*c-O+u*v+d*c+d*v,C=(this._hi-O-R+this._lo-S*r)/i,R=S+C,this._hi=R,this._lo=S-R+C,this}},DD.prototype.dump=function e(){return"DD<"+this._hi+", "+this._lo+">"},DD.prototype.divide=function e(){if(arguments[0]instanceof DD){var t=arguments[0],n=null,i=null,r=null,u=null,d=null,c=null,v=null,S=null;d=this._hi/t._hi,c=DD.SPLIT*d,n=c-d,S=DD.SPLIT*t._hi,n=c-n,i=d-n,r=S-t._hi,v=d*t._hi,r=S-r,u=t._hi-r,S=n*r-v+n*u+i*r+i*u,c=(this._hi-v-S+this._lo-d*t._lo)/t._hi,S=d+c;var C=S,O=d-S+c;return new DD(C,O)}else if(typeof arguments[0]=="number"){var R=arguments[0];return Double.isNaN(R)?DD.createNaN():DD.copy(this).selfDivide(R,0)}},DD.prototype.ge=function e(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},DD.prototype.pow=function e(t){if(t===0)return DD.valueOf(1);var n=new DD(this),i=DD.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2===1&&i.selfMultiply(n),r/=2,r>0&&(n=n.sqr());else i=n;return t<0?i.reciprocal():i},DD.prototype.ceil=function e(){if(this.isNaN())return DD.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new DD(t,n)},DD.prototype.compareTo=function e(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0},DD.prototype.rint=function e(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()},DD.prototype.setValue=function e(){if(arguments[0]instanceof DD){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}},DD.prototype.max=function e(t){return this.ge(t)?this:t},DD.prototype.sqrt=function e(){if(this.isZero())return DD.valueOf(0);if(this.isNegative())return DD.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,i=DD.valueOf(n),r=this.subtract(i.sqr()),u=r._hi*(t*.5);return i.add(u)},DD.prototype.selfAdd=function e(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0],i=null,r=null,u=null,d=null,c=null,v=null;return u=this._hi+n,c=u-this._hi,d=u-c,d=n-c+(this._hi-d),v=d+this._lo,i=u+v,r=v+(u-i),this._hi=i+r,this._lo=r+(i-this._hi),this}}else if(arguments.length===2){var S=arguments[0],C=arguments[1],O=null,R=null,H=null,K=null,le=null,fe=null,ye=null,xe=null;le=this._hi+S,H=this._lo+C,ye=le-this._hi,xe=H-this._lo,fe=le-ye,K=H-xe,fe=S-ye+(this._hi-fe),K=C-xe+(this._lo-K),ye=fe+H,O=le+ye,R=ye+(le-O),ye=K+R;var Pe=O+ye,Re=ye+(O-Pe);return this._hi=Pe,this._lo=Re,this}},DD.prototype.selfMultiply=function e(){if(arguments.length===1){if(arguments[0]instanceof DD){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1],u=null,d=null,c=null,v=null,S=null,C=null;S=DD.SPLIT*this._hi,u=S-this._hi,C=DD.SPLIT*i,u=S-u,d=this._hi-u,c=C-i,S=this._hi*i,c=C-c,v=i-c,C=u*c-S+u*v+d*c+d*v+(this._hi*r+this._lo*i);var O=S+C;u=S-O;var R=C+u;return this._hi=O,this._lo=R,this}},DD.prototype.selfSqr=function e(){return this.selfMultiply(this)},DD.prototype.floor=function e(){if(this.isNaN())return DD.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new DD(t,n)},DD.prototype.negate=function e(){return this.isNaN()?this:new DD(-this._hi,-this._lo)},DD.prototype.clone=function e(){},DD.prototype.multiply=function e(){if(arguments[0]instanceof DD){var t=arguments[0];return t.isNaN()?DD.createNaN():DD.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return Double.isNaN(n)?DD.createNaN():DD.copy(this).selfMultiply(n,0)}},DD.prototype.isNaN=function e(){return Double.isNaN(this._hi)},DD.prototype.intValue=function e(){return Math.trunc(this._hi)},DD.prototype.toString=function e(){var t=DD.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},DD.prototype.toStandardNotation=function e(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,u=i;if(i.charAt(0)===".")u="0"+i;else if(r<0)u="0."+DD.stringOfChar("0",-r)+i;else if(i.indexOf(".")===-1){var d=r-i.length,c=DD.stringOfChar("0",d);u=i+c+".0"}return this.isNegative()?"-"+u:u},DD.prototype.reciprocal=function e(){var t=null,n=null,i=null,r=null,u=null,d=null,c=null,v=null;u=1/this._hi,d=DD.SPLIT*u,t=d-u,v=DD.SPLIT*this._hi,t=d-t,n=u-t,i=v-this._hi,c=u*this._hi,i=v-i,r=this._hi-i,v=t*i-c+t*r+n*i+n*r,d=(1-c-v-u*this._lo)/this._hi;var S=u+d,C=u-S+d;return new DD(S,C)},DD.prototype.toSciNotation=function e(){if(this.isZero())return DD.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=DD.SCI_NOT_EXPONENT_CHAR+n[0];if(i.charAt(0)==="0")throw new Error("Found leading zero: "+i);var u="";i.length>1&&(u=i.substring(1));var d=i.charAt(0)+"."+u;return this.isNegative()?"-"+d+r:d+r},DD.prototype.abs=function e(){return this.isNaN()?DD.NaN:this.isNegative()?this.negate():new DD(this)},DD.prototype.isPositive=function e(){return(this._hi>0||this._hi===0)&&this._lo>0},DD.prototype.lt=function e(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},DD.prototype.add=function e(){if(arguments[0]instanceof DD){var t=arguments[0];return DD.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return DD.copy(this).selfAdd(n)}},DD.prototype.init=function e(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof DD){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}},DD.prototype.gt=function e(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},DD.prototype.isNegative=function e(){return(this._hi<0||this._hi===0)&&this._lo<0},DD.prototype.trunc=function e(){return this.isNaN()?DD.NaN:this.isPositive()?this.floor():this.ceil()},DD.prototype.signum=function e(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},DD.prototype.interfaces_=function e(){return[Serializable,Comparable,Clonable]},DD.prototype.getClass=function e(){return DD},DD.sqr=function e(t){return DD.valueOf(t).selfMultiply(t)},DD.valueOf=function e(){if(typeof arguments[0]=="string"){var t=arguments[0];return DD.parse(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return new DD(n)}},DD.sqrt=function e(t){return DD.valueOf(t).sqrt()},DD.parse=function e(t){for(var n=0,i=t.length;Character.isWhitespace(t.charAt(n));)n++;var r=!1;if(n<i){var u=t.charAt(n);(u==="-"||u==="+")&&(n++,u==="-"&&(r=!0))}for(var d=new DD,c=0,v=0,S=0;!(n>=i);){var C=t.charAt(n);if(n++,Character.isDigit(C)){var O=C-"0";d.selfMultiply(DD.TEN),d.selfAdd(O),c++;continue}if(C==="."){v=c;continue}if(C==="e"||C==="E"){var R=t.substring(n);try{S=Integer.parseInt(R)}catch(ye){throw ye instanceof Error?new Error("Invalid exponent "+R+" in string "+t):ye}finally{}break}throw new Error("Unexpected character '"+C+"' at position "+n+" in string "+t)}var H=d,K=c-v-S;if(K===0)H=d;else if(K>0){var le=DD.TEN.pow(K);H=d.divide(le)}else if(K<0){var fe=DD.TEN.pow(-K);H=d.multiply(fe)}return r?H.negate():H},DD.createNaN=function e(){return new DD(Double.NaN,Double.NaN)},DD.copy=function e(t){return new DD(t)},DD.magnitude=function e(t){var n=Math.abs(t),i=Math.log(n)/Math.log(10),r=Math.trunc(Math.floor(i)),u=Math.pow(10,r);return u*10<=n&&(r+=1),r},DD.stringOfChar=function e(t,n){for(var i=new StringBuffer,r=0;r<n;r++)i.append(t);return i.toString()},staticAccessors$7.PI.get=function(){return new DD(3.141592653589793,12246467991473532e-32)},staticAccessors$7.TWO_PI.get=function(){return new DD(6.283185307179586,24492935982947064e-32)},staticAccessors$7.PI_2.get=function(){return new DD(1.5707963267948966,6123233995736766e-32)},staticAccessors$7.E.get=function(){return new DD(2.718281828459045,14456468917292502e-32)},staticAccessors$7.NaN.get=function(){return new DD(Double.NaN,Double.NaN)},staticAccessors$7.EPS.get=function(){return 123259516440783e-46},staticAccessors$7.SPLIT.get=function(){return 134217729},staticAccessors$7.MAX_PRINT_DIGITS.get=function(){return 32},staticAccessors$7.TEN.get=function(){return DD.valueOf(10)},staticAccessors$7.ONE.get=function(){return DD.valueOf(1)},staticAccessors$7.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},staticAccessors$7.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(DD,staticAccessors$7);var CGAlgorithmsDD=function e(){},staticAccessors$6={DP_SAFE_EPSILON:{configurable:!0}};CGAlgorithmsDD.prototype.interfaces_=function e(){return[]},CGAlgorithmsDD.prototype.getClass=function e(){return CGAlgorithmsDD},CGAlgorithmsDD.orientationIndex=function e(t,n,i){var r=CGAlgorithmsDD.orientationIndexFilter(t,n,i);if(r<=1)return r;var u=DD.valueOf(n.x).selfAdd(-t.x),d=DD.valueOf(n.y).selfAdd(-t.y),c=DD.valueOf(i.x).selfAdd(-n.x),v=DD.valueOf(i.y).selfAdd(-n.y);return u.selfMultiply(v).selfSubtract(d.selfMultiply(c)).signum()},CGAlgorithmsDD.signOfDet2x2=function e(t,n,i,r){var u=t.multiply(r).selfSubtract(n.multiply(i));return u.signum()},CGAlgorithmsDD.intersection=function e(t,n,i,r){var u=DD.valueOf(r.y).selfSubtract(i.y).selfMultiply(DD.valueOf(n.x).selfSubtract(t.x)),d=DD.valueOf(r.x).selfSubtract(i.x).selfMultiply(DD.valueOf(n.y).selfSubtract(t.y)),c=u.subtract(d),v=DD.valueOf(r.x).selfSubtract(i.x).selfMultiply(DD.valueOf(t.y).selfSubtract(i.y)),S=DD.valueOf(r.y).selfSubtract(i.y).selfMultiply(DD.valueOf(t.x).selfSubtract(i.x)),C=v.subtract(S),O=C.selfDivide(c).doubleValue(),R=DD.valueOf(t.x).selfAdd(DD.valueOf(n.x).selfSubtract(t.x).selfMultiply(O)).doubleValue(),H=DD.valueOf(n.x).selfSubtract(t.x).selfMultiply(DD.valueOf(t.y).selfSubtract(i.y)),K=DD.valueOf(n.y).selfSubtract(t.y).selfMultiply(DD.valueOf(t.x).selfSubtract(i.x)),le=H.subtract(K),fe=le.selfDivide(c).doubleValue(),ye=DD.valueOf(i.y).selfAdd(DD.valueOf(r.y).selfSubtract(i.y).selfMultiply(fe)).doubleValue();return new Coordinate(R,ye)},CGAlgorithmsDD.orientationIndexFilter=function e(t,n,i){var r=null,u=(t.x-i.x)*(n.y-i.y),d=(t.y-i.y)*(n.x-i.x),c=u-d;if(u>0){if(d<=0)return CGAlgorithmsDD.signum(c);r=u+d}else if(u<0){if(d>=0)return CGAlgorithmsDD.signum(c);r=-u-d}else return CGAlgorithmsDD.signum(c);var v=CGAlgorithmsDD.DP_SAFE_EPSILON*r;return c>=v||-c>=v?CGAlgorithmsDD.signum(c):2},CGAlgorithmsDD.signum=function e(t){return t>0?1:t<0?-1:0},staticAccessors$6.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(CGAlgorithmsDD,staticAccessors$6);var CoordinateSequence=function e(){},staticAccessors$8={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};staticAccessors$8.X.get=function(){return 0},staticAccessors$8.Y.get=function(){return 1},staticAccessors$8.Z.get=function(){return 2},staticAccessors$8.M.get=function(){return 3},CoordinateSequence.prototype.setOrdinate=function e(t,n,i){},CoordinateSequence.prototype.size=function e(){},CoordinateSequence.prototype.getOrdinate=function e(t,n){},CoordinateSequence.prototype.getCoordinate=function e(){},CoordinateSequence.prototype.getCoordinateCopy=function e(t){},CoordinateSequence.prototype.getDimension=function e(){},CoordinateSequence.prototype.getX=function e(t){},CoordinateSequence.prototype.clone=function e(){},CoordinateSequence.prototype.expandEnvelope=function e(t){},CoordinateSequence.prototype.copy=function e(){},CoordinateSequence.prototype.getY=function e(t){},CoordinateSequence.prototype.toCoordinateArray=function e(){},CoordinateSequence.prototype.interfaces_=function e(){return[Clonable]},CoordinateSequence.prototype.getClass=function e(){return CoordinateSequence},Object.defineProperties(CoordinateSequence,staticAccessors$8);var Exception=function e(){},NotRepresentableException=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Exception),System=function e(){};System.arraycopy=function e(t,n,i,r,u){for(var d=0,c=n;c<n+u;c++)i[r+d]=t[c],d++},System.getProperty=function e(t){return{"line.separator":`
`}[t]};var HCoordinate=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],u=arguments[1];this.x=r.y*u.w-u.y*r.w,this.y=u.x*r.w-r.x*u.w,this.w=r.x*u.y-u.x*r.y}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var d=arguments[0],c=arguments[1];this.x=d.y-c.y,this.y=c.x-d.x,this.w=d.x*c.y-c.x*d.y}}else if(arguments.length===3){var v=arguments[0],S=arguments[1],C=arguments[2];this.x=v,this.y=S,this.w=C}else if(arguments.length===4){var O=arguments[0],R=arguments[1],H=arguments[2],K=arguments[3],le=O.y-R.y,fe=R.x-O.x,ye=O.x*R.y-R.x*O.y,xe=H.y-K.y,Pe=K.x-H.x,Re=H.x*K.y-K.x*H.y;this.x=fe*Re-Pe*ye,this.y=xe*ye-le*Re,this.w=le*Pe-xe*fe}};HCoordinate.prototype.getY=function e(){var t=this.y/this.w;if(Double.isNaN(t)||Double.isInfinite(t))throw new NotRepresentableException;return t},HCoordinate.prototype.getX=function e(){var t=this.x/this.w;if(Double.isNaN(t)||Double.isInfinite(t))throw new NotRepresentableException;return t},HCoordinate.prototype.getCoordinate=function e(){var t=new Coordinate;return t.x=this.getX(),t.y=this.getY(),t},HCoordinate.prototype.interfaces_=function e(){return[]},HCoordinate.prototype.getClass=function e(){return HCoordinate},HCoordinate.intersection=function e(t,n,i,r){var u=t.y-n.y,d=n.x-t.x,c=t.x*n.y-n.x*t.y,v=i.y-r.y,S=r.x-i.x,C=i.x*r.y-r.x*i.y,O=d*C-S*c,R=v*c-u*C,H=u*S-v*d,K=O/H,le=R/H;if(Double.isNaN(K)||Double.isInfinite(K)||Double.isNaN(le)||Double.isInfinite(le))throw new NotRepresentableException;return new Coordinate(K,le)};var Envelope=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],v=arguments[3];this.init(u,d,c,v)}},staticAccessors$9={serialVersionUID:{configurable:!0}};Envelope.prototype.getArea=function e(){return this.getWidth()*this.getHeight()},Envelope.prototype.equals=function e(t){if(!(t instanceof Envelope))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()},Envelope.prototype.intersection=function e(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Envelope;var n=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,u=this._maxy<t._maxy?this._maxy:t._maxy;return new Envelope(n,r,i,u)},Envelope.prototype.isNull=function e(){return this._maxx<this._minx},Envelope.prototype.getMaxX=function e(){return this._maxx},Envelope.prototype.covers=function e(){if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof Envelope){var n=arguments[0];return this.isNull()||n.isNull()?!1:n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}},Envelope.prototype.intersects=function e(){if(arguments.length===1){if(arguments[0]instanceof Envelope){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof Coordinate){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.isNull()?!1:!(i>this._maxx||i<this._minx||r>this._maxy||r<this._miny)}},Envelope.prototype.getMinY=function e(){return this._miny},Envelope.prototype.getMinX=function e(){return this._minx},Envelope.prototype.expandToInclude=function e(){if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Envelope){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Envelope.prototype.minExtent=function e(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n},Envelope.prototype.getWidth=function e(){return this.isNull()?0:this._maxx-this._minx},Envelope.prototype.compareTo=function e(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0},Envelope.prototype.translate=function e(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)},Envelope.prototype.toString=function e(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Envelope.prototype.setToNull=function e(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Envelope.prototype.getHeight=function e(){return this.isNull()?0:this._maxy-this._miny},Envelope.prototype.maxExtent=function e(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n},Envelope.prototype.expandBy=function e(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Envelope.prototype.contains=function e(){if(arguments.length===1){if(arguments[0]instanceof Envelope){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof Coordinate){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.covers(i,r)}},Envelope.prototype.centre=function e(){return this.isNull()?null:new Coordinate((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Envelope.prototype.init=function e(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Envelope){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(arguments.length===4){var u=arguments[0],d=arguments[1],c=arguments[2],v=arguments[3];u<d?(this._minx=u,this._maxx=d):(this._minx=d,this._maxx=u),c<v?(this._miny=c,this._maxy=v):(this._miny=v,this._maxy=c)}},Envelope.prototype.getMaxY=function e(){return this._maxy},Envelope.prototype.distance=function e(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var i=0;return this._maxy<t._miny?i=t._miny-this._maxy:this._miny>t._maxy&&(i=this._miny-t._maxy),n===0?i:i===0?n:Math.sqrt(n*n+i*i)},Envelope.prototype.hashCode=function e(){var t=17;return t=37*t+Coordinate.hashCode(this._minx),t=37*t+Coordinate.hashCode(this._maxx),t=37*t+Coordinate.hashCode(this._miny),t=37*t+Coordinate.hashCode(this._maxy),t},Envelope.prototype.interfaces_=function e(){return[Comparable,Serializable]},Envelope.prototype.getClass=function e(){return Envelope},Envelope.intersects=function e(){if(arguments.length===3){var t=arguments[0],n=arguments[1],i=arguments[2];return i.x>=(t.x<n.x?t.x:n.x)&&i.x<=(t.x>n.x?t.x:n.x)&&i.y>=(t.y<n.y?t.y:n.y)&&i.y<=(t.y>n.y?t.y:n.y)}else if(arguments.length===4){var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3],v=Math.min(d.x,c.x),S=Math.max(d.x,c.x),C=Math.min(r.x,u.x),O=Math.max(r.x,u.x);return!(C>S||O<v||(v=Math.min(d.y,c.y),S=Math.max(d.y,c.y),C=Math.min(r.y,u.y),O=Math.max(r.y,u.y),C>S)||O<v)}},staticAccessors$9.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(Envelope,staticAccessors$9);var regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},WKTParser=function e(t){this.geometryFactory=t||new GeometryFactory};WKTParser.prototype.read=function e(t){var n,i,r;t=t.replace(/[\n\r]/g," ");var u=regExes.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(u=regExes.emptyTypeStr.exec(t),u[2]=void 0),u&&(i=u[1].toLowerCase(),r=u[2],parse$1[i]&&(n=parse$1[i].apply(this,[r]))),n===void 0)throw new Error("Could not parse WKT "+t);return n},WKTParser.prototype.write=function e(t){return this.extractGeometry(t)},WKTParser.prototype.extractGeometry=function e(t){var n=t.getGeometryType().toLowerCase();if(!extract$1[n])return null;var i=n.toUpperCase(),r;return t.isEmpty()?r=i+" EMPTY":r=i+"("+extract$1[n].apply(this,[t])+")",r};var extract$1={coordinate:function e(t){return t.x+" "+t.y},point:function e(t){return extract$1.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function e(t){for(var n=this,i=[],r=0,u=t._geometries.length;r<u;++r)i.push("("+extract$1.point.apply(n,[t._geometries[r]])+")");return i.join(",")},linestring:function e(t){for(var n=this,i=[],r=0,u=t._points._coordinates.length;r<u;++r)i.push(extract$1.coordinate.apply(n,[t._points._coordinates[r]]));return i.join(",")},linearring:function e(t){for(var n=this,i=[],r=0,u=t._points._coordinates.length;r<u;++r)i.push(extract$1.coordinate.apply(n,[t._points._coordinates[r]]));return i.join(",")},multilinestring:function e(t){for(var n=this,i=[],r=0,u=t._geometries.length;r<u;++r)i.push("("+extract$1.linestring.apply(n,[t._geometries[r]])+")");return i.join(",")},polygon:function e(t){var n=this,i=[];i.push("("+extract$1.linestring.apply(this,[t._shell])+")");for(var r=0,u=t._holes.length;r<u;++r)i.push("("+extract$1.linestring.apply(n,[t._holes[r]])+")");return i.join(",")},multipolygon:function e(t){for(var n=this,i=[],r=0,u=t._geometries.length;r<u;++r)i.push("("+extract$1.polygon.apply(n,[t._geometries[r]])+")");return i.join(",")},geometrycollection:function e(t){for(var n=this,i=[],r=0,u=t._geometries.length;r<u;++r)i.push(n.extractGeometry(t._geometries[r]));return i.join(",")}},parse$1={point:function e(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(regExes.spaces);return this.geometryFactory.createPoint(new Coordinate(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function e(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var i,r=t.trim().split(","),u=[],d=0,c=r.length;d<c;++d)i=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.point.apply(n,[i]));return this.geometryFactory.createMultiPoint(u)},linestring:function e(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n=t.trim().split(","),i=[],r,u=0,d=n.length;u<d;++u)r=n[u].trim().split(regExes.spaces),i.push(new Coordinate(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(i)},linearring:function e(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n=t.trim().split(","),i=[],r,u=0,d=n.length;u<d;++u)r=n[u].trim().split(regExes.spaces),i.push(new Coordinate(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function e(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var i,r=t.trim().split(regExes.parenComma),u=[],d=0,c=r.length;d<c;++d)i=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.linestring.apply(n,[i]));return this.geometryFactory.createMultiLineString(u)},polygon:function e(t){var n=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var i,r,u,d=t.trim().split(regExes.parenComma),c,v=[],S=0,C=d.length;S<C;++S)i=d[S].replace(regExes.trimParens,"$1"),r=parse$1.linestring.apply(n,[i]),u=n.geometryFactory.createLinearRing(r._points),S===0?c=u:v.push(u);return this.geometryFactory.createPolygon(c,v)},multipolygon:function e(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var i,r=t.trim().split(regExes.doubleParenComma),u=[],d=0,c=r.length;d<c;++d)i=r[d].replace(regExes.trimParens,"$1"),u.push(parse$1.polygon.apply(n,[i]));return this.geometryFactory.createMultiPolygon(u)},geometrycollection:function e(t){var n=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var i=t.trim().split("|"),r=[],u=0,d=i.length;u<d;++u)r.push(n.read(i[u]));return this.geometryFactory.createGeometryCollection(r)}},WKTWriter=function e(t){this.parser=new WKTParser(t)};WKTWriter.prototype.write=function e(t){return this.parser.write(t)},WKTWriter.toLineString=function e(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var RuntimeException=function(e){function t(n){e.call(this,n),this.name="RuntimeException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),AssertionFailedException=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var n=arguments[0];e.call(this,n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(RuntimeException),Assert=function e(){};Assert.prototype.interfaces_=function e(){return[]},Assert.prototype.getClass=function e(){return Assert},Assert.shouldNeverReachHere=function e(){if(arguments.length===0)Assert.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new AssertionFailedException("Should never reach here"+(t!==null?": "+t:""))}},Assert.isTrue=function e(){var t,n;if(arguments.length===1)t=arguments[0],Assert.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new AssertionFailedException:new AssertionFailedException(n)},Assert.equals=function e(){var t,n,i;if(arguments.length===2)t=arguments[0],n=arguments[1],Assert.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],i=arguments[2],!n.equals(t)))throw new AssertionFailedException("Expected "+t+" but encountered "+n+(i!==null?": "+i:""))};var LineIntersector=function e(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Coordinate,this._intPt[1]=new Coordinate,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},staticAccessors$10={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};LineIntersector.prototype.getIndexAlongSegment=function e(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]},LineIntersector.prototype.getTopologySummary=function e(){var t=new StringBuffer;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},LineIntersector.prototype.computeIntersection=function e(t,n,i,r){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=i,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,n,i,r)},LineIntersector.prototype.getIntersectionNum=function e(){return this._result},LineIntersector.prototype.computeIntLineIndex=function e(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],n=this.getEdgeDistance(t,0),i=this.getEdgeDistance(t,1);n>i?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},LineIntersector.prototype.isProper=function e(){return this.hasIntersection()&&this._isProper},LineIntersector.prototype.setPrecisionModel=function e(t){this._precisionModel=t},LineIntersector.prototype.isInteriorIntersection=function e(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var n=arguments[0],i=0;i<this._result;i++)if(!(t._intPt[i].equals2D(t._inputLines[n][0])||t._intPt[i].equals2D(t._inputLines[n][1])))return!0;return!1}},LineIntersector.prototype.getIntersection=function e(t){return this._intPt[t]},LineIntersector.prototype.isEndPoint=function e(){return this.hasIntersection()&&!this._isProper},LineIntersector.prototype.hasIntersection=function e(){return this._result!==LineIntersector.NO_INTERSECTION},LineIntersector.prototype.getEdgeDistance=function e(t,n){var i=LineIntersector.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1]);return i},LineIntersector.prototype.isCollinear=function e(){return this._result===LineIntersector.COLLINEAR_INTERSECTION},LineIntersector.prototype.toString=function e(){return WKTWriter.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+WKTWriter.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},LineIntersector.prototype.getEndpoint=function e(t,n){return this._inputLines[t][n]},LineIntersector.prototype.isIntersection=function e(t){for(var n=this,i=0;i<this._result;i++)if(n._intPt[i].equals2D(t))return!0;return!1},LineIntersector.prototype.getIntersectionAlongSegment=function e(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]},LineIntersector.prototype.interfaces_=function e(){return[]},LineIntersector.prototype.getClass=function e(){return LineIntersector},LineIntersector.computeEdgeDistance=function e(t,n,i){var r=Math.abs(i.x-n.x),u=Math.abs(i.y-n.y),d=-1;if(t.equals(n))d=0;else if(t.equals(i))r>u?d=r:d=u;else{var c=Math.abs(t.x-n.x),v=Math.abs(t.y-n.y);r>u?d=c:d=v,d===0&&!t.equals(n)&&(d=Math.max(c,v))}return Assert.isTrue(!(d===0&&!t.equals(n)),"Bad distance calculation"),d},LineIntersector.nonRobustComputeEdgeDistance=function e(t,n,i){var r=t.x-n.x,u=t.y-n.y,d=Math.sqrt(r*r+u*u);return Assert.isTrue(!(d===0&&!t.equals(n)),"Invalid distance calculation"),d},staticAccessors$10.DONT_INTERSECT.get=function(){return 0},staticAccessors$10.DO_INTERSECT.get=function(){return 1},staticAccessors$10.COLLINEAR.get=function(){return 2},staticAccessors$10.NO_INTERSECTION.get=function(){return 0},staticAccessors$10.POINT_INTERSECTION.get=function(){return 1},staticAccessors$10.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(LineIntersector,staticAccessors$10);var RobustLineIntersector=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(i){var r=new Envelope(this._inputLines[0][0],this._inputLines[0][1]),u=new Envelope(this._inputLines[1][0],this._inputLines[1][1]);return r.contains(i)&&u.contains(i)},t.prototype.computeIntersection=function(){if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];if(this._isProper=!1,Envelope.intersects(r,u,i)&&CGAlgorithms.orientationIndex(r,u,i)===0&&CGAlgorithms.orientationIndex(u,r,i)===0)return this._isProper=!0,(i.equals(r)||i.equals(u))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(i,r,u,d,c){c.x=this.smallestInAbsValue(i.x,r.x,u.x,d.x),c.y=this.smallestInAbsValue(i.y,r.y,u.y,d.y),i.x-=c.x,i.y-=c.y,r.x-=c.x,r.y-=c.y,u.x-=c.x,u.y-=c.y,d.x-=c.x,d.y-=c.y},t.prototype.safeHCoordinateIntersection=function(i,r,u,d){var c=null;try{c=HCoordinate.intersection(i,r,u,d)}catch(v){if(v instanceof NotRepresentableException)c=t.nearestEndpoint(i,r,u,d);else throw v}finally{}return c},t.prototype.intersection=function(i,r,u,d){var c=this.intersectionWithNormalization(i,r,u,d);return this.isInSegmentEnvelopes(c)||(c=new Coordinate(t.nearestEndpoint(i,r,u,d))),this._precisionModel!==null&&this._precisionModel.makePrecise(c),c},t.prototype.smallestInAbsValue=function(i,r,u,d){var c=i,v=Math.abs(c);return Math.abs(r)<v&&(c=r,v=Math.abs(r)),Math.abs(u)<v&&(c=u,v=Math.abs(u)),Math.abs(d)<v&&(c=d),c},t.prototype.checkDD=function(i,r,u,d,c){var v=CGAlgorithmsDD.intersection(i,r,u,d),S=this.isInSegmentEnvelopes(v);System.out.println("DD in env = "+S+"  --------------------- "+v),c.distance(v)>1e-4&&System.out.println("Distance = "+c.distance(v))},t.prototype.intersectionWithNormalization=function(i,r,u,d){var c=new Coordinate(i),v=new Coordinate(r),S=new Coordinate(u),C=new Coordinate(d),O=new Coordinate;this.normalizeToEnvCentre(c,v,S,C,O);var R=this.safeHCoordinateIntersection(c,v,S,C);return R.x+=O.x,R.y+=O.y,R},t.prototype.computeCollinearIntersection=function(i,r,u,d){var c=Envelope.intersects(i,r,u),v=Envelope.intersects(i,r,d),S=Envelope.intersects(u,d,i),C=Envelope.intersects(u,d,r);return c&&v?(this._intPt[0]=u,this._intPt[1]=d,e.COLLINEAR_INTERSECTION):S&&C?(this._intPt[0]=i,this._intPt[1]=r,e.COLLINEAR_INTERSECTION):c&&S?(this._intPt[0]=u,this._intPt[1]=i,u.equals(i)&&!v&&!C?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):c&&C?(this._intPt[0]=u,this._intPt[1]=r,u.equals(r)&&!v&&!S?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):v&&S?(this._intPt[0]=d,this._intPt[1]=i,d.equals(i)&&!c&&!C?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):v&&C?(this._intPt[0]=d,this._intPt[1]=r,d.equals(r)&&!c&&!S?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(i,r,u,d,c){var v=i.x<r.x?i.x:r.x,S=i.y<r.y?i.y:r.y,C=i.x>r.x?i.x:r.x,O=i.y>r.y?i.y:r.y,R=u.x<d.x?u.x:d.x,H=u.y<d.y?u.y:d.y,K=u.x>d.x?u.x:d.x,le=u.y>d.y?u.y:d.y,fe=v>R?v:R,ye=C<K?C:K,xe=S>H?S:H,Pe=O<le?O:le,Re=(fe+ye)/2,Ze=(xe+Pe)/2;c.x=Re,c.y=Ze,i.x-=c.x,i.y-=c.y,r.x-=c.x,r.y-=c.y,u.x-=c.x,u.y-=c.y,d.x-=c.x,d.y-=c.y},t.prototype.computeIntersect=function(i,r,u,d){if(this._isProper=!1,!Envelope.intersects(i,r,u,d))return e.NO_INTERSECTION;var c=CGAlgorithms.orientationIndex(i,r,u),v=CGAlgorithms.orientationIndex(i,r,d);if(c>0&&v>0||c<0&&v<0)return e.NO_INTERSECTION;var S=CGAlgorithms.orientationIndex(u,d,i),C=CGAlgorithms.orientationIndex(u,d,r);if(S>0&&C>0||S<0&&C<0)return e.NO_INTERSECTION;var O=c===0&&v===0&&S===0&&C===0;return O?this.computeCollinearIntersection(i,r,u,d):(c===0||v===0||S===0||C===0?(this._isProper=!1,i.equals2D(u)||i.equals2D(d)?this._intPt[0]=i:r.equals2D(u)||r.equals2D(d)?this._intPt[0]=r:c===0?this._intPt[0]=new Coordinate(u):v===0?this._intPt[0]=new Coordinate(d):S===0?this._intPt[0]=new Coordinate(i):C===0&&(this._intPt[0]=new Coordinate(r))):(this._isProper=!0,this._intPt[0]=this.intersection(i,r,u,d)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(i,r,u,d){var c=i,v=CGAlgorithms.distancePointLine(i,u,d),S=CGAlgorithms.distancePointLine(r,u,d);return S<v&&(v=S,c=r),S=CGAlgorithms.distancePointLine(u,i,r),S<v&&(v=S,c=u),S=CGAlgorithms.distancePointLine(d,i,r),S<v&&(v=S,c=d),c},t}(LineIntersector),RobustDeterminant=function e(){};RobustDeterminant.prototype.interfaces_=function e(){return[]},RobustDeterminant.prototype.getClass=function e(){return RobustDeterminant},RobustDeterminant.orientationIndex=function e(t,n,i){var r=n.x-t.x,u=n.y-t.y,d=i.x-n.x,c=i.y-n.y;return RobustDeterminant.signOfDet2x2(r,u,d,c)},RobustDeterminant.signOfDet2x2=function e(t,n,i,r){var u=null,d=null,c=null;if(u=1,t===0||r===0)return n===0||i===0?0:n>0?i>0?-u:u:i>0?u:-u;if(n===0||i===0)return r>0?t>0?u:-u:t>0?-u:u;if(n>0?r>0?n<=r||(u=-u,d=t,t=i,i=d,d=n,n=r,r=d):n<=-r?(u=-u,i=-i,r=-r):(d=t,t=-i,i=d,d=n,n=-r,r=d):r>0?-n<=r?(u=-u,t=-t,n=-n):(d=-t,t=i,i=d,d=-n,n=r,r=d):n>=r?(t=-t,n=-n,i=-i,r=-r):(u=-u,d=-t,t=-i,i=d,d=-n,n=-r,r=d),t>0)if(i>0){if(!(t<=i))return u}else return u;else{if(i>0)return-u;if(t>=i)u=-u,t=-t,i=-i;else return-u}for(;;){if(c=Math.floor(i/t),i=i-c*t,r=r-c*n,r<0)return-u;if(r>n)return u;if(t>i+i){if(n<r+r)return u}else{if(n>r+r)return-u;i=t-i,r=n-r,u=-u}if(r===0)return i===0?0:-u;if(i===0||(c=Math.floor(t/i),t=t-c*i,n=n-c*r,n<0))return u;if(n>r)return-u;if(i>t+t){if(r<n+n)return-u}else{if(r>n+n)return u;t=i-t,n=r-n,u=-u}if(n===0)return t===0?0:u;if(t===0)return-u}};var RayCrossingCounter=function e(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};RayCrossingCounter.prototype.countSegment=function e(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var i=t.x,r=n.x;return i>r&&(i=n.x,r=t.x),this._p.x>=i&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var u=t.x-this._p.x,d=t.y-this._p.y,c=n.x-this._p.x,v=n.y-this._p.y,S=RobustDeterminant.signOfDet2x2(u,d,c,v);if(S===0)return this._isPointOnSegment=!0,null;v<d&&(S=-S),S>0&&this._crossingCount++}},RayCrossingCounter.prototype.isPointInPolygon=function e(){return this.getLocation()!==Location.EXTERIOR},RayCrossingCounter.prototype.getLocation=function e(){return this._isPointOnSegment?Location.BOUNDARY:this._crossingCount%2===1?Location.INTERIOR:Location.EXTERIOR},RayCrossingCounter.prototype.isOnSegment=function e(){return this._isPointOnSegment},RayCrossingCounter.prototype.interfaces_=function e(){return[]},RayCrossingCounter.prototype.getClass=function e(){return RayCrossingCounter},RayCrossingCounter.locatePointInRing=function e(){if(arguments[0]instanceof Coordinate&&hasInterface(arguments[1],CoordinateSequence)){for(var t=arguments[0],n=arguments[1],i=new RayCrossingCounter(t),r=new Coordinate,u=new Coordinate,d=1;d<n.size();d++)if(n.getCoordinate(d,r),n.getCoordinate(d-1,u),i.countSegment(r,u),i.isOnSegment())return i.getLocation();return i.getLocation()}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Array){for(var c=arguments[0],v=arguments[1],S=new RayCrossingCounter(c),C=1;C<v.length;C++){var O=v[C],R=v[C-1];if(S.countSegment(O,R),S.isOnSegment())return S.getLocation()}return S.getLocation()}};var CGAlgorithms=function e(){},staticAccessors$3={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};CGAlgorithms.prototype.interfaces_=function e(){return[]},CGAlgorithms.prototype.getClass=function e(){return CGAlgorithms},CGAlgorithms.orientationIndex=function e(t,n,i){return CGAlgorithmsDD.orientationIndex(t,n,i)},CGAlgorithms.signedArea=function e(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,i=t[0].x,r=1;r<t.length-1;r++){var u=t[r].x-i,d=t[r+1].y,c=t[r-1].y;n+=u*(c-d)}return n/2}else if(hasInterface(arguments[0],CoordinateSequence)){var v=arguments[0],S=v.size();if(S<3)return 0;var C=new Coordinate,O=new Coordinate,R=new Coordinate;v.getCoordinate(0,O),v.getCoordinate(1,R);var H=O.x;R.x-=H;for(var K=0,le=1;le<S-1;le++)C.y=O.y,O.x=R.x,O.y=R.y,v.getCoordinate(le+1,R),R.x-=H,K+=O.x*(C.y-R.y);return K/2}},CGAlgorithms.distanceLineLine=function e(t,n,i,r){if(t.equals(n))return CGAlgorithms.distancePointLine(t,i,r);if(i.equals(r))return CGAlgorithms.distancePointLine(r,t,n);var u=!1;if(!Envelope.intersects(t,n,i,r))u=!0;else{var d=(n.x-t.x)*(r.y-i.y)-(n.y-t.y)*(r.x-i.x);if(d===0)u=!0;else{var c=(t.y-i.y)*(r.x-i.x)-(t.x-i.x)*(r.y-i.y),v=(t.y-i.y)*(n.x-t.x)-(t.x-i.x)*(n.y-t.y),S=v/d,C=c/d;(C<0||C>1||S<0||S>1)&&(u=!0)}}return u?MathUtil.min(CGAlgorithms.distancePointLine(t,i,r),CGAlgorithms.distancePointLine(n,i,r),CGAlgorithms.distancePointLine(i,t,n),CGAlgorithms.distancePointLine(r,t,n)):0},CGAlgorithms.isPointInRing=function e(t,n){return CGAlgorithms.locatePointInRing(t,n)!==Location.EXTERIOR},CGAlgorithms.computeLength=function e(t){var n=t.size();if(n<=1)return 0;var i=0,r=new Coordinate;t.getCoordinate(0,r);for(var u=r.x,d=r.y,c=1;c<n;c++){t.getCoordinate(c,r);var v=r.x,S=r.y,C=v-u,O=S-d;i+=Math.sqrt(C*C+O*O),u=v,d=S}return i},CGAlgorithms.isCCW=function e(t){var n=t.length-1;if(n<3)throw new IllegalArgumentException("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],r=0,u=1;u<=n;u++){var d=t[u];d.y>i.y&&(i=d,r=u)}var c=r;do c=c-1,c<0&&(c=n);while(t[c].equals2D(i)&&c!==r);var v=r;do v=(v+1)%n;while(t[v].equals2D(i)&&v!==r);var S=t[c],C=t[v];if(S.equals2D(i)||C.equals2D(i)||S.equals2D(C))return!1;var O=CGAlgorithms.computeOrientation(S,i,C),R=!1;return O===0?R=S.x>C.x:R=O>0,R},CGAlgorithms.locatePointInRing=function e(t,n){return RayCrossingCounter.locatePointInRing(t,n)},CGAlgorithms.distancePointLinePerpendicular=function e(t,n,i){var r=(i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y),u=((n.y-t.y)*(i.x-n.x)-(n.x-t.x)*(i.y-n.y))/r;return Math.abs(u)*Math.sqrt(r)},CGAlgorithms.computeOrientation=function e(t,n,i){return CGAlgorithms.orientationIndex(t,n,i)},CGAlgorithms.distancePointLine=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new IllegalArgumentException("Line array must contain at least one vertex");for(var i=t.distance(n[0]),r=0;r<n.length-1;r++){var u=CGAlgorithms.distancePointLine(t,n[r],n[r+1]);u<i&&(i=u)}return i}else if(arguments.length===3){var d=arguments[0],c=arguments[1],v=arguments[2];if(c.x===v.x&&c.y===v.y)return d.distance(c);var S=(v.x-c.x)*(v.x-c.x)+(v.y-c.y)*(v.y-c.y),C=((d.x-c.x)*(v.x-c.x)+(d.y-c.y)*(v.y-c.y))/S;if(C<=0)return d.distance(c);if(C>=1)return d.distance(v);var O=((c.y-d.y)*(v.x-c.x)-(c.x-d.x)*(v.y-c.y))/S;return Math.abs(O)*Math.sqrt(S)}},CGAlgorithms.isOnLine=function e(t,n){for(var i=new RobustLineIntersector,r=1;r<n.length;r++){var u=n[r-1],d=n[r];if(i.computeIntersection(t,u,d),i.hasIntersection())return!0}return!1},staticAccessors$3.CLOCKWISE.get=function(){return-1},staticAccessors$3.RIGHT.get=function(){return CGAlgorithms.CLOCKWISE},staticAccessors$3.COUNTERCLOCKWISE.get=function(){return 1},staticAccessors$3.LEFT.get=function(){return CGAlgorithms.COUNTERCLOCKWISE},staticAccessors$3.COLLINEAR.get=function(){return 0},staticAccessors$3.STRAIGHT.get=function(){return CGAlgorithms.COLLINEAR},Object.defineProperties(CGAlgorithms,staticAccessors$3);var GeometryComponentFilter=function e(){};GeometryComponentFilter.prototype.filter=function e(t){},GeometryComponentFilter.prototype.interfaces_=function e(){return[]},GeometryComponentFilter.prototype.getClass=function e(){return GeometryComponentFilter};var Geometry=function e(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},staticAccessors$11={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Geometry.prototype.isGeometryCollection=function e(){return this.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION},Geometry.prototype.getFactory=function e(){return this._factory},Geometry.prototype.getGeometryN=function e(t){return this},Geometry.prototype.getArea=function e(){return 0},Geometry.prototype.isRectangle=function e(){return!1},Geometry.prototype.equals=function e(){if(arguments[0]instanceof Geometry){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof Geometry))return!1;var i=n;return this.equalsExact(i)}},Geometry.prototype.equalsExact=function e(t){return this===t||this.equalsExact(t,0)},Geometry.prototype.geometryChanged=function e(){this.apply(Geometry.geometryChangedFilter)},Geometry.prototype.geometryChangedAction=function e(){this._envelope=null},Geometry.prototype.equalsNorm=function e(t){return t===null?!1:this.norm().equalsExact(t.norm())},Geometry.prototype.getLength=function e(){return 0},Geometry.prototype.getNumGeometries=function e(){return 1},Geometry.prototype.compareTo=function e(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(i,r)}},Geometry.prototype.getUserData=function e(){return this._userData},Geometry.prototype.getSRID=function e(){return this._SRID},Geometry.prototype.getEnvelope=function e(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Geometry.prototype.checkNotGeometryCollection=function e(t){if(t.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION)throw new IllegalArgumentException("This method does not support GeometryCollection arguments")},Geometry.prototype.equal=function e(t,n,i){return i===0?t.equals(n):t.distance(n)<=i},Geometry.prototype.norm=function e(){var t=this.copy();return t.normalize(),t},Geometry.prototype.getPrecisionModel=function e(){return this._factory.getPrecisionModel()},Geometry.prototype.getEnvelopeInternal=function e(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Envelope(this._envelope)},Geometry.prototype.setSRID=function e(t){this._SRID=t},Geometry.prototype.setUserData=function e(t){this._userData=t},Geometry.prototype.compare=function e(t,n){for(var i=t.iterator(),r=n.iterator();i.hasNext()&&r.hasNext();){var u=i.next(),d=r.next(),c=u.compareTo(d);if(c!==0)return c}return i.hasNext()?1:r.hasNext()?-1:0},Geometry.prototype.hashCode=function e(){return this.getEnvelopeInternal().hashCode()},Geometry.prototype.isGeometryCollectionOrDerived=function e(){return this.getSortIndex()===Geometry.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Geometry.SORTINDEX_MULTIPOINT||this.getSortIndex()===Geometry.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Geometry.SORTINDEX_MULTIPOLYGON},Geometry.prototype.interfaces_=function e(){return[Clonable,Comparable,Serializable]},Geometry.prototype.getClass=function e(){return Geometry},Geometry.hasNonEmptyElements=function e(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1},Geometry.hasNullElements=function e(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1},staticAccessors$11.serialVersionUID.get=function(){return 8763622679187377e3},staticAccessors$11.SORTINDEX_POINT.get=function(){return 0},staticAccessors$11.SORTINDEX_MULTIPOINT.get=function(){return 1},staticAccessors$11.SORTINDEX_LINESTRING.get=function(){return 2},staticAccessors$11.SORTINDEX_LINEARRING.get=function(){return 3},staticAccessors$11.SORTINDEX_MULTILINESTRING.get=function(){return 4},staticAccessors$11.SORTINDEX_POLYGON.get=function(){return 5},staticAccessors$11.SORTINDEX_MULTIPOLYGON.get=function(){return 6},staticAccessors$11.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},staticAccessors$11.geometryChangedFilter.get=function(){return geometryChangedFilter},Object.defineProperties(Geometry,staticAccessors$11);var geometryChangedFilter=function e(){};geometryChangedFilter.interfaces_=function e(){return[GeometryComponentFilter]},geometryChangedFilter.filter=function e(t){t.geometryChangedAction()};var CoordinateFilter=function e(){};CoordinateFilter.prototype.filter=function e(t){},CoordinateFilter.prototype.interfaces_=function e(){return[]},CoordinateFilter.prototype.getClass=function e(){return CoordinateFilter};var BoundaryNodeRule=function e(){},staticAccessors$12={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};BoundaryNodeRule.prototype.isInBoundary=function e(t){},BoundaryNodeRule.prototype.interfaces_=function e(){return[]},BoundaryNodeRule.prototype.getClass=function e(){return BoundaryNodeRule},staticAccessors$12.Mod2BoundaryNodeRule.get=function(){return Mod2BoundaryNodeRule},staticAccessors$12.EndPointBoundaryNodeRule.get=function(){return EndPointBoundaryNodeRule},staticAccessors$12.MultiValentEndPointBoundaryNodeRule.get=function(){return MultiValentEndPointBoundaryNodeRule},staticAccessors$12.MonoValentEndPointBoundaryNodeRule.get=function(){return MonoValentEndPointBoundaryNodeRule},staticAccessors$12.MOD2_BOUNDARY_RULE.get=function(){return new Mod2BoundaryNodeRule},staticAccessors$12.ENDPOINT_BOUNDARY_RULE.get=function(){return new EndPointBoundaryNodeRule},staticAccessors$12.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new MultiValentEndPointBoundaryNodeRule},staticAccessors$12.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new MonoValentEndPointBoundaryNodeRule},staticAccessors$12.OGC_SFS_BOUNDARY_RULE.get=function(){return BoundaryNodeRule.MOD2_BOUNDARY_RULE},Object.defineProperties(BoundaryNodeRule,staticAccessors$12);var Mod2BoundaryNodeRule=function e(){};Mod2BoundaryNodeRule.prototype.isInBoundary=function e(t){return t%2===1},Mod2BoundaryNodeRule.prototype.interfaces_=function e(){return[BoundaryNodeRule]},Mod2BoundaryNodeRule.prototype.getClass=function e(){return Mod2BoundaryNodeRule};var EndPointBoundaryNodeRule=function e(){};EndPointBoundaryNodeRule.prototype.isInBoundary=function e(t){return t>0},EndPointBoundaryNodeRule.prototype.interfaces_=function e(){return[BoundaryNodeRule]},EndPointBoundaryNodeRule.prototype.getClass=function e(){return EndPointBoundaryNodeRule};var MultiValentEndPointBoundaryNodeRule=function e(){};MultiValentEndPointBoundaryNodeRule.prototype.isInBoundary=function e(t){return t>1},MultiValentEndPointBoundaryNodeRule.prototype.interfaces_=function e(){return[BoundaryNodeRule]},MultiValentEndPointBoundaryNodeRule.prototype.getClass=function e(){return MultiValentEndPointBoundaryNodeRule};var MonoValentEndPointBoundaryNodeRule=function e(){};MonoValentEndPointBoundaryNodeRule.prototype.isInBoundary=function e(t){return t===1},MonoValentEndPointBoundaryNodeRule.prototype.interfaces_=function e(){return[BoundaryNodeRule]},MonoValentEndPointBoundaryNodeRule.prototype.getClass=function e(){return MonoValentEndPointBoundaryNodeRule};var Collection=function e(){};Collection.prototype.add=function e(){},Collection.prototype.addAll=function e(){},Collection.prototype.isEmpty=function e(){},Collection.prototype.iterator=function e(){},Collection.prototype.size=function e(){},Collection.prototype.toArray=function e(){},Collection.prototype.remove=function e(){};function IndexOutOfBoundsException(e){this.message=e||""}IndexOutOfBoundsException.prototype=new Error,IndexOutOfBoundsException.prototype.name="IndexOutOfBoundsException";var Iterator=function e(){};Iterator.prototype.hasNext=function e(){},Iterator.prototype.next=function e(){},Iterator.prototype.remove=function e(){};var List=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(Collection);function NoSuchElementException(e){this.message=e||""}NoSuchElementException.prototype=new Error,NoSuchElementException.prototype.name="NoSuchElementException";var ArrayList=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,Collection]},t.prototype.add=function(i){return arguments.length===1?this.array_.push(i):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(i){for(var r=this,u=i.iterator();u.hasNext();)r.add(u.next());return!0},t.prototype.set=function(i,r){var u=this.array_[i];return this.array_[i]=r,u},t.prototype.iterator=function(){return new Iterator_(this)},t.prototype.get=function(i){if(i<0||i>=this.size())throw new IndexOutOfBoundsException;return this.array_[i]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var i=this,r=[],u=0,d=this.array_.length;u<d;u++)r.push(i.array_[u]);return r},t.prototype.remove=function(i){for(var r=this,u=!1,d=0,c=this.array_.length;d<c;d++)if(r.array_[d]===i){r.array_.splice(d,1),u=!0;break}return u},t}(List),Iterator_=function(e){function t(n){e.call(this),this.arrayList_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new NoSuchElementException;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(i){return this.arrayList_.set(this.position_-1,i)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(Iterator),CoordinateList=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.ensureCapacity(i.length),this.add(i,!0)}else if(arguments.length===2){var r=arguments[0],u=arguments[1];this.ensureCapacity(r.length),this.add(r,u)}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(r){return this.get(r)},t.prototype.addAll=function(){var r=this;if(arguments.length===2){for(var u=arguments[0],d=arguments[1],c=!1,v=u.iterator();v.hasNext();)r.add(v.next(),d),c=!0;return c}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var r=this,u=e.prototype.clone.call(this),d=0;d<this.size();d++)u.add(d,r.get(d).copy());return u},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var r=this;if(arguments.length===1){var u=arguments[0];e.prototype.add.call(this,u)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],c=arguments[1];return this.add(d,c,!0),!0}else if(arguments[0]instanceof Coordinate&&typeof arguments[1]=="boolean"){var v=arguments[0],S=arguments[1];if(!S&&this.size()>=1){var C=this.get(this.size()-1);if(C.equals2D(v))return null}e.prototype.add.call(this,v)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var O=arguments[0],R=arguments[1];return this.add(O,R),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var H=arguments[0],K=arguments[1],le=arguments[2];if(le)for(var fe=0;fe<H.length;fe++)r.add(H[fe],K);else for(var ye=H.length-1;ye>=0;ye--)r.add(H[ye],K);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Coordinate){var xe=arguments[0],Pe=arguments[1],Re=arguments[2];if(!Re){var Ze=this.size();if(Ze>0){if(xe>0){var ot=this.get(xe-1);if(ot.equals2D(Pe))return null}if(xe<Ze){var ut=this.get(xe);if(ut.equals2D(Pe))return null}}}e.prototype.add.call(this,xe,Pe)}}else if(arguments.length===4){var lt=arguments[0],ct=arguments[1],wt=arguments[2],At=arguments[3],Ot=1;wt>At&&(Ot=-1);for(var Ut=wt;Ut!==At;Ut+=Ot)r.add(lt[Ut],ct);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new Coordinate(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(ArrayList),CoordinateArrays=function e(){},staticAccessors$13={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};staticAccessors$13.ForwardComparator.get=function(){return ForwardComparator},staticAccessors$13.BidirectionalComparator.get=function(){return BidirectionalComparator},staticAccessors$13.coordArrayType.get=function(){return new Array(0).fill(null)},CoordinateArrays.prototype.interfaces_=function e(){return[]},CoordinateArrays.prototype.getClass=function e(){return CoordinateArrays},CoordinateArrays.isRing=function e(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},CoordinateArrays.ptNotInList=function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(CoordinateArrays.indexOf(r,n)<0)return r}return null},CoordinateArrays.scroll=function e(t,n){var i=CoordinateArrays.indexOf(n,t);if(i<0)return null;var r=new Array(t.length).fill(null);System.arraycopy(t,i,r,0,t.length-i),System.arraycopy(t,0,r,t.length-i,i),System.arraycopy(r,0,t,0,t.length)},CoordinateArrays.equals=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].equals(n[i]))return!1;return!0}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];if(r===u)return!0;if(r===null||u===null||r.length!==u.length)return!1;for(var c=0;c<r.length;c++)if(d.compare(r[c],u[c])!==0)return!1;return!0}},CoordinateArrays.intersection=function e(t,n){for(var i=new CoordinateList,r=0;r<t.length;r++)n.intersects(t[r])&&i.add(t[r],!0);return i.toCoordinateArray()},CoordinateArrays.hasRepeatedPoints=function e(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1},CoordinateArrays.removeRepeatedPoints=function e(t){if(!CoordinateArrays.hasRepeatedPoints(t))return t;var n=new CoordinateList(t,!1);return n.toCoordinateArray()},CoordinateArrays.reverse=function e(t){for(var n=t.length-1,i=Math.trunc(n/2),r=0;r<=i;r++){var u=t[r];t[r]=t[n-r],t[n-r]=u}},CoordinateArrays.removeNull=function e(t){for(var n=0,i=0;i<t.length;i++)t[i]!==null&&n++;var r=new Array(n).fill(null);if(n===0)return r;for(var u=0,d=0;d<t.length;d++)t[d]!==null&&(r[u++]=t[d]);return r},CoordinateArrays.copyDeep=function e(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),i=0;i<t.length;i++)n[i]=new Coordinate(t[i]);return n}else if(arguments.length===5)for(var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3],v=arguments[4],S=0;S<v;S++)d[c+S]=new Coordinate(r[u+S])},CoordinateArrays.isEqualReversed=function e(t,n){for(var i=0;i<t.length;i++){var r=t[i],u=n[t.length-i-1];if(r.compareTo(u)!==0)return!1}return!0},CoordinateArrays.envelope=function e(t){for(var n=new Envelope,i=0;i<t.length;i++)n.expandToInclude(t[i]);return n},CoordinateArrays.toCoordinateArray=function e(t){return t.toArray(CoordinateArrays.coordArrayType)},CoordinateArrays.atLeastNCoordinatesOrNothing=function e(t,n){return n.length>=t?n:[]},CoordinateArrays.indexOf=function e(t,n){for(var i=0;i<n.length;i++)if(t.equals(n[i]))return i;return-1},CoordinateArrays.increasingDirection=function e(t){for(var n=0;n<Math.trunc(t.length/2);n++){var i=t.length-1-n,r=t[n].compareTo(t[i]);if(r!==0)return r}return 1},CoordinateArrays.compare=function e(t,n){for(var i=0;i<t.length&&i<n.length;){var r=t[i].compareTo(n[i]);if(r!==0)return r;i++}return i<n.length?-1:i<t.length?1:0},CoordinateArrays.minCoordinate=function e(t){for(var n=null,i=0;i<t.length;i++)(n===null||n.compareTo(t[i])>0)&&(n=t[i]);return n},CoordinateArrays.extract=function e(t,n,i){n=MathUtil.clamp(n,0,t.length),i=MathUtil.clamp(i,-1,t.length);var r=i-n+1;i<0&&(r=0),n>=t.length&&(r=0),i<n&&(r=0);var u=new Array(r).fill(null);if(r===0)return u;for(var d=0,c=n;c<=i;c++)u[d++]=t[c];return u},Object.defineProperties(CoordinateArrays,staticAccessors$13);var ForwardComparator=function e(){};ForwardComparator.prototype.compare=function e(t,n){var i=t,r=n;return CoordinateArrays.compare(i,r)},ForwardComparator.prototype.interfaces_=function e(){return[Comparator]},ForwardComparator.prototype.getClass=function e(){return ForwardComparator};var BidirectionalComparator=function e(){};BidirectionalComparator.prototype.compare=function e(t,n){var i=t,r=n;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;var u=CoordinateArrays.compare(i,r),d=CoordinateArrays.isEqualReversed(i,r);return d?0:u},BidirectionalComparator.prototype.OLDcompare=function e(t,n){var i=t,r=n;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(i.length===0)return 0;for(var u=CoordinateArrays.increasingDirection(i),d=CoordinateArrays.increasingDirection(r),c=u>0?0:i.length-1,v=d>0?0:i.length-1,S=0;S<i.length;S++){var C=i[c].compareTo(r[v]);if(C!==0)return C;c+=u,v+=d}return 0},BidirectionalComparator.prototype.interfaces_=function e(){return[Comparator]},BidirectionalComparator.prototype.getClass=function e(){return BidirectionalComparator};var Map$1=function e(){};Map$1.prototype.get=function e(){},Map$1.prototype.put=function e(){},Map$1.prototype.size=function e(){},Map$1.prototype.values=function e(){},Map$1.prototype.entrySet=function e(){};var SortedMap=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Map$1);function OperationNotSupported(e){this.message=e||""}OperationNotSupported.prototype=new Error,OperationNotSupported.prototype.name="OperationNotSupported";function Set$1(){}Set$1.prototype=new Collection,Set$1.prototype.contains=function(){};var HashSet=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(i){for(var r=this,u=0,d=this.array_.length;u<d;u++){var c=r.array_[u];if(c===i)return!0}return!1},t.prototype.add=function(i){return this.contains(i)?!1:(this.array_.push(i),!0)},t.prototype.addAll=function(i){for(var r=this,u=i.iterator();u.hasNext();)r.add(u.next());return!0},t.prototype.remove=function(i){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var i=this,r=[],u=0,d=this.array_.length;u<d;u++)r.push(i.array_[u]);return r},t.prototype.iterator=function(){return new Iterator_$1(this)},t}(Set$1),Iterator_$1=function(e){function t(n){e.call(this),this.hashSet_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new NoSuchElementException;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new OperationNotSupported},t}(Iterator),BLACK=0,RED=1;function colorOf(e){return e===null?BLACK:e.color}function parentOf(e){return e===null?null:e.parent}function setColor(e,t){e!==null&&(e.color=t)}function leftOf(e){return e===null?null:e.left}function rightOf(e){return e===null?null:e.right}function TreeMap(){this.root_=null,this.size_=0}TreeMap.prototype=new SortedMap,TreeMap.prototype.get=function(e){for(var t=this.root_;t!==null;){var n=e.compareTo(t.key);if(n<0)t=t.left;else if(n>0)t=t.right;else return t.value}return null},TreeMap.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:BLACK,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n=this.root_,i,r;do if(i=n,r=e.compareTo(n.key),r<0)n=n.left;else if(r>0)n=n.right;else{var u=n.value;return n.value=t,u}while(n!==null);var d={key:e,left:null,right:null,value:t,parent:i,color:BLACK,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?i.left=d:i.right=d,this.fixAfterInsertion(d),this.size_++,null},TreeMap.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=RED;e!=null&&e!==this.root_&&e.parent.color===RED;)if(parentOf(e)===leftOf(parentOf(parentOf(e)))){var n=rightOf(parentOf(parentOf(e)));colorOf(n)===RED?(setColor(parentOf(e),BLACK),setColor(n,BLACK),setColor(parentOf(parentOf(e)),RED),e=parentOf(parentOf(e))):(e===rightOf(parentOf(e))&&(e=parentOf(e),t.rotateLeft(e)),setColor(parentOf(e),BLACK),setColor(parentOf(parentOf(e)),RED),t.rotateRight(parentOf(parentOf(e))))}else{var i=leftOf(parentOf(parentOf(e)));colorOf(i)===RED?(setColor(parentOf(e),BLACK),setColor(i,BLACK),setColor(parentOf(parentOf(e)),RED),e=parentOf(parentOf(e))):(e===leftOf(parentOf(e))&&(e=parentOf(e),t.rotateRight(e)),setColor(parentOf(e),BLACK),setColor(parentOf(parentOf(e)),RED),t.rotateLeft(parentOf(parentOf(e))))}this.root_.color=BLACK},TreeMap.prototype.values=function(){var e=new ArrayList,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=TreeMap.successor(t))!==null;)e.add(t.value);return e},TreeMap.prototype.entrySet=function(){var e=new HashSet,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=TreeMap.successor(t))!==null;)e.add(t);return e},TreeMap.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},TreeMap.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},TreeMap.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},TreeMap.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var n=e.parent,i=e;n!==null&&i===n.right;)i=n,n=n.parent;return n}},TreeMap.prototype.size=function(){return this.size_};var Lineal=function e(){};Lineal.prototype.interfaces_=function e(){return[]},Lineal.prototype.getClass=function e(){return Lineal};function SortedSet(){}SortedSet.prototype=new Set$1;function TreeSet(){this.array_=[],arguments[0]instanceof Collection&&this.addAll(arguments[0])}TreeSet.prototype=new SortedSet,TreeSet.prototype.contains=function(e){for(var t=this,n=0,i=this.array_.length;n<i;n++){var r=t.array_[n];if(r.compareTo(e)===0)return!0}return!1},TreeSet.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var n=0,i=this.array_.length;n<i;n++){var r=t.array_[n];if(r.compareTo(e)===1)return t.array_.splice(n,0,e),!0}return this.array_.push(e),!0},TreeSet.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next());return!0},TreeSet.prototype.remove=function(e){throw new OperationNotSupported},TreeSet.prototype.size=function(){return this.array_.length},TreeSet.prototype.isEmpty=function(){return this.array_.length===0},TreeSet.prototype.toArray=function(){for(var e=this,t=[],n=0,i=this.array_.length;n<i;n++)t.push(e.array_[n]);return t},TreeSet.prototype.iterator=function(){return new Iterator_$2(this)};var Iterator_$2=function(e){this.treeSet_=e,this.position_=0};Iterator_$2.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new NoSuchElementException;return this.treeSet_.array_[this.position_++]},Iterator_$2.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Iterator_$2.prototype.remove=function(){throw new OperationNotSupported};var Arrays=function e(){};Arrays.sort=function e(){var t=arguments[0],n,i,r,u;if(arguments.length===1)u=function(c,v){return c.compareTo(v)},t.sort(u);else if(arguments.length===2)r=arguments[1],u=function(c,v){return r.compare(c,v)},t.sort(u);else if(arguments.length===3){i=t.slice(arguments[1],arguments[2]),i.sort();var d=t.slice(0,arguments[1]).concat(i,t.slice(arguments[2],t.length));for(t.splice(0,t.length),n=0;n<d.length;n++)t.push(d[n])}else if(arguments.length===4)for(i=t.slice(arguments[1],arguments[2]),r=arguments[3],u=function(c,v){return r.compare(c,v)},i.sort(u),d=t.slice(0,arguments[1]).concat(i,t.slice(arguments[2],t.length)),t.splice(0,t.length),n=0;n<d.length;n++)t.push(d[n])},Arrays.asList=function e(t){for(var n=new ArrayList,i=0,r=t.length;i<r;i++)n.add(t[i]);return n};var Dimension=function e(){},staticAccessors$14={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};staticAccessors$14.P.get=function(){return 0},staticAccessors$14.L.get=function(){return 1},staticAccessors$14.A.get=function(){return 2},staticAccessors$14.FALSE.get=function(){return-1},staticAccessors$14.TRUE.get=function(){return-2},staticAccessors$14.DONTCARE.get=function(){return-3},staticAccessors$14.SYM_FALSE.get=function(){return"F"},staticAccessors$14.SYM_TRUE.get=function(){return"T"},staticAccessors$14.SYM_DONTCARE.get=function(){return"*"},staticAccessors$14.SYM_P.get=function(){return"0"},staticAccessors$14.SYM_L.get=function(){return"1"},staticAccessors$14.SYM_A.get=function(){return"2"},Dimension.prototype.interfaces_=function e(){return[]},Dimension.prototype.getClass=function e(){return Dimension},Dimension.toDimensionSymbol=function e(t){switch(t){case Dimension.FALSE:return Dimension.SYM_FALSE;case Dimension.TRUE:return Dimension.SYM_TRUE;case Dimension.DONTCARE:return Dimension.SYM_DONTCARE;case Dimension.P:return Dimension.SYM_P;case Dimension.L:return Dimension.SYM_L;case Dimension.A:return Dimension.SYM_A}throw new IllegalArgumentException("Unknown dimension value: "+t)},Dimension.toDimensionValue=function e(t){switch(Character.toUpperCase(t)){case Dimension.SYM_FALSE:return Dimension.FALSE;case Dimension.SYM_TRUE:return Dimension.TRUE;case Dimension.SYM_DONTCARE:return Dimension.DONTCARE;case Dimension.SYM_P:return Dimension.P;case Dimension.SYM_L:return Dimension.L;case Dimension.SYM_A:return Dimension.A}throw new IllegalArgumentException("Unknown dimension symbol: "+t)},Object.defineProperties(Dimension,staticAccessors$14);var GeometryFilter=function e(){};GeometryFilter.prototype.filter=function e(t){},GeometryFilter.prototype.interfaces_=function e(){return[]},GeometryFilter.prototype.getClass=function e(){return GeometryFilter};var CoordinateSequenceFilter=function e(){};CoordinateSequenceFilter.prototype.filter=function e(t,n){},CoordinateSequenceFilter.prototype.isDone=function e(){},CoordinateSequenceFilter.prototype.isGeometryChanged=function e(){},CoordinateSequenceFilter.prototype.interfaces_=function e(){return[]},CoordinateSequenceFilter.prototype.getClass=function e(){return CoordinateSequenceFilter};var GeometryCollection=function(e){function t(i,r){if(e.call(this,r),this._geometries=i||[],e.hasNullElements(this._geometries))throw new IllegalArgumentException("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var r=this,u=new Envelope,d=0;d<this._geometries.length;d++)u.expandToInclude(r._geometries[d].getEnvelopeInternal());return u},t.prototype.getGeometryN=function(r){return this._geometries[r]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var r=this,u=new Array(this.getNumPoints()).fill(null),d=-1,c=0;c<this._geometries.length;c++)for(var v=r._geometries[c].getCoordinates(),S=0;S<v.length;S++)d++,u[d]=v[S];return u},t.prototype.getArea=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getArea();return u},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u;if(this._geometries.length!==c._geometries.length)return!1;for(var v=0;v<this._geometries.length;v++)if(!r._geometries[v].equalsExact(c._geometries[v],d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,u=0;u<this._geometries.length;u++)r._geometries[u].normalize();Arrays.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var r=this,u=Dimension.FALSE,d=0;d<this._geometries.length;d++)u=Math.max(u,r._geometries[d].getBoundaryDimension());return u},t.prototype.getDimension=function(){for(var r=this,u=Dimension.FALSE,d=0;d<this._geometries.length;d++)u=Math.max(u,r._geometries[d].getDimension());return u},t.prototype.getLength=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getLength();return u},t.prototype.getNumPoints=function(){for(var r=this,u=0,d=0;d<this._geometries.length;d++)u+=r._geometries[d].getNumPoints();return u},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[c]=r._geometries[c].reverse();return this.getFactory().createGeometryCollection(d)},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var u=arguments[0],d=new TreeSet(Arrays.asList(this._geometries)),c=new TreeSet(Arrays.asList(u._geometries));return this.compare(d,c)}else if(arguments.length===2){for(var v=arguments[0],S=arguments[1],C=v,O=this.getNumGeometries(),R=C.getNumGeometries(),H=0;H<O&&H<R;){var K=r.getGeometryN(H),le=C.getGeometryN(H),fe=K.compareToSameClass(le,S);if(fe!==0)return fe;H++}return H<O?1:H<R?-1:0}},t.prototype.apply=function(){var r=this;if(hasInterface(arguments[0],CoordinateFilter))for(var u=arguments[0],d=0;d<this._geometries.length;d++)r._geometries[d].apply(u);else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var c=arguments[0];if(this._geometries.length===0)return null;for(var v=0;v<this._geometries.length&&(r._geometries[v].apply(c),!c.isDone());v++);c.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var S=arguments[0];S.filter(this);for(var C=0;C<this._geometries.length;C++)r._geometries[C].apply(S)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var O=arguments[0];O.filter(this);for(var R=0;R<this._geometries.length;R++)r._geometries[R].apply(O)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Assert.shouldNeverReachHere(),null},t.prototype.clone=function(){var r=this,u=e.prototype.clone.call(this);u._geometries=new Array(this._geometries.length).fill(null);for(var d=0;d<this._geometries.length;d++)u._geometries[d]=r._geometries[d].clone();return u},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.isEmpty=function(){for(var r=this,u=0;u<this._geometries.length;u++)if(!r._geometries[u].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,n),t}(Geometry),MultiLineString=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dimension.FALSE:0},t.prototype.isClosed=function(){var r=this;if(this.isEmpty())return!1;for(var u=0;u<this._geometries.length;u++)if(!r._geometries[u].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[u-1-c]=r._geometries[c].reverse();return this.getFactory().createMultiLineString(d)},t.prototype.getBoundary=function(){return new BoundaryOp(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Lineal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,n),t}(GeometryCollection),BoundaryOp=function e(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=BoundaryNodeRule.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this._geom=i,this._geomFact=i.getFactory(),this._bnRule=r}};BoundaryOp.prototype.boundaryMultiLineString=function e(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)},BoundaryOp.prototype.getBoundary=function e(){return this._geom instanceof LineString?this.boundaryLineString(this._geom):this._geom instanceof MultiLineString?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},BoundaryOp.prototype.boundaryLineString=function e(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var n=this._bnRule.isInBoundary(2);return n?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},BoundaryOp.prototype.getEmptyMultiPoint=function e(){return this._geomFact.createMultiPoint()},BoundaryOp.prototype.computeBoundaryCoordinates=function e(t){var n=this,i=new ArrayList;this._endpointMap=new TreeMap;for(var r=0;r<t.getNumGeometries();r++){var u=t.getGeometryN(r);u.getNumPoints()!==0&&(n.addEndpoint(u.getCoordinateN(0)),n.addEndpoint(u.getCoordinateN(u.getNumPoints()-1)))}for(var d=this._endpointMap.entrySet().iterator();d.hasNext();){var c=d.next(),v=c.getValue(),S=v.count;n._bnRule.isInBoundary(S)&&i.add(c.getKey())}return CoordinateArrays.toCoordinateArray(i)},BoundaryOp.prototype.addEndpoint=function e(t){var n=this._endpointMap.get(t);n===null&&(n=new Counter,this._endpointMap.put(t,n)),n.count++},BoundaryOp.prototype.interfaces_=function e(){return[]},BoundaryOp.prototype.getClass=function e(){return BoundaryOp},BoundaryOp.getBoundary=function e(){if(arguments.length===1){var t=arguments[0],n=new BoundaryOp(t);return n.getBoundary()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],u=new BoundaryOp(i,r);return u.getBoundary()}};var Counter=function e(){this.count=null};Counter.prototype.interfaces_=function e(){return[]},Counter.prototype.getClass=function e(){return Counter};function PrintStream(){}function StringReader(){}var DecimalFormat=function e(){};function ByteArrayOutputStream(){}function IOException(){}function LineNumberReader(){}var StringUtil=function e(){},staticAccessors$15={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};StringUtil.prototype.interfaces_=function e(){return[]},StringUtil.prototype.getClass=function e(){return StringUtil},StringUtil.chars=function e(t,n){for(var i=new Array(n).fill(null),r=0;r<n;r++)i[r]=t;return String(i)},StringUtil.getStackTrace=function e(){if(arguments.length===1){var t=arguments[0],n=new ByteArrayOutputStream,i=new PrintStream;return t.printStackTrace(i),n.toString()}else if(arguments.length===2){var r=arguments[0],u=arguments[1],d="";new StringReader(StringUtil.getStackTrace(r));for(var c=new LineNumberReader,v=0;v<u;v++)try{d+=c.readLine()+StringUtil.NEWLINE}catch(S){if(S instanceof IOException)Assert.shouldNeverReachHere();else throw S}finally{}return d}},StringUtil.split=function e(t,n){for(var i=n.length,r=new ArrayList,u=""+t,d=u.indexOf(n);d>=0;){var c=u.substring(0,d);r.add(c),u=u.substring(d+i),d=u.indexOf(n)}u.length>0&&r.add(u);for(var v=new Array(r.size()).fill(null),S=0;S<v.length;S++)v[S]=r.get(S);return v},StringUtil.toString=function e(){if(arguments.length===1){var t=arguments[0];return StringUtil.SIMPLE_ORDINATE_FORMAT.format(t)}},StringUtil.spaces=function e(t){return StringUtil.chars(" ",t)},staticAccessors$15.NEWLINE.get=function(){return System.getProperty("line.separator")},staticAccessors$15.SIMPLE_ORDINATE_FORMAT.get=function(){return new DecimalFormat},Object.defineProperties(StringUtil,staticAccessors$15);var CoordinateSequences=function e(){};CoordinateSequences.prototype.interfaces_=function e(){return[]},CoordinateSequences.prototype.getClass=function e(){return CoordinateSequences},CoordinateSequences.copyCoord=function e(t,n,i,r){for(var u=Math.min(t.getDimension(),i.getDimension()),d=0;d<u;d++)i.setOrdinate(r,d,t.getOrdinate(n,d))},CoordinateSequences.isRing=function e(t){var n=t.size();return n===0?!0:n<=3?!1:t.getOrdinate(0,CoordinateSequence.X)===t.getOrdinate(n-1,CoordinateSequence.X)&&t.getOrdinate(0,CoordinateSequence.Y)===t.getOrdinate(n-1,CoordinateSequence.Y)},CoordinateSequences.isEqual=function e(t,n){var i=t.size(),r=n.size();if(i!==r)return!1;for(var u=Math.min(t.getDimension(),n.getDimension()),d=0;d<i;d++)for(var c=0;c<u;c++){var v=t.getOrdinate(d,c),S=n.getOrdinate(d,c);if(t.getOrdinate(d,c)!==n.getOrdinate(d,c)&&!(Double.isNaN(v)&&Double.isNaN(S)))return!1}return!0},CoordinateSequences.extend=function e(t,n,i){var r=t.create(i,n.getDimension()),u=n.size();if(CoordinateSequences.copy(n,0,r,0,u),u>0)for(var d=u;d<i;d++)CoordinateSequences.copy(n,u-1,r,d,1);return r},CoordinateSequences.reverse=function e(t){for(var n=t.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)CoordinateSequences.swap(t,r,n-r)},CoordinateSequences.swap=function e(t,n,i){if(n===i)return null;for(var r=0;r<t.getDimension();r++){var u=t.getOrdinate(n,r);t.setOrdinate(n,r,t.getOrdinate(i,r)),t.setOrdinate(i,r,u)}},CoordinateSequences.copy=function e(t,n,i,r,u){for(var d=0;d<u;d++)CoordinateSequences.copyCoord(t,n+d,i,r+d)},CoordinateSequences.toString=function e(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var i=t.getDimension(),r=new StringBuffer;r.append("(");for(var u=0;u<n;u++){u>0&&r.append(" ");for(var d=0;d<i;d++)d>0&&r.append(","),r.append(StringUtil.toString(t.getOrdinate(u,d)))}return r.append(")"),r.toString()}},CoordinateSequences.ensureValidRing=function e(t,n){var i=n.size();if(i===0)return n;if(i<=3)return CoordinateSequences.createClosedRing(t,n,4);var r=n.getOrdinate(0,CoordinateSequence.X)===n.getOrdinate(i-1,CoordinateSequence.X)&&n.getOrdinate(0,CoordinateSequence.Y)===n.getOrdinate(i-1,CoordinateSequence.Y);return r?n:CoordinateSequences.createClosedRing(t,n,i+1)},CoordinateSequences.createClosedRing=function e(t,n,i){var r=t.create(i,n.getDimension()),u=n.size();CoordinateSequences.copy(n,0,r,0,u);for(var d=u;d<i;d++)CoordinateSequences.copy(n,0,r,d,1);return r};var LineString=function(e){function t(i,r){e.call(this,r),this._points=null,this.init(i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Envelope:this._points.expandEnvelope(new Envelope)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u;if(this._points.size()!==c._points.size())return!1;for(var v=0;v<this._points.size();v++)if(!r.equal(r._points.getCoordinate(v),c._points.getCoordinate(v),d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,u=0;u<Math.trunc(this._points.size()/2);u++){var d=r._points.size()-1-u;if(!r._points.getCoordinate(u).equals(r._points.getCoordinate(d)))return r._points.getCoordinate(u).compareTo(r._points.getCoordinate(d))>0&&CoordinateSequences.reverse(r._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Dimension.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return CGAlgorithms.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var r=this._points.copy();CoordinateSequences.reverse(r);var u=this.getFactory().createLineString(r);return u},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){for(var u=arguments[0],d=u,c=0,v=0;c<this._points.size()&&v<d._points.size();){var S=r._points.getCoordinate(c).compareTo(d._points.getCoordinate(v));if(S!==0)return S;c++,v++}return c<this._points.size()?1:v<d._points.size()?-1:0}else if(arguments.length===2){var C=arguments[0],O=arguments[1],R=C;return O.compare(this._points,R._points)}},t.prototype.apply=function(){var r=this;if(hasInterface(arguments[0],CoordinateFilter))for(var u=arguments[0],d=0;d<this._points.size();d++)u.filter(r._points.getCoordinate(d));else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var c=arguments[0];if(this._points.size()===0)return null;for(var v=0;v<this._points.size()&&(c.filter(r._points,v),!c.isDone());v++);c.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var S=arguments[0];S.filter(this)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var C=arguments[0];C.filter(this)}},t.prototype.getBoundary=function(){return new BoundaryOp(this).getBoundary()},t.prototype.isEquivalentClass=function(r){return r instanceof t},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._points=this._points.clone(),r},t.prototype.getCoordinateN=function(r){return this._points.getCoordinate(r)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new IllegalArgumentException("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r},t.prototype.isCoordinate=function(r){for(var u=this,d=0;d<this._points.size();d++)if(u._points.getCoordinate(d).equals(r))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))},t.prototype.interfaces_=function(){return[Lineal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Geometry),Puntal=function e(){};Puntal.prototype.interfaces_=function e(){return[]},Puntal.prototype.getClass=function e(){return Puntal};var Point=function(e){function t(i,r){e.call(this,r),this._coordinates=i||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Envelope;var r=new Envelope;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var r=arguments[0],u=r;return this.getCoordinate().compareTo(u.getCoordinate())}else if(arguments.length===2){var d=arguments[0],c=arguments[1],v=d;return c.compare(this._coordinates,v._coordinates)}},t.prototype.apply=function(){if(hasInterface(arguments[0],CoordinateFilter)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(hasInterface(arguments[0],CoordinateSequenceFilter)){var u=arguments[0];if(this.isEmpty())return null;u.filter(this._coordinates,0),u.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(arguments[0],GeometryFilter)){var d=arguments[0];d.filter(this)}else if(hasInterface(arguments[0],GeometryComponentFilter)){var c=arguments[0];c.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._coordinates=this._coordinates.clone(),r},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),Assert.isTrue(r.size()<=1),this._coordinates=r},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Puntal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,n),t}(Geometry),Polygonal=function e(){};Polygonal.prototype.interfaces_=function e(){return[]},Polygonal.prototype.getClass=function e(){return Polygonal};var Polygon=function(e){function t(i,r,u){if(e.call(this,u),this._shell=null,this._holes=null,i===null&&(i=this.getFactory().createLinearRing()),r===null&&(r=[]),e.hasNullElements(r))throw new IllegalArgumentException("holes must not contain null elements");if(i.isEmpty()&&e.hasNonEmptyElements(r))throw new IllegalArgumentException("shell is empty but holes are not");this._shell=i,this._holes=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var r=this;if(this.isEmpty())return[];for(var u=new Array(this.getNumPoints()).fill(null),d=-1,c=this._shell.getCoordinates(),v=0;v<c.length;v++)d++,u[d]=c[v];for(var S=0;S<this._holes.length;S++)for(var C=r._holes[S].getCoordinates(),O=0;O<C.length;O++)d++,u[d]=C[O];return u},t.prototype.getArea=function(){var r=this,u=0;u+=Math.abs(CGAlgorithms.signedArea(this._shell.getCoordinateSequence()));for(var d=0;d<this._holes.length;d++)u-=Math.abs(CGAlgorithms.signedArea(r._holes[d].getCoordinateSequence()));return u},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),u=this.getEnvelopeInternal(),d=0;d<5;d++){var c=r.getX(d);if(!(c===u.getMinX()||c===u.getMaxX()))return!1;var v=r.getY(d);if(!(v===u.getMinY()||v===u.getMaxY()))return!1}for(var S=r.getX(0),C=r.getY(0),O=1;O<=4;O++){var R=r.getX(O),H=r.getY(O),K=R!==S,le=H!==C;if(K===le)return!1;S=R,C=H}return!0},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var u=arguments[0],d=arguments[1];if(!this.isEquivalentClass(u))return!1;var c=u,v=this._shell,S=c._shell;if(!v.equalsExact(S,d)||this._holes.length!==c._holes.length)return!1;for(var C=0;C<this._holes.length;C++)if(!r._holes[C].equalsExact(c._holes[C],d))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var r=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var u=0;u<this._holes.length;u++)r.normalize(r._holes[u],!1);Arrays.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],c=arguments[1];if(d.isEmpty())return null;var v=new Array(d.getCoordinates().length-1).fill(null);System.arraycopy(d.getCoordinates(),0,v,0,v.length);var S=CoordinateArrays.minCoordinate(d.getCoordinates());CoordinateArrays.scroll(v,S),System.arraycopy(v,0,d.getCoordinates(),0,v.length),d.getCoordinates()[v.length]=v[0],CGAlgorithms.isCCW(d.getCoordinates())===c&&CoordinateArrays.reverse(d.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var r=this,u=0;u+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)u+=r._holes[d].getLength();return u},t.prototype.getNumPoints=function(){for(var r=this,u=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)u+=r._holes[d].getNumPoints();return u},t.prototype.reverse=function(){var r=this,u=this.copy();u._shell=this._shell.copy().reverse(),u._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)u._holes[d]=r._holes[d].copy().reverse();return u},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var u=arguments[0],d=this._shell,c=u._shell;return d.compareToSameClass(c)}else if(arguments.length===2){var v=arguments[0],S=arguments[1],C=v,O=this._shell,R=C._shell,H=O.compareToSameClass(R,S);if(H!==0)return H;for(var K=this.getNumInteriorRing(),le=C.getNumInteriorRing(),fe=0;fe<K&&fe<le;){var ye=r.getInteriorRingN(fe),xe=C.getInteriorRingN(fe),Pe=ye.compareToSameClass(xe,S);if(Pe!==0)return Pe;fe++}return fe<K?1:fe<le?-1:0}},t.prototype.apply=function(r){var u=this;if(hasInterface(r,CoordinateFilter)){this._shell.apply(r);for(var d=0;d<this._holes.length;d++)u._holes[d].apply(r)}else if(hasInterface(r,CoordinateSequenceFilter)){if(this._shell.apply(r),!r.isDone())for(var c=0;c<this._holes.length&&(u._holes[c].apply(r),!r.isDone());c++);r.isGeometryChanged()&&this.geometryChanged()}else if(hasInterface(r,GeometryFilter))r.filter(this);else if(hasInterface(r,GeometryComponentFilter)){r.filter(this),this._shell.apply(r);for(var v=0;v<this._holes.length;v++)u._holes[v].apply(r)}},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var u=new Array(this._holes.length+1).fill(null);u[0]=this._shell;for(var d=0;d<this._holes.length;d++)u[d+1]=r._holes[d];return u.length<=1?this.getFactory().createLinearRing(u[0].getCoordinateSequence()):this.getFactory().createMultiLineString(u)},t.prototype.clone=function(){var r=this,u=e.prototype.clone.call(this);u._shell=this._shell.clone(),u._holes=new Array(this._holes.length).fill(null);for(var d=0;d<this._holes.length;d++)u._holes[d]=r._holes[d].clone();return u},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var r=this,u=this._shell.copy(),d=new Array(this._holes.length).fill(null),c=0;c<d.length;c++)d[c]=r._holes[c].copy();return new t(u,d,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(r){return this._holes[r]},t.prototype.interfaces_=function(){return[Polygonal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Geometry),MultiPoint=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var r=arguments[0];return this._geometries[r].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Puntal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,n),t}(GeometryCollection),LinearRing=function(e){function t(i,r){i instanceof Coordinate&&r instanceof GeometryFactory&&(i=r.getCoordinateSequenceFactory().create(i)),e.call(this,i,r),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Dimension.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var r=this._points.copy();CoordinateSequences.reverse(r);var u=this.getFactory().createLinearRing(r);return u},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new IllegalArgumentException("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new IllegalArgumentException("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(LineString),MultiPolygon=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Geometry.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,u):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var r=this,u=this._geometries.length,d=new Array(u).fill(null),c=0;c<this._geometries.length;c++)d[c]=r._geometries[c].reverse();return this.getFactory().createMultiPolygon(d)},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var u=new ArrayList,d=0;d<this._geometries.length;d++)for(var c=r._geometries[d],v=c.getBoundary(),S=0;S<v.getNumGeometries();S++)u.add(v.getGeometryN(S));var C=new Array(u.size()).fill(null);return this.getFactory().createMultiLineString(u.toArray(C))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var r=this,u=new Array(this._geometries.length).fill(null),d=0;d<u.length;d++)u[d]=r._geometries[d].copy();return new t(u,this._factory)},t.prototype.interfaces_=function(){return[Polygonal]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(GeometryCollection),GeometryEditor=function e(t){this._factory=t||null,this._isUserDataCopied=!1},staticAccessors$16={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};GeometryEditor.prototype.setCopyUserData=function e(t){this._isUserDataCopied=t},GeometryEditor.prototype.edit=function e(t,n){if(t===null)return null;var i=this.editInternal(t,n);return this._isUserDataCopied&&i.setUserData(t.getUserData()),i},GeometryEditor.prototype.editInternal=function e(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof GeometryCollection?this.editGeometryCollection(t,n):t instanceof Polygon?this.editPolygon(t,n):t instanceof Point?n.edit(t,this._factory):t instanceof LineString?n.edit(t,this._factory):(Assert.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},GeometryEditor.prototype.editGeometryCollection=function e(t,n){for(var i=this,r=n.edit(t,this._factory),u=new ArrayList,d=0;d<r.getNumGeometries();d++){var c=i.edit(r.getGeometryN(d),n);c===null||c.isEmpty()||u.add(c)}return r.getClass()===MultiPoint?this._factory.createMultiPoint(u.toArray([])):r.getClass()===MultiLineString?this._factory.createMultiLineString(u.toArray([])):r.getClass()===MultiPolygon?this._factory.createMultiPolygon(u.toArray([])):this._factory.createGeometryCollection(u.toArray([]))},GeometryEditor.prototype.editPolygon=function e(t,n){var i=this,r=n.edit(t,this._factory);if(r===null&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var u=this.edit(r.getExteriorRing(),n);if(u===null||u.isEmpty())return this._factory.createPolygon();for(var d=new ArrayList,c=0;c<r.getNumInteriorRing();c++){var v=i.edit(r.getInteriorRingN(c),n);v===null||v.isEmpty()||d.add(v)}return this._factory.createPolygon(u,d.toArray([]))},GeometryEditor.prototype.interfaces_=function e(){return[]},GeometryEditor.prototype.getClass=function e(){return GeometryEditor},GeometryEditor.GeometryEditorOperation=function e(){},staticAccessors$16.NoOpGeometryOperation.get=function(){return NoOpGeometryOperation},staticAccessors$16.CoordinateOperation.get=function(){return CoordinateOperation},staticAccessors$16.CoordinateSequenceOperation.get=function(){return CoordinateSequenceOperation},Object.defineProperties(GeometryEditor,staticAccessors$16);var NoOpGeometryOperation=function e(){};NoOpGeometryOperation.prototype.edit=function e(t,n){return t},NoOpGeometryOperation.prototype.interfaces_=function e(){return[GeometryEditor.GeometryEditorOperation]},NoOpGeometryOperation.prototype.getClass=function e(){return NoOpGeometryOperation};var CoordinateOperation=function e(){};CoordinateOperation.prototype.edit=function e(t,n){var i=this.editCoordinates(t.getCoordinates(),t);return i===null?t:t instanceof LinearRing?n.createLinearRing(i):t instanceof LineString?n.createLineString(i):t instanceof Point?i.length>0?n.createPoint(i[0]):n.createPoint():t},CoordinateOperation.prototype.interfaces_=function e(){return[GeometryEditor.GeometryEditorOperation]},CoordinateOperation.prototype.getClass=function e(){return CoordinateOperation};var CoordinateSequenceOperation=function e(){};CoordinateSequenceOperation.prototype.edit=function e(t,n){return t instanceof LinearRing?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof LineString?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Point?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t},CoordinateSequenceOperation.prototype.interfaces_=function e(){return[GeometryEditor.GeometryEditorOperation]},CoordinateSequenceOperation.prototype.getClass=function e(){return CoordinateSequenceOperation};var CoordinateArraySequence=function e(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)t._coordinates[i]=new Coordinate}else if(hasInterface(arguments[0],CoordinateSequence)){var r=arguments[0];if(r===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var u=0;u<this._coordinates.length;u++)t._coordinates[u]=r.getCoordinateCopy(u)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var d=arguments[0],c=arguments[1];this._coordinates=d,this._dimension=c,d===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var v=arguments[0],S=arguments[1];this._coordinates=new Array(v).fill(null),this._dimension=S;for(var C=0;C<v;C++)t._coordinates[C]=new Coordinate}}},staticAccessors$18={serialVersionUID:{configurable:!0}};CoordinateArraySequence.prototype.setOrdinate=function e(t,n,i){switch(n){case CoordinateSequence.X:this._coordinates[t].x=i;break;case CoordinateSequence.Y:this._coordinates[t].y=i;break;case CoordinateSequence.Z:this._coordinates[t].z=i;break;default:throw new IllegalArgumentException("invalid ordinateIndex")}},CoordinateArraySequence.prototype.size=function e(){return this._coordinates.length},CoordinateArraySequence.prototype.getOrdinate=function e(t,n){switch(n){case CoordinateSequence.X:return this._coordinates[t].x;case CoordinateSequence.Y:return this._coordinates[t].y;case CoordinateSequence.Z:return this._coordinates[t].z}return Double.NaN},CoordinateArraySequence.prototype.getCoordinate=function e(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var n=arguments[0],i=arguments[1];i.x=this._coordinates[n].x,i.y=this._coordinates[n].y,i.z=this._coordinates[n].z}},CoordinateArraySequence.prototype.getCoordinateCopy=function e(t){return new Coordinate(this._coordinates[t])},CoordinateArraySequence.prototype.getDimension=function e(){return this._dimension},CoordinateArraySequence.prototype.getX=function e(t){return this._coordinates[t].x},CoordinateArraySequence.prototype.clone=function e(){for(var t=this,n=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)n[i]=t._coordinates[i].clone();return new CoordinateArraySequence(n,this._dimension)},CoordinateArraySequence.prototype.expandEnvelope=function e(t){for(var n=this,i=0;i<this._coordinates.length;i++)t.expandToInclude(n._coordinates[i]);return t},CoordinateArraySequence.prototype.copy=function e(){for(var t=this,n=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)n[i]=t._coordinates[i].copy();return new CoordinateArraySequence(n,this._dimension)},CoordinateArraySequence.prototype.toString=function e(){var t=this;if(this._coordinates.length>0){var n=new StringBuffer(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)n.append(", "),n.append(t._coordinates[i]);return n.append(")"),n.toString()}else return"()"},CoordinateArraySequence.prototype.getY=function e(t){return this._coordinates[t].y},CoordinateArraySequence.prototype.toCoordinateArray=function e(){return this._coordinates},CoordinateArraySequence.prototype.interfaces_=function e(){return[CoordinateSequence,Serializable]},CoordinateArraySequence.prototype.getClass=function e(){return CoordinateArraySequence},staticAccessors$18.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(CoordinateArraySequence,staticAccessors$18);var CoordinateArraySequenceFactory=function e(){},staticAccessors$17={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};CoordinateArraySequenceFactory.prototype.readResolve=function e(){return CoordinateArraySequenceFactory.instance()},CoordinateArraySequenceFactory.prototype.create=function e(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new CoordinateArraySequence(t)}else if(hasInterface(arguments[0],CoordinateSequence)){var n=arguments[0];return new CoordinateArraySequence(n)}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new CoordinateArraySequence(i):new CoordinateArraySequence(i,r)}},CoordinateArraySequenceFactory.prototype.interfaces_=function e(){return[CoordinateSequenceFactory,Serializable]},CoordinateArraySequenceFactory.prototype.getClass=function e(){return CoordinateArraySequenceFactory},CoordinateArraySequenceFactory.instance=function e(){return CoordinateArraySequenceFactory.instanceObject},staticAccessors$17.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},staticAccessors$17.instanceObject.get=function(){return new CoordinateArraySequenceFactory},Object.defineProperties(CoordinateArraySequenceFactory,staticAccessors$17);var HashMap=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(i){return this.map_.get(i)||null},t.prototype.put=function(i,r){return this.map_.set(i,r),r},t.prototype.values=function(){for(var i=new ArrayList,r=this.map_.values(),u=r.next();!u.done;)i.add(u.value),u=r.next();return i},t.prototype.entrySet=function(){var i=new HashSet;return this.map_.entries().forEach(function(r){return i.add(r)}),i},t.prototype.size=function(){return this.map_.size()},t}(Map$1),PrecisionModel=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Type){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},staticAccessors$19={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};PrecisionModel.prototype.equals=function e(t){if(!(t instanceof PrecisionModel))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale},PrecisionModel.prototype.compareTo=function e(t){var n=t,i=this.getMaximumSignificantDigits(),r=n.getMaximumSignificantDigits();return new Integer(i).compareTo(new Integer(r))},PrecisionModel.prototype.getScale=function e(){return this._scale},PrecisionModel.prototype.isFloating=function e(){return this._modelType===PrecisionModel.FLOATING||this._modelType===PrecisionModel.FLOATING_SINGLE},PrecisionModel.prototype.getType=function e(){return this._modelType},PrecisionModel.prototype.toString=function e(){var t="UNKNOWN";return this._modelType===PrecisionModel.FLOATING?t="Floating":this._modelType===PrecisionModel.FLOATING_SINGLE?t="Floating-Single":this._modelType===PrecisionModel.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},PrecisionModel.prototype.makePrecise=function e(){if(typeof arguments[0]=="number"){var t=arguments[0];if(Double.isNaN(t))return t;if(this._modelType===PrecisionModel.FLOATING_SINGLE){var n=t;return n}return this._modelType===PrecisionModel.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof Coordinate){var i=arguments[0];if(this._modelType===PrecisionModel.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},PrecisionModel.prototype.getMaximumSignificantDigits=function e(){var t=16;return this._modelType===PrecisionModel.FLOATING?t=16:this._modelType===PrecisionModel.FLOATING_SINGLE?t=6:this._modelType===PrecisionModel.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},PrecisionModel.prototype.setScale=function e(t){this._scale=Math.abs(t)},PrecisionModel.prototype.interfaces_=function e(){return[Serializable,Comparable]},PrecisionModel.prototype.getClass=function e(){return PrecisionModel},PrecisionModel.mostPrecise=function e(t,n){return t.compareTo(n)>=0?t:n},staticAccessors$19.serialVersionUID.get=function(){return 7777263578777804e3},staticAccessors$19.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(PrecisionModel,staticAccessors$19);var Type=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},staticAccessors$1$1={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Type.prototype.readResolve=function e(){return Type.nameToTypeMap.get(this._name)},Type.prototype.toString=function e(){return this._name},Type.prototype.interfaces_=function e(){return[Serializable]},Type.prototype.getClass=function e(){return Type},staticAccessors$1$1.serialVersionUID.get=function(){return-552860263173159e4},staticAccessors$1$1.nameToTypeMap.get=function(){return new HashMap},Object.defineProperties(Type,staticAccessors$1$1),PrecisionModel.Type=Type,PrecisionModel.FIXED=new Type("FIXED"),PrecisionModel.FLOATING=new Type("FLOATING"),PrecisionModel.FLOATING_SINGLE=new Type("FLOATING SINGLE");var GeometryFactory=function e(){this._precisionModel=new PrecisionModel,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?hasInterface(arguments[0],CoordinateSequenceFactory)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof PrecisionModel&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},staticAccessors$2={serialVersionUID:{configurable:!0}};GeometryFactory.prototype.toGeometry=function e(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Coordinate(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Coordinate(t.getMinX(),t.getMinY()),new Coordinate(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Coordinate(t.getMinX(),t.getMinY()),new Coordinate(t.getMinX(),t.getMaxY()),new Coordinate(t.getMaxX(),t.getMaxY()),new Coordinate(t.getMaxX(),t.getMinY()),new Coordinate(t.getMinX(),t.getMinY())]),null)},GeometryFactory.prototype.createLineString=function e(t){if(t){if(t instanceof Array)return new LineString(this.getCoordinateSequenceFactory().create(t),this);if(hasInterface(t,CoordinateSequence))return new LineString(t,this)}else return new LineString(this.getCoordinateSequenceFactory().create([]),this)},GeometryFactory.prototype.createMultiLineString=function e(){if(arguments.length===0)return new MultiLineString(null,this);if(arguments.length===1){var t=arguments[0];return new MultiLineString(t,this)}},GeometryFactory.prototype.buildGeometry=function e(t){for(var n=null,i=!1,r=!1,u=t.iterator();u.hasNext();){var d=u.next(),c=d.getClass();n===null&&(n=c),c!==n&&(i=!0),d.isGeometryCollectionOrDerived()&&(r=!0)}if(n===null)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(GeometryFactory.toGeometryArray(t));var v=t.iterator().next(),S=t.size()>1;if(S){if(v instanceof Polygon)return this.createMultiPolygon(GeometryFactory.toPolygonArray(t));if(v instanceof LineString)return this.createMultiLineString(GeometryFactory.toLineStringArray(t));if(v instanceof Point)return this.createMultiPoint(GeometryFactory.toPointArray(t));Assert.shouldNeverReachHere("Unhandled class: "+v.getClass().getName())}return v},GeometryFactory.prototype.createMultiPointFromCoords=function e(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)},GeometryFactory.prototype.createPoint=function e(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Coordinate){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var n=arguments[0];return new Point(n,this)}}},GeometryFactory.prototype.getCoordinateSequenceFactory=function e(){return this._coordinateSequenceFactory},GeometryFactory.prototype.createPolygon=function e(){if(arguments.length===0)return new Polygon(null,null,this);if(arguments.length===1){if(hasInterface(arguments[0],CoordinateSequence)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}else if(arguments[0]instanceof LinearRing){var i=arguments[0];return this.createPolygon(i,null)}}else if(arguments.length===2){var r=arguments[0],u=arguments[1];return new Polygon(r,u,this)}},GeometryFactory.prototype.getSRID=function e(){return this._SRID},GeometryFactory.prototype.createGeometryCollection=function e(){if(arguments.length===0)return new GeometryCollection(null,this);if(arguments.length===1){var t=arguments[0];return new GeometryCollection(t,this)}},GeometryFactory.prototype.createGeometry=function e(t){var n=new GeometryEditor(this);return n.edit(t,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})},GeometryFactory.prototype.getPrecisionModel=function e(){return this._precisionModel},GeometryFactory.prototype.createLinearRing=function e(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var n=arguments[0];return new LinearRing(n,this)}}},GeometryFactory.prototype.createMultiPolygon=function e(){if(arguments.length===0)return new MultiPolygon(null,this);if(arguments.length===1){var t=arguments[0];return new MultiPolygon(t,this)}},GeometryFactory.prototype.createMultiPoint=function e(){var t=this;if(arguments.length===0)return new MultiPoint(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return new MultiPoint(n,this)}else if(arguments[0]instanceof Array){var i=arguments[0];return this.createMultiPoint(i!==null?this.getCoordinateSequenceFactory().create(i):null)}else if(hasInterface(arguments[0],CoordinateSequence)){var r=arguments[0];if(r===null)return this.createMultiPoint(new Array(0).fill(null));for(var u=new Array(r.size()).fill(null),d=0;d<r.size();d++){var c=t.getCoordinateSequenceFactory().create(1,r.getDimension());CoordinateSequences.copy(r,d,c,0,1),u[d]=t.createPoint(c)}return this.createMultiPoint(u)}}},GeometryFactory.prototype.interfaces_=function e(){return[Serializable]},GeometryFactory.prototype.getClass=function e(){return GeometryFactory},GeometryFactory.toMultiPolygonArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toGeometryArray=function e(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.getDefaultCoordinateSequenceFactory=function e(){return CoordinateArraySequenceFactory.instance()},GeometryFactory.toMultiLineStringArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toLineStringArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toMultiPointArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toLinearRingArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toPointArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.toPolygonArray=function e(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},GeometryFactory.createPointFromInternalCoord=function e(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)},staticAccessors$2.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(GeometryFactory,staticAccessors$2);var geometryTypes=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],GeoJSONParser=function e(t){this.geometryFactory=t||new GeometryFactory};GeoJSONParser.prototype.read=function e(t){var n;typeof t=="string"?n=JSON.parse(t):n=t;var i=n.type;if(!parse[i])throw new Error("Unknown GeoJSON type: "+n.type);return geometryTypes.indexOf(i)!==-1?parse[i].apply(this,[n.coordinates]):i==="GeometryCollection"?parse[i].apply(this,[n.geometries]):parse[i].apply(this,[n])},GeoJSONParser.prototype.write=function e(t){var n=t.getGeometryType();if(!extract[n])throw new Error("Geometry is not supported");return extract[n].apply(this,[t])};var parse={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var i=e.geometry.type;if(!parse[i])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=parse.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t=this,n={};if(e.features){n.features=[];for(var i=0;i<e.features.length;++i)n.features.push(t.read(e.features[i]))}return e.bbox&&(n.bbox=this.parse.bbox.apply(this,[e.bbox])),n},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(new Coordinate(i[0],i[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new Coordinate(e[0],e[1]),new Coordinate(e[2],e[1]),new Coordinate(e[2],e[3]),new Coordinate(e[0],e[3]),new Coordinate(e[0],e[1])])},Point:function(e){var t=new Coordinate(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=this,n=[],i=0;i<e.length;++i)n.push(parse.Point.apply(t,[e[i]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(e){var t=parse.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=this,n=[],i=0;i<e.length;++i)n.push(parse.LineString.apply(t,[e[i]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(e){for(var t=this,n=parse.coordinates.apply(this,[e[0]]),i=this.geometryFactory.createLinearRing(n),r=[],u=1;u<e.length;++u){var d=e[u],c=parse.coordinates.apply(t,[d]),v=t.geometryFactory.createLinearRing(c);r.push(v)}return this.geometryFactory.createPolygon(i,r)},MultiPolygon:function(e){for(var t=this,n=[],i=0;i<e.length;++i){var r=e[i];n.push(parse.Polygon.apply(t,[r]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(e){for(var t=this,n=[],i=0;i<e.length;++i){var r=e[i];n.push(t.read(r))}return this.geometryFactory.createGeometryCollection(n)}},extract={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=extract.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=this,n=[],i=0;i<e._geometries.length;++i){var r=e._geometries[i],u=extract.Point.apply(t,[r]);n.push(u.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(e){for(var t=this,n=[],i=e.getCoordinates(),r=0;r<i.length;++r){var u=i[r];n.push(extract.coordinate.apply(t,[u]))}return{type:"LineString",coordinates:n}},MultiLineString:function(e){for(var t=this,n=[],i=0;i<e._geometries.length;++i){var r=e._geometries[i],u=extract.LineString.apply(t,[r]);n.push(u.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(e){var t=this,n=[],i=extract.LineString.apply(this,[e._shell]);n.push(i.coordinates);for(var r=0;r<e._holes.length;++r){var u=e._holes[r],d=extract.LineString.apply(t,[u]);n.push(d.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(e){for(var t=this,n=[],i=0;i<e._geometries.length;++i){var r=e._geometries[i],u=extract.Polygon.apply(t,[r]);n.push(u.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(e){for(var t=this,n=[],i=0;i<e._geometries.length;++i){var r=e._geometries[i],u=r.getGeometryType();n.push(extract[u].apply(t,[r]))}return{type:"GeometryCollection",geometries:n}}},GeoJSONReader=function e(t){this.geometryFactory=t||new GeometryFactory,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new GeoJSONParser(this.geometryFactory)};GeoJSONReader.prototype.read=function e(t){var n=this.parser.read(t);return this.precisionModel.getType()===PrecisionModel.FIXED&&this.reducePrecision(n),n},GeoJSONReader.prototype.reducePrecision=function e(t){var n=this,i,r;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(i=0,r=t.points.length;i<r;i++)n.precisionModel.makePrecise(t.points[i]);else if(t.geometries)for(i=0,r=t.geometries.length;i<r;i++)n.reducePrecision(t.geometries[i])};var GeoJSONWriter=function e(){this.parser=new GeoJSONParser(this.geometryFactory)};GeoJSONWriter.prototype.write=function e(t){return this.parser.write(t)};var Position=function e(){},staticAccessors$20={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Position.prototype.interfaces_=function e(){return[]},Position.prototype.getClass=function e(){return Position},Position.opposite=function e(t){return t===Position.LEFT?Position.RIGHT:t===Position.RIGHT?Position.LEFT:t},staticAccessors$20.ON.get=function(){return 0},staticAccessors$20.LEFT.get=function(){return 1},staticAccessors$20.RIGHT.get=function(){return 2},Object.defineProperties(Position,staticAccessors$20);function EmptyStackException(e){this.message=e||""}EmptyStackException.prototype=new Error,EmptyStackException.prototype.name="EmptyStackException";function Stack(){this.array_=[]}Stack.prototype=new List,Stack.prototype.add=function(e){return this.array_.push(e),!0},Stack.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Stack.prototype.push=function(e){return this.array_.push(e),e},Stack.prototype.pop=function(e){if(this.array_.length===0)throw new EmptyStackException;return this.array_.pop()},Stack.prototype.peek=function(){if(this.array_.length===0)throw new EmptyStackException;return this.array_[this.array_.length-1]},Stack.prototype.empty=function(){return this.array_.length===0},Stack.prototype.isEmpty=function(){return this.empty()},Stack.prototype.search=function(e){return this.array_.indexOf(e)},Stack.prototype.size=function(){return this.array_.length},Stack.prototype.toArray=function(){for(var e=this,t=[],n=0,i=this.array_.length;n<i;n++)t.push(e.array_[n]);return t};var RightmostEdgeFinder=function e(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};RightmostEdgeFinder.prototype.getCoordinate=function e(){return this._minCoord},RightmostEdgeFinder.prototype.getRightmostSide=function e(t,n){var i=this.getRightmostSideOfSegment(t,n);return i<0&&(i=this.getRightmostSideOfSegment(t,n-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),i},RightmostEdgeFinder.prototype.findRightmostEdgeAtVertex=function e(){var t=this._minDe.getEdge().getCoordinates();Assert.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],i=t[this._minIndex+1],r=CGAlgorithms.computeOrientation(this._minCoord,i,n),u=!1;(n.y<this._minCoord.y&&i.y<this._minCoord.y&&r===CGAlgorithms.COUNTERCLOCKWISE||n.y>this._minCoord.y&&i.y>this._minCoord.y&&r===CGAlgorithms.CLOCKWISE)&&(u=!0),u&&(this._minIndex=this._minIndex-1)},RightmostEdgeFinder.prototype.getRightmostSideOfSegment=function e(t,n){var i=t.getEdge(),r=i.getCoordinates();if(n<0||n+1>=r.length||r[n].y===r[n+1].y)return-1;var u=Position.LEFT;return r[n].y<r[n+1].y&&(u=Position.RIGHT),u},RightmostEdgeFinder.prototype.getEdge=function e(){return this._orientedDe},RightmostEdgeFinder.prototype.checkForRightmostCoordinate=function e(t){for(var n=this,i=t.getEdge().getCoordinates(),r=0;r<i.length-1;r++)(n._minCoord===null||i[r].x>n._minCoord.x)&&(n._minDe=t,n._minIndex=r,n._minCoord=i[r])},RightmostEdgeFinder.prototype.findRightmostEdgeAtNode=function e(){var t=this._minDe.getNode(),n=t.getEdges();this._minDe=n.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},RightmostEdgeFinder.prototype.findEdge=function e(t){for(var n=this,i=t.iterator();i.hasNext();){var r=i.next();r.isForward()&&n.checkForRightmostCoordinate(r)}Assert.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var u=this.getRightmostSide(this._minDe,this._minIndex);u===Position.LEFT&&(this._orientedDe=this._minDe.getSym())},RightmostEdgeFinder.prototype.interfaces_=function e(){return[]},RightmostEdgeFinder.prototype.getClass=function e(){return RightmostEdgeFinder};var TopologyException=function(e){function t(n,i){e.call(this,t.msgWithCoord(n,i)),this.pt=i?new Coordinate(i):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(i,r){return r?i:i+" [ "+r+" ]"},t}(RuntimeException),LinkedList=function e(){this.array_=[]};LinkedList.prototype.addLast=function e(t){this.array_.push(t)},LinkedList.prototype.removeFirst=function e(){return this.array_.shift()},LinkedList.prototype.isEmpty=function e(){return this.array_.length===0};var BufferSubgraph=function e(){this._finder=null,this._dirEdgeList=new ArrayList,this._nodes=new ArrayList,this._rightMostCoord=null,this._env=null,this._finder=new RightmostEdgeFinder};BufferSubgraph.prototype.clearVisitedEdges=function e(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.setVisited(!1)}},BufferSubgraph.prototype.getRightmostCoordinate=function e(){return this._rightMostCoord},BufferSubgraph.prototype.computeNodeDepth=function e(t){for(var n=this,i=null,r=t.getEdges().iterator();r.hasNext();){var u=r.next();if(u.isVisited()||u.getSym().isVisited()){i=u;break}}if(i===null)throw new TopologyException("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(i);for(var d=t.getEdges().iterator();d.hasNext();){var c=d.next();c.setVisited(!0),n.copySymDepths(c)}},BufferSubgraph.prototype.computeDepth=function e(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(Position.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)},BufferSubgraph.prototype.create=function e(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},BufferSubgraph.prototype.findResultEdges=function e(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(Position.RIGHT)>=1&&n.getDepth(Position.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}},BufferSubgraph.prototype.computeDepths=function e(t){var n=this,i=new HashSet,r=new LinkedList,u=t.getNode();for(r.addLast(u),i.add(u),t.setVisited(!0);!r.isEmpty();){var d=r.removeFirst();i.add(d),n.computeNodeDepth(d);for(var c=d.getEdges().iterator();c.hasNext();){var v=c.next(),S=v.getSym();if(!S.isVisited()){var C=S.getNode();i.contains(C)||(r.addLast(C),i.add(C))}}}},BufferSubgraph.prototype.compareTo=function e(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0},BufferSubgraph.prototype.getEnvelope=function e(){if(this._env===null){for(var t=new Envelope,n=this._dirEdgeList.iterator();n.hasNext();)for(var i=n.next(),r=i.getEdge().getCoordinates(),u=0;u<r.length-1;u++)t.expandToInclude(r[u]);this._env=t}return this._env},BufferSubgraph.prototype.addReachable=function e(t){var n=this,i=new Stack;for(i.add(t);!i.empty();){var r=i.pop();n.add(r,i)}},BufferSubgraph.prototype.copySymDepths=function e(t){var n=t.getSym();n.setDepth(Position.LEFT,t.getDepth(Position.RIGHT)),n.setDepth(Position.RIGHT,t.getDepth(Position.LEFT))},BufferSubgraph.prototype.add=function e(t,n){var i=this;t.setVisited(!0),this._nodes.add(t);for(var r=t.getEdges().iterator();r.hasNext();){var u=r.next();i._dirEdgeList.add(u);var d=u.getSym(),c=d.getNode();c.isVisited()||n.push(c)}},BufferSubgraph.prototype.getNodes=function e(){return this._nodes},BufferSubgraph.prototype.getDirectedEdges=function e(){return this._dirEdgeList},BufferSubgraph.prototype.interfaces_=function e(){return[Comparable]},BufferSubgraph.prototype.getClass=function e(){return BufferSubgraph};var TopologyLocation=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Position.ON]=i}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),r!==null)for(var u=0;u<this.location.length;u++)t.location[u]=r.location[u]}}else if(arguments.length===3){var d=arguments[0],c=arguments[1],v=arguments[2];this.init(3),this.location[Position.ON]=d,this.location[Position.LEFT]=c,this.location[Position.RIGHT]=v}};TopologyLocation.prototype.setAllLocations=function e(t){for(var n=this,i=0;i<this.location.length;i++)n.location[i]=t},TopologyLocation.prototype.isNull=function e(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]!==Location.NONE)return!1;return!0},TopologyLocation.prototype.setAllLocationsIfNull=function e(t){for(var n=this,i=0;i<this.location.length;i++)n.location[i]===Location.NONE&&(n.location[i]=t)},TopologyLocation.prototype.isLine=function e(){return this.location.length===1},TopologyLocation.prototype.merge=function e(t){var n=this;if(t.location.length>this.location.length){var i=new Array(3).fill(null);i[Position.ON]=this.location[Position.ON],i[Position.LEFT]=Location.NONE,i[Position.RIGHT]=Location.NONE,this.location=i}for(var r=0;r<this.location.length;r++)n.location[r]===Location.NONE&&r<t.location.length&&(n.location[r]=t.location[r])},TopologyLocation.prototype.getLocations=function e(){return this.location},TopologyLocation.prototype.flip=function e(){if(this.location.length<=1)return null;var t=this.location[Position.LEFT];this.location[Position.LEFT]=this.location[Position.RIGHT],this.location[Position.RIGHT]=t},TopologyLocation.prototype.toString=function e(){var t=new StringBuffer;return this.location.length>1&&t.append(Location.toLocationSymbol(this.location[Position.LEFT])),t.append(Location.toLocationSymbol(this.location[Position.ON])),this.location.length>1&&t.append(Location.toLocationSymbol(this.location[Position.RIGHT])),t.toString()},TopologyLocation.prototype.setLocations=function e(t,n,i){this.location[Position.ON]=t,this.location[Position.LEFT]=n,this.location[Position.RIGHT]=i},TopologyLocation.prototype.get=function e(t){return t<this.location.length?this.location[t]:Location.NONE},TopologyLocation.prototype.isArea=function e(){return this.location.length>1},TopologyLocation.prototype.isAnyNull=function e(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]===Location.NONE)return!0;return!1},TopologyLocation.prototype.setLocation=function e(){if(arguments.length===1){var t=arguments[0];this.setLocation(Position.ON,t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.location[n]=i}},TopologyLocation.prototype.init=function e(t){this.location=new Array(t).fill(null),this.setAllLocations(Location.NONE)},TopologyLocation.prototype.isEqualOnSide=function e(t,n){return this.location[n]===t.location[n]},TopologyLocation.prototype.allPositionsEqual=function e(t){for(var n=this,i=0;i<this.location.length;i++)if(n.location[i]!==t)return!1;return!0},TopologyLocation.prototype.interfaces_=function e(){return[]},TopologyLocation.prototype.getClass=function e(){return TopologyLocation};var Label=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new TopologyLocation(t),this.elt[1]=new TopologyLocation(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new TopologyLocation(n.elt[0]),this.elt[1]=new TopologyLocation(n.elt[1])}}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.elt[0]=new TopologyLocation(Location.NONE),this.elt[1]=new TopologyLocation(Location.NONE),this.elt[i].setLocation(r)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];this.elt[0]=new TopologyLocation(u,d,c),this.elt[1]=new TopologyLocation(u,d,c)}else if(arguments.length===4){var v=arguments[0],S=arguments[1],C=arguments[2],O=arguments[3];this.elt[0]=new TopologyLocation(Location.NONE,Location.NONE,Location.NONE),this.elt[1]=new TopologyLocation(Location.NONE,Location.NONE,Location.NONE),this.elt[v].setLocations(S,C,O)}};Label.prototype.getGeometryCount=function e(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Label.prototype.setAllLocations=function e(t,n){this.elt[t].setAllLocations(n)},Label.prototype.isNull=function e(t){return this.elt[t].isNull()},Label.prototype.setAllLocationsIfNull=function e(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.elt[n].setAllLocationsIfNull(i)}},Label.prototype.isLine=function e(t){return this.elt[t].isLine()},Label.prototype.merge=function e(t){for(var n=this,i=0;i<2;i++)n.elt[i]===null&&t.elt[i]!==null?n.elt[i]=new TopologyLocation(t.elt[i]):n.elt[i].merge(t.elt[i])},Label.prototype.flip=function e(){this.elt[0].flip(),this.elt[1].flip()},Label.prototype.getLocation=function e(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Position.ON)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.elt[n].get(i)}},Label.prototype.toString=function e(){var t=new StringBuffer;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Label.prototype.isArea=function e(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}},Label.prototype.isAnyNull=function e(t){return this.elt[t].isAnyNull()},Label.prototype.setLocation=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(Position.ON,n)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this.elt[i].setLocation(r,u)}},Label.prototype.isEqualOnSide=function e(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)},Label.prototype.allPositionsEqual=function e(t,n){return this.elt[t].allPositionsEqual(n)},Label.prototype.toLine=function e(t){this.elt[t].isArea()&&(this.elt[t]=new TopologyLocation(this.elt[t].location[0]))},Label.prototype.interfaces_=function e(){return[]},Label.prototype.getClass=function e(){return Label},Label.toLineLabel=function e(t){for(var n=new Label(Location.NONE),i=0;i<2;i++)n.setLocation(i,t.getLocation(i));return n};var EdgeRing=function e(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ArrayList,this._pts=new ArrayList,this._label=new Label(Location.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ArrayList,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};EdgeRing.prototype.computeRing=function e(){var t=this;if(this._ring!==null)return null;for(var n=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)n[i]=t._pts.get(i);this._ring=this._geometryFactory.createLinearRing(n),this._isHole=CGAlgorithms.isCCW(this._ring.getCoordinates())},EdgeRing.prototype.isIsolated=function e(){return this._label.getGeometryCount()===1},EdgeRing.prototype.computePoints=function e(t){var n=this;this._startDe=t;var i=t,r=!0;do{if(i===null)throw new TopologyException("Found null DirectedEdge");if(i.getEdgeRing()===n)throw new TopologyException("Directed Edge visited twice during ring-building at "+i.getCoordinate());n._edges.add(i);var u=i.getLabel();Assert.isTrue(u.isArea()),n.mergeLabel(u),n.addPoints(i.getEdge(),i.isForward(),r),r=!1,n.setEdgeRing(i,n),i=n.getNext(i)}while(i!==this._startDe)},EdgeRing.prototype.getLinearRing=function e(){return this._ring},EdgeRing.prototype.getCoordinate=function e(t){return this._pts.get(t)},EdgeRing.prototype.computeMaxNodeDegree=function e(){var t=this;this._maxNodeDegree=0;var n=this._startDe;do{var i=n.getNode(),r=i.getEdges().getOutgoingDegree(t);r>t._maxNodeDegree&&(t._maxNodeDegree=r),n=t.getNext(n)}while(n!==this._startDe);this._maxNodeDegree*=2},EdgeRing.prototype.addPoints=function e(t,n,i){var r=this,u=t.getCoordinates();if(n){var d=1;i&&(d=0);for(var c=d;c<u.length;c++)r._pts.add(u[c])}else{var v=u.length-2;i&&(v=u.length-1);for(var S=v;S>=0;S--)r._pts.add(u[S])}},EdgeRing.prototype.isHole=function e(){return this._isHole},EdgeRing.prototype.setInResult=function e(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)},EdgeRing.prototype.containsPoint=function e(t){var n=this.getLinearRing(),i=n.getEnvelopeInternal();if(!i.contains(t)||!CGAlgorithms.isPointInRing(t,n.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();){var u=r.next();if(u.containsPoint(t))return!1}return!0},EdgeRing.prototype.addHole=function e(t){this._holes.add(t)},EdgeRing.prototype.isShell=function e(){return this._shell===null},EdgeRing.prototype.getLabel=function e(){return this._label},EdgeRing.prototype.getEdges=function e(){return this._edges},EdgeRing.prototype.getMaxNodeDegree=function e(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},EdgeRing.prototype.getShell=function e(){return this._shell},EdgeRing.prototype.mergeLabel=function e(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],i=arguments[1],r=n.getLocation(i,Position.RIGHT);if(r===Location.NONE)return null;if(this._label.getLocation(i)===Location.NONE)return this._label.setLocation(i,r),null}},EdgeRing.prototype.setShell=function e(t){this._shell=t,t!==null&&t.addHole(this)},EdgeRing.prototype.toPolygon=function e(t){for(var n=this,i=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)i[r]=n._holes.get(r).getLinearRing();var u=t.createPolygon(this.getLinearRing(),i);return u},EdgeRing.prototype.interfaces_=function e(){return[]},EdgeRing.prototype.getClass=function e(){return EdgeRing};var MinimalEdgeRing=function(e){function t(){var n=arguments[0],i=arguments[1];e.call(this,n,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(i,r){i.setMinEdgeRing(r)},t.prototype.getNext=function(i){return i.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeRing),MaximalEdgeRing=function(e){function t(){var n=arguments[0],i=arguments[1];e.call(this,n,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var i=this,r=new ArrayList,u=this._startDe;do{if(u.getMinEdgeRing()===null){var d=new MinimalEdgeRing(u,i._geometryFactory);r.add(d)}u=u.getNext()}while(u!==this._startDe);return r},t.prototype.setEdgeRing=function(i,r){i.setEdgeRing(r)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var i=this,r=this._startDe;do{var u=r.getNode();u.getEdges().linkMinimalDirectedEdges(i),r=r.getNext()}while(r!==this._startDe)},t.prototype.getNext=function(i){return i.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeRing),GraphComponent=function e(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};GraphComponent.prototype.setVisited=function e(t){this._isVisited=t},GraphComponent.prototype.setInResult=function e(t){this._isInResult=t},GraphComponent.prototype.isCovered=function e(){return this._isCovered},GraphComponent.prototype.isCoveredSet=function e(){return this._isCoveredSet},GraphComponent.prototype.setLabel=function e(t){this._label=t},GraphComponent.prototype.getLabel=function e(){return this._label},GraphComponent.prototype.setCovered=function e(t){this._isCovered=t,this._isCoveredSet=!0},GraphComponent.prototype.updateIM=function e(t){Assert.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},GraphComponent.prototype.isInResult=function e(){return this._isInResult},GraphComponent.prototype.isVisited=function e(){return this._isVisited},GraphComponent.prototype.interfaces_=function e(){return[]},GraphComponent.prototype.getClass=function e(){return GraphComponent};var Node=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var n=arguments[0],i=arguments[1];this._coord=n,this._edges=i,this._label=new Label(0,Location.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var i=this.getEdges().getEdges().iterator();i.hasNext();){var r=i.next();if(r.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(i){i.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(i){},t.prototype.computeMergedLocation=function(i,r){var u=Location.NONE;if(u=this._label.getLocation(r),!i.isNull(r)){var d=i.getLocation(r);u!==Location.BOUNDARY&&(u=d)}return u},t.prototype.setLabel=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];this._label===null?this._label=new Label(i,r):this._label.setLocation(i,r)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var i=this;if(arguments[0]instanceof t){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Label)for(var u=arguments[0],d=0;d<2;d++){var c=i.computeMergedLocation(u,d),v=i._label.getLocation(d);v===Location.NONE&&i._label.setLocation(d,c)}},t.prototype.add=function(i){this._edges.insert(i),i.setNode(this)},t.prototype.setLabelBoundary=function(i){if(this._label===null)return null;var r=Location.NONE;this._label!==null&&(r=this._label.getLocation(i));var u=null;switch(r){case Location.BOUNDARY:u=Location.INTERIOR;break;case Location.INTERIOR:u=Location.BOUNDARY;break;default:u=Location.BOUNDARY;break}this._label.setLocation(i,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GraphComponent),NodeMap=function e(){this.nodeMap=new TreeMap,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};NodeMap.prototype.find=function e(t){return this.nodeMap.get(t)},NodeMap.prototype.addNode=function e(){if(arguments[0]instanceof Coordinate){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}else if(arguments[0]instanceof Node){var i=arguments[0],r=this.nodeMap.get(i.getCoordinate());return r===null?(this.nodeMap.put(i.getCoordinate(),i),i):(r.mergeLabel(i),r)}},NodeMap.prototype.print=function e(t){for(var n=this.iterator();n.hasNext();){var i=n.next();i.print(t)}},NodeMap.prototype.iterator=function e(){return this.nodeMap.values().iterator()},NodeMap.prototype.values=function e(){return this.nodeMap.values()},NodeMap.prototype.getBoundaryNodes=function e(t){for(var n=new ArrayList,i=this.iterator();i.hasNext();){var r=i.next();r.getLabel().getLocation(t)===Location.BOUNDARY&&n.add(r)}return n},NodeMap.prototype.add=function e(t){var n=t.getCoordinate(),i=this.addNode(n);i.add(t)},NodeMap.prototype.interfaces_=function e(){return[]},NodeMap.prototype.getClass=function e(){return NodeMap};var Quadrant=function e(){},staticAccessors$21={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Quadrant.prototype.interfaces_=function e(){return[]},Quadrant.prototype.getClass=function e(){return Quadrant},Quadrant.isNorthern=function e(t){return t===Quadrant.NE||t===Quadrant.NW},Quadrant.isOpposite=function e(t,n){if(t===n)return!1;var i=(t-n+4)%4;return i===2},Quadrant.commonHalfPlane=function e(t,n){if(t===n)return t;var i=(t-n+4)%4;if(i===2)return-1;var r=t<n?t:n,u=t>n?t:n;return r===0&&u===3?3:r},Quadrant.isInHalfPlane=function e(t,n){return n===Quadrant.SE?t===Quadrant.SE||t===Quadrant.SW:t===n||t===n+1},Quadrant.quadrant=function e(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new IllegalArgumentException("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Quadrant.NE:Quadrant.SE:n>=0?Quadrant.NW:Quadrant.SW}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new IllegalArgumentException("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?Quadrant.NE:Quadrant.SE:r.y>=i.y?Quadrant.NW:Quadrant.SW}},staticAccessors$21.NE.get=function(){return 0},staticAccessors$21.NW.get=function(){return 1},staticAccessors$21.SW.get=function(){return 2},staticAccessors$21.SE.get=function(){return 3},Object.defineProperties(Quadrant,staticAccessors$21);var EdgeEnd=function e(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],i=arguments[1],r=arguments[2],u=null;this._edge=n,this.init(i,r),this._label=u}else if(arguments.length===4){var d=arguments[0],c=arguments[1],v=arguments[2],S=arguments[3];this._edge=d,this.init(c,v),this._label=S}};EdgeEnd.prototype.compareDirection=function e(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:CGAlgorithms.computeOrientation(t._p0,t._p1,this._p1)},EdgeEnd.prototype.getDy=function e(){return this._dy},EdgeEnd.prototype.getCoordinate=function e(){return this._p0},EdgeEnd.prototype.setNode=function e(t){this._node=t},EdgeEnd.prototype.print=function e(t){var n=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),r=i.lastIndexOf("."),u=i.substring(r+1);t.print("  "+u+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)},EdgeEnd.prototype.compareTo=function e(t){var n=t;return this.compareDirection(n)},EdgeEnd.prototype.getDirectedCoordinate=function e(){return this._p1},EdgeEnd.prototype.getDx=function e(){return this._dx},EdgeEnd.prototype.getLabel=function e(){return this._label},EdgeEnd.prototype.getEdge=function e(){return this._edge},EdgeEnd.prototype.getQuadrant=function e(){return this._quadrant},EdgeEnd.prototype.getNode=function e(){return this._node},EdgeEnd.prototype.toString=function e(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);return"  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},EdgeEnd.prototype.computeLabel=function e(t){},EdgeEnd.prototype.init=function e(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Quadrant.quadrant(this._dx,this._dy),Assert.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},EdgeEnd.prototype.interfaces_=function e(){return[Comparable]},EdgeEnd.prototype.getClass=function e(){return EdgeEnd};var DirectedEdge=function(e){function t(){var n=arguments[0],i=arguments[1];if(e.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=i,i)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var r=n.getNumPoints()-1;this.init(n.getCoordinate(r),n.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(i){return this._depth[i]},t.prototype.setVisited=function(i){this._isVisited=i},t.prototype.computeDirectedLabel=function(){this._label=new Label(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(i,r){if(this._depth[i]!==-999&&this._depth[i]!==r)throw new TopologyException("assigned depths do not match",this.getCoordinate());this._depth[i]=r},t.prototype.isInteriorAreaEdge=function(){for(var i=this,r=!0,u=0;u<2;u++)i._label.isArea(u)&&i._label.getLocation(u,Position.LEFT)===Location.INTERIOR&&i._label.getLocation(u,Position.RIGHT)===Location.INTERIOR||(r=!1);return r},t.prototype.setNextMin=function(i){this._nextMin=i},t.prototype.print=function(i){e.prototype.print.call(this,i),i.print(" "+this._depth[Position.LEFT]+"/"+this._depth[Position.RIGHT]),i.print(" ("+this.getDepthDelta()+")"),this._isInResult&&i.print(" inResult")},t.prototype.setMinEdgeRing=function(i){this._minEdgeRing=i},t.prototype.isLineEdge=function(){var i=this._label.isLine(0)||this._label.isLine(1),r=!this._label.isArea(0)||this._label.allPositionsEqual(0,Location.EXTERIOR),u=!this._label.isArea(1)||this._label.allPositionsEqual(1,Location.EXTERIOR);return i&&r&&u},t.prototype.setEdgeRing=function(i){this._edgeRing=i},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var i=this._edge.getDepthDelta();return this._isForward||(i=-i),i},t.prototype.setInResult=function(i){this._isInResult=i},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(i){this.print(i),i.print(" "),this._isForward?this._edge.print(i):this._edge.printReverse(i)},t.prototype.setSym=function(i){this._sym=i},t.prototype.setVisitedEdge=function(i){this.setVisited(i),this._sym.setVisited(i)},t.prototype.setEdgeDepths=function(i,r){var u=this.getEdge().getDepthDelta();this._isForward||(u=-u);var d=1;i===Position.LEFT&&(d=-1);var c=Position.opposite(i),v=u*d,S=r+v;this.setDepth(i,r),this.setDepth(c,S)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(i){this._next=i},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(i,r){return i===Location.EXTERIOR&&r===Location.INTERIOR?1:i===Location.INTERIOR&&r===Location.EXTERIOR?-1:0},t}(EdgeEnd),NodeFactory=function e(){};NodeFactory.prototype.createNode=function e(t){return new Node(t,null)},NodeFactory.prototype.interfaces_=function e(){return[]},NodeFactory.prototype.getClass=function e(){return NodeFactory};var PlanarGraph=function e(){if(this._edges=new ArrayList,this._nodes=null,this._edgeEndList=new ArrayList,arguments.length===0)this._nodes=new NodeMap(new NodeFactory);else if(arguments.length===1){var t=arguments[0];this._nodes=new NodeMap(t)}};PlanarGraph.prototype.printEdges=function e(t){var n=this;t.println("Edges:");for(var i=0;i<this._edges.size();i++){t.println("edge "+i+":");var r=n._edges.get(i);r.print(t),r.eiList.print(t)}},PlanarGraph.prototype.find=function e(t){return this._nodes.find(t)},PlanarGraph.prototype.addNode=function e(){if(arguments[0]instanceof Node){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof Coordinate){var n=arguments[0];return this._nodes.addNode(n)}},PlanarGraph.prototype.getNodeIterator=function e(){return this._nodes.iterator()},PlanarGraph.prototype.linkResultDirectedEdges=function e(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}},PlanarGraph.prototype.debugPrintln=function e(t){System.out.println(t)},PlanarGraph.prototype.isBoundaryNode=function e(t,n){var i=this._nodes.find(n);if(i===null)return!1;var r=i.getLabel();return r!==null&&r.getLocation(t)===Location.BOUNDARY},PlanarGraph.prototype.linkAllDirectedEdges=function e(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkAllDirectedEdges()}},PlanarGraph.prototype.matchInSameDirection=function e(t,n,i,r){return t.equals(i)?CGAlgorithms.computeOrientation(t,n,r)===CGAlgorithms.COLLINEAR&&Quadrant.quadrant(t,n)===Quadrant.quadrant(i,r):!1},PlanarGraph.prototype.getEdgeEnds=function e(){return this._edgeEndList},PlanarGraph.prototype.debugPrint=function e(t){System.out.print(t)},PlanarGraph.prototype.getEdgeIterator=function e(){return this._edges.iterator()},PlanarGraph.prototype.findEdgeInSameDirection=function e(t,n){for(var i=this,r=0;r<this._edges.size();r++){var u=i._edges.get(r),d=u.getCoordinates();if(i.matchInSameDirection(t,n,d[0],d[1])||i.matchInSameDirection(t,n,d[d.length-1],d[d.length-2]))return u}return null},PlanarGraph.prototype.insertEdge=function e(t){this._edges.add(t)},PlanarGraph.prototype.findEdgeEnd=function e(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var i=n.next();if(i.getEdge()===t)return i}return null},PlanarGraph.prototype.addEdges=function e(t){for(var n=this,i=t.iterator();i.hasNext();){var r=i.next();n._edges.add(r);var u=new DirectedEdge(r,!0),d=new DirectedEdge(r,!1);u.setSym(d),d.setSym(u),n.add(u),n.add(d)}},PlanarGraph.prototype.add=function e(t){this._nodes.add(t),this._edgeEndList.add(t)},PlanarGraph.prototype.getNodes=function e(){return this._nodes.values()},PlanarGraph.prototype.findEdge=function e(t,n){for(var i=this,r=0;r<this._edges.size();r++){var u=i._edges.get(r),d=u.getCoordinates();if(t.equals(d[0])&&n.equals(d[1]))return u}return null},PlanarGraph.prototype.interfaces_=function e(){return[]},PlanarGraph.prototype.getClass=function e(){return PlanarGraph},PlanarGraph.linkResultDirectedEdges=function e(t){for(var n=t.iterator();n.hasNext();){var i=n.next();i.getEdges().linkResultDirectedEdges()}};var PolygonBuilder=function e(){this._geometryFactory=null,this._shellList=new ArrayList;var t=arguments[0];this._geometryFactory=t};PolygonBuilder.prototype.sortShellsAndHoles=function e(t,n,i){for(var r=t.iterator();r.hasNext();){var u=r.next();u.isHole()?i.add(u):n.add(u)}},PolygonBuilder.prototype.computePolygons=function e(t){for(var n=this,i=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=u.toPolygon(n._geometryFactory);i.add(d)}return i},PolygonBuilder.prototype.placeFreeHoles=function e(t,n){for(var i=this,r=n.iterator();r.hasNext();){var u=r.next();if(u.getShell()===null){var d=i.findEdgeRingContaining(u,t);if(d===null)throw new TopologyException("unable to assign hole to a shell",u.getCoordinate(0));u.setShell(d)}}},PolygonBuilder.prototype.buildMinimalEdgeRings=function e(t,n,i){for(var r=this,u=new ArrayList,d=t.iterator();d.hasNext();){var c=d.next();if(c.getMaxNodeDegree()>2){c.linkDirectedEdgesForMinimalEdgeRings();var v=c.buildMinimalRings(),S=r.findShell(v);S!==null?(r.placePolygonHoles(S,v),n.add(S)):i.addAll(v)}else u.add(c)}return u},PolygonBuilder.prototype.containsPoint=function e(t){for(var n=this._shellList.iterator();n.hasNext();){var i=n.next();if(i.containsPoint(t))return!0}return!1},PolygonBuilder.prototype.buildMaximalEdgeRings=function e(t){for(var n=this,i=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next();if(u.isInResult()&&u.getLabel().isArea()&&u.getEdgeRing()===null){var d=new MaximalEdgeRing(u,n._geometryFactory);i.add(d),d.setInResult()}}return i},PolygonBuilder.prototype.placePolygonHoles=function e(t,n){for(var i=n.iterator();i.hasNext();){var r=i.next();r.isHole()&&r.setShell(t)}},PolygonBuilder.prototype.getPolygons=function e(){var t=this.computePolygons(this._shellList);return t},PolygonBuilder.prototype.findEdgeRingContaining=function e(t,n){for(var i=t.getLinearRing(),r=i.getEnvelopeInternal(),u=i.getCoordinateN(0),d=null,c=null,v=n.iterator();v.hasNext();){var S=v.next(),C=S.getLinearRing(),O=C.getEnvelopeInternal();d!==null&&(c=d.getLinearRing().getEnvelopeInternal());var R=!1;O.contains(r)&&CGAlgorithms.isPointInRing(u,C.getCoordinates())&&(R=!0),R&&(d===null||c.contains(O))&&(d=S)}return d},PolygonBuilder.prototype.findShell=function e(t){for(var n=0,i=null,r=t.iterator();r.hasNext();){var u=r.next();u.isHole()||(i=u,n++)}return Assert.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),i},PolygonBuilder.prototype.add=function e(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],i=arguments[1];PlanarGraph.linkResultDirectedEdges(i);var r=this.buildMaximalEdgeRings(n),u=new ArrayList,d=this.buildMinimalEdgeRings(r,this._shellList,u);this.sortShellsAndHoles(d,this._shellList,u),this.placeFreeHoles(this._shellList,u)}},PolygonBuilder.prototype.interfaces_=function e(){return[]},PolygonBuilder.prototype.getClass=function e(){return PolygonBuilder};var Boundable=function e(){};Boundable.prototype.getBounds=function e(){},Boundable.prototype.interfaces_=function e(){return[]},Boundable.prototype.getClass=function e(){return Boundable};var ItemBoundable=function e(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};ItemBoundable.prototype.getItem=function e(){return this._item},ItemBoundable.prototype.getBounds=function e(){return this._bounds},ItemBoundable.prototype.interfaces_=function e(){return[Boundable,Serializable]},ItemBoundable.prototype.getClass=function e(){return ItemBoundable};var PriorityQueue=function e(){this._size=null,this._items=null,this._size=0,this._items=new ArrayList,this._items.add(null)};PriorityQueue.prototype.poll=function e(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},PriorityQueue.prototype.size=function e(){return this._size},PriorityQueue.prototype.reorder=function e(t){for(var n=this,i=null,r=this._items.get(t);t*2<=this._size&&(i=t*2,i!==n._size&&n._items.get(i+1).compareTo(n._items.get(i))<0&&i++,n._items.get(i).compareTo(r)<0);t=i)n._items.set(t,n._items.get(i));this._items.set(t,r)},PriorityQueue.prototype.clear=function e(){this._size=0,this._items.clear()},PriorityQueue.prototype.isEmpty=function e(){return this._size===0},PriorityQueue.prototype.add=function e(t){var n=this;this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)n._items.set(i,n._items.get(Math.trunc(i/2)));this._items.set(i,t)},PriorityQueue.prototype.interfaces_=function e(){return[]},PriorityQueue.prototype.getClass=function e(){return PriorityQueue};var ItemVisitor=function e(){};ItemVisitor.prototype.visitItem=function e(t){},ItemVisitor.prototype.interfaces_=function e(){return[]},ItemVisitor.prototype.getClass=function e(){return ItemVisitor};var SpatialIndex=function e(){};SpatialIndex.prototype.insert=function e(t,n){},SpatialIndex.prototype.remove=function e(t,n){},SpatialIndex.prototype.query=function e(){},SpatialIndex.prototype.interfaces_=function e(){return[]},SpatialIndex.prototype.getClass=function e(){return SpatialIndex};var AbstractNode=function e(){if(this._childBoundables=new ArrayList,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},staticAccessors$22={serialVersionUID:{configurable:!0}};AbstractNode.prototype.getLevel=function e(){return this._level},AbstractNode.prototype.size=function e(){return this._childBoundables.size()},AbstractNode.prototype.getChildBoundables=function e(){return this._childBoundables},AbstractNode.prototype.addChildBoundable=function e(t){Assert.isTrue(this._bounds===null),this._childBoundables.add(t)},AbstractNode.prototype.isEmpty=function e(){return this._childBoundables.isEmpty()},AbstractNode.prototype.getBounds=function e(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},AbstractNode.prototype.interfaces_=function e(){return[Boundable,Serializable]},AbstractNode.prototype.getClass=function e(){return AbstractNode},staticAccessors$22.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(AbstractNode,staticAccessors$22);var Collections=function e(){};Collections.reverseOrder=function e(){return{compare:function(n,i){return i.compareTo(n)}}},Collections.min=function e(t){return Collections.sort(t),t.get(0)},Collections.sort=function e(t,n){var i=t.toArray();n?Arrays.sort(i,n):Arrays.sort(i);for(var r=t.iterator(),u=0,d=i.length;u<d;u++)r.next(),r.set(i[u])},Collections.singletonList=function e(t){var n=new ArrayList;return n.add(t),n};var BoundablePair=function e(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],i=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=i,this._distance=this.distance()};BoundablePair.prototype.expandToQueue=function e(t,n){var i=BoundablePair.isComposite(this._boundable1),r=BoundablePair.isComposite(this._boundable2);if(i&&r)return BoundablePair.area(this._boundable1)>BoundablePair.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(i)return this.expand(this._boundable1,this._boundable2,t,n),null;if(r)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new IllegalArgumentException("neither boundable is composite")},BoundablePair.prototype.isLeaves=function e(){return!(BoundablePair.isComposite(this._boundable1)||BoundablePair.isComposite(this._boundable2))},BoundablePair.prototype.compareTo=function e(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0},BoundablePair.prototype.expand=function e(t,n,i,r){for(var u=this,d=t.getChildBoundables(),c=d.iterator();c.hasNext();){var v=c.next(),S=new BoundablePair(v,n,u._itemDistance);S.getDistance()<r&&i.add(S)}},BoundablePair.prototype.getBoundable=function e(t){return t===0?this._boundable1:this._boundable2},BoundablePair.prototype.getDistance=function e(){return this._distance},BoundablePair.prototype.distance=function e(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},BoundablePair.prototype.interfaces_=function e(){return[Comparable]},BoundablePair.prototype.getClass=function e(){return BoundablePair},BoundablePair.area=function e(t){return t.getBounds().getArea()},BoundablePair.isComposite=function e(t){return t instanceof AbstractNode};var AbstractSTRtree=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ArrayList,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var n=arguments[0];Assert.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},staticAccessors$23={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};AbstractSTRtree.prototype.getNodeCapacity=function e(){return this._nodeCapacity},AbstractSTRtree.prototype.lastNode=function e(t){return t.get(t.size()-1)},AbstractSTRtree.prototype.size=function e(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=arguments[0],i=0,r=n.getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof AbstractNode?i+=t.size(u):u instanceof ItemBoundable&&(i+=1)}return i}},AbstractSTRtree.prototype.removeItem=function e(t,n){for(var i=null,r=t.getChildBoundables().iterator();r.hasNext();){var u=r.next();u instanceof ItemBoundable&&u.getItem()===n&&(i=u)}return i!==null?(t.getChildBoundables().remove(i),!0):!1},AbstractSTRtree.prototype.itemsTree=function e(){var t=this;if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new ArrayList:n}else if(arguments.length===1){for(var i=arguments[0],r=new ArrayList,u=i.getChildBoundables().iterator();u.hasNext();){var d=u.next();if(d instanceof AbstractNode){var c=t.itemsTree(d);c!==null&&r.add(c)}else d instanceof ItemBoundable?r.add(d.getItem()):Assert.shouldNeverReachHere()}return r.size()<=0?null:r}},AbstractSTRtree.prototype.insert=function e(t,n){Assert.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ItemBoundable(t,n))},AbstractSTRtree.prototype.boundablesAtLevel=function e(){var t=this;if(arguments.length===1){var n=arguments[0],i=new ArrayList;return this.boundablesAtLevel(n,this._root,i),i}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];if(Assert.isTrue(r>-2),u.getLevel()===r)return d.add(u),null;for(var c=u.getChildBoundables().iterator();c.hasNext();){var v=c.next();v instanceof AbstractNode?t.boundablesAtLevel(r,v,d):(Assert.isTrue(v instanceof ItemBoundable),r===-1&&d.add(v))}return null}},AbstractSTRtree.prototype.query=function e(){var t=this;if(arguments.length===1){var n=arguments[0];this.build();var i=new ArrayList;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i),i}else if(arguments.length===2){var r=arguments[0],u=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,u)}else if(arguments.length===3){if(hasInterface(arguments[2],ItemVisitor)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode)for(var d=arguments[0],c=arguments[1],v=arguments[2],S=c.getChildBoundables(),C=0;C<S.size();C++){var O=S.get(C);t.getIntersectsOp().intersects(O.getBounds(),d)&&(O instanceof AbstractNode?t.query(d,O,v):O instanceof ItemBoundable?v.visitItem(O.getItem()):Assert.shouldNeverReachHere())}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode)for(var R=arguments[0],H=arguments[1],K=arguments[2],le=H.getChildBoundables(),fe=0;fe<le.size();fe++){var ye=le.get(fe);t.getIntersectsOp().intersects(ye.getBounds(),R)&&(ye instanceof AbstractNode?t.query(R,ye,K):ye instanceof ItemBoundable?K.add(ye.getItem()):Assert.shouldNeverReachHere())}}},AbstractSTRtree.prototype.build=function e(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},AbstractSTRtree.prototype.getRoot=function e(){return this.build(),this._root},AbstractSTRtree.prototype.remove=function e(){var t=this;if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),n)?this.remove(n,this._root,i):!1}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=this.removeItem(u,d);if(c)return!0;for(var v=null,S=u.getChildBoundables().iterator();S.hasNext();){var C=S.next();if(t.getIntersectsOp().intersects(C.getBounds(),r)&&C instanceof AbstractNode&&(c=t.remove(r,C,d),c)){v=C;break}}return v!==null&&v.getChildBoundables().isEmpty()&&u.getChildBoundables().remove(v),c}},AbstractSTRtree.prototype.createHigherLevels=function e(t,n){Assert.isTrue(!t.isEmpty());var i=this.createParentBoundables(t,n+1);return i.size()===1?i.get(0):this.createHigherLevels(i,n+1)},AbstractSTRtree.prototype.depth=function e(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=arguments[0],i=0,r=n.getChildBoundables().iterator();r.hasNext();){var u=r.next();if(u instanceof AbstractNode){var d=t.depth(u);d>i&&(i=d)}}return i+1}},AbstractSTRtree.prototype.createParentBoundables=function e(t,n){var i=this;Assert.isTrue(!t.isEmpty());var r=new ArrayList;r.add(this.createNode(n));var u=new ArrayList(t);Collections.sort(u,this.getComparator());for(var d=u.iterator();d.hasNext();){var c=d.next();i.lastNode(r).getChildBoundables().size()===i.getNodeCapacity()&&r.add(i.createNode(n)),i.lastNode(r).addChildBoundable(c)}return r},AbstractSTRtree.prototype.isEmpty=function e(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},AbstractSTRtree.prototype.interfaces_=function e(){return[Serializable]},AbstractSTRtree.prototype.getClass=function e(){return AbstractSTRtree},AbstractSTRtree.compareDoubles=function e(t,n){return t>n?1:t<n?-1:0},staticAccessors$23.IntersectsOp.get=function(){return IntersectsOp},staticAccessors$23.serialVersionUID.get=function(){return-3886435814360241e3},staticAccessors$23.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(AbstractSTRtree,staticAccessors$23);var IntersectsOp=function e(){},ItemDistance=function e(){};ItemDistance.prototype.distance=function e(t,n){},ItemDistance.prototype.interfaces_=function e(){return[]},ItemDistance.prototype.getClass=function e(){return ItemDistance};var STRtree=function(e){function t(i){i=i||t.DEFAULT_NODE_CAPACITY,e.call(this,i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(r,u){var d=this;Assert.isTrue(r.length>0);for(var c=new ArrayList,v=0;v<r.length;v++)c.addAll(d.createParentBoundablesFromVerticalSlice(r[v],u));return c},t.prototype.createNode=function(r){return new STRtreeNode(r)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];if(r.isNull())return null;e.prototype.insert.call(this,r,u)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(r,u){for(var d=Math.trunc(Math.ceil(r.size()/u)),c=new Array(u).fill(null),v=r.iterator(),S=0;S<u;S++){c[S]=new ArrayList;for(var C=0;v.hasNext()&&C<d;){var O=v.next();c[S].add(O),C++}}return c},t.prototype.query=function(){if(arguments.length===1){var r=arguments[0];return e.prototype.query.call(this,r)}else if(arguments.length===2){var u=arguments[0],d=arguments[1];e.prototype.query.call(this,u,d)}else if(arguments.length===3){if(hasInterface(arguments[2],ItemVisitor)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode){var c=arguments[0],v=arguments[1],S=arguments[2];e.prototype.query.call(this,c,v,S)}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Object&&arguments[1]instanceof AbstractNode){var C=arguments[0],O=arguments[1],R=arguments[2];e.prototype.query.call(this,C,O,R)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(r,u){return e.prototype.createParentBoundables.call(this,r,u)},t.prototype.remove=function(){if(arguments.length===2){var r=arguments[0],u=arguments[1];return e.prototype.remove.call(this,r,u)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(r,u){Assert.isTrue(!r.isEmpty());var d=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),c=new ArrayList(r);Collections.sort(c,t.xComparator);var v=this.verticalSlices(c,Math.trunc(Math.ceil(Math.sqrt(d))));return this.createParentBoundablesFromVerticalSlices(v,u)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(hasInterface(arguments[0],ItemDistance)){var r=arguments[0],u=new BoundablePair(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(u)}else if(arguments[0]instanceof BoundablePair){var d=arguments[0];return this.nearestNeighbour(d,Double.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&hasInterface(arguments[1],ItemDistance)){var c=arguments[0],v=arguments[1],S=new BoundablePair(this.getRoot(),c.getRoot(),v);return this.nearestNeighbour(S)}else if(arguments[0]instanceof BoundablePair&&typeof arguments[1]=="number"){var C=arguments[0],O=arguments[1],R=O,H=null,K=new PriorityQueue;for(K.add(C);!K.isEmpty()&&R>0;){var le=K.poll(),fe=le.getDistance();if(fe>=R)break;le.isLeaves()?(R=fe,H=le):le.expandToQueue(K,R)}return[H.getBoundable(0).getItem(),H.getBoundable(1).getItem()]}}else if(arguments.length===3){var ye=arguments[0],xe=arguments[1],Pe=arguments[2],Re=new ItemBoundable(ye,xe),Ze=new BoundablePair(this.getRoot(),Re,Pe);return this.nearestNeighbour(Ze)[0]}},t.prototype.interfaces_=function(){return[SpatialIndex,Serializable]},t.prototype.getClass=function(){return t},t.centreX=function(r){return t.avg(r.getMinX(),r.getMaxX())},t.avg=function(r,u){return(r+u)/2},t.centreY=function(r){return t.avg(r.getMinY(),r.getMaxY())},n.STRtreeNode.get=function(){return STRtreeNode},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[Comparator]},compare:function(i,r){return e.compareDoubles(t.centreX(i.getBounds()),t.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[Comparator]},compare:function(i,r){return e.compareDoubles(t.centreY(i.getBounds()),t.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(i,r){return i.intersects(r)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(AbstractSTRtree),STRtreeNode=function(e){function t(){var n=arguments[0];e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var i=null,r=this.getChildBoundables().iterator();r.hasNext();){var u=r.next();i===null?i=new Envelope(u.getBounds()):i.expandToInclude(u.getBounds())}return i},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(AbstractNode),SegmentPointComparator=function e(){};SegmentPointComparator.prototype.interfaces_=function e(){return[]},SegmentPointComparator.prototype.getClass=function e(){return SegmentPointComparator},SegmentPointComparator.relativeSign=function e(t,n){return t<n?-1:t>n?1:0},SegmentPointComparator.compare=function e(t,n,i){if(n.equals2D(i))return 0;var r=SegmentPointComparator.relativeSign(n.x,i.x),u=SegmentPointComparator.relativeSign(n.y,i.y);switch(t){case 0:return SegmentPointComparator.compareValue(r,u);case 1:return SegmentPointComparator.compareValue(u,r);case 2:return SegmentPointComparator.compareValue(u,-r);case 3:return SegmentPointComparator.compareValue(-r,u);case 4:return SegmentPointComparator.compareValue(-r,-u);case 5:return SegmentPointComparator.compareValue(-u,-r);case 6:return SegmentPointComparator.compareValue(-u,r);case 7:return SegmentPointComparator.compareValue(r,-u)}return Assert.shouldNeverReachHere("invalid octant value"),0},SegmentPointComparator.compareValue=function e(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var SegmentNode=function e(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this._segString=t,this.coord=new Coordinate(n),this.segmentIndex=i,this._segmentOctant=r,this._isInterior=!n.equals2D(t.getCoordinate(i))};SegmentNode.prototype.getCoordinate=function e(){return this.coord},SegmentNode.prototype.print=function e(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},SegmentNode.prototype.compareTo=function e(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:SegmentPointComparator.compare(this._segmentOctant,this.coord,n.coord)},SegmentNode.prototype.isEndPoint=function e(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t},SegmentNode.prototype.isInterior=function e(){return this._isInterior},SegmentNode.prototype.interfaces_=function e(){return[Comparable]},SegmentNode.prototype.getClass=function e(){return SegmentNode};var SegmentNodeList=function e(){this._nodeMap=new TreeMap,this._edge=null;var t=arguments[0];this._edge=t};SegmentNodeList.prototype.getSplitCoordinates=function e(){var t=this,n=new CoordinateList;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var u=i.next();t.addEdgeCoordinates(r,u,n),r=u}return n.toCoordinateArray()},SegmentNodeList.prototype.addCollapsedNodes=function e(){var t=this,n=new ArrayList;this.findCollapsesFromInsertedNodes(n),this.findCollapsesFromExistingVertices(n);for(var i=n.iterator();i.hasNext();){var r=i.next().intValue();t.add(t._edge.getCoordinate(r),r)}},SegmentNodeList.prototype.print=function e(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var i=n.next();i.print(t)}},SegmentNodeList.prototype.findCollapsesFromExistingVertices=function e(t){for(var n=this,i=0;i<this._edge.size()-2;i++){var r=n._edge.getCoordinate(i),u=n._edge.getCoordinate(i+2);r.equals2D(u)&&t.add(new Integer(i+1))}},SegmentNodeList.prototype.addEdgeCoordinates=function e(t,n,i){var r=this,u=this._edge.getCoordinate(n.segmentIndex),d=n.isInterior()||!n.coord.equals2D(u);i.add(new Coordinate(t.coord),!1);for(var c=t.segmentIndex+1;c<=n.segmentIndex;c++)i.add(r._edge.getCoordinate(c));d&&i.add(new Coordinate(n.coord))},SegmentNodeList.prototype.iterator=function e(){return this._nodeMap.values().iterator()},SegmentNodeList.prototype.addSplitEdges=function e(t){var n=this;this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),r=i.next();i.hasNext();){var u=i.next(),d=n.createSplitEdge(r,u);t.add(d),r=u}},SegmentNodeList.prototype.findCollapseIndex=function e(t,n,i){if(!t.coord.equals2D(n.coord))return!1;var r=n.segmentIndex-t.segmentIndex;return n.isInterior()||r--,r===1?(i[0]=t.segmentIndex+1,!0):!1},SegmentNodeList.prototype.findCollapsesFromInsertedNodes=function e(t){for(var n=this,i=new Array(1).fill(null),r=this.iterator(),u=r.next();r.hasNext();){var d=r.next(),c=n.findCollapseIndex(u,d,i);c&&t.add(new Integer(i[0])),u=d}},SegmentNodeList.prototype.getEdge=function e(){return this._edge},SegmentNodeList.prototype.addEndpoints=function e(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},SegmentNodeList.prototype.createSplitEdge=function e(t,n){var i=this,r=n.segmentIndex-t.segmentIndex+2,u=this._edge.getCoordinate(n.segmentIndex),d=n.isInterior()||!n.coord.equals2D(u);d||r--;var c=new Array(r).fill(null),v=0;c[v++]=new Coordinate(t.coord);for(var S=t.segmentIndex+1;S<=n.segmentIndex;S++)c[v++]=i._edge.getCoordinate(S);return d&&(c[v]=new Coordinate(n.coord)),new NodedSegmentString(c,this._edge.getData())},SegmentNodeList.prototype.add=function e(t,n){var i=new SegmentNode(this._edge,t,n,this._edge.getSegmentOctant(n)),r=this._nodeMap.get(i);return r!==null?(Assert.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(i,i),i)},SegmentNodeList.prototype.checkSplitEdgesCorrectness=function e(t){var n=this._edge.getCoordinates(),i=t.get(0),r=i.getCoordinate(0);if(!r.equals2D(n[0]))throw new RuntimeException("bad split edge start point at "+r);var u=t.get(t.size()-1),d=u.getCoordinates(),c=d[d.length-1];if(!c.equals2D(n[n.length-1]))throw new RuntimeException("bad split edge end point at "+c)},SegmentNodeList.prototype.interfaces_=function e(){return[]},SegmentNodeList.prototype.getClass=function e(){return SegmentNodeList};var Octant=function e(){};Octant.prototype.interfaces_=function e(){return[]},Octant.prototype.getClass=function e(){return Octant},Octant.octant=function e(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new IllegalArgumentException("Cannot compute the octant for point ( "+t+", "+n+" )");var i=Math.abs(t),r=Math.abs(n);return t>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Coordinate){var u=arguments[0],d=arguments[1],c=d.x-u.x,v=d.y-u.y;if(c===0&&v===0)throw new IllegalArgumentException("Cannot compute the octant for two identical points "+u);return Octant.octant(c,v)}};var SegmentString=function e(){};SegmentString.prototype.getCoordinates=function e(){},SegmentString.prototype.size=function e(){},SegmentString.prototype.getCoordinate=function e(t){},SegmentString.prototype.isClosed=function e(){},SegmentString.prototype.setData=function e(t){},SegmentString.prototype.getData=function e(){},SegmentString.prototype.interfaces_=function e(){return[]},SegmentString.prototype.getClass=function e(){return SegmentString};var NodableSegmentString=function e(){};NodableSegmentString.prototype.addIntersection=function e(t,n){},NodableSegmentString.prototype.interfaces_=function e(){return[SegmentString]},NodableSegmentString.prototype.getClass=function e(){return NodableSegmentString};var NodedSegmentString=function e(){this._nodeList=new SegmentNodeList(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};NodedSegmentString.prototype.getCoordinates=function e(){return this._pts},NodedSegmentString.prototype.size=function e(){return this._pts.length},NodedSegmentString.prototype.getCoordinate=function e(t){return this._pts[t]},NodedSegmentString.prototype.isClosed=function e(){return this._pts[0].equals(this._pts[this._pts.length-1])},NodedSegmentString.prototype.getSegmentOctant=function e(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},NodedSegmentString.prototype.setData=function e(t){this._data=t},NodedSegmentString.prototype.safeOctant=function e(t,n){return t.equals2D(n)?0:Octant.octant(t,n)},NodedSegmentString.prototype.getData=function e(){return this._data},NodedSegmentString.prototype.addIntersection=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var i=arguments[0],r=arguments[1],u=arguments[3],d=new Coordinate(i.getIntersection(u));this.addIntersection(d,r)}},NodedSegmentString.prototype.toString=function e(){return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))},NodedSegmentString.prototype.getNodeList=function e(){return this._nodeList},NodedSegmentString.prototype.addIntersectionNode=function e(t,n){var i=n,r=i+1;if(r<this._pts.length){var u=this._pts[r];t.equals2D(u)&&(i=r)}var d=this._nodeList.add(t,i);return d},NodedSegmentString.prototype.addIntersections=function e(t,n,i){for(var r=this,u=0;u<t.getIntersectionNum();u++)r.addIntersection(t,n,i,u)},NodedSegmentString.prototype.interfaces_=function e(){return[NodableSegmentString]},NodedSegmentString.prototype.getClass=function e(){return NodedSegmentString},NodedSegmentString.getNodedSubstrings=function e(){if(arguments.length===1){var t=arguments[0],n=new ArrayList;return NodedSegmentString.getNodedSubstrings(t,n),n}else if(arguments.length===2)for(var i=arguments[0],r=arguments[1],u=i.iterator();u.hasNext();){var d=u.next();d.getNodeList().addSplitEdges(r)}};var LineSegment=function e(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Coordinate,this.p1=new Coordinate;else if(arguments.length===1){var t=arguments[0];this.p0=new Coordinate(t.p0),this.p1=new Coordinate(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],i=arguments[1],r=arguments[2],u=arguments[3];this.p0=new Coordinate(n,i),this.p1=new Coordinate(r,u)}},staticAccessors$24={serialVersionUID:{configurable:!0}};LineSegment.prototype.minX=function e(){return Math.min(this.p0.x,this.p1.x)},LineSegment.prototype.orientationIndex=function e(){if(arguments[0]instanceof LineSegment){var t=arguments[0],n=CGAlgorithms.orientationIndex(this.p0,this.p1,t.p0),i=CGAlgorithms.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}else if(arguments[0]instanceof Coordinate){var r=arguments[0];return CGAlgorithms.orientationIndex(this.p0,this.p1,r)}},LineSegment.prototype.toGeometry=function e(t){return t.createLineString([this.p0,this.p1])},LineSegment.prototype.isVertical=function e(){return this.p0.x===this.p1.x},LineSegment.prototype.equals=function e(t){if(!(t instanceof LineSegment))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)},LineSegment.prototype.intersection=function e(t){var n=new RobustLineIntersector;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null},LineSegment.prototype.project=function e(){if(arguments[0]instanceof Coordinate){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Coordinate(t);var n=this.projectionFactor(t),i=new Coordinate;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}else if(arguments[0]instanceof LineSegment){var r=arguments[0],u=this.projectionFactor(r.p0),d=this.projectionFactor(r.p1);if(u>=1&&d>=1||u<=0&&d<=0)return null;var c=this.project(r.p0);u<0&&(c=this.p0),u>1&&(c=this.p1);var v=this.project(r.p1);return d<0&&(v=this.p0),d>1&&(v=this.p1),new LineSegment(c,v)}},LineSegment.prototype.normalize=function e(){this.p1.compareTo(this.p0)<0&&this.reverse()},LineSegment.prototype.angle=function e(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},LineSegment.prototype.getCoordinate=function e(t){return t===0?this.p0:this.p1},LineSegment.prototype.distancePerpendicular=function e(t){return CGAlgorithms.distancePointLinePerpendicular(t,this.p0,this.p1)},LineSegment.prototype.minY=function e(){return Math.min(this.p0.y,this.p1.y)},LineSegment.prototype.midPoint=function e(){return LineSegment.midPoint(this.p0,this.p1)},LineSegment.prototype.projectionFactor=function e(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,r=n*n+i*i;if(r<=0)return Double.NaN;var u=((t.x-this.p0.x)*n+(t.y-this.p0.y)*i)/r;return u},LineSegment.prototype.closestPoints=function e(t){var n=this.intersection(t);if(n!==null)return[n,n];var i=new Array(2).fill(null),r=Double.MAX_VALUE,u=null,d=this.closestPoint(t.p0);r=d.distance(t.p0),i[0]=d,i[1]=t.p0;var c=this.closestPoint(t.p1);u=c.distance(t.p1),u<r&&(r=u,i[0]=c,i[1]=t.p1);var v=t.closestPoint(this.p0);u=v.distance(this.p0),u<r&&(r=u,i[0]=this.p0,i[1]=v);var S=t.closestPoint(this.p1);return u=S.distance(this.p1),u<r&&(r=u,i[0]=this.p1,i[1]=S),i},LineSegment.prototype.closestPoint=function e(t){var n=this.projectionFactor(t);if(n>0&&n<1)return this.project(t);var i=this.p0.distance(t),r=this.p1.distance(t);return i<r?this.p0:this.p1},LineSegment.prototype.maxX=function e(){return Math.max(this.p0.x,this.p1.x)},LineSegment.prototype.getLength=function e(){return this.p0.distance(this.p1)},LineSegment.prototype.compareTo=function e(t){var n=t,i=this.p0.compareTo(n.p0);return i!==0?i:this.p1.compareTo(n.p1)},LineSegment.prototype.reverse=function e(){var t=this.p0;this.p0=this.p1,this.p1=t},LineSegment.prototype.equalsTopo=function e(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},LineSegment.prototype.lineIntersection=function e(t){try{var n=HCoordinate.intersection(this.p0,this.p1,t.p0,t.p1);return n}catch(i){if(!(i instanceof NotRepresentableException))throw i}finally{}return null},LineSegment.prototype.maxY=function e(){return Math.max(this.p0.y,this.p1.y)},LineSegment.prototype.pointAlongOffset=function e(t,n){var i=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),u=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,c=Math.sqrt(u*u+d*d),v=0,S=0;if(n!==0){if(c<=0)throw new Error("Cannot compute offset from zero-length line segment");v=n*u/c,S=n*d/c}var C=i-S,O=r+v,R=new Coordinate(C,O);return R},LineSegment.prototype.setCoordinates=function e(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=i.x,this.p1.y=i.y}},LineSegment.prototype.segmentFraction=function e(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||Double.isNaN(n))&&(n=1),n},LineSegment.prototype.toString=function e(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},LineSegment.prototype.isHorizontal=function e(){return this.p0.y===this.p1.y},LineSegment.prototype.distance=function e(){if(arguments[0]instanceof LineSegment){var t=arguments[0];return CGAlgorithms.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof Coordinate){var n=arguments[0];return CGAlgorithms.distancePointLine(n,this.p0,this.p1)}},LineSegment.prototype.pointAlong=function e(t){var n=new Coordinate;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n},LineSegment.prototype.hashCode=function e(){var t=Double.doubleToLongBits(this.p0.x);t^=Double.doubleToLongBits(this.p0.y)*31;var n=Math.trunc(t)^Math.trunc(t>>32),i=Double.doubleToLongBits(this.p1.x);i^=Double.doubleToLongBits(this.p1.y)*31;var r=Math.trunc(i)^Math.trunc(i>>32);return n^r},LineSegment.prototype.interfaces_=function e(){return[Comparable,Serializable]},LineSegment.prototype.getClass=function e(){return LineSegment},LineSegment.midPoint=function e(t,n){return new Coordinate((t.x+n.x)/2,(t.y+n.y)/2)},staticAccessors$24.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(LineSegment,staticAccessors$24);var MonotoneChainOverlapAction=function e(){this.tempEnv1=new Envelope,this.tempEnv2=new Envelope,this._overlapSeg1=new LineSegment,this._overlapSeg2=new LineSegment};MonotoneChainOverlapAction.prototype.overlap=function e(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];t.getLineSegment(n,this._overlapSeg1),i.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},MonotoneChainOverlapAction.prototype.interfaces_=function e(){return[]},MonotoneChainOverlapAction.prototype.getClass=function e(){return MonotoneChainOverlapAction};var MonotoneChain=function e(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this._pts=t,this._start=n,this._end=i,this._context=r};MonotoneChain.prototype.getLineSegment=function e(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]},MonotoneChain.prototype.computeSelect=function e(t,n,i,r){var u=this._pts[n],d=this._pts[i];if(r.tempEnv1.init(u,d),i-n===1)return r.select(this,n),null;if(!t.intersects(r.tempEnv1))return null;var c=Math.trunc((n+i)/2);n<c&&this.computeSelect(t,n,c,r),c<i&&this.computeSelect(t,c,i,r)},MonotoneChain.prototype.getCoordinates=function e(){for(var t=this,n=new Array(this._end-this._start+1).fill(null),i=0,r=this._start;r<=this._end;r++)n[i++]=t._pts[r];return n},MonotoneChain.prototype.computeOverlaps=function e(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)},MonotoneChain.prototype.setId=function e(t){this._id=t},MonotoneChain.prototype.select=function e(t,n){this.computeSelect(t,this._start,this._end,n)},MonotoneChain.prototype.getEnvelope=function e(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new Envelope(t,n)}return this._env},MonotoneChain.prototype.getEndIndex=function e(){return this._end},MonotoneChain.prototype.getStartIndex=function e(){return this._start},MonotoneChain.prototype.getContext=function e(){return this._context},MonotoneChain.prototype.getId=function e(){return this._id},MonotoneChain.prototype.computeOverlapsInternal=function e(t,n,i,r,u,d){var c=this._pts[t],v=this._pts[n],S=i._pts[r],C=i._pts[u];if(n-t===1&&u-r===1)return d.overlap(this,t,i,r),null;if(d.tempEnv1.init(c,v),d.tempEnv2.init(S,C),!d.tempEnv1.intersects(d.tempEnv2))return null;var O=Math.trunc((t+n)/2),R=Math.trunc((r+u)/2);t<O&&(r<R&&this.computeOverlapsInternal(t,O,i,r,R,d),R<u&&this.computeOverlapsInternal(t,O,i,R,u,d)),O<n&&(r<R&&this.computeOverlapsInternal(O,n,i,r,R,d),R<u&&this.computeOverlapsInternal(O,n,i,R,u,d))},MonotoneChain.prototype.interfaces_=function e(){return[]},MonotoneChain.prototype.getClass=function e(){return MonotoneChain};var MonotoneChainBuilder=function e(){};MonotoneChainBuilder.prototype.interfaces_=function e(){return[]},MonotoneChainBuilder.prototype.getClass=function e(){return MonotoneChainBuilder},MonotoneChainBuilder.getChainStartIndices=function e(t){var n=0,i=new ArrayList;i.add(new Integer(n));do{var r=MonotoneChainBuilder.findChainEnd(t,n);i.add(new Integer(r)),n=r}while(n<t.length-1);var u=MonotoneChainBuilder.toIntArray(i);return u},MonotoneChainBuilder.findChainEnd=function e(t,n){for(var i=n;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;for(var r=Quadrant.quadrant(t[i],t[i+1]),u=n+1;u<t.length;){if(!t[u-1].equals2D(t[u])){var d=Quadrant.quadrant(t[u-1],t[u]);if(d!==r)break}u++}return u-1},MonotoneChainBuilder.getChains=function e(){if(arguments.length===1){var t=arguments[0];return MonotoneChainBuilder.getChains(t,null)}else if(arguments.length===2){for(var n=arguments[0],i=arguments[1],r=new ArrayList,u=MonotoneChainBuilder.getChainStartIndices(n),d=0;d<u.length-1;d++){var c=new MonotoneChain(n,u[d],u[d+1],i);r.add(c)}return r}},MonotoneChainBuilder.toIntArray=function e(t){for(var n=new Array(t.size()).fill(null),i=0;i<n.length;i++)n[i]=t.get(i).intValue();return n};var Noder=function e(){};Noder.prototype.computeNodes=function e(t){},Noder.prototype.getNodedSubstrings=function e(){},Noder.prototype.interfaces_=function e(){return[]},Noder.prototype.getClass=function e(){return Noder};var SinglePassNoder=function e(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};SinglePassNoder.prototype.setSegmentIntersector=function e(t){this._segInt=t},SinglePassNoder.prototype.interfaces_=function e(){return[Noder]},SinglePassNoder.prototype.getClass=function e(){return SinglePassNoder};var MCIndexNoder=function(e){function t(i){i?e.call(this,i):e.call(this),this._monoChains=new ArrayList,this._index=new STRtree,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(r){for(var u=this,d=MonotoneChainBuilder.getChains(r.getCoordinates(),r),c=d.iterator();c.hasNext();){var v=c.next();v.setId(u._idCounter++),u._index.insert(v.getEnvelope(),v),u._monoChains.add(v)}},t.prototype.computeNodes=function(r){var u=this;this._nodedSegStrings=r;for(var d=r.iterator();d.hasNext();)u.add(d.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var r=this,u=new SegmentOverlapAction(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var c=d.next(),v=r._index.query(c.getEnvelope()),S=v.iterator();S.hasNext();){var C=S.next();if(C.getId()>c.getId()&&(c.computeOverlaps(C,u),r._nOverlaps++),r._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return SegmentOverlapAction},Object.defineProperties(t,n),t}(SinglePassNoder),SegmentOverlapAction=function(e){function t(){e.call(this),this._si=null;var n=arguments[0];this._si=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var i=arguments[0],r=arguments[1],u=arguments[2],d=arguments[3],c=i.getContext(),v=u.getContext();this._si.processIntersections(c,r,v,d)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(MonotoneChainOverlapAction),BufferParameters=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(arguments.length===4){var r=arguments[0],u=arguments[1],d=arguments[2],c=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(u),this.setJoinStyle(d),this.setMitreLimit(c)}}},staticAccessors$25={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};BufferParameters.prototype.getEndCapStyle=function e(){return this._endCapStyle},BufferParameters.prototype.isSingleSided=function e(){return this._isSingleSided},BufferParameters.prototype.setQuadrantSegments=function e(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=BufferParameters.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=BufferParameters.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==BufferParameters.JOIN_ROUND&&(this._quadrantSegments=BufferParameters.DEFAULT_QUADRANT_SEGMENTS)},BufferParameters.prototype.getJoinStyle=function e(){return this._joinStyle},BufferParameters.prototype.setJoinStyle=function e(t){this._joinStyle=t},BufferParameters.prototype.setSimplifyFactor=function e(t){this._simplifyFactor=t<0?0:t},BufferParameters.prototype.getSimplifyFactor=function e(){return this._simplifyFactor},BufferParameters.prototype.getQuadrantSegments=function e(){return this._quadrantSegments},BufferParameters.prototype.setEndCapStyle=function e(t){this._endCapStyle=t},BufferParameters.prototype.getMitreLimit=function e(){return this._mitreLimit},BufferParameters.prototype.setMitreLimit=function e(t){this._mitreLimit=t},BufferParameters.prototype.setSingleSided=function e(t){this._isSingleSided=t},BufferParameters.prototype.interfaces_=function e(){return[]},BufferParameters.prototype.getClass=function e(){return BufferParameters},BufferParameters.bufferDistanceError=function e(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)},staticAccessors$25.CAP_ROUND.get=function(){return 1},staticAccessors$25.CAP_FLAT.get=function(){return 2},staticAccessors$25.CAP_SQUARE.get=function(){return 3},staticAccessors$25.JOIN_ROUND.get=function(){return 1},staticAccessors$25.JOIN_MITRE.get=function(){return 2},staticAccessors$25.JOIN_BEVEL.get=function(){return 3},staticAccessors$25.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},staticAccessors$25.DEFAULT_MITRE_LIMIT.get=function(){return 5},staticAccessors$25.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(BufferParameters,staticAccessors$25);var BufferInputLineSimplifier=function e(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=CGAlgorithms.COUNTERCLOCKWISE,this._inputLine=t||null},staticAccessors$26={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};BufferInputLineSimplifier.prototype.isDeletable=function e(t,n,i,r){var u=this._inputLine[t],d=this._inputLine[n],c=this._inputLine[i];return!this.isConcave(u,d,c)||!this.isShallow(u,d,c,r)?!1:this.isShallowSampled(u,d,t,i,r)},BufferInputLineSimplifier.prototype.deleteShallowConcavities=function e(){for(var t=this,n=1,i=this.findNextNonDeletedIndex(n),r=this.findNextNonDeletedIndex(i),u=!1;r<this._inputLine.length;){var d=!1;t.isDeletable(n,i,r,t._distanceTol)&&(t._isDeleted[i]=BufferInputLineSimplifier.DELETE,d=!0,u=!0),d?n=r:n=i,i=t.findNextNonDeletedIndex(n),r=t.findNextNonDeletedIndex(i)}return u},BufferInputLineSimplifier.prototype.isShallowConcavity=function e(t,n,i,r){var u=CGAlgorithms.computeOrientation(t,n,i),d=u===this._angleOrientation;if(!d)return!1;var c=CGAlgorithms.distancePointLine(n,t,i);return c<r},BufferInputLineSimplifier.prototype.isShallowSampled=function e(t,n,i,r,u){var d=this,c=Math.trunc((r-i)/BufferInputLineSimplifier.NUM_PTS_TO_CHECK);c<=0&&(c=1);for(var v=i;v<r;v+=c)if(!d.isShallow(t,n,d._inputLine[v],u))return!1;return!0},BufferInputLineSimplifier.prototype.isConcave=function e(t,n,i){var r=CGAlgorithms.computeOrientation(t,n,i),u=r===this._angleOrientation;return u},BufferInputLineSimplifier.prototype.simplify=function e(t){var n=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=CGAlgorithms.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=n.deleteShallowConcavities();while(i);return this.collapseLine()},BufferInputLineSimplifier.prototype.findNextNonDeletedIndex=function e(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===BufferInputLineSimplifier.DELETE;)n++;return n},BufferInputLineSimplifier.prototype.isShallow=function e(t,n,i,r){var u=CGAlgorithms.distancePointLine(n,t,i);return u<r},BufferInputLineSimplifier.prototype.collapseLine=function e(){for(var t=this,n=new CoordinateList,i=0;i<this._inputLine.length;i++)t._isDeleted[i]!==BufferInputLineSimplifier.DELETE&&n.add(t._inputLine[i]);return n.toCoordinateArray()},BufferInputLineSimplifier.prototype.interfaces_=function e(){return[]},BufferInputLineSimplifier.prototype.getClass=function e(){return BufferInputLineSimplifier},BufferInputLineSimplifier.simplify=function e(t,n){var i=new BufferInputLineSimplifier(t);return i.simplify(n)},staticAccessors$26.INIT.get=function(){return 0},staticAccessors$26.DELETE.get=function(){return 1},staticAccessors$26.KEEP.get=function(){return 1},staticAccessors$26.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(BufferInputLineSimplifier,staticAccessors$26);var OffsetSegmentString=function e(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ArrayList},staticAccessors$28={COORDINATE_ARRAY_TYPE:{configurable:!0}};OffsetSegmentString.prototype.getCoordinates=function e(){var t=this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);return t},OffsetSegmentString.prototype.setPrecisionModel=function e(t){this._precisionModel=t},OffsetSegmentString.prototype.addPt=function e(t){var n=new Coordinate(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)},OffsetSegmentString.prototype.revere=function e(){},OffsetSegmentString.prototype.addPts=function e(t,n){var i=this;if(n)for(var r=0;r<t.length;r++)i.addPt(t[r]);else for(var u=t.length-1;u>=0;u--)i.addPt(t[u])},OffsetSegmentString.prototype.isRedundant=function e(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1),i=t.distance(n);return i<this._minimimVertexDistance},OffsetSegmentString.prototype.toString=function e(){var t=new GeometryFactory,n=t.createLineString(this.getCoordinates());return n.toString()},OffsetSegmentString.prototype.closeRing=function e(){if(this._ptList.size()<1)return null;var t=new Coordinate(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)},OffsetSegmentString.prototype.setMinimumVertexDistance=function e(t){this._minimimVertexDistance=t},OffsetSegmentString.prototype.interfaces_=function e(){return[]},OffsetSegmentString.prototype.getClass=function e(){return OffsetSegmentString},staticAccessors$28.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(OffsetSegmentString,staticAccessors$28);var Angle=function e(){},staticAccessors$29={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Angle.prototype.interfaces_=function e(){return[]},Angle.prototype.getClass=function e(){return Angle},Angle.toDegrees=function e(t){return t*180/Math.PI},Angle.normalize=function e(t){for(;t>Math.PI;)t-=Angle.PI_TIMES_2;for(;t<=-Math.PI;)t+=Angle.PI_TIMES_2;return t},Angle.angle=function e(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var n=arguments[0],i=arguments[1],r=i.x-n.x,u=i.y-n.y;return Math.atan2(u,r)}},Angle.isAcute=function e(t,n,i){var r=t.x-n.x,u=t.y-n.y,d=i.x-n.x,c=i.y-n.y,v=r*d+u*c;return v>0},Angle.isObtuse=function e(t,n,i){var r=t.x-n.x,u=t.y-n.y,d=i.x-n.x,c=i.y-n.y,v=r*d+u*c;return v<0},Angle.interiorAngle=function e(t,n,i){var r=Angle.angle(n,t),u=Angle.angle(n,i);return Math.abs(u-r)},Angle.normalizePositive=function e(t){if(t<0){for(;t<0;)t+=Angle.PI_TIMES_2;t>=Angle.PI_TIMES_2&&(t=0)}else{for(;t>=Angle.PI_TIMES_2;)t-=Angle.PI_TIMES_2;t<0&&(t=0)}return t},Angle.angleBetween=function e(t,n,i){var r=Angle.angle(n,t),u=Angle.angle(n,i);return Angle.diff(r,u)},Angle.diff=function e(t,n){var i=null;return t<n?i=n-t:i=t-n,i>Math.PI&&(i=2*Math.PI-i),i},Angle.toRadians=function e(t){return t*Math.PI/180},Angle.getTurn=function e(t,n){var i=Math.sin(n-t);return i>0?Angle.COUNTERCLOCKWISE:i<0?Angle.CLOCKWISE:Angle.NONE},Angle.angleBetweenOriented=function e(t,n,i){var r=Angle.angle(n,t),u=Angle.angle(n,i),d=u-r;return d<=-Math.PI?d+Angle.PI_TIMES_2:d>Math.PI?d-Angle.PI_TIMES_2:d},staticAccessors$29.PI_TIMES_2.get=function(){return 2*Math.PI},staticAccessors$29.PI_OVER_2.get=function(){return Math.PI/2},staticAccessors$29.PI_OVER_4.get=function(){return Math.PI/4},staticAccessors$29.COUNTERCLOCKWISE.get=function(){return CGAlgorithms.COUNTERCLOCKWISE},staticAccessors$29.CLOCKWISE.get=function(){return CGAlgorithms.CLOCKWISE},staticAccessors$29.NONE.get=function(){return CGAlgorithms.COLLINEAR},Object.defineProperties(Angle,staticAccessors$29);var OffsetSegmentGenerator=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new LineSegment,this._seg1=new LineSegment,this._offset0=new LineSegment,this._offset1=new LineSegment,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new RobustLineIntersector,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===BufferParameters.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},staticAccessors$27={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};OffsetSegmentGenerator.prototype.addNextSegment=function e(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=CGAlgorithms.computeOrientation(this._s0,this._s1,this._s2),r=i===CGAlgorithms.CLOCKWISE&&this._side===Position.LEFT||i===CGAlgorithms.COUNTERCLOCKWISE&&this._side===Position.RIGHT;i===0?this.addCollinear(n):r?this.addOutsideTurn(i,n):this.addInsideTurn(i,n)},OffsetSegmentGenerator.prototype.addLineEndCap=function e(t,n){var i=new LineSegment(t,n),r=new LineSegment;this.computeOffsetSegment(i,Position.LEFT,this._distance,r);var u=new LineSegment;this.computeOffsetSegment(i,Position.RIGHT,this._distance,u);var d=n.x-t.x,c=n.y-t.y,v=Math.atan2(c,d);switch(this._bufParams.getEndCapStyle()){case BufferParameters.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(n,v+Math.PI/2,v-Math.PI/2,CGAlgorithms.CLOCKWISE,this._distance),this._segList.addPt(u.p1);break;case BufferParameters.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(u.p1);break;case BufferParameters.CAP_SQUARE:var S=new Coordinate;S.x=Math.abs(this._distance)*Math.cos(v),S.y=Math.abs(this._distance)*Math.sin(v);var C=new Coordinate(r.p1.x+S.x,r.p1.y+S.y),O=new Coordinate(u.p1.x+S.x,u.p1.y+S.y);this._segList.addPt(C),this._segList.addPt(O);break}},OffsetSegmentGenerator.prototype.getCoordinates=function e(){var t=this._segList.getCoordinates();return t},OffsetSegmentGenerator.prototype.addMitreJoin=function e(t,n,i,r){var u=!0,d=null;try{d=HCoordinate.intersection(n.p0,n.p1,i.p0,i.p1);var c=r<=0?1:d.distance(t)/Math.abs(r);c>this._bufParams.getMitreLimit()&&(u=!1)}catch(v){if(v instanceof NotRepresentableException)d=new Coordinate(0,0),u=!1;else throw v}finally{}u?this._segList.addPt(d):this.addLimitedMitreJoin(n,i,r,this._bufParams.getMitreLimit())},OffsetSegmentGenerator.prototype.addFilletCorner=function e(t,n,i,r,u){var d=n.x-t.x,c=n.y-t.y,v=Math.atan2(c,d),S=i.x-t.x,C=i.y-t.y,O=Math.atan2(C,S);r===CGAlgorithms.CLOCKWISE?v<=O&&(v+=2*Math.PI):v>=O&&(v-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,v,O,r,u),this._segList.addPt(i)},OffsetSegmentGenerator.prototype.addOutsideTurn=function e(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===BufferParameters.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===BufferParameters.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},OffsetSegmentGenerator.prototype.createSquare=function e(t){this._segList.addPt(new Coordinate(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Coordinate(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Coordinate(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Coordinate(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},OffsetSegmentGenerator.prototype.addSegments=function e(t,n){this._segList.addPts(t,n)},OffsetSegmentGenerator.prototype.addFirstSegment=function e(){this._segList.addPt(this._offset1.p0)},OffsetSegmentGenerator.prototype.addLastSegment=function e(){this._segList.addPt(this._offset1.p1)},OffsetSegmentGenerator.prototype.initSideSegments=function e(t,n,i){this._s1=t,this._s2=n,this._side=i,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)},OffsetSegmentGenerator.prototype.addLimitedMitreJoin=function e(t,n,i,r){var u=this._seg0.p1,d=Angle.angle(u,this._seg0.p0),c=Angle.angleBetweenOriented(this._seg0.p0,u,this._seg1.p1),v=c/2,S=Angle.normalize(d+v),C=Angle.normalize(S+Math.PI),O=r*i,R=O*Math.abs(Math.sin(v)),H=i-R,K=u.x+O*Math.cos(C),le=u.y+O*Math.sin(C),fe=new Coordinate(K,le),ye=new LineSegment(u,fe),xe=ye.pointAlongOffset(1,H),Pe=ye.pointAlongOffset(1,-H);this._side===Position.LEFT?(this._segList.addPt(xe),this._segList.addPt(Pe)):(this._segList.addPt(Pe),this._segList.addPt(xe))},OffsetSegmentGenerator.prototype.computeOffsetSegment=function e(t,n,i,r){var u=n===Position.LEFT?1:-1,d=t.p1.x-t.p0.x,c=t.p1.y-t.p0.y,v=Math.sqrt(d*d+c*c),S=u*i*d/v,C=u*i*c/v;r.p0.x=t.p0.x-C,r.p0.y=t.p0.y+S,r.p1.x=t.p1.x-C,r.p1.y=t.p1.y+S},OffsetSegmentGenerator.prototype.addFilletArc=function e(t,n,i,r,u){var d=this,c=r===CGAlgorithms.CLOCKWISE?-1:1,v=Math.abs(n-i),S=Math.trunc(v/this._filletAngleQuantum+.5);if(S<1)return null;for(var C=0,O=v/S,R=C,H=new Coordinate;R<v;){var K=n+c*R;H.x=t.x+u*Math.cos(K),H.y=t.y+u*Math.sin(K),d._segList.addPt(H),R+=O}},OffsetSegmentGenerator.prototype.addInsideTurn=function e(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new Coordinate((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new Coordinate((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},OffsetSegmentGenerator.prototype.createCircle=function e(t){var n=new Coordinate(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},OffsetSegmentGenerator.prototype.addBevelJoin=function e(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)},OffsetSegmentGenerator.prototype.init=function e(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new OffsetSegmentString,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},OffsetSegmentGenerator.prototype.addCollinear=function e(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var n=this._li.getIntersectionNum();n>=2&&(this._bufParams.getJoinStyle()===BufferParameters.JOIN_BEVEL||this._bufParams.getJoinStyle()===BufferParameters.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,CGAlgorithms.CLOCKWISE,this._distance))},OffsetSegmentGenerator.prototype.closeRing=function e(){this._segList.closeRing()},OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=function e(){return this._hasNarrowConcaveAngle},OffsetSegmentGenerator.prototype.interfaces_=function e(){return[]},OffsetSegmentGenerator.prototype.getClass=function e(){return OffsetSegmentGenerator},staticAccessors$27.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},staticAccessors$27.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},staticAccessors$27.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},staticAccessors$27.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(OffsetSegmentGenerator,staticAccessors$27);var OffsetCurveBuilder=function e(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};OffsetCurveBuilder.prototype.getOffsetCurve=function e(t,n){if(this._distance=n,n===0)return null;var i=n<0,r=Math.abs(n),u=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],u):this.computeOffsetCurve(t,i,u);var d=u.getCoordinates();return i&&CoordinateArrays.reverse(d),d},OffsetCurveBuilder.prototype.computeSingleSidedBufferCurve=function e(t,n,i){var r=this.simplifyTolerance(this._distance);if(n){i.addSegments(t,!0);var u=BufferInputLineSimplifier.simplify(t,-r),d=u.length-1;i.initSideSegments(u[d],u[d-1],Position.LEFT),i.addFirstSegment();for(var c=d-2;c>=0;c--)i.addNextSegment(u[c],!0)}else{i.addSegments(t,!1);var v=BufferInputLineSimplifier.simplify(t,r),S=v.length-1;i.initSideSegments(v[0],v[1],Position.LEFT),i.addFirstSegment();for(var C=2;C<=S;C++)i.addNextSegment(v[C],!0)}i.addLastSegment(),i.closeRing()},OffsetCurveBuilder.prototype.computeRingBufferCurve=function e(t,n,i){var r=this.simplifyTolerance(this._distance);n===Position.RIGHT&&(r=-r);var u=BufferInputLineSimplifier.simplify(t,r),d=u.length-1;i.initSideSegments(u[d-1],u[0],n);for(var c=1;c<=d;c++){var v=c!==1;i.addNextSegment(u[c],v)}i.closeRing()},OffsetCurveBuilder.prototype.computeLineBufferCurve=function e(t,n){var i=this.simplifyTolerance(this._distance),r=BufferInputLineSimplifier.simplify(t,i),u=r.length-1;n.initSideSegments(r[0],r[1],Position.LEFT);for(var d=2;d<=u;d++)n.addNextSegment(r[d],!0);n.addLastSegment(),n.addLineEndCap(r[u-1],r[u]);var c=BufferInputLineSimplifier.simplify(t,-i),v=c.length-1;n.initSideSegments(c[v],c[v-1],Position.LEFT);for(var S=v-2;S>=0;S--)n.addNextSegment(c[S],!0);n.addLastSegment(),n.addLineEndCap(c[1],c[0]),n.closeRing()},OffsetCurveBuilder.prototype.computePointCurve=function e(t,n){switch(this._bufParams.getEndCapStyle()){case BufferParameters.CAP_ROUND:n.createCircle(t);break;case BufferParameters.CAP_SQUARE:n.createSquare(t);break}},OffsetCurveBuilder.prototype.getLineCurve=function e(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var i=Math.abs(n),r=this.getSegGen(i);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var u=n<0;this.computeSingleSidedBufferCurve(t,u,r)}else this.computeLineBufferCurve(t,r);var d=r.getCoordinates();return d},OffsetCurveBuilder.prototype.getBufferParameters=function e(){return this._bufParams},OffsetCurveBuilder.prototype.simplifyTolerance=function e(t){return t*this._bufParams.getSimplifyFactor()},OffsetCurveBuilder.prototype.getRingCurve=function e(t,n,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(i===0)return OffsetCurveBuilder.copyCoordinates(t);var r=this.getSegGen(i);return this.computeRingBufferCurve(t,n,r),r.getCoordinates()},OffsetCurveBuilder.prototype.computeOffsetCurve=function e(t,n,i){var r=this.simplifyTolerance(this._distance);if(n){var u=BufferInputLineSimplifier.simplify(t,-r),d=u.length-1;i.initSideSegments(u[d],u[d-1],Position.LEFT),i.addFirstSegment();for(var c=d-2;c>=0;c--)i.addNextSegment(u[c],!0)}else{var v=BufferInputLineSimplifier.simplify(t,r),S=v.length-1;i.initSideSegments(v[0],v[1],Position.LEFT),i.addFirstSegment();for(var C=2;C<=S;C++)i.addNextSegment(v[C],!0)}i.addLastSegment()},OffsetCurveBuilder.prototype.getSegGen=function e(t){return new OffsetSegmentGenerator(this._precisionModel,this._bufParams,t)},OffsetCurveBuilder.prototype.interfaces_=function e(){return[]},OffsetCurveBuilder.prototype.getClass=function e(){return OffsetCurveBuilder},OffsetCurveBuilder.copyCoordinates=function e(t){for(var n=new Array(t.length).fill(null),i=0;i<n.length;i++)n[i]=new Coordinate(t[i]);return n};var SubgraphDepthLocater=function e(){this._subgraphs=null,this._seg=new LineSegment,this._cga=new CGAlgorithms;var t=arguments[0];this._subgraphs=t},staticAccessors$30={DepthSegment:{configurable:!0}};SubgraphDepthLocater.prototype.findStabbedSegments=function e(){var t=this;if(arguments.length===1){for(var n=arguments[0],i=new ArrayList,r=this._subgraphs.iterator();r.hasNext();){var u=r.next(),d=u.getEnvelope();n.y<d.getMinY()||n.y>d.getMaxY()||t.findStabbedSegments(n,u.getDirectedEdges(),i)}return i}else if(arguments.length===3){if(hasInterface(arguments[2],List)&&arguments[0]instanceof Coordinate&&arguments[1]instanceof DirectedEdge)for(var c=arguments[0],v=arguments[1],S=arguments[2],C=v.getEdge().getCoordinates(),O=0;O<C.length-1;O++){t._seg.p0=C[O],t._seg.p1=C[O+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var R=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(R<c.x)&&!t._seg.isHorizontal()&&!(c.y<t._seg.p0.y||c.y>t._seg.p1.y)&&CGAlgorithms.computeOrientation(t._seg.p0,t._seg.p1,c)!==CGAlgorithms.RIGHT){var H=v.getDepth(Position.LEFT);t._seg.p0.equals(C[O])||(H=v.getDepth(Position.RIGHT));var K=new DepthSegment(t._seg,H);S.add(K)}}else if(hasInterface(arguments[2],List)&&arguments[0]instanceof Coordinate&&hasInterface(arguments[1],List))for(var le=arguments[0],fe=arguments[1],ye=arguments[2],xe=fe.iterator();xe.hasNext();){var Pe=xe.next();Pe.isForward()&&t.findStabbedSegments(le,Pe,ye)}}},SubgraphDepthLocater.prototype.getDepth=function e(t){var n=this.findStabbedSegments(t);if(n.size()===0)return 0;var i=Collections.min(n);return i._leftDepth},SubgraphDepthLocater.prototype.interfaces_=function e(){return[]},SubgraphDepthLocater.prototype.getClass=function e(){return SubgraphDepthLocater},staticAccessors$30.DepthSegment.get=function(){return DepthSegment},Object.defineProperties(SubgraphDepthLocater,staticAccessors$30);var DepthSegment=function e(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new LineSegment(t),this._leftDepth=n};DepthSegment.prototype.compareTo=function e(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(n._upwardSeg);return i!==0||(i=-1*n._upwardSeg.orientationIndex(this._upwardSeg),i!==0)?i:this._upwardSeg.compareTo(n._upwardSeg)},DepthSegment.prototype.compareX=function e(t,n){var i=t.p0.compareTo(n.p0);return i!==0?i:t.p1.compareTo(n.p1)},DepthSegment.prototype.toString=function e(){return this._upwardSeg.toString()},DepthSegment.prototype.interfaces_=function e(){return[Comparable]},DepthSegment.prototype.getClass=function e(){return DepthSegment};var Triangle=function e(t,n,i){this.p0=t||null,this.p1=n||null,this.p2=i||null};Triangle.prototype.area=function e(){return Triangle.area(this.p0,this.p1,this.p2)},Triangle.prototype.signedArea=function e(){return Triangle.signedArea(this.p0,this.p1,this.p2)},Triangle.prototype.interpolateZ=function e(t){if(t===null)throw new IllegalArgumentException("Supplied point is null.");return Triangle.interpolateZ(t,this.p0,this.p1,this.p2)},Triangle.prototype.longestSideLength=function e(){return Triangle.longestSideLength(this.p0,this.p1,this.p2)},Triangle.prototype.isAcute=function e(){return Triangle.isAcute(this.p0,this.p1,this.p2)},Triangle.prototype.circumcentre=function e(){return Triangle.circumcentre(this.p0,this.p1,this.p2)},Triangle.prototype.area3D=function e(){return Triangle.area3D(this.p0,this.p1,this.p2)},Triangle.prototype.centroid=function e(){return Triangle.centroid(this.p0,this.p1,this.p2)},Triangle.prototype.inCentre=function e(){return Triangle.inCentre(this.p0,this.p1,this.p2)},Triangle.prototype.interfaces_=function e(){return[]},Triangle.prototype.getClass=function e(){return Triangle},Triangle.area=function e(t,n,i){return Math.abs(((i.x-t.x)*(n.y-t.y)-(n.x-t.x)*(i.y-t.y))/2)},Triangle.signedArea=function e(t,n,i){return((i.x-t.x)*(n.y-t.y)-(n.x-t.x)*(i.y-t.y))/2},Triangle.det=function e(t,n,i,r){return t*r-n*i},Triangle.interpolateZ=function e(t,n,i,r){var u=n.x,d=n.y,c=i.x-u,v=r.x-u,S=i.y-d,C=r.y-d,O=c*C-v*S,R=t.x-u,H=t.y-d,K=(C*R-v*H)/O,le=(-S*R+c*H)/O,fe=n.z+K*(i.z-n.z)+le*(r.z-n.z);return fe},Triangle.longestSideLength=function e(t,n,i){var r=t.distance(n),u=n.distance(i),d=i.distance(t),c=r;return u>c&&(c=u),d>c&&(c=d),c},Triangle.isAcute=function e(t,n,i){return!(!Angle.isAcute(t,n,i)||!Angle.isAcute(n,i,t)||!Angle.isAcute(i,t,n))},Triangle.circumcentre=function e(t,n,i){var r=i.x,u=i.y,d=t.x-r,c=t.y-u,v=n.x-r,S=n.y-u,C=2*Triangle.det(d,c,v,S),O=Triangle.det(c,d*d+c*c,S,v*v+S*S),R=Triangle.det(d,d*d+c*c,v,v*v+S*S),H=r-O/C,K=u+R/C;return new Coordinate(H,K)},Triangle.perpendicularBisector=function e(t,n){var i=n.x-t.x,r=n.y-t.y,u=new HCoordinate(t.x+i/2,t.y+r/2,1),d=new HCoordinate(t.x-r+i/2,t.y+i+r/2,1);return new HCoordinate(u,d)},Triangle.angleBisector=function e(t,n,i){var r=n.distance(t),u=n.distance(i),d=r/(r+u),c=i.x-t.x,v=i.y-t.y,S=new Coordinate(t.x+d*c,t.y+d*v);return S},Triangle.area3D=function e(t,n,i){var r=n.x-t.x,u=n.y-t.y,d=n.z-t.z,c=i.x-t.x,v=i.y-t.y,S=i.z-t.z,C=u*S-d*v,O=d*c-r*S,R=r*v-u*c,H=C*C+O*O+R*R,K=Math.sqrt(H)/2;return K},Triangle.centroid=function e(t,n,i){var r=(t.x+n.x+i.x)/3,u=(t.y+n.y+i.y)/3;return new Coordinate(r,u)},Triangle.inCentre=function e(t,n,i){var r=n.distance(i),u=t.distance(i),d=t.distance(n),c=r+u+d,v=(r*t.x+u*n.x+d*i.x)/c,S=(r*t.y+u*n.y+d*i.y)/c;return new Coordinate(v,S)};var OffsetCurveSetBuilder=function e(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ArrayList;var t=arguments[0],n=arguments[1],i=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=i};OffsetCurveSetBuilder.prototype.addPoint=function e(t){if(this._distance<=0)return null;var n=t.getCoordinates(),i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,Location.EXTERIOR,Location.INTERIOR)},OffsetCurveSetBuilder.prototype.addPolygon=function e(t){var n=this,i=this._distance,r=Position.LEFT;this._distance<0&&(i=-this._distance,r=Position.RIGHT);var u=t.getExteriorRing(),d=CoordinateArrays.removeRepeatedPoints(u.getCoordinates());if(this._distance<0&&this.isErodedCompletely(u,this._distance)||this._distance<=0&&d.length<3)return null;this.addPolygonRing(d,i,r,Location.EXTERIOR,Location.INTERIOR);for(var c=0;c<t.getNumInteriorRing();c++){var v=t.getInteriorRingN(c),S=CoordinateArrays.removeRepeatedPoints(v.getCoordinates());n._distance>0&&n.isErodedCompletely(v,-n._distance)||n.addPolygonRing(S,i,Position.opposite(r),Location.INTERIOR,Location.EXTERIOR)}},OffsetCurveSetBuilder.prototype.isTriangleErodedCompletely=function e(t,n){var i=new Triangle(t[0],t[1],t[2]),r=i.inCentre(),u=CGAlgorithms.distancePointLine(r,i.p0,i.p1);return u<Math.abs(n)},OffsetCurveSetBuilder.prototype.addLineString=function e(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=CoordinateArrays.removeRepeatedPoints(t.getCoordinates()),i=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(i,Location.EXTERIOR,Location.INTERIOR)},OffsetCurveSetBuilder.prototype.addCurve=function e(t,n,i){if(t===null||t.length<2)return null;var r=new NodedSegmentString(t,new Label(0,Location.BOUNDARY,n,i));this._curveList.add(r)},OffsetCurveSetBuilder.prototype.getCurves=function e(){return this.add(this._inputGeom),this._curveList},OffsetCurveSetBuilder.prototype.addPolygonRing=function e(t,n,i,r,u){if(n===0&&t.length<LinearRing.MINIMUM_VALID_SIZE)return null;var d=r,c=u;t.length>=LinearRing.MINIMUM_VALID_SIZE&&CGAlgorithms.isCCW(t)&&(d=u,c=r,i=Position.opposite(i));var v=this._curveBuilder.getRingCurve(t,i,n);this.addCurve(v,d,c)},OffsetCurveSetBuilder.prototype.add=function e(t){if(t.isEmpty())return null;t instanceof Polygon?this.addPolygon(t):t instanceof LineString?this.addLineString(t):t instanceof Point?this.addPoint(t):t instanceof MultiPoint?this.addCollection(t):t instanceof MultiLineString?this.addCollection(t):t instanceof MultiPolygon?this.addCollection(t):t instanceof GeometryCollection&&this.addCollection(t)},OffsetCurveSetBuilder.prototype.isErodedCompletely=function e(t,n){var i=t.getCoordinates();if(i.length<4)return n<0;if(i.length===4)return this.isTriangleErodedCompletely(i,n);var r=t.getEnvelopeInternal(),u=Math.min(r.getHeight(),r.getWidth());return n<0&&2*Math.abs(n)>u},OffsetCurveSetBuilder.prototype.addCollection=function e(t){for(var n=this,i=0;i<t.getNumGeometries();i++){var r=t.getGeometryN(i);n.add(r)}},OffsetCurveSetBuilder.prototype.interfaces_=function e(){return[]},OffsetCurveSetBuilder.prototype.getClass=function e(){return OffsetCurveSetBuilder};var PointOnGeometryLocator=function e(){};PointOnGeometryLocator.prototype.locate=function e(t){},PointOnGeometryLocator.prototype.interfaces_=function e(){return[]},PointOnGeometryLocator.prototype.getClass=function e(){return PointOnGeometryLocator};var GeometryCollectionIterator=function e(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};GeometryCollectionIterator.prototype.next=function e(){if(this._atStart)return this._atStart=!1,GeometryCollectionIterator.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new NoSuchElementException;var t=this._parent.getGeometryN(this._index++);return t instanceof GeometryCollection?(this._subcollectionIterator=new GeometryCollectionIterator(t),this._subcollectionIterator.next()):t},GeometryCollectionIterator.prototype.remove=function e(){throw new Error(this.getClass().getName())},GeometryCollectionIterator.prototype.hasNext=function e(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},GeometryCollectionIterator.prototype.interfaces_=function e(){return[Iterator]},GeometryCollectionIterator.prototype.getClass=function e(){return GeometryCollectionIterator},GeometryCollectionIterator.isAtomic=function e(t){return!(t instanceof GeometryCollection)};var SimplePointInAreaLocator=function e(){this._geom=null;var t=arguments[0];this._geom=t};SimplePointInAreaLocator.prototype.locate=function e(t){return SimplePointInAreaLocator.locate(t,this._geom)},SimplePointInAreaLocator.prototype.interfaces_=function e(){return[PointOnGeometryLocator]},SimplePointInAreaLocator.prototype.getClass=function e(){return SimplePointInAreaLocator},SimplePointInAreaLocator.isPointInRing=function e(t,n){return n.getEnvelopeInternal().intersects(t)?CGAlgorithms.isPointInRing(t,n.getCoordinates()):!1},SimplePointInAreaLocator.containsPointInPolygon=function e(t,n){if(n.isEmpty())return!1;var i=n.getExteriorRing();if(!SimplePointInAreaLocator.isPointInRing(t,i))return!1;for(var r=0;r<n.getNumInteriorRing();r++){var u=n.getInteriorRingN(r);if(SimplePointInAreaLocator.isPointInRing(t,u))return!1}return!0},SimplePointInAreaLocator.containsPoint=function e(t,n){if(n instanceof Polygon)return SimplePointInAreaLocator.containsPointInPolygon(t,n);if(n instanceof GeometryCollection)for(var i=new GeometryCollectionIterator(n);i.hasNext();){var r=i.next();if(r!==n&&SimplePointInAreaLocator.containsPoint(t,r))return!0}return!1},SimplePointInAreaLocator.locate=function e(t,n){return n.isEmpty()?Location.EXTERIOR:SimplePointInAreaLocator.containsPoint(t,n)?Location.INTERIOR:Location.EXTERIOR};var EdgeEndStar=function e(){this._edgeMap=new TreeMap,this._edgeList=null,this._ptInAreaLocation=[Location.NONE,Location.NONE]};EdgeEndStar.prototype.getNextCW=function e(t){this.getEdges();var n=this._edgeList.indexOf(t),i=n-1;return n===0&&(i=this._edgeList.size()-1),this._edgeList.get(i)},EdgeEndStar.prototype.propagateSideLabels=function e(t){for(var n=Location.NONE,i=this.iterator();i.hasNext();){var r=i.next(),u=r.getLabel();u.isArea(t)&&u.getLocation(t,Position.LEFT)!==Location.NONE&&(n=u.getLocation(t,Position.LEFT))}if(n===Location.NONE)return null;for(var d=n,c=this.iterator();c.hasNext();){var v=c.next(),S=v.getLabel();if(S.getLocation(t,Position.ON)===Location.NONE&&S.setLocation(t,Position.ON,d),S.isArea(t)){var C=S.getLocation(t,Position.LEFT),O=S.getLocation(t,Position.RIGHT);if(O!==Location.NONE){if(O!==d)throw new TopologyException("side location conflict",v.getCoordinate());C===Location.NONE&&Assert.shouldNeverReachHere("found single null side (at "+v.getCoordinate()+")"),d=C}else Assert.isTrue(S.getLocation(t,Position.LEFT)===Location.NONE,"found single null side"),S.setLocation(t,Position.RIGHT,d),S.setLocation(t,Position.LEFT,d)}}},EdgeEndStar.prototype.getCoordinate=function e(){var t=this.iterator();if(!t.hasNext())return null;var n=t.next();return n.getCoordinate()},EdgeEndStar.prototype.print=function e(t){System.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();){var i=n.next();i.print(t)}},EdgeEndStar.prototype.isAreaLabelsConsistent=function e(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},EdgeEndStar.prototype.checkAreaLabelsConsistent=function e(t){var n=this.getEdges();if(n.size()<=0)return!0;var i=n.size()-1,r=n.get(i).getLabel(),u=r.getLocation(t,Position.LEFT);Assert.isTrue(u!==Location.NONE,"Found unlabelled area edge");for(var d=u,c=this.iterator();c.hasNext();){var v=c.next(),S=v.getLabel();Assert.isTrue(S.isArea(t),"Found non-area edge");var C=S.getLocation(t,Position.LEFT),O=S.getLocation(t,Position.RIGHT);if(C===O||O!==d)return!1;d=C}return!0},EdgeEndStar.prototype.findIndex=function e(t){var n=this;this.iterator();for(var i=0;i<this._edgeList.size();i++){var r=n._edgeList.get(i);if(r===t)return i}return-1},EdgeEndStar.prototype.iterator=function e(){return this.getEdges().iterator()},EdgeEndStar.prototype.getEdges=function e(){return this._edgeList===null&&(this._edgeList=new ArrayList(this._edgeMap.values())),this._edgeList},EdgeEndStar.prototype.getLocation=function e(t,n,i){return this._ptInAreaLocation[t]===Location.NONE&&(this._ptInAreaLocation[t]=SimplePointInAreaLocator.locate(n,i[t].getGeometry())),this._ptInAreaLocation[t]},EdgeEndStar.prototype.toString=function e(){var t=new StringBuffer;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var i=n.next();t.append(i),t.append(`
`)}return t.toString()},EdgeEndStar.prototype.computeEdgeEndLabels=function e(t){for(var n=this.iterator();n.hasNext();){var i=n.next();i.computeLabel(t)}},EdgeEndStar.prototype.computeLabelling=function e(t){var n=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],r=this.iterator();r.hasNext();)for(var u=r.next(),d=u.getLabel(),c=0;c<2;c++)d.isLine(c)&&d.getLocation(c)===Location.BOUNDARY&&(i[c]=!0);for(var v=this.iterator();v.hasNext();)for(var S=v.next(),C=S.getLabel(),O=0;O<2;O++)if(C.isAnyNull(O)){var R=Location.NONE;if(i[O])R=Location.EXTERIOR;else{var H=S.getCoordinate();R=n.getLocation(O,H,t)}C.setAllLocationsIfNull(O,R)}},EdgeEndStar.prototype.getDegree=function e(){return this._edgeMap.size()},EdgeEndStar.prototype.insertEdgeEnd=function e(t,n){this._edgeMap.put(t,n),this._edgeList=null},EdgeEndStar.prototype.interfaces_=function e(){return[]},EdgeEndStar.prototype.getClass=function e(){return EdgeEndStar};var DirectedEdgeStar=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var i=this;this.getResultAreaEdges();for(var r=null,u=null,d=this._SCANNING_FOR_INCOMING,c=0;c<this._resultAreaEdgeList.size();c++){var v=i._resultAreaEdgeList.get(c),S=v.getSym();if(v.getLabel().isArea())switch(r===null&&v.isInResult()&&(r=v),d){case i._SCANNING_FOR_INCOMING:if(!S.isInResult())continue;u=S,d=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(!v.isInResult())continue;u.setNext(v),d=i._SCANNING_FOR_INCOMING;break}}if(d===this._LINKING_TO_OUTGOING){if(r===null)throw new TopologyException("no outgoing dirEdge found",this.getCoordinate());Assert.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),u.setNext(r)}},t.prototype.insert=function(i){var r=i;this.insertEdgeEnd(r,r)},t.prototype.getRightmostEdge=function(){var i=this.getEdges(),r=i.size();if(r<1)return null;var u=i.get(0);if(r===1)return u;var d=i.get(r-1),c=u.getQuadrant(),v=d.getQuadrant();return Quadrant.isNorthern(c)&&Quadrant.isNorthern(v)?u:!Quadrant.isNorthern(c)&&!Quadrant.isNorthern(v)?d:u.getDy()!==0?u:d.getDy()!==0?d:(Assert.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(i){System.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var r=this.iterator();r.hasNext();){var u=r.next();i.print("out "),u.print(i),i.println(),i.print("in "),u.getSym().print(i),i.println()}},t.prototype.getResultAreaEdges=function(){var i=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ArrayList;for(var r=this.iterator();r.hasNext();){var u=r.next();(u.isInResult()||u.getSym().isInResult())&&i._resultAreaEdgeList.add(u)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(i){for(var r=this.iterator();r.hasNext();){var u=r.next(),d=u.getLabel();d.setAllLocationsIfNull(0,i.getLocation(0)),d.setAllLocationsIfNull(1,i.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var i=this;this.getEdges();for(var r=null,u=null,d=this._edgeList.size()-1;d>=0;d--){var c=i._edgeList.get(d),v=c.getSym();u===null&&(u=v),r!==null&&v.setNext(r),r=c}u.setNext(r)},t.prototype.computeDepths=function(){var i=this;if(arguments.length===1){var r=arguments[0],u=this.findIndex(r),d=r.getDepth(Position.LEFT),c=r.getDepth(Position.RIGHT),v=this.computeDepths(u+1,this._edgeList.size(),d),S=this.computeDepths(0,u,v);if(S!==c)throw new TopologyException("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var C=arguments[0],O=arguments[1],R=arguments[2],H=R,K=C;K<O;K++){var le=i._edgeList.get(K);le.setEdgeDepths(Position.RIGHT,H),H=le.getDepth(Position.LEFT)}return H}},t.prototype.mergeSymLabels=function(){for(var i=this.iterator();i.hasNext();){var r=i.next(),u=r.getLabel();u.merge(r.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(i){for(var r=this,u=null,d=null,c=this._SCANNING_FOR_INCOMING,v=this._resultAreaEdgeList.size()-1;v>=0;v--){var S=r._resultAreaEdgeList.get(v),C=S.getSym();switch(u===null&&S.getEdgeRing()===i&&(u=S),c){case r._SCANNING_FOR_INCOMING:if(C.getEdgeRing()!==i)continue;d=C,c=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(S.getEdgeRing()!==i)continue;d.setNextMin(S),c=r._SCANNING_FOR_INCOMING;break}}c===this._LINKING_TO_OUTGOING&&(Assert.isTrue(u!==null,"found null for first outgoing dirEdge"),Assert.isTrue(u.getEdgeRing()===i,"unable to link last incoming dirEdge"),d.setNextMin(u))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var i=0,r=this.iterator();r.hasNext();){var u=r.next();u.isInResult()&&i++}return i}else if(arguments.length===1){for(var d=arguments[0],c=0,v=this.iterator();v.hasNext();){var S=v.next();S.getEdgeRing()===d&&c++}return c}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var i=Location.NONE,r=this.iterator();r.hasNext();){var u=r.next(),d=u.getSym();if(!u.isLineEdge()){if(u.isInResult()){i=Location.INTERIOR;break}if(d.isInResult()){i=Location.EXTERIOR;break}}}if(i===Location.NONE)return null;for(var c=i,v=this.iterator();v.hasNext();){var S=v.next(),C=S.getSym();S.isLineEdge()?S.getEdge().setCovered(c===Location.INTERIOR):(S.isInResult()&&(c=Location.EXTERIOR),C.isInResult()&&(c=Location.INTERIOR))}},t.prototype.computeLabelling=function(i){var r=this;e.prototype.computeLabelling.call(this,i),this._label=new Label(Location.NONE);for(var u=this.iterator();u.hasNext();)for(var d=u.next(),c=d.getEdge(),v=c.getLabel(),S=0;S<2;S++){var C=v.getLocation(S);(C===Location.INTERIOR||C===Location.BOUNDARY)&&r._label.setLocation(S,Location.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeEndStar),OverlayNodeFactory=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(i){return new Node(i,new DirectedEdgeStar)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(NodeFactory),OrientedCoordinateArray=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};OrientedCoordinateArray.prototype.compareTo=function e(t){var n=t,i=OrientedCoordinateArray.compareOriented(this._pts,this._orientation,n._pts,n._orientation);return i},OrientedCoordinateArray.prototype.interfaces_=function e(){return[Comparable]},OrientedCoordinateArray.prototype.getClass=function e(){return OrientedCoordinateArray},OrientedCoordinateArray.orientation=function e(t){return CoordinateArrays.increasingDirection(t)===1},OrientedCoordinateArray.compareOriented=function e(t,n,i,r){for(var u=n?1:-1,d=r?1:-1,c=n?t.length:-1,v=r?i.length:-1,S=n?0:t.length-1,C=r?0:i.length-1;;){var O=t[S].compareTo(i[C]);if(O!==0)return O;S+=u,C+=d;var R=S===c,H=C===v;if(R&&!H)return-1;if(!R&&H)return 1;if(R&&H)return 0}};var EdgeList=function e(){this._edges=new ArrayList,this._ocaMap=new TreeMap};EdgeList.prototype.print=function e(t){var n=this;t.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var r=n._edges.get(i);i>0&&t.print(","),t.print("(");for(var u=r.getCoordinates(),d=0;d<u.length;d++)d>0&&t.print(","),t.print(u[d].x+" "+u[d].y);t.println(")")}t.print(")  ")},EdgeList.prototype.addAll=function e(t){for(var n=this,i=t.iterator();i.hasNext();)n.add(i.next())},EdgeList.prototype.findEdgeIndex=function e(t){for(var n=this,i=0;i<this._edges.size();i++)if(n._edges.get(i).equals(t))return i;return-1},EdgeList.prototype.iterator=function e(){return this._edges.iterator()},EdgeList.prototype.getEdges=function e(){return this._edges},EdgeList.prototype.get=function e(t){return this._edges.get(t)},EdgeList.prototype.findEqualEdge=function e(t){var n=new OrientedCoordinateArray(t.getCoordinates()),i=this._ocaMap.get(n);return i},EdgeList.prototype.add=function e(t){this._edges.add(t);var n=new OrientedCoordinateArray(t.getCoordinates());this._ocaMap.put(n,t)},EdgeList.prototype.interfaces_=function e(){return[]},EdgeList.prototype.getClass=function e(){return EdgeList};var SegmentIntersector=function e(){};SegmentIntersector.prototype.processIntersections=function e(t,n,i,r){},SegmentIntersector.prototype.isDone=function e(){},SegmentIntersector.prototype.interfaces_=function e(){return[]},SegmentIntersector.prototype.getClass=function e(){return SegmentIntersector};var IntersectionAdder=function e(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};IntersectionAdder.prototype.isTrivialIntersection=function e(t,n,i,r){if(t===i&&this._li.getIntersectionNum()===1){if(IntersectionAdder.isAdjacentSegments(n,r))return!0;if(t.isClosed()){var u=t.size()-1;if(n===0&&r===u||r===0&&n===u)return!0}}return!1},IntersectionAdder.prototype.getProperIntersectionPoint=function e(){return this._properIntersectionPoint},IntersectionAdder.prototype.hasProperInteriorIntersection=function e(){return this._hasProperInterior},IntersectionAdder.prototype.getLineIntersector=function e(){return this._li},IntersectionAdder.prototype.hasProperIntersection=function e(){return this._hasProper},IntersectionAdder.prototype.processIntersections=function e(t,n,i,r){if(t===i&&n===r)return null;this.numTests++;var u=t.getCoordinates()[n],d=t.getCoordinates()[n+1],c=i.getCoordinates()[r],v=i.getCoordinates()[r+1];this._li.computeIntersection(u,d,c,v),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,i,r)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),i.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},IntersectionAdder.prototype.hasIntersection=function e(){return this._hasIntersection},IntersectionAdder.prototype.isDone=function e(){return!1},IntersectionAdder.prototype.hasInteriorIntersection=function e(){return this._hasInterior},IntersectionAdder.prototype.interfaces_=function e(){return[SegmentIntersector]},IntersectionAdder.prototype.getClass=function e(){return IntersectionAdder},IntersectionAdder.isAdjacentSegments=function e(t,n){return Math.abs(t-n)===1};var EdgeIntersection=function e(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],i=arguments[2];this.coord=new Coordinate(t),this.segmentIndex=n,this.dist=i};EdgeIntersection.prototype.getSegmentIndex=function e(){return this.segmentIndex},EdgeIntersection.prototype.getCoordinate=function e(){return this.coord},EdgeIntersection.prototype.print=function e(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},EdgeIntersection.prototype.compareTo=function e(t){var n=t;return this.compare(n.segmentIndex,n.dist)},EdgeIntersection.prototype.isEndPoint=function e(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t},EdgeIntersection.prototype.toString=function e(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},EdgeIntersection.prototype.getDistance=function e(){return this.dist},EdgeIntersection.prototype.compare=function e(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0},EdgeIntersection.prototype.interfaces_=function e(){return[Comparable]},EdgeIntersection.prototype.getClass=function e(){return EdgeIntersection};var EdgeIntersectionList=function e(){this._nodeMap=new TreeMap,this.edge=null;var t=arguments[0];this.edge=t};EdgeIntersectionList.prototype.print=function e(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var i=n.next();i.print(t)}},EdgeIntersectionList.prototype.iterator=function e(){return this._nodeMap.values().iterator()},EdgeIntersectionList.prototype.addSplitEdges=function e(t){var n=this;this.addEndpoints();for(var i=this.iterator(),r=i.next();i.hasNext();){var u=i.next(),d=n.createSplitEdge(r,u);t.add(d),r=u}},EdgeIntersectionList.prototype.addEndpoints=function e(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},EdgeIntersectionList.prototype.createSplitEdge=function e(t,n){var i=this,r=n.segmentIndex-t.segmentIndex+2,u=this.edge.pts[n.segmentIndex],d=n.dist>0||!n.coord.equals2D(u);d||r--;var c=new Array(r).fill(null),v=0;c[v++]=new Coordinate(t.coord);for(var S=t.segmentIndex+1;S<=n.segmentIndex;S++)c[v++]=i.edge.pts[S];return d&&(c[v]=n.coord),new Edge(c,new Label(this.edge._label))},EdgeIntersectionList.prototype.add=function e(t,n,i){var r=new EdgeIntersection(t,n,i),u=this._nodeMap.get(r);return u!==null?u:(this._nodeMap.put(r,r),r)},EdgeIntersectionList.prototype.isIntersection=function e(t){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.coord.equals(t))return!0}return!1},EdgeIntersectionList.prototype.interfaces_=function e(){return[]},EdgeIntersectionList.prototype.getClass=function e(){return EdgeIntersectionList};var MonotoneChainIndexer=function e(){};MonotoneChainIndexer.prototype.getChainStartIndices=function e(t){var n=this,i=0,r=new ArrayList;r.add(new Integer(i));do{var u=n.findChainEnd(t,i);r.add(new Integer(u)),i=u}while(i<t.length-1);var d=MonotoneChainIndexer.toIntArray(r);return d},MonotoneChainIndexer.prototype.findChainEnd=function e(t,n){for(var i=Quadrant.quadrant(t[n],t[n+1]),r=n+1;r<t.length;){var u=Quadrant.quadrant(t[r-1],t[r]);if(u!==i)break;r++}return r-1},MonotoneChainIndexer.prototype.interfaces_=function e(){return[]},MonotoneChainIndexer.prototype.getClass=function e(){return MonotoneChainIndexer},MonotoneChainIndexer.toIntArray=function e(t){for(var n=new Array(t.size()).fill(null),i=0;i<n.length;i++)n[i]=t.get(i).intValue();return n};var MonotoneChainEdge=function e(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Envelope,this.env2=new Envelope;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new MonotoneChainIndexer;this.startIndex=n.getChainStartIndices(this.pts)};MonotoneChainEdge.prototype.getCoordinates=function e(){return this.pts},MonotoneChainEdge.prototype.getMaxX=function e(t){var n=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return n>i?n:i},MonotoneChainEdge.prototype.getMinX=function e(t){var n=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return n<i?n:i},MonotoneChainEdge.prototype.computeIntersectsForChain=function e(){if(arguments.length===4){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[i],n.startIndex[i+1],r)}else if(arguments.length===6){var u=arguments[0],d=arguments[1],c=arguments[2],v=arguments[3],S=arguments[4],C=arguments[5],O=this.pts[u],R=this.pts[d],H=c.pts[v],K=c.pts[S];if(d-u===1&&S-v===1)return C.addIntersections(this.e,u,c.e,v),null;if(this.env1.init(O,R),this.env2.init(H,K),!this.env1.intersects(this.env2))return null;var le=Math.trunc((u+d)/2),fe=Math.trunc((v+S)/2);u<le&&(v<fe&&this.computeIntersectsForChain(u,le,c,v,fe,C),fe<S&&this.computeIntersectsForChain(u,le,c,fe,S,C)),le<d&&(v<fe&&this.computeIntersectsForChain(le,d,c,v,fe,C),fe<S&&this.computeIntersectsForChain(le,d,c,fe,S,C))}},MonotoneChainEdge.prototype.getStartIndexes=function e(){return this.startIndex},MonotoneChainEdge.prototype.computeIntersects=function e(t,n){for(var i=this,r=0;r<this.startIndex.length-1;r++)for(var u=0;u<t.startIndex.length-1;u++)i.computeIntersectsForChain(r,t,u,n)},MonotoneChainEdge.prototype.interfaces_=function e(){return[]},MonotoneChainEdge.prototype.getClass=function e(){return MonotoneChainEdge};var Depth=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var i=0;i<3;i++)t._depth[n][i]=e.NULL_VALUE},staticAccessors$31={NULL_VALUE:{configurable:!0}};Depth.prototype.getDepth=function e(t,n){return this._depth[t][n]},Depth.prototype.setDepth=function e(t,n,i){this._depth[t][n]=i},Depth.prototype.isNull=function e(){var t=this;if(arguments.length===0){for(var n=0;n<2;n++)for(var i=0;i<3;i++)if(t._depth[n][i]!==Depth.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var r=arguments[0];return this._depth[r][1]===Depth.NULL_VALUE}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return this._depth[u][d]===Depth.NULL_VALUE}},Depth.prototype.normalize=function e(){for(var t=this,n=0;n<2;n++)if(!t.isNull(n)){var i=t._depth[n][1];t._depth[n][2]<i&&(i=t._depth[n][2]),i<0&&(i=0);for(var r=1;r<3;r++){var u=0;t._depth[n][r]>i&&(u=1),t._depth[n][r]=u}}},Depth.prototype.getDelta=function e(t){return this._depth[t][Position.RIGHT]-this._depth[t][Position.LEFT]},Depth.prototype.getLocation=function e(t,n){return this._depth[t][n]<=0?Location.EXTERIOR:Location.INTERIOR},Depth.prototype.toString=function e(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Depth.prototype.add=function e(){var t=this;if(arguments.length===1)for(var n=arguments[0],i=0;i<2;i++)for(var r=1;r<3;r++){var u=n.getLocation(i,r);(u===Location.EXTERIOR||u===Location.INTERIOR)&&(t.isNull(i,r)?t._depth[i][r]=Depth.depthAtLocation(u):t._depth[i][r]+=Depth.depthAtLocation(u))}else if(arguments.length===3){var d=arguments[0],c=arguments[1],v=arguments[2];v===Location.INTERIOR&&this._depth[d][c]++}},Depth.prototype.interfaces_=function e(){return[]},Depth.prototype.getClass=function e(){return Depth},Depth.depthAtLocation=function e(t){return t===Location.EXTERIOR?0:t===Location.INTERIOR?1:Depth.NULL_VALUE},staticAccessors$31.NULL_VALUE.get=function(){return-1},Object.defineProperties(Depth,staticAccessors$31);var Edge=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new EdgeIntersectionList(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Depth,this._depthDelta=0,arguments.length===1){var n=arguments[0];t.call(this,n,null)}else if(arguments.length===2){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var i=new Array(2).fill(null);i[0]=this.pts[0],i[1]=this.pts[1];var r=new t(i,Label.toLineLabel(this._label));return r},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(i){this._isIsolated=i},t.prototype.setName=function(i){this._name=i},t.prototype.equals=function(i){var r=this;if(!(i instanceof t))return!1;var u=i;if(this.pts.length!==u.pts.length)return!1;for(var d=!0,c=!0,v=this.pts.length,S=0;S<this.pts.length;S++)if(r.pts[S].equals2D(u.pts[S])||(d=!1),r.pts[S].equals2D(u.pts[--v])||(c=!1),!d&&!c)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var i=arguments[0];return this.pts[i]}},t.prototype.print=function(i){var r=this;i.print("edge "+this._name+": "),i.print("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&i.print(","),i.print(r.pts[u].x+" "+r.pts[u].y);i.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(i){t.updateIM(this._label,i)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(i){var r=this;i.print("edge "+this._name+": ");for(var u=this.pts.length-1;u>=0;u--)i.print(r.pts[u]+" ");i.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new MonotoneChainEdge(this)),this._mce},t.prototype.getEnvelope=function(){var i=this;if(this._env===null){this._env=new Envelope;for(var r=0;r<this.pts.length;r++)i._env.expandToInclude(i.pts[r])}return this._env},t.prototype.addIntersection=function(i,r,u,d){var c=new Coordinate(i.getIntersection(d)),v=r,S=i.getEdgeDistance(u,d),C=v+1;if(C<this.pts.length){var O=this.pts[C];c.equals2D(O)&&(v=C,S=0)}this.eiList.add(c,v,S)},t.prototype.toString=function(){var i=this,r=new StringBuffer;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var u=0;u<this.pts.length;u++)u>0&&r.append(","),r.append(i.pts[u].x+" "+i.pts[u].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()},t.prototype.isPointwiseEqual=function(i){var r=this;if(this.pts.length!==i.pts.length)return!1;for(var u=0;u<this.pts.length;u++)if(!r.pts[u].equals2D(i.pts[u]))return!1;return!0},t.prototype.setDepthDelta=function(i){this._depthDelta=i},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(i,r,u){for(var d=this,c=0;c<i.getIntersectionNum();c++)d.addIntersection(i,r,u,c)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];r.setAtLeastIfValid(i.getLocation(0,Position.ON),i.getLocation(1,Position.ON),1),i.isArea()&&(r.setAtLeastIfValid(i.getLocation(0,Position.LEFT),i.getLocation(1,Position.LEFT),2),r.setAtLeastIfValid(i.getLocation(0,Position.RIGHT),i.getLocation(1,Position.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(GraphComponent),BufferBuilder=function e(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new EdgeList,this._bufParams=t||null};BufferBuilder.prototype.setWorkingPrecisionModel=function e(t){this._workingPrecisionModel=t},BufferBuilder.prototype.insertUniqueEdge=function e(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var i=n.getLabel(),r=t.getLabel();n.isPointwiseEqual(t)||(r=new Label(t.getLabel()),r.flip()),i.merge(r);var u=BufferBuilder.depthDelta(r),d=n.getDepthDelta(),c=d+u;n.setDepthDelta(c)}else this._edgeList.add(t),t.setDepthDelta(BufferBuilder.depthDelta(t.getLabel()))},BufferBuilder.prototype.buildSubgraphs=function e(t,n){for(var i=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=u.getRightmostCoordinate(),c=new SubgraphDepthLocater(i),v=c.getDepth(d);u.computeDepth(v),u.findResultEdges(),i.add(u),n.add(u.getDirectedEdges(),u.getNodes())}},BufferBuilder.prototype.createSubgraphs=function e(t){for(var n=new ArrayList,i=t.getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isVisited()){var u=new BufferSubgraph;u.create(r),n.add(u)}}return Collections.sort(n,Collections.reverseOrder()),n},BufferBuilder.prototype.createEmptyResultGeometry=function e(){var t=this._geomFact.createPolygon();return t},BufferBuilder.prototype.getNoder=function e(t){if(this._workingNoder!==null)return this._workingNoder;var n=new MCIndexNoder,i=new RobustLineIntersector;return i.setPrecisionModel(t),n.setSegmentIntersector(new IntersectionAdder(i)),n},BufferBuilder.prototype.buffer=function e(t,n){var i=this._workingPrecisionModel;i===null&&(i=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new OffsetCurveBuilder(i,this._bufParams),u=new OffsetCurveSetBuilder(t,n,r),d=u.getCurves();if(d.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(d,i),this._graph=new PlanarGraph(new OverlayNodeFactory),this._graph.addEdges(this._edgeList.getEdges());var c=this.createSubgraphs(this._graph),v=new PolygonBuilder(this._geomFact);this.buildSubgraphs(c,v);var S=v.getPolygons();if(S.size()<=0)return this.createEmptyResultGeometry();var C=this._geomFact.buildGeometry(S);return C},BufferBuilder.prototype.computeNodedEdges=function e(t,n){var i=this,r=this.getNoder(n);r.computeNodes(t);for(var u=r.getNodedSubstrings(),d=u.iterator();d.hasNext();){var c=d.next(),v=c.getCoordinates();if(!(v.length===2&&v[0].equals2D(v[1]))){var S=c.getData(),C=new Edge(c.getCoordinates(),new Label(S));i.insertUniqueEdge(C)}}},BufferBuilder.prototype.setNoder=function e(t){this._workingNoder=t},BufferBuilder.prototype.interfaces_=function e(){return[]},BufferBuilder.prototype.getClass=function e(){return BufferBuilder},BufferBuilder.depthDelta=function e(t){var n=t.getLocation(0,Position.LEFT),i=t.getLocation(0,Position.RIGHT);return n===Location.INTERIOR&&i===Location.EXTERIOR?1:n===Location.EXTERIOR&&i===Location.INTERIOR?-1:0},BufferBuilder.convertSegStrings=function e(t){for(var n=new GeometryFactory,i=new ArrayList;t.hasNext();){var r=t.next(),u=n.createLineString(r.getCoordinates());i.add(u)}return n.buildGeometry(i)};var ScaledNoder=function e(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var i=arguments[0],r=arguments[1],u=arguments[2],d=arguments[3];this._noder=i,this._scaleFactor=r,this._offsetX=u,this._offsetY=d,this._isScaled=!this.isIntegerPrecision()}};ScaledNoder.prototype.rescale=function e(){var t=this;if(hasInterface(arguments[0],Collection))for(var n=arguments[0],i=n.iterator();i.hasNext();){var r=i.next();t.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var u=arguments[0],d=0;d<u.length;d++)u[d].x=u[d].x/t._scaleFactor+t._offsetX,u[d].y=u[d].y/t._scaleFactor+t._offsetY;u.length===2&&u[0].equals2D(u[1])&&System.out.println(u)}},ScaledNoder.prototype.scale=function e(){var t=this;if(hasInterface(arguments[0],Collection)){for(var n=arguments[0],i=new ArrayList,r=n.iterator();r.hasNext();){var u=r.next();i.add(new NodedSegmentString(t.scale(u.getCoordinates()),u.getData()))}return i}else if(arguments[0]instanceof Array){for(var d=arguments[0],c=new Array(d.length).fill(null),v=0;v<d.length;v++)c[v]=new Coordinate(Math.round((d[v].x-t._offsetX)*t._scaleFactor),Math.round((d[v].y-t._offsetY)*t._scaleFactor),d[v].z);var S=CoordinateArrays.removeRepeatedPoints(c);return S}},ScaledNoder.prototype.isIntegerPrecision=function e(){return this._scaleFactor===1},ScaledNoder.prototype.getNodedSubstrings=function e(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ScaledNoder.prototype.computeNodes=function e(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)},ScaledNoder.prototype.interfaces_=function e(){return[Noder]},ScaledNoder.prototype.getClass=function e(){return ScaledNoder};var NodingValidator=function e(){this._li=new RobustLineIntersector,this._segStrings=null;var t=arguments[0];this._segStrings=t},staticAccessors$33={fact:{configurable:!0}};NodingValidator.prototype.checkEndPtVertexIntersections=function e(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();t.checkEndPtVertexIntersections(r[0],t._segStrings),t.checkEndPtVertexIntersections(r[r.length-1],t._segStrings)}else if(arguments.length===2){for(var u=arguments[0],d=arguments[1],c=d.iterator();c.hasNext();)for(var v=c.next(),S=v.getCoordinates(),C=1;C<S.length-1;C++)if(S[C].equals(u))throw new RuntimeException("found endpt/interior pt intersection at index "+C+" :pt "+u)}},NodingValidator.prototype.checkInteriorIntersections=function e(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var i=n.next(),r=this._segStrings.iterator();r.hasNext();){var u=r.next();t.checkInteriorIntersections(i,u)}else if(arguments.length===2)for(var d=arguments[0],c=arguments[1],v=d.getCoordinates(),S=c.getCoordinates(),C=0;C<v.length-1;C++)for(var O=0;O<S.length-1;O++)t.checkInteriorIntersections(d,C,c,O);else if(arguments.length===4){var R=arguments[0],H=arguments[1],K=arguments[2],le=arguments[3];if(R===K&&H===le)return null;var fe=R.getCoordinates()[H],ye=R.getCoordinates()[H+1],xe=K.getCoordinates()[le],Pe=K.getCoordinates()[le+1];if(this._li.computeIntersection(fe,ye,xe,Pe),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,fe,ye)||this.hasInteriorIntersection(this._li,xe,Pe)))throw new RuntimeException("found non-noded intersection at "+fe+"-"+ye+" and "+xe+"-"+Pe)}},NodingValidator.prototype.checkValid=function e(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},NodingValidator.prototype.checkCollapses=function e(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var i=n.next();t.checkCollapses(i)}else if(arguments.length===1)for(var r=arguments[0],u=r.getCoordinates(),d=0;d<u.length-2;d++)t.checkCollapse(u[d],u[d+1],u[d+2])},NodingValidator.prototype.hasInteriorIntersection=function e(t,n,i){for(var r=0;r<t.getIntersectionNum();r++){var u=t.getIntersection(r);if(!(u.equals(n)||u.equals(i)))return!0}return!1},NodingValidator.prototype.checkCollapse=function e(t,n,i){if(t.equals(i))throw new RuntimeException("found non-noded collapse at "+NodingValidator.fact.createLineString([t,n,i]))},NodingValidator.prototype.interfaces_=function e(){return[]},NodingValidator.prototype.getClass=function e(){return NodingValidator},staticAccessors$33.fact.get=function(){return new GeometryFactory},Object.defineProperties(NodingValidator,staticAccessors$33);var HotPixel=function e(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],i=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=i,n<=0)throw new IllegalArgumentException("Scale factor must be non-zero");n!==1&&(this._pt=new Coordinate(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Coordinate,this._p1Scaled=new Coordinate),this.initCorners(this._pt)},staticAccessors$34={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};HotPixel.prototype.intersectsScaled=function e(t,n){var i=Math.min(t.x,n.x),r=Math.max(t.x,n.x),u=Math.min(t.y,n.y),d=Math.max(t.y,n.y),c=this._maxx<i||this._minx>r||this._maxy<u||this._miny>d;if(c)return!1;var v=this.intersectsToleranceSquare(t,n);return Assert.isTrue(!(c&&v),"Found bad envelope test"),v},HotPixel.prototype.initCorners=function e(t){var n=.5;this._minx=t.x-n,this._maxx=t.x+n,this._miny=t.y-n,this._maxy=t.y+n,this._corner[0]=new Coordinate(this._maxx,this._maxy),this._corner[1]=new Coordinate(this._minx,this._maxy),this._corner[2]=new Coordinate(this._minx,this._miny),this._corner[3]=new Coordinate(this._maxx,this._miny)},HotPixel.prototype.intersects=function e(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},HotPixel.prototype.scale=function e(t){return Math.round(t*this._scaleFactor)},HotPixel.prototype.getCoordinate=function e(){return this._originalPt},HotPixel.prototype.copyScaled=function e(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)},HotPixel.prototype.getSafeEnvelope=function e(){if(this._safeEnv===null){var t=HotPixel.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Envelope(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},HotPixel.prototype.intersectsPixelClosure=function e(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.hasIntersection()))},HotPixel.prototype.intersectsToleranceSquare=function e(t,n){var i=!1,r=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.isProper())||i&&r||t.equals(this._pt)||n.equals(this._pt))},HotPixel.prototype.addSnappedNode=function e(t,n){var i=t.getCoordinate(n),r=t.getCoordinate(n+1);return this.intersects(i,r)?(t.addIntersection(this.getCoordinate(),n),!0):!1},HotPixel.prototype.interfaces_=function e(){return[]},HotPixel.prototype.getClass=function e(){return HotPixel},staticAccessors$34.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(HotPixel,staticAccessors$34);var MonotoneChainSelectAction=function e(){this.tempEnv1=new Envelope,this.selectedSegment=new LineSegment};MonotoneChainSelectAction.prototype.select=function e(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}},MonotoneChainSelectAction.prototype.interfaces_=function e(){return[]},MonotoneChainSelectAction.prototype.getClass=function e(){return MonotoneChainSelectAction};var MCIndexPointSnapper=function e(){this._index=null;var t=arguments[0];this._index=t},staticAccessors$35={HotPixelSnapAction:{configurable:!0}};MCIndexPointSnapper.prototype.snap=function e(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var n=arguments[0],i=arguments[1],r=arguments[2],u=n.getSafeEnvelope(),d=new HotPixelSnapAction(n,i,r);return this._index.query(u,{interfaces_:function(){return[ItemVisitor]},visitItem:function(c){var v=c;v.select(u,d)}}),d.isNodeAdded()}},MCIndexPointSnapper.prototype.interfaces_=function e(){return[]},MCIndexPointSnapper.prototype.getClass=function e(){return MCIndexPointSnapper},staticAccessors$35.HotPixelSnapAction.get=function(){return HotPixelSnapAction},Object.defineProperties(MCIndexPointSnapper,staticAccessors$35);var HotPixelSnapAction=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],i=arguments[1],r=arguments[2];this._hotPixel=n,this._parentEdge=i,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1],u=i.getContext();if(this._parentEdge!==null&&u===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(u,r)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(MonotoneChainSelectAction),InteriorIntersectionFinderAdder=function e(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new ArrayList};InteriorIntersectionFinderAdder.prototype.processIntersections=function e(t,n,i,r){var u=this;if(t===i&&n===r)return null;var d=t.getCoordinates()[n],c=t.getCoordinates()[n+1],v=i.getCoordinates()[r],S=i.getCoordinates()[r+1];if(this._li.computeIntersection(d,c,v,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var C=0;C<this._li.getIntersectionNum();C++)u._interiorIntersections.add(u._li.getIntersection(C));t.addIntersections(this._li,n,0),i.addIntersections(this._li,r,1)}},InteriorIntersectionFinderAdder.prototype.isDone=function e(){return!1},InteriorIntersectionFinderAdder.prototype.getInteriorIntersections=function e(){return this._interiorIntersections},InteriorIntersectionFinderAdder.prototype.interfaces_=function e(){return[SegmentIntersector]},InteriorIntersectionFinderAdder.prototype.getClass=function e(){return InteriorIntersectionFinderAdder};var MCIndexSnapRounder=function e(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new RobustLineIntersector,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};MCIndexSnapRounder.prototype.checkCorrectness=function e(t){var n=NodedSegmentString.getNodedSubstrings(t),i=new NodingValidator(n);try{i.checkValid()}catch(r){if(r instanceof Exception)r.printStackTrace();else throw r}finally{}},MCIndexSnapRounder.prototype.getNodedSubstrings=function e(){return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)},MCIndexSnapRounder.prototype.snapRound=function e(t,n){var i=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)},MCIndexSnapRounder.prototype.findInteriorIntersections=function e(t,n){var i=new InteriorIntersectionFinderAdder(n);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(t),i.getInteriorIntersections()},MCIndexSnapRounder.prototype.computeVertexSnaps=function e(){var t=this;if(hasInterface(arguments[0],Collection))for(var n=arguments[0],i=n.iterator();i.hasNext();){var r=i.next();t.computeVertexSnaps(r)}else if(arguments[0]instanceof NodedSegmentString)for(var u=arguments[0],d=u.getCoordinates(),c=0;c<d.length;c++){var v=new HotPixel(d[c],t._scaleFactor,t._li),S=t._pointSnapper.snap(v,u,c);S&&u.addIntersection(d[c],c)}},MCIndexSnapRounder.prototype.computeNodes=function e(t){this._nodedSegStrings=t,this._noder=new MCIndexNoder,this._pointSnapper=new MCIndexPointSnapper(this._noder.getIndex()),this.snapRound(t,this._li)},MCIndexSnapRounder.prototype.computeIntersectionSnaps=function e(t){for(var n=this,i=t.iterator();i.hasNext();){var r=i.next(),u=new HotPixel(r,n._scaleFactor,n._li);n._pointSnapper.snap(u)}},MCIndexSnapRounder.prototype.interfaces_=function e(){return[Noder]},MCIndexSnapRounder.prototype.getClass=function e(){return MCIndexSnapRounder};var BufferOp=function e(){if(this._argGeom=null,this._distance=null,this._bufParams=new BufferParameters,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this._argGeom=n,this._bufParams=i}},staticAccessors$32={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};BufferOp.prototype.bufferFixedPrecision=function e(t){var n=new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1)),t.getScale()),i=new BufferBuilder(this._bufParams);i.setWorkingPrecisionModel(t),i.setNoder(n),this._resultGeometry=i.buffer(this._argGeom,this._distance)},BufferOp.prototype.bufferReducedPrecision=function e(){var t=this;if(arguments.length===0){for(var n=BufferOp.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(d){if(d instanceof TopologyException)t._saveException=d;else throw d}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var i=arguments[0],r=BufferOp.precisionScaleFactor(this._argGeom,this._distance,i),u=new PrecisionModel(r);this.bufferFixedPrecision(u)}},BufferOp.prototype.computeGeometry=function e(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===PrecisionModel.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},BufferOp.prototype.setQuadrantSegments=function e(t){this._bufParams.setQuadrantSegments(t)},BufferOp.prototype.bufferOriginalPrecision=function e(){try{var t=new BufferBuilder(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(n instanceof RuntimeException)this._saveException=n;else throw n}finally{}},BufferOp.prototype.getResultGeometry=function e(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},BufferOp.prototype.setEndCapStyle=function e(t){this._bufParams.setEndCapStyle(t)},BufferOp.prototype.interfaces_=function e(){return[]},BufferOp.prototype.getClass=function e(){return BufferOp},BufferOp.bufferOp=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1],i=new BufferOp(t),r=i.getResultGeometry(n);return r}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Geometry&&typeof arguments[1]=="number"){var u=arguments[0],d=arguments[1],c=arguments[2],v=new BufferOp(u);v.setQuadrantSegments(c);var S=v.getResultGeometry(d);return S}else if(arguments[2]instanceof BufferParameters&&arguments[0]instanceof Geometry&&typeof arguments[1]=="number"){var C=arguments[0],O=arguments[1],R=arguments[2],H=new BufferOp(C,R),K=H.getResultGeometry(O);return K}}else if(arguments.length===4){var le=arguments[0],fe=arguments[1],ye=arguments[2],xe=arguments[3],Pe=new BufferOp(le);Pe.setQuadrantSegments(ye),Pe.setEndCapStyle(xe);var Re=Pe.getResultGeometry(fe);return Re}},BufferOp.precisionScaleFactor=function e(t,n,i){var r=t.getEnvelopeInternal(),u=MathUtil.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),d=n>0?n:0,c=u+2*d,v=Math.trunc(Math.log(c)/Math.log(10)+1),S=i-v,C=Math.pow(10,S);return C},staticAccessors$32.CAP_ROUND.get=function(){return BufferParameters.CAP_ROUND},staticAccessors$32.CAP_BUTT.get=function(){return BufferParameters.CAP_FLAT},staticAccessors$32.CAP_FLAT.get=function(){return BufferParameters.CAP_FLAT},staticAccessors$32.CAP_SQUARE.get=function(){return BufferParameters.CAP_SQUARE},staticAccessors$32.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(BufferOp,staticAccessors$32);var PointPairDistance=function e(){this._pt=[new Coordinate,new Coordinate],this._distance=Double.NaN,this._isNull=!0};PointPairDistance.prototype.getCoordinates=function e(){return this._pt},PointPairDistance.prototype.getCoordinate=function e(t){return this._pt[t]},PointPairDistance.prototype.setMinimum=function e(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(n,i),null;var r=n.distance(i);r<this._distance&&this.initialize(n,i,r)}},PointPairDistance.prototype.initialize=function e(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=u,this._isNull=!1}},PointPairDistance.prototype.getDistance=function e(){return this._distance},PointPairDistance.prototype.setMaximum=function e(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(n,i),null;var r=n.distance(i);r>this._distance&&this.initialize(n,i,r)}},PointPairDistance.prototype.interfaces_=function e(){return[]},PointPairDistance.prototype.getClass=function e(){return PointPairDistance};var DistanceToPointFinder=function e(){};DistanceToPointFinder.prototype.interfaces_=function e(){return[]},DistanceToPointFinder.prototype.getClass=function e(){return DistanceToPointFinder},DistanceToPointFinder.computeDistance=function e(){if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof LineString&&arguments[1]instanceof Coordinate)for(var t=arguments[0],n=arguments[1],i=arguments[2],r=t.getCoordinates(),u=new LineSegment,d=0;d<r.length-1;d++){u.setCoordinates(r[d],r[d+1]);var c=u.closestPoint(n);i.setMinimum(c,n)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof Polygon&&arguments[1]instanceof Coordinate){var v=arguments[0],S=arguments[1],C=arguments[2];DistanceToPointFinder.computeDistance(v.getExteriorRing(),S,C);for(var O=0;O<v.getNumInteriorRing();O++)DistanceToPointFinder.computeDistance(v.getInteriorRingN(O),S,C)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof Geometry&&arguments[1]instanceof Coordinate){var R=arguments[0],H=arguments[1],K=arguments[2];if(R instanceof LineString)DistanceToPointFinder.computeDistance(R,H,K);else if(R instanceof Polygon)DistanceToPointFinder.computeDistance(R,H,K);else if(R instanceof GeometryCollection)for(var le=R,fe=0;fe<le.getNumGeometries();fe++){var ye=le.getGeometryN(fe);DistanceToPointFinder.computeDistance(ye,H,K)}else K.setMinimum(R.getCoordinate(),H)}else if(arguments[2]instanceof PointPairDistance&&arguments[0]instanceof LineSegment&&arguments[1]instanceof Coordinate){var xe=arguments[0],Pe=arguments[1],Re=arguments[2],Ze=xe.closestPoint(Pe);Re.setMinimum(Ze,Pe)}};var BufferCurveMaximumDistanceFinder=function e(t){this._maxPtDist=new PointPairDistance,this._inputGeom=t||null},staticAccessors$36={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};BufferCurveMaximumDistanceFinder.prototype.computeMaxMidpointDistance=function e(t){var n=new MaxMidpointDistanceFilter(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},BufferCurveMaximumDistanceFinder.prototype.computeMaxVertexDistance=function e(t){var n=new MaxPointDistanceFilter(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},BufferCurveMaximumDistanceFinder.prototype.findDistance=function e(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},BufferCurveMaximumDistanceFinder.prototype.getDistancePoints=function e(){return this._maxPtDist},BufferCurveMaximumDistanceFinder.prototype.interfaces_=function e(){return[]},BufferCurveMaximumDistanceFinder.prototype.getClass=function e(){return BufferCurveMaximumDistanceFinder},staticAccessors$36.MaxPointDistanceFilter.get=function(){return MaxPointDistanceFilter},staticAccessors$36.MaxMidpointDistanceFilter.get=function(){return MaxMidpointDistanceFilter},Object.defineProperties(BufferCurveMaximumDistanceFinder,staticAccessors$36);var MaxPointDistanceFilter=function e(t){this._maxPtDist=new PointPairDistance,this._minPtDist=new PointPairDistance,this._geom=t||null};MaxPointDistanceFilter.prototype.filter=function e(t){this._minPtDist.initialize(),DistanceToPointFinder.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxPointDistanceFilter.prototype.getMaxPointDistance=function e(){return this._maxPtDist},MaxPointDistanceFilter.prototype.interfaces_=function e(){return[CoordinateFilter]},MaxPointDistanceFilter.prototype.getClass=function e(){return MaxPointDistanceFilter};var MaxMidpointDistanceFilter=function e(t){this._maxPtDist=new PointPairDistance,this._minPtDist=new PointPairDistance,this._geom=t||null};MaxMidpointDistanceFilter.prototype.filter=function e(t,n){if(n===0)return null;var i=t.getCoordinate(n-1),r=t.getCoordinate(n),u=new Coordinate((i.x+r.x)/2,(i.y+r.y)/2);this._minPtDist.initialize(),DistanceToPointFinder.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxMidpointDistanceFilter.prototype.isDone=function e(){return!1},MaxMidpointDistanceFilter.prototype.isGeometryChanged=function e(){return!1},MaxMidpointDistanceFilter.prototype.getMaxPointDistance=function e(){return this._maxPtDist},MaxMidpointDistanceFilter.prototype.interfaces_=function e(){return[CoordinateSequenceFilter]},MaxMidpointDistanceFilter.prototype.getClass=function e(){return MaxMidpointDistanceFilter};var PolygonExtracter=function e(t){this._comps=t||null};PolygonExtracter.prototype.filter=function e(t){t instanceof Polygon&&this._comps.add(t)},PolygonExtracter.prototype.interfaces_=function e(){return[GeometryFilter]},PolygonExtracter.prototype.getClass=function e(){return PolygonExtracter},PolygonExtracter.getPolygons=function e(){if(arguments.length===1){var t=arguments[0];return PolygonExtracter.getPolygons(t,new ArrayList)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return n instanceof Polygon?i.add(n):n instanceof GeometryCollection&&n.apply(new PolygonExtracter(i)),i}};var LinearComponentExtracter=function e(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this._lines=n,this._isForcedToLineString=i}};LinearComponentExtracter.prototype.filter=function e(t){if(this._isForcedToLineString&&t instanceof LinearRing){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof LineString&&this._lines.add(t)},LinearComponentExtracter.prototype.setForceToLineString=function e(t){this._isForcedToLineString=t},LinearComponentExtracter.prototype.interfaces_=function e(){return[GeometryComponentFilter]},LinearComponentExtracter.prototype.getClass=function e(){return LinearComponentExtracter},LinearComponentExtracter.getGeometry=function e(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(LinearComponentExtracter.getLines(t))}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return n.getFactory().buildGeometry(LinearComponentExtracter.getLines(n,i))}},LinearComponentExtracter.getLines=function e(){if(arguments.length===1){var t=arguments[0];return LinearComponentExtracter.getLines(t,!1)}else if(arguments.length===2){if(hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],Collection)){for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var u=r.next();LinearComponentExtracter.getLines(u,i)}return i}else if(arguments[0]instanceof Geometry&&typeof arguments[1]=="boolean"){var d=arguments[0],c=arguments[1],v=new ArrayList;return d.apply(new LinearComponentExtracter(v,c)),v}else if(arguments[0]instanceof Geometry&&hasInterface(arguments[1],Collection)){var S=arguments[0],C=arguments[1];return S instanceof LineString?C.add(S):S.apply(new LinearComponentExtracter(C)),C}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],Collection)){for(var O=arguments[0],R=arguments[1],H=arguments[2],K=O.iterator();K.hasNext();){var le=K.next();LinearComponentExtracter.getLines(le,R,H)}return R}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Geometry&&hasInterface(arguments[1],Collection)){var fe=arguments[0],ye=arguments[1],xe=arguments[2];return fe.apply(new LinearComponentExtracter(ye,xe)),ye}}};var PointLocator=function e(){if(this._boundaryRule=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new IllegalArgumentException("Rule must be non-null");this._boundaryRule=t}}};PointLocator.prototype.locateInternal=function e(){var t=this;if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Polygon){var n=arguments[0],i=arguments[1];if(i.isEmpty())return Location.EXTERIOR;var r=i.getExteriorRing(),u=this.locateInPolygonRing(n,r);if(u===Location.EXTERIOR)return Location.EXTERIOR;if(u===Location.BOUNDARY)return Location.BOUNDARY;for(var d=0;d<i.getNumInteriorRing();d++){var c=i.getInteriorRingN(d),v=t.locateInPolygonRing(n,c);if(v===Location.INTERIOR)return Location.EXTERIOR;if(v===Location.BOUNDARY)return Location.BOUNDARY}return Location.INTERIOR}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof LineString){var S=arguments[0],C=arguments[1];if(!C.getEnvelopeInternal().intersects(S))return Location.EXTERIOR;var O=C.getCoordinates();return!C.isClosed()&&(S.equals(O[0])||S.equals(O[O.length-1]))?Location.BOUNDARY:CGAlgorithms.isOnLine(S,O)?Location.INTERIOR:Location.EXTERIOR}else if(arguments[0]instanceof Coordinate&&arguments[1]instanceof Point){var R=arguments[0],H=arguments[1],K=H.getCoordinate();return K.equals2D(R)?Location.INTERIOR:Location.EXTERIOR}},PointLocator.prototype.locateInPolygonRing=function e(t,n){return n.getEnvelopeInternal().intersects(t)?CGAlgorithms.locatePointInRing(t,n.getCoordinates()):Location.EXTERIOR},PointLocator.prototype.intersects=function e(t,n){return this.locate(t,n)!==Location.EXTERIOR},PointLocator.prototype.updateLocationInfo=function e(t){t===Location.INTERIOR&&(this._isIn=!0),t===Location.BOUNDARY&&this._numBoundaries++},PointLocator.prototype.computeLocation=function e(t,n){var i=this;if(n instanceof Point&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof LineString)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Polygon)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof MultiLineString)for(var r=n,u=0;u<r.getNumGeometries();u++){var d=r.getGeometryN(u);i.updateLocationInfo(i.locateInternal(t,d))}else if(n instanceof MultiPolygon)for(var c=n,v=0;v<c.getNumGeometries();v++){var S=c.getGeometryN(v);i.updateLocationInfo(i.locateInternal(t,S))}else if(n instanceof GeometryCollection)for(var C=new GeometryCollectionIterator(n);C.hasNext();){var O=C.next();O!==n&&i.computeLocation(t,O)}},PointLocator.prototype.locate=function e(t,n){return n.isEmpty()?Location.EXTERIOR:n instanceof LineString?this.locateInternal(t,n):n instanceof Polygon?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?Location.BOUNDARY:this._numBoundaries>0||this._isIn?Location.INTERIOR:Location.EXTERIOR)},PointLocator.prototype.interfaces_=function e(){return[]},PointLocator.prototype.getClass=function e(){return PointLocator};var GeometryLocation=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this._component=i,this._segIndex=r,this._pt=u}},staticAccessors$38={INSIDE_AREA:{configurable:!0}};GeometryLocation.prototype.isInsideArea=function e(){return this._segIndex===GeometryLocation.INSIDE_AREA},GeometryLocation.prototype.getCoordinate=function e(){return this._pt},GeometryLocation.prototype.getGeometryComponent=function e(){return this._component},GeometryLocation.prototype.getSegmentIndex=function e(){return this._segIndex},GeometryLocation.prototype.interfaces_=function e(){return[]},GeometryLocation.prototype.getClass=function e(){return GeometryLocation},staticAccessors$38.INSIDE_AREA.get=function(){return-1},Object.defineProperties(GeometryLocation,staticAccessors$38);var PointExtracter=function e(t){this._pts=t||null};PointExtracter.prototype.filter=function e(t){t instanceof Point&&this._pts.add(t)},PointExtracter.prototype.interfaces_=function e(){return[GeometryFilter]},PointExtracter.prototype.getClass=function e(){return PointExtracter},PointExtracter.getPoints=function e(){if(arguments.length===1){var t=arguments[0];return t instanceof Point?Collections.singletonList(t):PointExtracter.getPoints(t,new ArrayList)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return n instanceof Point?i.add(n):n instanceof GeometryCollection&&n.apply(new PointExtracter(i)),i}};var ConnectedElementLocationFilter=function e(){this._locations=null;var t=arguments[0];this._locations=t};ConnectedElementLocationFilter.prototype.filter=function e(t){(t instanceof Point||t instanceof LineString||t instanceof Polygon)&&this._locations.add(new GeometryLocation(t,0,t.getCoordinate()))},ConnectedElementLocationFilter.prototype.interfaces_=function e(){return[GeometryFilter]},ConnectedElementLocationFilter.prototype.getClass=function e(){return ConnectedElementLocationFilter},ConnectedElementLocationFilter.getLocations=function e(t){var n=new ArrayList;return t.apply(new ConnectedElementLocationFilter(n)),n};var DistanceOp=function e(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new PointLocator,this._minDistanceLocation=null,this._minDistance=Double.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=r,this._terminateDistance=u}};DistanceOp.prototype.computeContainmentDistance=function e(){var t=this;if(arguments.length===0){var n=new Array(2).fill(null);if(this.computeContainmentDistance(0,n),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,n)}else if(arguments.length===2){var i=arguments[0],r=arguments[1],u=1-i,d=PolygonExtracter.getPolygons(this._geom[i]);if(d.size()>0){var c=ConnectedElementLocationFilter.getLocations(this._geom[u]);if(this.computeContainmentDistance(c,d,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[u]=r[0],this._minDistanceLocation[i]=r[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&hasInterface(arguments[0],List)&&hasInterface(arguments[1],List)){for(var v=arguments[0],S=arguments[1],C=arguments[2],O=0;O<v.size();O++)for(var R=v.get(O),H=0;H<S.size();H++)if(t.computeContainmentDistance(R,S.get(H),C),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof GeometryLocation&&arguments[1]instanceof Polygon){var K=arguments[0],le=arguments[1],fe=arguments[2],ye=K.getCoordinate();if(Location.EXTERIOR!==this._ptLocator.locate(ye,le))return this._minDistance=0,fe[0]=K,fe[1]=new GeometryLocation(le,ye),null}}},DistanceOp.prototype.computeMinDistanceLinesPoints=function e(t,n,i){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<n.size();c++){var v=n.get(c);if(r.computeMinDistance(d,v,i),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.computeFacetDistance=function e(){var t=new Array(2).fill(null),n=LinearComponentExtracter.getLines(this._geom[0]),i=LinearComponentExtracter.getLines(this._geom[1]),r=PointExtracter.getPoints(this._geom[0]),u=PointExtracter.getPoints(this._geom[1]);if(this.computeMinDistanceLines(n,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,u,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(r,u,t),this.updateMinDistance(t,!1)},DistanceOp.prototype.nearestLocations=function e(){return this.computeMinDistance(),this._minDistanceLocation},DistanceOp.prototype.updateMinDistance=function e(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},DistanceOp.prototype.nearestPoints=function e(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t},DistanceOp.prototype.computeMinDistance=function e(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof LineString&&arguments[1]instanceof Point){var n=arguments[0],i=arguments[1],r=arguments[2];if(n.getEnvelopeInternal().distance(i.getEnvelopeInternal())>this._minDistance)return null;for(var u=n.getCoordinates(),d=i.getCoordinate(),c=0;c<u.length-1;c++){var v=CGAlgorithms.distancePointLine(d,u[c],u[c+1]);if(v<t._minDistance){t._minDistance=v;var S=new LineSegment(u[c],u[c+1]),C=S.closestPoint(d);r[0]=new GeometryLocation(n,c,C),r[1]=new GeometryLocation(i,0,d)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof LineString&&arguments[1]instanceof LineString){var O=arguments[0],R=arguments[1],H=arguments[2];if(O.getEnvelopeInternal().distance(R.getEnvelopeInternal())>this._minDistance)return null;for(var K=O.getCoordinates(),le=R.getCoordinates(),fe=0;fe<K.length-1;fe++)for(var ye=0;ye<le.length-1;ye++){var xe=CGAlgorithms.distanceLineLine(K[fe],K[fe+1],le[ye],le[ye+1]);if(xe<t._minDistance){t._minDistance=xe;var Pe=new LineSegment(K[fe],K[fe+1]),Re=new LineSegment(le[ye],le[ye+1]),Ze=Pe.closestPoints(Re);H[0]=new GeometryLocation(O,fe,Ze[0]),H[1]=new GeometryLocation(R,ye,Ze[1])}if(t._minDistance<=t._terminateDistance)return null}}}},DistanceOp.prototype.computeMinDistancePoints=function e(t,n,i){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<n.size();c++){var v=n.get(c),S=d.getCoordinate().distance(v.getCoordinate());if(S<r._minDistance&&(r._minDistance=S,i[0]=new GeometryLocation(d,0,d.getCoordinate()),i[1]=new GeometryLocation(v,0,v.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.distance=function e(){if(this._geom[0]===null||this._geom[1]===null)throw new IllegalArgumentException("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},DistanceOp.prototype.computeMinDistanceLines=function e(t,n,i){for(var r=this,u=0;u<t.size();u++)for(var d=t.get(u),c=0;c<n.size();c++){var v=n.get(c);if(r.computeMinDistance(d,v,i),r._minDistance<=r._terminateDistance)return null}},DistanceOp.prototype.interfaces_=function e(){return[]},DistanceOp.prototype.getClass=function e(){return DistanceOp},DistanceOp.distance=function e(t,n){var i=new DistanceOp(t,n);return i.distance()},DistanceOp.isWithinDistance=function e(t,n,i){var r=new DistanceOp(t,n,i);return r.distance()<=i},DistanceOp.nearestPoints=function e(t,n){var i=new DistanceOp(t,n);return i.nearestPoints()};var PointPairDistance$2=function e(){this._pt=[new Coordinate,new Coordinate],this._distance=Double.NaN,this._isNull=!0};PointPairDistance$2.prototype.getCoordinates=function e(){return this._pt},PointPairDistance$2.prototype.getCoordinate=function e(t){return this._pt[t]},PointPairDistance$2.prototype.setMinimum=function e(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(n,i),null;var r=n.distance(i);r<this._distance&&this.initialize(n,i,r)}},PointPairDistance$2.prototype.initialize=function e(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(r),this._distance=u,this._isNull=!1}},PointPairDistance$2.prototype.toString=function e(){return WKTWriter.toLineString(this._pt[0],this._pt[1])},PointPairDistance$2.prototype.getDistance=function e(){return this._distance},PointPairDistance$2.prototype.setMaximum=function e(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(n,i),null;var r=n.distance(i);r>this._distance&&this.initialize(n,i,r)}},PointPairDistance$2.prototype.interfaces_=function e(){return[]},PointPairDistance$2.prototype.getClass=function e(){return PointPairDistance$2};var DistanceToPoint=function e(){};DistanceToPoint.prototype.interfaces_=function e(){return[]},DistanceToPoint.prototype.getClass=function e(){return DistanceToPoint},DistanceToPoint.computeDistance=function e(){if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof LineString&&arguments[1]instanceof Coordinate)for(var t=arguments[0],n=arguments[1],i=arguments[2],r=new LineSegment,u=t.getCoordinates(),d=0;d<u.length-1;d++){r.setCoordinates(u[d],u[d+1]);var c=r.closestPoint(n);i.setMinimum(c,n)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof Polygon&&arguments[1]instanceof Coordinate){var v=arguments[0],S=arguments[1],C=arguments[2];DistanceToPoint.computeDistance(v.getExteriorRing(),S,C);for(var O=0;O<v.getNumInteriorRing();O++)DistanceToPoint.computeDistance(v.getInteriorRingN(O),S,C)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof Geometry&&arguments[1]instanceof Coordinate){var R=arguments[0],H=arguments[1],K=arguments[2];if(R instanceof LineString)DistanceToPoint.computeDistance(R,H,K);else if(R instanceof Polygon)DistanceToPoint.computeDistance(R,H,K);else if(R instanceof GeometryCollection)for(var le=R,fe=0;fe<le.getNumGeometries();fe++){var ye=le.getGeometryN(fe);DistanceToPoint.computeDistance(ye,H,K)}else K.setMinimum(R.getCoordinate(),H)}else if(arguments[2]instanceof PointPairDistance$2&&arguments[0]instanceof LineSegment&&arguments[1]instanceof Coordinate){var xe=arguments[0],Pe=arguments[1],Re=arguments[2],Ze=xe.closestPoint(Pe);Re.setMinimum(Ze,Pe)}};var DiscreteHausdorffDistance=function e(){this._g0=null,this._g1=null,this._ptDist=new PointPairDistance$2,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},staticAccessors$39={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};DiscreteHausdorffDistance.prototype.getCoordinates=function e(){return this._ptDist.getCoordinates()},DiscreteHausdorffDistance.prototype.setDensifyFraction=function e(t){if(t>1||t<=0)throw new IllegalArgumentException("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},DiscreteHausdorffDistance.prototype.compute=function e(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)},DiscreteHausdorffDistance.prototype.distance=function e(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},DiscreteHausdorffDistance.prototype.computeOrientedDistance=function e(t,n,i){var r=new MaxPointDistanceFilter$1(n);if(t.apply(r),i.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var u=new MaxDensifiedByFractionDistanceFilter(n,this._densifyFrac);t.apply(u),i.setMaximum(u.getMaxPointDistance())}},DiscreteHausdorffDistance.prototype.orientedDistance=function e(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},DiscreteHausdorffDistance.prototype.interfaces_=function e(){return[]},DiscreteHausdorffDistance.prototype.getClass=function e(){return DiscreteHausdorffDistance},DiscreteHausdorffDistance.distance=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1],i=new DiscreteHausdorffDistance(t,n);return i.distance()}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=new DiscreteHausdorffDistance(r,u);return c.setDensifyFraction(d),c.distance()}},staticAccessors$39.MaxPointDistanceFilter.get=function(){return MaxPointDistanceFilter$1},staticAccessors$39.MaxDensifiedByFractionDistanceFilter.get=function(){return MaxDensifiedByFractionDistanceFilter},Object.defineProperties(DiscreteHausdorffDistance,staticAccessors$39);var MaxPointDistanceFilter$1=function e(){this._maxPtDist=new PointPairDistance$2,this._minPtDist=new PointPairDistance$2,this._euclideanDist=new DistanceToPoint,this._geom=null;var t=arguments[0];this._geom=t};MaxPointDistanceFilter$1.prototype.filter=function e(t){this._minPtDist.initialize(),DistanceToPoint.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},MaxPointDistanceFilter$1.prototype.getMaxPointDistance=function e(){return this._maxPtDist},MaxPointDistanceFilter$1.prototype.interfaces_=function e(){return[CoordinateFilter]},MaxPointDistanceFilter$1.prototype.getClass=function e(){return MaxPointDistanceFilter$1};var MaxDensifiedByFractionDistanceFilter=function e(){this._maxPtDist=new PointPairDistance$2,this._minPtDist=new PointPairDistance$2,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};MaxDensifiedByFractionDistanceFilter.prototype.filter=function e(t,n){var i=this;if(n===0)return null;for(var r=t.getCoordinate(n-1),u=t.getCoordinate(n),d=(u.x-r.x)/this._numSubSegs,c=(u.y-r.y)/this._numSubSegs,v=0;v<this._numSubSegs;v++){var S=r.x+v*d,C=r.y+v*c,O=new Coordinate(S,C);i._minPtDist.initialize(),DistanceToPoint.computeDistance(i._geom,O,i._minPtDist),i._maxPtDist.setMaximum(i._minPtDist)}},MaxDensifiedByFractionDistanceFilter.prototype.isDone=function e(){return!1},MaxDensifiedByFractionDistanceFilter.prototype.isGeometryChanged=function e(){return!1},MaxDensifiedByFractionDistanceFilter.prototype.getMaxPointDistance=function e(){return this._maxPtDist},MaxDensifiedByFractionDistanceFilter.prototype.interfaces_=function e(){return[CoordinateSequenceFilter]},MaxDensifiedByFractionDistanceFilter.prototype.getClass=function e(){return MaxDensifiedByFractionDistanceFilter};var BufferDistanceValidator=function e(t,n,i){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=i||null},staticAccessors$37={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};BufferDistanceValidator.prototype.checkMaximumDistance=function e(t,n,i){var r=new DiscreteHausdorffDistance(n,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>i){this._isValid=!1;var u=r.getCoordinates();this._errorLocation=u[1],this._errorIndicator=t.getFactory().createLineString(u),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+WKTWriter.toLineString(u[0],u[1])+")"}},BufferDistanceValidator.prototype.isValid=function e(){var t=Math.abs(this._bufDistance),n=BufferDistanceValidator.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),BufferDistanceValidator.VERBOSE&&System.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},BufferDistanceValidator.prototype.checkNegativeValid=function e(){if(!(this._input instanceof Polygon||this._input instanceof MultiPolygon||this._input instanceof GeometryCollection))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},BufferDistanceValidator.prototype.getErrorIndicator=function e(){return this._errorIndicator},BufferDistanceValidator.prototype.checkMinimumDistance=function e(t,n,i){var r=new DistanceOp(t,n,i);if(this._minDistanceFound=r.distance(),this._minDistanceFound<i){this._isValid=!1;var u=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(u),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+WKTWriter.toLineString(u[0],u[1])+" )"}},BufferDistanceValidator.prototype.checkPositiveValid=function e(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},BufferDistanceValidator.prototype.getErrorLocation=function e(){return this._errorLocation},BufferDistanceValidator.prototype.getPolygonLines=function e(t){for(var n=new ArrayList,i=new LinearComponentExtracter(n),r=PolygonExtracter.getPolygons(t),u=r.iterator();u.hasNext();){var d=u.next();d.apply(i)}return t.getFactory().buildGeometry(n)},BufferDistanceValidator.prototype.getErrorMessage=function e(){return this._errMsg},BufferDistanceValidator.prototype.interfaces_=function e(){return[]},BufferDistanceValidator.prototype.getClass=function e(){return BufferDistanceValidator},staticAccessors$37.VERBOSE.get=function(){return!1},staticAccessors$37.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(BufferDistanceValidator,staticAccessors$37);var BufferResultValidator=function e(t,n,i){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=i||null},staticAccessors$40={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};BufferResultValidator.prototype.isValid=function e(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},BufferResultValidator.prototype.checkEnvelope=function e(){if(this._distance<0)return null;var t=this._distance*BufferResultValidator.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new Envelope(this._input.getEnvelopeInternal());n.expandBy(this._distance);var i=new Envelope(this._result.getEnvelopeInternal());i.expandBy(t),i.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(i)),this.report("Envelope")},BufferResultValidator.prototype.checkDistance=function e(){var t=new BufferDistanceValidator(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},BufferResultValidator.prototype.checkArea=function e(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},BufferResultValidator.prototype.checkPolygonal=function e(){this._result instanceof Polygon||this._result instanceof MultiPolygon||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},BufferResultValidator.prototype.getErrorIndicator=function e(){return this._errorIndicator},BufferResultValidator.prototype.getErrorLocation=function e(){return this._errorLocation},BufferResultValidator.prototype.checkExpectedEmpty=function e(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")},BufferResultValidator.prototype.report=function e(t){if(!BufferResultValidator.VERBOSE)return null;System.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},BufferResultValidator.prototype.getErrorMessage=function e(){return this._errorMsg},BufferResultValidator.prototype.interfaces_=function e(){return[]},BufferResultValidator.prototype.getClass=function e(){return BufferResultValidator},BufferResultValidator.isValidMsg=function e(t,n,i){var r=new BufferResultValidator(t,n,i);return r.isValid()?null:r.getErrorMessage()},BufferResultValidator.isValid=function e(t,n,i){var r=new BufferResultValidator(t,n,i);return!!r.isValid()},staticAccessors$40.VERBOSE.get=function(){return!1},staticAccessors$40.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(BufferResultValidator,staticAccessors$40);var BasicSegmentString=function e(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};BasicSegmentString.prototype.getCoordinates=function e(){return this._pts},BasicSegmentString.prototype.size=function e(){return this._pts.length},BasicSegmentString.prototype.getCoordinate=function e(t){return this._pts[t]},BasicSegmentString.prototype.isClosed=function e(){return this._pts[0].equals(this._pts[this._pts.length-1])},BasicSegmentString.prototype.getSegmentOctant=function e(t){return t===this._pts.length-1?-1:Octant.octant(this.getCoordinate(t),this.getCoordinate(t+1))},BasicSegmentString.prototype.setData=function e(t){this._data=t},BasicSegmentString.prototype.getData=function e(){return this._data},BasicSegmentString.prototype.toString=function e(){return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))},BasicSegmentString.prototype.interfaces_=function e(){return[SegmentString]},BasicSegmentString.prototype.getClass=function e(){return BasicSegmentString};var InteriorIntersectionFinder=function e(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ArrayList,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};InteriorIntersectionFinder.prototype.getInteriorIntersection=function e(){return this._interiorIntersection},InteriorIntersectionFinder.prototype.setCheckEndSegmentsOnly=function e(t){this._isCheckEndSegmentsOnly=t},InteriorIntersectionFinder.prototype.getIntersectionSegments=function e(){return this._intSegments},InteriorIntersectionFinder.prototype.count=function e(){return this._intersectionCount},InteriorIntersectionFinder.prototype.getIntersections=function e(){return this._intersections},InteriorIntersectionFinder.prototype.setFindAllIntersections=function e(t){this._findAllIntersections=t},InteriorIntersectionFinder.prototype.setKeepIntersections=function e(t){this._keepIntersections=t},InteriorIntersectionFinder.prototype.processIntersections=function e(t,n,i,r){if(!this._findAllIntersections&&this.hasIntersection()||t===i&&n===r)return null;if(this._isCheckEndSegmentsOnly){var u=this.isEndSegment(t,n)||this.isEndSegment(i,r);if(!u)return null}var d=t.getCoordinates()[n],c=t.getCoordinates()[n+1],v=i.getCoordinates()[r],S=i.getCoordinates()[r+1];this._li.computeIntersection(d,c,v,S),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=d,this._intSegments[1]=c,this._intSegments[2]=v,this._intSegments[3]=S,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},InteriorIntersectionFinder.prototype.isEndSegment=function e(t,n){return n===0||n>=t.size()-2},InteriorIntersectionFinder.prototype.hasIntersection=function e(){return this._interiorIntersection!==null},InteriorIntersectionFinder.prototype.isDone=function e(){return this._findAllIntersections?!1:this._interiorIntersection!==null},InteriorIntersectionFinder.prototype.interfaces_=function e(){return[SegmentIntersector]},InteriorIntersectionFinder.prototype.getClass=function e(){return InteriorIntersectionFinder},InteriorIntersectionFinder.createAllIntersectionsFinder=function e(t){var n=new InteriorIntersectionFinder(t);return n.setFindAllIntersections(!0),n},InteriorIntersectionFinder.createAnyIntersectionFinder=function e(t){return new InteriorIntersectionFinder(t)},InteriorIntersectionFinder.createIntersectionCounter=function e(t){var n=new InteriorIntersectionFinder(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var FastNodingValidator=function e(){this._li=new RobustLineIntersector,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};FastNodingValidator.prototype.execute=function e(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},FastNodingValidator.prototype.getIntersections=function e(){return this._segInt.getIntersections()},FastNodingValidator.prototype.isValid=function e(){return this.execute(),this._isValid},FastNodingValidator.prototype.setFindAllIntersections=function e(t){this._findAllIntersections=t},FastNodingValidator.prototype.checkInteriorIntersections=function e(){this._isValid=!0,this._segInt=new InteriorIntersectionFinder(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new MCIndexNoder;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},FastNodingValidator.prototype.checkValid=function e(){if(this.execute(),!this._isValid)throw new TopologyException(this.getErrorMessage(),this._segInt.getInteriorIntersection())},FastNodingValidator.prototype.getErrorMessage=function e(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+WKTWriter.toLineString(t[0],t[1])+" and "+WKTWriter.toLineString(t[2],t[3])},FastNodingValidator.prototype.interfaces_=function e(){return[]},FastNodingValidator.prototype.getClass=function e(){return FastNodingValidator},FastNodingValidator.computeIntersections=function e(t){var n=new FastNodingValidator(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var EdgeNodingValidator=function e(){this._nv=null;var t=arguments[0];this._nv=new FastNodingValidator(e.toSegmentStrings(t))};EdgeNodingValidator.prototype.checkValid=function e(){this._nv.checkValid()},EdgeNodingValidator.prototype.interfaces_=function e(){return[]},EdgeNodingValidator.prototype.getClass=function e(){return EdgeNodingValidator},EdgeNodingValidator.toSegmentStrings=function e(t){for(var n=new ArrayList,i=t.iterator();i.hasNext();){var r=i.next();n.add(new BasicSegmentString(r.getCoordinates(),r))}return n},EdgeNodingValidator.checkValid=function e(t){var n=new EdgeNodingValidator(t);n.checkValid()};var GeometryCollectionMapper=function e(t){this._mapOp=t};GeometryCollectionMapper.prototype.map=function e(t){for(var n=this,i=new ArrayList,r=0;r<t.getNumGeometries();r++){var u=n._mapOp.map(t.getGeometryN(r));u.isEmpty()||i.add(u)}return t.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(i))},GeometryCollectionMapper.prototype.interfaces_=function e(){return[]},GeometryCollectionMapper.prototype.getClass=function e(){return GeometryCollectionMapper},GeometryCollectionMapper.map=function e(t,n){var i=new GeometryCollectionMapper(n);return i.map(t)};var LineBuilder=function e(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ArrayList,this._resultLineList=new ArrayList;var t=arguments[0],n=arguments[1],i=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=i};LineBuilder.prototype.collectLines=function e(t){for(var n=this,i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var r=i.next();n.collectLineEdge(r,t,n._lineEdgesList),n.collectBoundaryTouchEdge(r,t,n._lineEdgesList)}},LineBuilder.prototype.labelIsolatedLine=function e(t,n){var i=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,i)},LineBuilder.prototype.build=function e(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},LineBuilder.prototype.collectLineEdge=function e(t,n,i){var r=t.getLabel(),u=t.getEdge();t.isLineEdge()&&!t.isVisited()&&OverlayOp.isResultOfOp(r,n)&&!u.isCovered()&&(i.add(u),t.setVisitedEdge(!0))},LineBuilder.prototype.findCoveredLineEdges=function e(){for(var t=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var i=n.next();i.getEdges().findCoveredLineEdges()}for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var u=r.next(),d=u.getEdge();if(u.isLineEdge()&&!d.isCoveredSet()){var c=t._op.isCoveredByA(u.getCoordinate());d.setCovered(c)}}},LineBuilder.prototype.labelIsolatedLines=function e(t){for(var n=this,i=t.iterator();i.hasNext();){var r=i.next(),u=r.getLabel();r.isIsolated()&&(u.isNull(0)?n.labelIsolatedLine(r,0):n.labelIsolatedLine(r,1))}},LineBuilder.prototype.buildLines=function e(t){for(var n=this,i=this._lineEdgesList.iterator();i.hasNext();){var r=i.next(),u=n._geometryFactory.createLineString(r.getCoordinates());n._resultLineList.add(u),r.setInResult(!0)}},LineBuilder.prototype.collectBoundaryTouchEdge=function e(t,n,i){var r=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;Assert.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),OverlayOp.isResultOfOp(r,n)&&n===OverlayOp.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))},LineBuilder.prototype.interfaces_=function e(){return[]},LineBuilder.prototype.getClass=function e(){return LineBuilder};var PointBuilder=function e(){this._op=null,this._geometryFactory=null,this._resultPointList=new ArrayList;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};PointBuilder.prototype.filterCoveredNodeToPoint=function e(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var i=this._geometryFactory.createPoint(n);this._resultPointList.add(i)}},PointBuilder.prototype.extractNonCoveredResultNodes=function e(t){for(var n=this,i=this._op.getGraph().getNodes().iterator();i.hasNext();){var r=i.next();if(!r.isInResult()&&!r.isIncidentEdgeInResult()&&(r.getEdges().getDegree()===0||t===OverlayOp.INTERSECTION)){var u=r.getLabel();OverlayOp.isResultOfOp(u,t)&&n.filterCoveredNodeToPoint(r)}}},PointBuilder.prototype.build=function e(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},PointBuilder.prototype.interfaces_=function e(){return[]},PointBuilder.prototype.getClass=function e(){return PointBuilder};var GeometryTransformer=function e(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};GeometryTransformer.prototype.transformPoint=function e(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},GeometryTransformer.prototype.transformPolygon=function e(t,n){var i=this,r=!0,u=this.transformLinearRing(t.getExteriorRing(),t);(u===null||!(u instanceof LinearRing)||u.isEmpty())&&(r=!1);for(var d=new ArrayList,c=0;c<t.getNumInteriorRing();c++){var v=i.transformLinearRing(t.getInteriorRingN(c),t);v===null||v.isEmpty()||(v instanceof LinearRing||(r=!1),d.add(v))}if(r)return this._factory.createPolygon(u,d.toArray([]));var S=new ArrayList;return u!==null&&S.add(u),S.addAll(d),this._factory.buildGeometry(S)},GeometryTransformer.prototype.createCoordinateSequence=function e(t){return this._factory.getCoordinateSequenceFactory().create(t)},GeometryTransformer.prototype.getInputGeometry=function e(){return this._inputGeom},GeometryTransformer.prototype.transformMultiLineString=function e(t,n){for(var i=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=i.transformLineString(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.transformCoordinates=function e(t,n){return this.copy(t)},GeometryTransformer.prototype.transformLineString=function e(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},GeometryTransformer.prototype.transformMultiPoint=function e(t,n){for(var i=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=i.transformPoint(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.transformMultiPolygon=function e(t,n){for(var i=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=i.transformPolygon(t.getGeometryN(u),t);d!==null&&(d.isEmpty()||r.add(d))}return this._factory.buildGeometry(r)},GeometryTransformer.prototype.copy=function e(t){return t.copy()},GeometryTransformer.prototype.transformGeometryCollection=function e(t,n){for(var i=this,r=new ArrayList,u=0;u<t.getNumGeometries();u++){var d=i.transform(t.getGeometryN(u));d!==null&&(i._pruneEmptyGeometry&&d.isEmpty()||r.add(d))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(r)):this._factory.buildGeometry(r)},GeometryTransformer.prototype.transform=function e(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Point)return this.transformPoint(t,null);if(t instanceof MultiPoint)return this.transformMultiPoint(t,null);if(t instanceof LinearRing)return this.transformLinearRing(t,null);if(t instanceof LineString)return this.transformLineString(t,null);if(t instanceof MultiLineString)return this.transformMultiLineString(t,null);if(t instanceof Polygon)return this.transformPolygon(t,null);if(t instanceof MultiPolygon)return this.transformMultiPolygon(t,null);if(t instanceof GeometryCollection)return this.transformGeometryCollection(t,null);throw new IllegalArgumentException("Unknown Geometry subtype: "+t.getClass().getName())},GeometryTransformer.prototype.transformLinearRing=function e(t,n){var i=this.transformCoordinates(t.getCoordinateSequence(),t);if(i===null)return this._factory.createLinearRing(null);var r=i.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)},GeometryTransformer.prototype.interfaces_=function e(){return[]},GeometryTransformer.prototype.getClass=function e(){return GeometryTransformer};var LineStringSnapper=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new LineSegment,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof LineString&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=e.isClosed(i),this._snapTolerance=r}};LineStringSnapper.prototype.snapVertices=function e(t,n){for(var i=this,r=this._isClosed?t.size()-1:t.size(),u=0;u<r;u++){var d=t.get(u),c=i.findSnapForVertex(d,n);c!==null&&(t.set(u,new Coordinate(c)),u===0&&i._isClosed&&t.set(t.size()-1,new Coordinate(c)))}},LineStringSnapper.prototype.findSnapForVertex=function e(t,n){for(var i=this,r=0;r<n.length;r++){if(t.equals2D(n[r]))return null;if(t.distance(n[r])<i._snapTolerance)return n[r]}return null},LineStringSnapper.prototype.snapTo=function e(t){var n=new CoordinateList(this._srcPts);this.snapVertices(n,t),this.snapSegments(n,t);var i=n.toCoordinateArray();return i},LineStringSnapper.prototype.snapSegments=function e(t,n){var i=this;if(n.length===0)return null;var r=n.length;n[0].equals2D(n[n.length-1])&&(r=n.length-1);for(var u=0;u<r;u++){var d=n[u],c=i.findSegmentIndexToSnap(d,t);c>=0&&t.add(c+1,new Coordinate(d),!1)}},LineStringSnapper.prototype.findSegmentIndexToSnap=function e(t,n){for(var i=this,r=Double.MAX_VALUE,u=-1,d=0;d<n.size()-1;d++){if(i._seg.p0=n.get(d),i._seg.p1=n.get(d+1),i._seg.p0.equals2D(t)||i._seg.p1.equals2D(t)){if(i._allowSnappingToSourceVertices)continue;return-1}var c=i._seg.distance(t);c<i._snapTolerance&&c<r&&(r=c,u=d)}return u},LineStringSnapper.prototype.setAllowSnappingToSourceVertices=function e(t){this._allowSnappingToSourceVertices=t},LineStringSnapper.prototype.interfaces_=function e(){return[]},LineStringSnapper.prototype.getClass=function e(){return LineStringSnapper},LineStringSnapper.isClosed=function e(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var GeometrySnapper=function e(t){this._srcGeom=t||null},staticAccessors$41={SNAP_PRECISION_FACTOR:{configurable:!0}};GeometrySnapper.prototype.snapTo=function e(t,n){var i=this.extractTargetCoordinates(t),r=new SnapTransformer(n,i);return r.transform(this._srcGeom)},GeometrySnapper.prototype.snapToSelf=function e(t,n){var i=this.extractTargetCoordinates(this._srcGeom),r=new SnapTransformer(t,i,!0),u=r.transform(this._srcGeom),d=u;return n&&hasInterface(d,Polygonal)&&(d=u.buffer(0)),d},GeometrySnapper.prototype.computeSnapTolerance=function e(t){var n=this.computeMinimumSegmentLength(t),i=n/10;return i},GeometrySnapper.prototype.extractTargetCoordinates=function e(t){for(var n=new TreeSet,i=t.getCoordinates(),r=0;r<i.length;r++)n.add(i[r]);return n.toArray(new Array(0).fill(null))},GeometrySnapper.prototype.computeMinimumSegmentLength=function e(t){for(var n=Double.MAX_VALUE,i=0;i<t.length-1;i++){var r=t[i].distance(t[i+1]);r<n&&(n=r)}return n},GeometrySnapper.prototype.interfaces_=function e(){return[]},GeometrySnapper.prototype.getClass=function e(){return GeometrySnapper},GeometrySnapper.snap=function e(t,n,i){var r=new Array(2).fill(null),u=new GeometrySnapper(t);r[0]=u.snapTo(n,i);var d=new GeometrySnapper(n);return r[1]=d.snapTo(r[0],i),r},GeometrySnapper.computeOverlaySnapTolerance=function e(){if(arguments.length===1){var t=arguments[0],n=GeometrySnapper.computeSizeBasedSnapTolerance(t),i=t.getPrecisionModel();if(i.getType()===PrecisionModel.FIXED){var r=1/i.getScale()*2/1.415;r>n&&(n=r)}return n}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return Math.min(GeometrySnapper.computeOverlaySnapTolerance(u),GeometrySnapper.computeOverlaySnapTolerance(d))}},GeometrySnapper.computeSizeBasedSnapTolerance=function e(t){var n=t.getEnvelopeInternal(),i=Math.min(n.getHeight(),n.getWidth()),r=i*GeometrySnapper.SNAP_PRECISION_FACTOR;return r},GeometrySnapper.snapToSelf=function e(t,n,i){var r=new GeometrySnapper(t);return r.snapToSelf(n,i)},staticAccessors$41.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(GeometrySnapper,staticAccessors$41);var SnapTransformer=function(e){function t(n,i,r){e.call(this),this._snapTolerance=n||null,this._snapPts=i||null,this._isSelfSnap=r!==void 0?r:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(i,r){var u=new LineStringSnapper(i,this._snapTolerance);return u.setAllowSnappingToSourceVertices(this._isSelfSnap),u.snapTo(r)},t.prototype.transformCoordinates=function(i,r){var u=i.toCoordinateArray(),d=this.snapLine(u,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(d)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GeometryTransformer),CommonBits=function e(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};CommonBits.prototype.getCommon=function e(){return Double.longBitsToDouble(this._commonBits)},CommonBits.prototype.add=function e(t){var n=Double.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=CommonBits.signExpBits(this._commonBits),this._isFirst=!1,null;var i=CommonBits.signExpBits(n);if(i!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=CommonBits.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=CommonBits.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))},CommonBits.prototype.toString=function e(){if(arguments.length===1){var t=arguments[0],n=Double.longBitsToDouble(t),i=Double.toBinaryString(t),r="0000000000000000000000000000000000000000000000000000000000000000"+i,u=r.substring(r.length-64),d=u.substring(0,1)+"  "+u.substring(1,12)+"(exp) "+u.substring(12)+" [ "+n+" ]";return d}},CommonBits.prototype.interfaces_=function e(){return[]},CommonBits.prototype.getClass=function e(){return CommonBits},CommonBits.getBit=function e(t,n){var i=1<<n;return t&i?1:0},CommonBits.signExpBits=function e(t){return t>>52},CommonBits.zeroLowerBits=function e(t,n){var i=(1<<n)-1,r=~i,u=t&r;return u},CommonBits.numCommonMostSigMantissaBits=function e(t,n){for(var i=0,r=52;r>=0;r--){if(CommonBits.getBit(t,r)!==CommonBits.getBit(n,r))return i;i++}return 52};var CommonBitsRemover=function e(){this._commonCoord=null,this._ccFilter=new CommonCoordinateFilter},staticAccessors$42={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};CommonBitsRemover.prototype.addCommonBits=function e(t){var n=new Translater(this._commonCoord);t.apply(n),t.geometryChanged()},CommonBitsRemover.prototype.removeCommonBits=function e(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new Coordinate(this._commonCoord);n.x=-n.x,n.y=-n.y;var i=new Translater(n);return t.apply(i),t.geometryChanged(),t},CommonBitsRemover.prototype.getCommonCoordinate=function e(){return this._commonCoord},CommonBitsRemover.prototype.add=function e(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},CommonBitsRemover.prototype.interfaces_=function e(){return[]},CommonBitsRemover.prototype.getClass=function e(){return CommonBitsRemover},staticAccessors$42.CommonCoordinateFilter.get=function(){return CommonCoordinateFilter},staticAccessors$42.Translater.get=function(){return Translater},Object.defineProperties(CommonBitsRemover,staticAccessors$42);var CommonCoordinateFilter=function e(){this._commonBitsX=new CommonBits,this._commonBitsY=new CommonBits};CommonCoordinateFilter.prototype.filter=function e(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},CommonCoordinateFilter.prototype.getCommonCoordinate=function e(){return new Coordinate(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},CommonCoordinateFilter.prototype.interfaces_=function e(){return[CoordinateFilter]},CommonCoordinateFilter.prototype.getClass=function e(){return CommonCoordinateFilter};var Translater=function e(){this.trans=null;var t=arguments[0];this.trans=t};Translater.prototype.filter=function e(t,n){var i=t.getOrdinate(n,0)+this.trans.x,r=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,i),t.setOrdinate(n,1,r)},Translater.prototype.isDone=function e(){return!1},Translater.prototype.isGeometryChanged=function e(){return!0},Translater.prototype.interfaces_=function e(){return[CoordinateSequenceFilter]},Translater.prototype.getClass=function e(){return Translater};var SnapOverlayOp=function e(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};SnapOverlayOp.prototype.selfSnap=function e(t){var n=new GeometrySnapper(t),i=n.snapTo(t,this._snapTolerance);return i},SnapOverlayOp.prototype.removeCommonBits=function e(t){this._cbr=new CommonBitsRemover,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n},SnapOverlayOp.prototype.prepareResult=function e(t){return this._cbr.addCommonBits(t),t},SnapOverlayOp.prototype.getResultGeometry=function e(t){var n=this.snap(this._geom),i=OverlayOp.overlayOp(n[0],n[1],t);return this.prepareResult(i)},SnapOverlayOp.prototype.checkValid=function e(t){t.isValid()||System.out.println("Snapped geometry is invalid")},SnapOverlayOp.prototype.computeSnapTolerance=function e(){this._snapTolerance=GeometrySnapper.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},SnapOverlayOp.prototype.snap=function e(t){var n=this.removeCommonBits(t),i=GeometrySnapper.snap(n[0],n[1],this._snapTolerance);return i},SnapOverlayOp.prototype.interfaces_=function e(){return[]},SnapOverlayOp.prototype.getClass=function e(){return SnapOverlayOp},SnapOverlayOp.overlayOp=function e(t,n,i){var r=new SnapOverlayOp(t,n);return r.getResultGeometry(i)},SnapOverlayOp.union=function e(t,n){return SnapOverlayOp.overlayOp(t,n,OverlayOp.UNION)},SnapOverlayOp.intersection=function e(t,n){return SnapOverlayOp.overlayOp(t,n,OverlayOp.INTERSECTION)},SnapOverlayOp.symDifference=function e(t,n){return SnapOverlayOp.overlayOp(t,n,OverlayOp.SYMDIFFERENCE)},SnapOverlayOp.difference=function e(t,n){return SnapOverlayOp.overlayOp(t,n,OverlayOp.DIFFERENCE)};var SnapIfNeededOverlayOp=function e(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};SnapIfNeededOverlayOp.prototype.getResultGeometry=function e(t){var n=null,i=!1,r=null;try{n=OverlayOp.overlayOp(this._geom[0],this._geom[1],t);var u=!0;u&&(i=!0)}catch(d){if(d instanceof RuntimeException)r=d;else throw d}finally{}if(!i)try{n=SnapOverlayOp.overlayOp(this._geom[0],this._geom[1],t)}catch(d){throw d instanceof RuntimeException?r:d}finally{}return n},SnapIfNeededOverlayOp.prototype.interfaces_=function e(){return[]},SnapIfNeededOverlayOp.prototype.getClass=function e(){return SnapIfNeededOverlayOp},SnapIfNeededOverlayOp.overlayOp=function e(t,n,i){var r=new SnapIfNeededOverlayOp(t,n);return r.getResultGeometry(i)},SnapIfNeededOverlayOp.union=function e(t,n){return SnapIfNeededOverlayOp.overlayOp(t,n,OverlayOp.UNION)},SnapIfNeededOverlayOp.intersection=function e(t,n){return SnapIfNeededOverlayOp.overlayOp(t,n,OverlayOp.INTERSECTION)},SnapIfNeededOverlayOp.symDifference=function e(t,n){return SnapIfNeededOverlayOp.overlayOp(t,n,OverlayOp.SYMDIFFERENCE)},SnapIfNeededOverlayOp.difference=function e(t,n){return SnapIfNeededOverlayOp.overlayOp(t,n,OverlayOp.DIFFERENCE)};var MonotoneChain$2=function e(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};MonotoneChain$2.prototype.computeIntersections=function e(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)},MonotoneChain$2.prototype.interfaces_=function e(){return[]},MonotoneChain$2.prototype.getClass=function e(){return MonotoneChain$2};var SweepLineEvent=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(arguments.length===3){var i=arguments[0],r=arguments[1],u=arguments[2];this._eventType=e.INSERT,this._label=i,this._xValue=r,this._obj=u}},staticAccessors$43={INSERT:{configurable:!0},DELETE:{configurable:!0}};SweepLineEvent.prototype.isDelete=function e(){return this._eventType===SweepLineEvent.DELETE},SweepLineEvent.prototype.setDeleteEventIndex=function e(t){this._deleteEventIndex=t},SweepLineEvent.prototype.getObject=function e(){return this._obj},SweepLineEvent.prototype.compareTo=function e(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0},SweepLineEvent.prototype.getInsertEvent=function e(){return this._insertEvent},SweepLineEvent.prototype.isInsert=function e(){return this._eventType===SweepLineEvent.INSERT},SweepLineEvent.prototype.isSameLabel=function e(t){return this._label===null?!1:this._label===t._label},SweepLineEvent.prototype.getDeleteEventIndex=function e(){return this._deleteEventIndex},SweepLineEvent.prototype.interfaces_=function e(){return[Comparable]},SweepLineEvent.prototype.getClass=function e(){return SweepLineEvent},staticAccessors$43.INSERT.get=function(){return 1},staticAccessors$43.DELETE.get=function(){return 2},Object.defineProperties(SweepLineEvent,staticAccessors$43);var EdgeSetIntersector=function e(){};EdgeSetIntersector.prototype.interfaces_=function e(){return[]},EdgeSetIntersector.prototype.getClass=function e(){return EdgeSetIntersector};var SegmentIntersector$2=function e(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],i=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=i};SegmentIntersector$2.prototype.isTrivialIntersection=function e(t,n,i,r){if(t===i&&this._li.getIntersectionNum()===1){if(SegmentIntersector$2.isAdjacentSegments(n,r))return!0;if(t.isClosed()){var u=t.getNumPoints()-1;if(n===0&&r===u||r===0&&n===u)return!0}}return!1},SegmentIntersector$2.prototype.getProperIntersectionPoint=function e(){return this._properIntersectionPoint},SegmentIntersector$2.prototype.setIsDoneIfProperInt=function e(t){this._isDoneWhenProperInt=t},SegmentIntersector$2.prototype.hasProperInteriorIntersection=function e(){return this._hasProperInterior},SegmentIntersector$2.prototype.isBoundaryPointInternal=function e(t,n){for(var i=n.iterator();i.hasNext();){var r=i.next(),u=r.getCoordinate();if(t.isIntersection(u))return!0}return!1},SegmentIntersector$2.prototype.hasProperIntersection=function e(){return this._hasProper},SegmentIntersector$2.prototype.hasIntersection=function e(){return this._hasIntersection},SegmentIntersector$2.prototype.isDone=function e(){return this._isDone},SegmentIntersector$2.prototype.isBoundaryPoint=function e(t,n){return n===null?!1:!!(this.isBoundaryPointInternal(t,n[0])||this.isBoundaryPointInternal(t,n[1]))},SegmentIntersector$2.prototype.setBoundaryNodes=function e(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n},SegmentIntersector$2.prototype.addIntersections=function e(t,n,i,r){if(t===i&&n===r)return null;this.numTests++;var u=t.getCoordinates()[n],d=t.getCoordinates()[n+1],c=i.getCoordinates()[r],v=i.getCoordinates()[r+1];this._li.computeIntersection(u,d,c,v),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,i,r)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,n,0),i.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},SegmentIntersector$2.prototype.interfaces_=function e(){return[]},SegmentIntersector$2.prototype.getClass=function e(){return SegmentIntersector$2},SegmentIntersector$2.isAdjacentSegments=function e(t,n){return Math.abs(t-n)===1};var SimpleMCSweepLineIntersector=function(e){function t(){e.call(this),this.events=new ArrayList,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var i=this;Collections.sort(this.events);for(var r=0;r<this.events.size();r++){var u=i.events.get(r);u.isDelete()&&u.getInsertEvent().setDeleteEventIndex(r)}},t.prototype.computeIntersections=function(){var i=this;if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var u=0;u<this.events.size();u++){var d=i.events.get(u);if(d.isInsert()&&i.processOverlaps(u,d.getDeleteEventIndex(),d,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof SegmentIntersector$2&&hasInterface(arguments[0],List)&&hasInterface(arguments[1],List)){var c=arguments[0],v=arguments[1],S=arguments[2];this.addEdges(c,c),this.addEdges(v,v),this.computeIntersections(S)}else if(typeof arguments[2]=="boolean"&&hasInterface(arguments[0],List)&&arguments[1]instanceof SegmentIntersector$2){var C=arguments[0],O=arguments[1],R=arguments[2];R?this.addEdges(C,null):this.addEdges(C),this.computeIntersections(O)}}},t.prototype.addEdge=function(i,r){for(var u=this,d=i.getMonotoneChainEdge(),c=d.getStartIndexes(),v=0;v<c.length-1;v++){var S=new MonotoneChain$2(d,v),C=new SweepLineEvent(r,d.getMinX(v),S);u.events.add(C),u.events.add(new SweepLineEvent(d.getMaxX(v),C))}},t.prototype.processOverlaps=function(i,r,u,d){for(var c=this,v=u.getObject(),S=i;S<r;S++){var C=c.events.get(S);if(C.isInsert()){var O=C.getObject();u.isSameLabel(C)||(v.computeIntersections(O,d),c.nOverlaps++)}}},t.prototype.addEdges=function(){var i=this;if(arguments.length===1)for(var r=arguments[0],u=r.iterator();u.hasNext();){var d=u.next();i.addEdge(d,d)}else if(arguments.length===2)for(var c=arguments[0],v=arguments[1],S=c.iterator();S.hasNext();){var C=S.next();i.addEdge(C,v)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(EdgeSetIntersector),IntervalRTreeNode=function e(){this._min=Double.POSITIVE_INFINITY,this._max=Double.NEGATIVE_INFINITY},staticAccessors$45={NodeComparator:{configurable:!0}};IntervalRTreeNode.prototype.getMin=function e(){return this._min},IntervalRTreeNode.prototype.intersects=function e(t,n){return!(this._min>n||this._max<t)},IntervalRTreeNode.prototype.getMax=function e(){return this._max},IntervalRTreeNode.prototype.toString=function e(){return WKTWriter.toLineString(new Coordinate(this._min,0),new Coordinate(this._max,0))},IntervalRTreeNode.prototype.interfaces_=function e(){return[]},IntervalRTreeNode.prototype.getClass=function e(){return IntervalRTreeNode},staticAccessors$45.NodeComparator.get=function(){return NodeComparator},Object.defineProperties(IntervalRTreeNode,staticAccessors$45);var NodeComparator=function e(){};NodeComparator.prototype.compare=function e(t,n){var i=t,r=n,u=(i._min+i._max)/2,d=(r._min+r._max)/2;return u<d?-1:u>d?1:0},NodeComparator.prototype.interfaces_=function e(){return[Comparator]},NodeComparator.prototype.getClass=function e(){return NodeComparator};var IntervalRTreeLeafNode=function(e){function t(){e.call(this),this._item=null;var n=arguments[0],i=arguments[1],r=arguments[2];this._min=n,this._max=i,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(i,r,u){if(!this.intersects(i,r))return null;u.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(IntervalRTreeNode),IntervalRTreeBranchNode=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var n=arguments[0],i=arguments[1];this._node1=n,this._node2=i,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(i,r){this._min=Math.min(i._min,r._min),this._max=Math.max(i._max,r._max)},t.prototype.query=function(i,r,u){if(!this.intersects(i,r))return null;this._node1!==null&&this._node1.query(i,r,u),this._node2!==null&&this._node2.query(i,r,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(IntervalRTreeNode),SortedPackedIntervalRTree=function e(){this._leaves=new ArrayList,this._root=null,this._level=0};SortedPackedIntervalRTree.prototype.buildTree=function e(){var t=this;Collections.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var n=this._leaves,i=null,r=new ArrayList;;){if(t.buildLevel(n,r),r.size()===1)return r.get(0);i=n,n=r,r=i}},SortedPackedIntervalRTree.prototype.insert=function e(t,n,i){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new IntervalRTreeLeafNode(t,n,i))},SortedPackedIntervalRTree.prototype.query=function e(t,n,i){this.init(),this._root.query(t,n,i)},SortedPackedIntervalRTree.prototype.buildRoot=function e(){if(this._root!==null)return null;this._root=this.buildTree()},SortedPackedIntervalRTree.prototype.printNode=function e(t){System.out.println(WKTWriter.toLineString(new Coordinate(t._min,this._level),new Coordinate(t._max,this._level)))},SortedPackedIntervalRTree.prototype.init=function e(){if(this._root!==null)return null;this.buildRoot()},SortedPackedIntervalRTree.prototype.buildLevel=function e(t,n){this._level++,n.clear();for(var i=0;i<t.size();i+=2){var r=t.get(i),u=i+1<t.size()?t.get(i):null;if(u===null)n.add(r);else{var d=new IntervalRTreeBranchNode(t.get(i),t.get(i+1));n.add(d)}}},SortedPackedIntervalRTree.prototype.interfaces_=function e(){return[]},SortedPackedIntervalRTree.prototype.getClass=function e(){return SortedPackedIntervalRTree};var ArrayListVisitor=function e(){this._items=new ArrayList};ArrayListVisitor.prototype.visitItem=function e(t){this._items.add(t)},ArrayListVisitor.prototype.getItems=function e(){return this._items},ArrayListVisitor.prototype.interfaces_=function e(){return[ItemVisitor]},ArrayListVisitor.prototype.getClass=function e(){return ArrayListVisitor};var IndexedPointInAreaLocator=function e(){this._index=null;var t=arguments[0];if(!hasInterface(t,Polygonal))throw new IllegalArgumentException("Argument must be Polygonal");this._index=new IntervalIndexedGeometry(t)},staticAccessors$44={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};IndexedPointInAreaLocator.prototype.locate=function e(t){var n=new RayCrossingCounter(t),i=new SegmentVisitor(n);return this._index.query(t.y,t.y,i),n.getLocation()},IndexedPointInAreaLocator.prototype.interfaces_=function e(){return[PointOnGeometryLocator]},IndexedPointInAreaLocator.prototype.getClass=function e(){return IndexedPointInAreaLocator},staticAccessors$44.SegmentVisitor.get=function(){return SegmentVisitor},staticAccessors$44.IntervalIndexedGeometry.get=function(){return IntervalIndexedGeometry},Object.defineProperties(IndexedPointInAreaLocator,staticAccessors$44);var SegmentVisitor=function e(){this._counter=null;var t=arguments[0];this._counter=t};SegmentVisitor.prototype.visitItem=function e(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))},SegmentVisitor.prototype.interfaces_=function e(){return[ItemVisitor]},SegmentVisitor.prototype.getClass=function e(){return SegmentVisitor};var IntervalIndexedGeometry=function e(){this._index=new SortedPackedIntervalRTree;var t=arguments[0];this.init(t)};IntervalIndexedGeometry.prototype.init=function e(t){for(var n=this,i=LinearComponentExtracter.getLines(t),r=i.iterator();r.hasNext();){var u=r.next(),d=u.getCoordinates();n.addLine(d)}},IntervalIndexedGeometry.prototype.addLine=function e(t){for(var n=this,i=1;i<t.length;i++){var r=new LineSegment(t[i-1],t[i]),u=Math.min(r.p0.y,r.p1.y),d=Math.max(r.p0.y,r.p1.y);n._index.insert(u,d,r)}},IntervalIndexedGeometry.prototype.query=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1],i=new ArrayListVisitor;return this._index.query(t,n,i),i.getItems()}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];this._index.query(r,u,d)}},IntervalIndexedGeometry.prototype.interfaces_=function e(){return[]},IntervalIndexedGeometry.prototype.getClass=function e(){return IntervalIndexedGeometry};var GeometryGraph=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new HashMap,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new PointLocator,arguments.length===2){var n=arguments[0],i=arguments[1],r=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=i,this._boundaryNodeRule=r,i!==null&&this.add(i)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];this._argIndex=u,this._parentGeom=d,this._boundaryNodeRule=c,d!==null&&this.add(d)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(i,r){var u=this._nodes.addNode(r),d=u.getLabel(),c=1,v=Location.NONE;v=d.getLocation(i,Position.ON),v===Location.BOUNDARY&&c++;var S=t.determineBoundary(this._boundaryNodeRule,c);d.setLocation(i,S)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var i=arguments[0],r=arguments[1];return this.computeSelfNodes(i,r,!1)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2],v=new SegmentIntersector$2(u,!0,!1);v.setIsDoneIfProperInt(c);var S=this.createEdgeSetIntersector(),C=this._parentGeom instanceof LinearRing||this._parentGeom instanceof Polygon||this._parentGeom instanceof MultiPolygon,O=d||!C;return S.computeIntersections(this._edges,v,O),this.addSelfIntersectionNodes(this._argIndex),v}},t.prototype.computeSplitEdges=function(i){for(var r=this._edges.iterator();r.hasNext();){var u=r.next();u.eiList.addSplitEdges(i)}},t.prototype.computeEdgeIntersections=function(i,r,u){var d=new SegmentIntersector$2(r,u,!0);d.setBoundaryNodes(this.getBoundaryNodes(),i.getBoundaryNodes());var c=this.createEdgeSetIntersector();return c.computeIntersections(this._edges,i._edges,d),d},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Point){var i=arguments[0],r=i.getCoordinate();this.insertPoint(this._argIndex,r,Location.INTERIOR)}else if(arguments[0]instanceof Coordinate){var u=arguments[0];this.insertPoint(this._argIndex,u,Location.INTERIOR)}},t.prototype.addPolygon=function(i){var r=this;this.addPolygonRing(i.getExteriorRing(),Location.EXTERIOR,Location.INTERIOR);for(var u=0;u<i.getNumInteriorRing();u++){var d=i.getInteriorRingN(u);r.addPolygonRing(d,Location.INTERIOR,Location.EXTERIOR)}},t.prototype.addEdge=function(i){this.insertEdge(i);var r=i.getCoordinates();this.insertPoint(this._argIndex,r[0],Location.BOUNDARY),this.insertPoint(this._argIndex,r[r.length-1],Location.BOUNDARY)},t.prototype.addLineString=function(i){var r=CoordinateArrays.removeRepeatedPoints(i.getCoordinates());if(r.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var u=new Edge(r,new Label(this._argIndex,Location.INTERIOR));this._lineEdgeMap.put(i,u),this.insertEdge(u),Assert.isTrue(r.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,r[0]),this.insertBoundaryPoint(this._argIndex,r[r.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var i=this.getBoundaryNodes(),r=new Array(i.size()).fill(null),u=0,d=i.iterator();d.hasNext();){var c=d.next();r[u++]=c.getCoordinate().copy()}return r},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(i,r,u){if(this.isBoundaryNode(i,r))return null;u===Location.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(i,r):this.insertPoint(i,r,u)},t.prototype.addPolygonRing=function(i,r,u){if(i.isEmpty())return null;var d=CoordinateArrays.removeRepeatedPoints(i.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=d[0],null;var c=r,v=u;CGAlgorithms.isCCW(d)&&(c=u,v=r);var S=new Edge(d,new Label(this._argIndex,Location.BOUNDARY,c,v));this._lineEdgeMap.put(i,S),this.insertEdge(S),this.insertPoint(this._argIndex,d[0],Location.BOUNDARY)},t.prototype.insertPoint=function(i,r,u){var d=this._nodes.addNode(r),c=d.getLabel();c===null?d._label=new Label(i,u):c.setLocation(i,u)},t.prototype.createEdgeSetIntersector=function(){return new SimpleMCSweepLineIntersector},t.prototype.addSelfIntersectionNodes=function(i){for(var r=this,u=this._edges.iterator();u.hasNext();)for(var d=u.next(),c=d.getLabel().getLocation(i),v=d.eiList.iterator();v.hasNext();){var S=v.next();r.addSelfIntersectionNode(i,S.coord,c)}},t.prototype.add=function(){if(arguments.length===1){var i=arguments[0];if(i.isEmpty())return null;if(i instanceof MultiPolygon&&(this._useBoundaryDeterminationRule=!1),i instanceof Polygon)this.addPolygon(i);else if(i instanceof LineString)this.addLineString(i);else if(i instanceof Point)this.addPoint(i);else if(i instanceof MultiPoint)this.addCollection(i);else if(i instanceof MultiLineString)this.addCollection(i);else if(i instanceof MultiPolygon)this.addCollection(i);else if(i instanceof GeometryCollection)this.addCollection(i);else throw new Error(i.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(i){for(var r=this,u=0;u<i.getNumGeometries();u++){var d=i.getGeometryN(u);r.add(d)}},t.prototype.locate=function(i){return hasInterface(this._parentGeom,Polygonal)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new IndexedPointInAreaLocator(this._parentGeom)),this._areaPtLocator.locate(i)):this._ptLocator.locate(i,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var i=arguments[0];return this._lineEdgeMap.get(i)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(i,r){return i.isInBoundary(r)?Location.BOUNDARY:Location.INTERIOR},t}(PlanarGraph),GeometryGraphOp=function e(){if(this._li=new RobustLineIntersector,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new GeometryGraph(0,t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1],r=BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new GeometryGraph(0,n,r),this._arg[1]=new GeometryGraph(1,i,r)}else if(arguments.length===3){var u=arguments[0],d=arguments[1],c=arguments[2];u.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(u.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new GeometryGraph(0,u,c),this._arg[1]=new GeometryGraph(1,d,c)}};GeometryGraphOp.prototype.getArgGeometry=function e(t){return this._arg[t].getGeometry()},GeometryGraphOp.prototype.setComputationPrecision=function e(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},GeometryGraphOp.prototype.interfaces_=function e(){return[]},GeometryGraphOp.prototype.getClass=function e(){return GeometryGraphOp};var GeometryMapper=function e(){};GeometryMapper.prototype.interfaces_=function e(){return[]},GeometryMapper.prototype.getClass=function e(){return GeometryMapper},GeometryMapper.map=function e(){if(arguments[0]instanceof Geometry&&hasInterface(arguments[1],GeometryMapper.MapOp)){for(var t=arguments[0],n=arguments[1],i=new ArrayList,r=0;r<t.getNumGeometries();r++){var u=n.map(t.getGeometryN(r));u!==null&&i.add(u)}return t.getFactory().buildGeometry(i)}else if(hasInterface(arguments[0],Collection)&&hasInterface(arguments[1],GeometryMapper.MapOp)){for(var d=arguments[0],c=arguments[1],v=new ArrayList,S=d.iterator();S.hasNext();){var C=S.next(),O=c.map(C);O!==null&&v.add(O)}return v}},GeometryMapper.MapOp=function e(){};var OverlayOp=function(e){function t(){var n=arguments[0],i=arguments[1];e.call(this,n,i),this._ptLocator=new PointLocator,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new EdgeList,this._resultPolyList=new ArrayList,this._resultLineList=new ArrayList,this._resultPointList=new ArrayList,this._graph=new PlanarGraph(new OverlayNodeFactory),this._geomFact=n.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(i){var r=this._edgeList.findEqualEdge(i);if(r!==null){var u=r.getLabel(),d=i.getLabel();r.isPointwiseEqual(i)||(d=new Label(i.getLabel()),d.flip());var c=r.getDepth();c.isNull()&&c.add(u),c.add(d),u.merge(d)}else this._edgeList.add(i)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var r=i.next(),u=r.getSym();r.isInResult()&&u.isInResult()&&(r.setInResult(!1),u.setInResult(!1))}},t.prototype.isCoveredByLA=function(i){return!!(this.isCovered(i,this._resultLineList)||this.isCovered(i,this._resultPolyList))},t.prototype.computeGeometry=function(i,r,u,d){var c=new ArrayList;return c.addAll(i),c.addAll(r),c.addAll(u),c.isEmpty()?t.createEmptyResult(d,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(c)},t.prototype.mergeSymLabels=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next();r.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(i,r){for(var u=this,d=r.iterator();d.hasNext();){var c=d.next(),v=u._ptLocator.locate(i,c);if(v!==Location.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var i=new ArrayList,r=this._edgeList.iterator();r.hasNext();){var u=r.next();u.isCollapsed()&&(r.remove(),i.add(u.getCollapsedEdge()))}this._edgeList.addAll(i)},t.prototype.updateNodeLabelling=function(){for(var i=this._graph.getNodes().iterator();i.hasNext();){var r=i.next(),u=r.getEdges().getLabel();r.getLabel().merge(u)}},t.prototype.getResultGeometry=function(i){return this.computeOverlay(i),this._resultGeom},t.prototype.insertUniqueEdges=function(i){for(var r=this,u=i.iterator();u.hasNext();){var d=u.next();r.insertUniqueEdge(d)}},t.prototype.computeOverlay=function(i){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var r=new ArrayList;this._arg[0].computeSplitEdges(r),this._arg[1].computeSplitEdges(r),this.insertUniqueEdges(r),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),EdgeNodingValidator.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(i),this.cancelDuplicateResultEdges();var u=new PolygonBuilder(this._geomFact);u.add(this._graph),this._resultPolyList=u.getPolygons();var d=new LineBuilder(this,this._geomFact,this._ptLocator);this._resultLineList=d.build(i);var c=new PointBuilder(this,this._geomFact,this._ptLocator);this._resultPointList=c.build(i),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,i)},t.prototype.labelIncompleteNode=function(i,r){var u=this._ptLocator.locate(i.getCoordinate(),this._arg[r].getGeometry());i.getLabel().setLocation(r,u)},t.prototype.copyPoints=function(i){for(var r=this,u=this._arg[i].getNodeIterator();u.hasNext();){var d=u.next(),c=r._graph.addNode(d.getCoordinate());c.setLabel(i,d.getLabel().getLocation(i))}},t.prototype.findResultAreaEdges=function(i){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var u=r.next(),d=u.getLabel();d.isArea()&&!u.isInteriorAreaEdge()&&t.isResultOfOp(d.getLocation(0,Position.RIGHT),d.getLocation(1,Position.RIGHT),i)&&u.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var i=this._edgeList.iterator();i.hasNext();){var r=i.next(),u=r.getLabel(),d=r.getDepth();if(!d.isNull()){d.normalize();for(var c=0;c<2;c++)!u.isNull(c)&&u.isArea()&&!d.isNull(c)&&(d.getDelta(c)===0?u.toLine(c):(Assert.isTrue(!d.isNull(c,Position.LEFT),"depth of LEFT side has not been initialized"),u.setLocation(c,Position.LEFT,d.getLocation(c,Position.LEFT)),Assert.isTrue(!d.isNull(c,Position.RIGHT),"depth of RIGHT side has not been initialized"),u.setLocation(c,Position.RIGHT,d.getLocation(c,Position.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var u=r.next();u.getEdges().computeLabelling(i._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var i=this,r=this._graph.getNodes().iterator();r.hasNext();){var u=r.next(),d=u.getLabel();u.isIsolated()&&(d.isNull(0)?i.labelIncompleteNode(u,0):i.labelIncompleteNode(u,1)),u.getEdges().updateLabelling(d)}},t.prototype.isCoveredByA=function(i){return!!this.isCovered(i,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(GeometryGraphOp);OverlayOp.overlayOp=function(e,t,n){var i=new OverlayOp(e,t),r=i.getResultGeometry(n);return r},OverlayOp.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return GeometryCollectionMapper.map(e,{interfaces_:function(){return[GeometryMapper.MapOp]},map:function(i){return i.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.INTERSECTION)},OverlayOp.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.SYMDIFFERENCE)},OverlayOp.resultDimension=function(e,t,n){var i=t.getDimension(),r=n.getDimension(),u=-1;switch(e){case OverlayOp.INTERSECTION:u=Math.min(i,r);break;case OverlayOp.UNION:u=Math.max(i,r);break;case OverlayOp.DIFFERENCE:u=i;break;case OverlayOp.SYMDIFFERENCE:u=Math.max(i,r);break}return u},OverlayOp.createEmptyResult=function(e,t,n,i){var r=null;switch(OverlayOp.resultDimension(e,t,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon();break}return r},OverlayOp.difference=function(e,t){return e.isEmpty()?OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),SnapIfNeededOverlayOp.overlayOp(e,t,OverlayOp.DIFFERENCE))},OverlayOp.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=e.getLocation(0),i=e.getLocation(1);return OverlayOp.isResultOfOp(n,i,t)}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2];switch(r===Location.BOUNDARY&&(r=Location.INTERIOR),u===Location.BOUNDARY&&(u=Location.INTERIOR),d){case OverlayOp.INTERSECTION:return r===Location.INTERIOR&&u===Location.INTERIOR;case OverlayOp.UNION:return r===Location.INTERIOR||u===Location.INTERIOR;case OverlayOp.DIFFERENCE:return r===Location.INTERIOR&&u!==Location.INTERIOR;case OverlayOp.SYMDIFFERENCE:return r===Location.INTERIOR&&u!==Location.INTERIOR||r!==Location.INTERIOR&&u===Location.INTERIOR}return!1}},OverlayOp.INTERSECTION=1,OverlayOp.UNION=2,OverlayOp.DIFFERENCE=3,OverlayOp.SYMDIFFERENCE=4;var FuzzyPointLocator=function e(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new PointLocator,this._seg=new LineSegment;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};FuzzyPointLocator.prototype.isWithinToleranceOfBoundary=function e(t){for(var n=this,i=0;i<this._linework.getNumGeometries();i++)for(var r=n._linework.getGeometryN(i),u=r.getCoordinateSequence(),d=0;d<u.size()-1;d++){u.getCoordinate(d,n._seg.p0),u.getCoordinate(d+1,n._seg.p1);var c=n._seg.distance(t);if(c<=n._boundaryDistanceTolerance)return!0}return!1},FuzzyPointLocator.prototype.getLocation=function e(t){return this.isWithinToleranceOfBoundary(t)?Location.BOUNDARY:this._ptLocator.locate(t,this._g)},FuzzyPointLocator.prototype.extractLinework=function e(t){var n=new PolygonalLineworkExtracter;t.apply(n);var i=n.getLinework(),r=GeometryFactory.toLineStringArray(i);return t.getFactory().createMultiLineString(r)},FuzzyPointLocator.prototype.interfaces_=function e(){return[]},FuzzyPointLocator.prototype.getClass=function e(){return FuzzyPointLocator};var PolygonalLineworkExtracter=function e(){this._linework=null,this._linework=new ArrayList};PolygonalLineworkExtracter.prototype.getLinework=function e(){return this._linework},PolygonalLineworkExtracter.prototype.filter=function e(t){var n=this;if(t instanceof Polygon){var i=t;this._linework.add(i.getExteriorRing());for(var r=0;r<i.getNumInteriorRing();r++)n._linework.add(i.getInteriorRingN(r))}},PolygonalLineworkExtracter.prototype.interfaces_=function e(){return[GeometryFilter]},PolygonalLineworkExtracter.prototype.getClass=function e(){return PolygonalLineworkExtracter};var OffsetPointGenerator=function e(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};OffsetPointGenerator.prototype.extractPoints=function e(t,n,i){for(var r=this,u=t.getCoordinates(),d=0;d<u.length-1;d++)r.computeOffsetPoints(u[d],u[d+1],n,i)},OffsetPointGenerator.prototype.setSidesToGenerate=function e(t,n){this._doLeft=t,this._doRight=n},OffsetPointGenerator.prototype.getPoints=function e(t){for(var n=this,i=new ArrayList,r=LinearComponentExtracter.getLines(this._g),u=r.iterator();u.hasNext();){var d=u.next();n.extractPoints(d,t,i)}return i},OffsetPointGenerator.prototype.computeOffsetPoints=function e(t,n,i,r){var u=n.x-t.x,d=n.y-t.y,c=Math.sqrt(u*u+d*d),v=i*u/c,S=i*d/c,C=(n.x+t.x)/2,O=(n.y+t.y)/2;if(this._doLeft){var R=new Coordinate(C-S,O+v);r.add(R)}if(this._doRight){var H=new Coordinate(C+S,O-v);r.add(H)}},OffsetPointGenerator.prototype.interfaces_=function e(){return[]},OffsetPointGenerator.prototype.getClass=function e(){return OffsetPointGenerator};var OverlayResultValidator=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ArrayList;var t=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,i],this._locFinder=[new FuzzyPointLocator(this._geom[0],this._boundaryDistanceTolerance),new FuzzyPointLocator(this._geom[1],this._boundaryDistanceTolerance),new FuzzyPointLocator(this._geom[2],this._boundaryDistanceTolerance)]},staticAccessors$46={TOLERANCE:{configurable:!0}};OverlayResultValidator.prototype.reportResult=function e(t,n,i){System.out.println("Overlay result invalid - A:"+Location.toLocationSymbol(n[0])+" B:"+Location.toLocationSymbol(n[1])+" expected:"+(i?"i":"e")+" actual:"+Location.toLocationSymbol(n[2]))},OverlayResultValidator.prototype.isValid=function e(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n},OverlayResultValidator.prototype.checkValid=function e(){var t=this;if(arguments.length===1){for(var n=arguments[0],i=0;i<this._testCoords.size();i++){var r=t._testCoords.get(i);if(!t.checkValid(n,r))return t._invalidLocation=r,!1}return!0}else if(arguments.length===2){var u=arguments[0],d=arguments[1];return this._location[0]=this._locFinder[0].getLocation(d),this._location[1]=this._locFinder[1].getLocation(d),this._location[2]=this._locFinder[2].getLocation(d),OverlayResultValidator.hasLocation(this._location,Location.BOUNDARY)?!0:this.isValidResult(u,this._location)}},OverlayResultValidator.prototype.addTestPts=function e(t){var n=new OffsetPointGenerator(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))},OverlayResultValidator.prototype.isValidResult=function e(t,n){var i=OverlayOp.isResultOfOp(n[0],n[1],t),r=n[2]===Location.INTERIOR,u=!(i^r);return u||this.reportResult(t,n,i),u},OverlayResultValidator.prototype.getInvalidLocation=function e(){return this._invalidLocation},OverlayResultValidator.prototype.interfaces_=function e(){return[]},OverlayResultValidator.prototype.getClass=function e(){return OverlayResultValidator},OverlayResultValidator.hasLocation=function e(t,n){for(var i=0;i<3;i++)if(t[i]===n)return!0;return!1},OverlayResultValidator.computeBoundaryDistanceTolerance=function e(t,n){return Math.min(GeometrySnapper.computeSizeBasedSnapTolerance(t),GeometrySnapper.computeSizeBasedSnapTolerance(n))},OverlayResultValidator.isValid=function e(t,n,i,r){var u=new OverlayResultValidator(t,n,r);return u.isValid(i)},staticAccessors$46.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(OverlayResultValidator,staticAccessors$46);var GeometryCombiner=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};GeometryCombiner.prototype.extractElements=function e(t,n){var i=this;if(t===null)return null;for(var r=0;r<t.getNumGeometries();r++){var u=t.getGeometryN(r);i._skipEmpty&&u.isEmpty()||n.add(u)}},GeometryCombiner.prototype.combine=function e(){for(var t=this,n=new ArrayList,i=this._inputGeoms.iterator();i.hasNext();){var r=i.next();t.extractElements(r,n)}return n.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(n)},GeometryCombiner.prototype.interfaces_=function e(){return[]},GeometryCombiner.prototype.getClass=function e(){return GeometryCombiner},GeometryCombiner.combine=function e(){if(arguments.length===1){var t=arguments[0],n=new GeometryCombiner(t);return n.combine()}else if(arguments.length===2){var i=arguments[0],r=arguments[1],u=new GeometryCombiner(GeometryCombiner.createList(i,r));return u.combine()}else if(arguments.length===3){var d=arguments[0],c=arguments[1],v=arguments[2],S=new GeometryCombiner(GeometryCombiner.createList(d,c,v));return S.combine()}},GeometryCombiner.extractFactory=function e(t){return t.isEmpty()?null:t.iterator().next().getFactory()},GeometryCombiner.createList=function e(){if(arguments.length===2){var t=arguments[0],n=arguments[1],i=new ArrayList;return i.add(t),i.add(n),i}else if(arguments.length===3){var r=arguments[0],u=arguments[1],d=arguments[2],c=new ArrayList;return c.add(r),c.add(u),c.add(d),c}};var CascadedPolygonUnion=function e(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new ArrayList)},staticAccessors$47={STRTREE_NODE_CAPACITY:{configurable:!0}};CascadedPolygonUnion.prototype.reduceToGeometries=function e(t){for(var n=this,i=new ArrayList,r=t.iterator();r.hasNext();){var u=r.next(),d=null;hasInterface(u,List)?d=n.unionTree(u):u instanceof Geometry&&(d=u),i.add(d)}return i},CascadedPolygonUnion.prototype.extractByEnvelope=function e(t,n,i){for(var r=new ArrayList,u=0;u<n.getNumGeometries();u++){var d=n.getGeometryN(u);d.getEnvelopeInternal().intersects(t)?r.add(d):i.add(d)}return this._geomFactory.buildGeometry(r)},CascadedPolygonUnion.prototype.unionOptimized=function e(t,n){var i=t.getEnvelopeInternal(),r=n.getEnvelopeInternal();if(!i.intersects(r)){var u=GeometryCombiner.combine(t,n);return u}if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var d=i.intersection(r);return this.unionUsingEnvelopeIntersection(t,n,d)},CascadedPolygonUnion.prototype.union=function e(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var i=n.next();t.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var r=t.itemsTree(),u=this.unionTree(r);return u},CascadedPolygonUnion.prototype.binaryUnion=function e(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var n=arguments[0],i=arguments[1],r=arguments[2];if(r-i<=1){var u=CascadedPolygonUnion.getGeometry(n,i);return this.unionSafe(u,null)}else{if(r-i===2)return this.unionSafe(CascadedPolygonUnion.getGeometry(n,i),CascadedPolygonUnion.getGeometry(n,i+1));var d=Math.trunc((r+i)/2),c=this.binaryUnion(n,i,d),v=this.binaryUnion(n,d,r);return this.unionSafe(c,v)}}},CascadedPolygonUnion.prototype.repeatedUnion=function e(t){for(var n=null,i=t.iterator();i.hasNext();){var r=i.next();n===null?n=r.copy():n=n.union(r)}return n},CascadedPolygonUnion.prototype.unionSafe=function e(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)},CascadedPolygonUnion.prototype.unionActual=function e(t,n){return CascadedPolygonUnion.restrictToPolygons(t.union(n))},CascadedPolygonUnion.prototype.unionTree=function e(t){var n=this.reduceToGeometries(t),i=this.binaryUnion(n);return i},CascadedPolygonUnion.prototype.unionUsingEnvelopeIntersection=function e(t,n,i){var r=new ArrayList,u=this.extractByEnvelope(i,t,r),d=this.extractByEnvelope(i,n,r),c=this.unionActual(u,d);r.add(c);var v=GeometryCombiner.combine(r);return v},CascadedPolygonUnion.prototype.bufferUnion=function e(){if(arguments.length===1){var t=arguments[0],n=t.get(0).getFactory(),i=n.buildGeometry(t),r=i.buffer(0);return r}else if(arguments.length===2){var u=arguments[0],d=arguments[1],c=u.getFactory(),v=c.createGeometryCollection([u,d]),S=v.buffer(0);return S}},CascadedPolygonUnion.prototype.interfaces_=function e(){return[]},CascadedPolygonUnion.prototype.getClass=function e(){return CascadedPolygonUnion},CascadedPolygonUnion.restrictToPolygons=function e(t){if(hasInterface(t,Polygonal))return t;var n=PolygonExtracter.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(n))},CascadedPolygonUnion.getGeometry=function e(t,n){return n>=t.size()?null:t.get(n)},CascadedPolygonUnion.union=function e(t){var n=new CascadedPolygonUnion(t);return n.union()},staticAccessors$47.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(CascadedPolygonUnion,staticAccessors$47);var UnionOp=function e(){};UnionOp.prototype.interfaces_=function e(){return[]},UnionOp.prototype.getClass=function e(){return UnionOp},UnionOp.union=function e(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return OverlayOp.createEmptyResult(OverlayOp.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),SnapIfNeededOverlayOp.overlayOp(t,n,OverlayOp.UNION)};function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add(temp,e,this.t),add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(e,t,n){var i=e.s=t+n,r=i-t,u=i-r;e.t=t-u+(n-r)}var epsilon=1e-6,pi=Math.PI,halfPi=pi/2,quarterPi=pi/4,tau=pi*2,degrees=180/pi,radians=pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos=Math.cos,sin=Math.sin,sqrt=Math.sqrt;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>1?halfPi:e<-1?-halfPi:Math.asin(e)}function noop(){}function streamGeometry(e,t){e&&streamGeometryType.hasOwnProperty(e.type)&&streamGeometryType[e.type](e,t)}var streamObjectType={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)streamGeometry(n[i].geometry,t)}},streamGeometryType={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)streamLine(n[i],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)streamPolygon(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)streamGeometry(n[i],t)}};function streamLine(e,t,n){var i=-1,r=e.length-n,u;for(t.lineStart();++i<r;)u=e[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function streamPolygon(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)streamLine(e[n],t,1);t.polygonEnd()}function geoStream(e,t){e&&streamObjectType.hasOwnProperty(e.type)?streamObjectType[e.type](e,t):streamGeometry(e,t)}adder(),adder();function spherical(e){return[atan2(e[1],e[0]),asin(e[2])]}function cartesian(e){var t=e[0],n=e[1],i=cos(n);return[i*cos(t),i*sin(t),sin(n)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}adder();function compose(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function rotationIdentity(e,t){return[e>pi?e-tau:e<-pi?e+tau:e,t]}rotationIdentity.invert=rotationIdentity;function rotateRadians(e,t,n){return(e%=tau)?t||n?compose(rotationLambda(e),rotationPhiGamma(t,n)):rotationLambda(e):t||n?rotationPhiGamma(t,n):rotationIdentity}function forwardRotationLambda(e){return function(t,n){return t+=e,[t>pi?t-tau:t<-pi?t+tau:t,n]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){var n=cos(e),i=sin(e),r=cos(t),u=sin(t);function d(c,v){var S=cos(v),C=cos(c)*S,O=sin(c)*S,R=sin(v),H=R*n+C*i;return[atan2(O*r-H*u,C*n-R*i),asin(H*r+O*u)]}return d.invert=function(c,v){var S=cos(v),C=cos(c)*S,O=sin(c)*S,R=sin(v),H=R*r-O*u;return[atan2(O*r+R*u,C*n+H*i),asin(H*n-C*i)]},d}function circleStream(e,t,n,i,r,u){if(n){var d=cos(t),c=sin(t),v=i*n;r==null?(r=t+i*tau,u=t-v/2):(r=circleRadius(d,r),u=circleRadius(d,u),(i>0?r<u:r>u)&&(r+=i*tau));for(var S,C=r;i>0?C>u:C<u;C-=v)S=spherical([d,-c*cos(C),-c*sin(C)]),e.point(S[0],S[1])}}function circleRadius(e,t){t=cartesian(t),t[0]-=e,cartesianNormalizeInPlace(t);var n=acos(-t[1]);return((-t[2]<0?-n:n)+tau-epsilon)%tau}function clipBuffer(){var e=[],t;return{point:function(n,i){t.push([n,i])},lineStart:function(){e.push(t=[])},lineEnd:noop,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function clipLine(e,t,n,i,r,u){var d=e[0],c=e[1],v=t[0],S=t[1],C=0,O=1,R=v-d,H=S-c,K;if(K=n-d,!(!R&&K>0)){if(K/=R,R<0){if(K<C)return;K<O&&(O=K)}else if(R>0){if(K>O)return;K>C&&(C=K)}if(K=r-d,!(!R&&K<0)){if(K/=R,R<0){if(K>O)return;K>C&&(C=K)}else if(R>0){if(K<C)return;K<O&&(O=K)}if(K=i-c,!(!H&&K>0)){if(K/=H,H<0){if(K<C)return;K<O&&(O=K)}else if(H>0){if(K>O)return;K>C&&(C=K)}if(K=u-c,!(!H&&K<0)){if(K/=H,H<0){if(K>O)return;K>C&&(C=K)}else if(H>0){if(K<C)return;K<O&&(O=K)}return C>0&&(e[0]=d+C*R,e[1]=c+C*H),O<1&&(t[0]=d+O*R,t[1]=c+O*H),!0}}}}}function pointEqual(e,t){return abs(e[0]-t[0])<epsilon&&abs(e[1]-t[1])<epsilon}function Intersection(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function clipPolygon(e,t,n,i,r){var u=[],d=[],c,v;if(e.forEach(function(K){if(!((le=K.length-1)<=0)){var le,fe=K[0],ye=K[le],xe;if(pointEqual(fe,ye)){for(r.lineStart(),c=0;c<le;++c)r.point((fe=K[c])[0],fe[1]);r.lineEnd();return}u.push(xe=new Intersection(fe,K,null,!0)),d.push(xe.o=new Intersection(fe,null,xe,!1)),u.push(xe=new Intersection(ye,K,null,!1)),d.push(xe.o=new Intersection(ye,null,xe,!0))}}),!!u.length){for(d.sort(t),link(u),link(d),c=0,v=d.length;c<v;++c)d[c].e=n=!n;for(var S=u[0],C,O;;){for(var R=S,H=!0;R.v;)if((R=R.n)===S)return;C=R.z,r.lineStart();do{if(R.v=R.o.v=!0,R.e){if(H)for(c=0,v=C.length;c<v;++c)r.point((O=C[c])[0],O[1]);else i(R.x,R.n.x,1,r);R=R.n}else{if(H)for(C=R.p.z,c=C.length-1;c>=0;--c)r.point((O=C[c])[0],O[1]);else i(R.x,R.p.x,-1,r);R=R.p}R=R.o,C=R.z,H=!H}while(!R.v);r.lineEnd()}}}function link(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return e.length===1&&(e=ascendingComparator(e)),{left:function(t,n,i,r){for(i==null&&(i=0),r==null&&(r=t.length);i<r;){var u=i+r>>>1;e(t[u],n)<0?i=u+1:r=u}return i},right:function(t,n,i,r){for(i==null&&(i=0),r==null&&(r=t.length);i<r;){var u=i+r>>>1;e(t[u],n)>0?r=u:i=u+1}return i}}}function ascendingComparator(e){return function(t,n){return ascending(e(t),n)}}bisector(ascending);function merge(e){for(var t=e.length,n,i=-1,r=0,u,d;++i<t;)r+=e[i].length;for(u=new Array(r);--t>=0;)for(d=e[t],n=d.length;--n>=0;)u[--r]=d[n];return u}var clipMax=1e9,clipMin=-1e9;function clipExtent(e,t,n,i){function r(S,C){return e<=S&&S<=n&&t<=C&&C<=i}function u(S,C,O,R){var H=0,K=0;if(S==null||(H=d(S,O))!==(K=d(C,O))||v(S,C)<0^O>0)do R.point(H===0||H===3?e:n,H>1?i:t);while((H=(H+O+4)%4)!==K);else R.point(C[0],C[1])}function d(S,C){return abs(S[0]-e)<epsilon?C>0?0:3:abs(S[0]-n)<epsilon?C>0?2:1:abs(S[1]-t)<epsilon?C>0?1:0:C>0?3:2}function c(S,C){return v(S.x,C.x)}function v(S,C){var O=d(S,1),R=d(C,1);return O!==R?O-R:O===0?C[1]-S[1]:O===1?S[0]-C[0]:O===2?S[1]-C[1]:C[0]-S[0]}return function(S){var C=S,O=clipBuffer(),R,H,K,le,fe,ye,xe,Pe,Re,Ze,ot,ut={point:lt,lineStart:Ot,lineEnd:Ut,polygonStart:wt,polygonEnd:At};function lt(ht,He){r(ht,He)&&C.point(ht,He)}function ct(){for(var ht=0,He=0,Ft=H.length;He<Ft;++He)for(var Kt=H[He],Zt=1,Nn=Kt.length,In=Kt[0],zn,Pn,oi=In[0],yn=In[1];Zt<Nn;++Zt)zn=oi,Pn=yn,In=Kt[Zt],oi=In[0],yn=In[1],Pn<=i?yn>i&&(oi-zn)*(i-Pn)>(yn-Pn)*(e-zn)&&++ht:yn<=i&&(oi-zn)*(i-Pn)<(yn-Pn)*(e-zn)&&--ht;return ht}function wt(){C=O,R=[],H=[],ot=!0}function At(){var ht=ct(),He=ot&&ht,Ft=(R=merge(R)).length;(He||Ft)&&(S.polygonStart(),He&&(S.lineStart(),u(null,null,1,S),S.lineEnd()),Ft&&clipPolygon(R,c,ht,u,S),S.polygonEnd()),C=S,R=H=K=null}function Ot(){ut.point=Ve,H&&H.push(K=[]),Ze=!0,Re=!1,xe=Pe=NaN}function Ut(){R&&(Ve(le,fe),ye&&Re&&O.rejoin(),R.push(O.result())),ut.point=lt,Re&&C.lineEnd()}function Ve(ht,He){var Ft=r(ht,He);if(H&&K.push([ht,He]),Ze)le=ht,fe=He,ye=Ft,Ze=!1,Ft&&(C.lineStart(),C.point(ht,He));else if(Ft&&Re)C.point(ht,He);else{var Kt=[xe=Math.max(clipMin,Math.min(clipMax,xe)),Pe=Math.max(clipMin,Math.min(clipMax,Pe))],Zt=[ht=Math.max(clipMin,Math.min(clipMax,ht)),He=Math.max(clipMin,Math.min(clipMax,He))];clipLine(Kt,Zt,e,t,n,i)?(Re||(C.lineStart(),C.point(Kt[0],Kt[1])),C.point(Zt[0],Zt[1]),Ft||C.lineEnd(),ot=!1):Ft&&(C.lineStart(),C.point(ht,He),ot=!1)}xe=ht,Pe=He,Re=Ft}return ut}}var sum=adder();function polygonContains(e,t){var n=t[0],i=t[1],r=[sin(n),-cos(n),0],u=0,d=0;sum.reset();for(var c=0,v=e.length;c<v;++c)if(C=(S=e[c]).length)for(var S,C,O=S[C-1],R=O[0],H=O[1]/2+quarterPi,K=sin(H),le=cos(H),fe=0;fe<C;++fe,R=xe,K=Re,le=Ze,O=ye){var ye=S[fe],xe=ye[0],Pe=ye[1]/2+quarterPi,Re=sin(Pe),Ze=cos(Pe),ot=xe-R,ut=ot>=0?1:-1,lt=ut*ot,ct=lt>pi,wt=K*Re;if(sum.add(atan2(wt*ut*sin(lt),le*Ze+wt*cos(lt))),u+=ct?ot+ut*tau:ot,ct^R>=n^xe>=n){var At=cartesianCross(cartesian(O),cartesian(ye));cartesianNormalizeInPlace(At);var Ot=cartesianCross(r,At);cartesianNormalizeInPlace(Ot);var Ut=(ct^ot>=0?-1:1)*asin(Ot[2]);(i>Ut||i===Ut&&(At[0]||At[1]))&&(d+=ct^ot>=0?1:-1)}}return(u<-1e-6||u<epsilon&&sum<-1e-6)^d&1}adder();function identity(e){return e}adder(),adder();var x0=1/0,y0=x0,x1=-x0,y1=x1,boundsStream={point:boundsPoint,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var e=[[x0,y0],[x1,y1]];return x1=y1=-(y0=x0=1/0),e}};function boundsPoint(e,t){e<x0&&(x0=e),e>x1&&(x1=e),t<y0&&(y0=t),t>y1&&(y1=t)}adder();function clip(e,t,n,i){return function(r,u){var d=t(u),c=r.invert(i[0],i[1]),v=clipBuffer(),S=t(v),C=!1,O,R,H,K={point:le,lineStart:ye,lineEnd:xe,polygonStart:function(){K.point=Pe,K.lineStart=Re,K.lineEnd=Ze,R=[],O=[]},polygonEnd:function(){K.point=le,K.lineStart=ye,K.lineEnd=xe,R=merge(R);var ot=polygonContains(O,c);R.length?(C||(u.polygonStart(),C=!0),clipPolygon(R,compareIntersection,ot,n,u)):ot&&(C||(u.polygonStart(),C=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),C&&(u.polygonEnd(),C=!1),R=O=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function le(ot,ut){var lt=r(ot,ut);e(ot=lt[0],ut=lt[1])&&u.point(ot,ut)}function fe(ot,ut){var lt=r(ot,ut);d.point(lt[0],lt[1])}function ye(){K.point=fe,d.lineStart()}function xe(){K.point=le,d.lineEnd()}function Pe(ot,ut){H.push([ot,ut]);var lt=r(ot,ut);S.point(lt[0],lt[1])}function Re(){S.lineStart(),H=[]}function Ze(){Pe(H[0][0],H[0][1]),S.lineEnd();var ot=S.clean(),ut=v.result(),lt,ct=ut.length,wt,At,Ot;if(H.pop(),O.push(H),H=null,!!ct){if(ot&1){if(At=ut[0],(wt=At.length-1)>0){for(C||(u.polygonStart(),C=!0),u.lineStart(),lt=0;lt<wt;++lt)u.point((Ot=At[lt])[0],Ot[1]);u.lineEnd()}return}ct>1&&ot&2&&ut.push(ut.pop().concat(ut.shift())),R.push(ut.filter(validSegment))}}return K}}function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-halfPi-epsilon:halfPi-e[1])-((t=t.x)[0]<0?t[1]-halfPi-epsilon:halfPi-t[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi,-halfPi]);function clipAntimeridianLine(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(u,d){var c=u>0?pi:-pi,v=abs(u-t);abs(v-pi)<epsilon?(e.point(t,n=(n+d)/2>0?halfPi:-halfPi),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(u,n),r=0):i!==c&&v>=pi&&(abs(t-i)<epsilon&&(t-=i*epsilon),abs(u-c)<epsilon&&(u-=c*epsilon),n=clipAntimeridianIntersect(t,n,u,d),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(c,n),r=0),e.point(t=u,n=d),i=c},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function clipAntimeridianIntersect(e,t,n,i){var r,u,d=sin(e-n);return abs(d)>epsilon?atan((sin(t)*(u=cos(i))*sin(n)-sin(i)*(r=cos(t))*sin(e))/(r*u*d)):(t+i)/2}function clipAntimeridianInterpolate(e,t,n,i){var r;if(e==null)r=n*halfPi,i.point(-pi,r),i.point(0,r),i.point(pi,r),i.point(pi,0),i.point(pi,-r),i.point(0,-r),i.point(-pi,-r),i.point(-pi,0),i.point(-pi,r);else if(abs(e[0]-t[0])>epsilon){var u=e[0]<t[0]?pi:-pi;r=n*u/2,i.point(-u,r),i.point(0,r),i.point(u,r)}else i.point(t[0],t[1])}function clipCircle(e,t){var n=cos(e),i=n>0,r=abs(n)>epsilon;function u(C,O,R,H){circleStream(H,e,t,R,C,O)}function d(C,O){return cos(C)*cos(O)>n}function c(C){var O,R,H,K,le;return{lineStart:function(){K=H=!1,le=1},point:function(fe,ye){var xe=[fe,ye],Pe,Re=d(fe,ye),Ze=i?Re?0:S(fe,ye):Re?S(fe+(fe<0?pi:-pi),ye):0;if(!O&&(K=H=Re)&&C.lineStart(),Re!==H&&(Pe=v(O,xe),(!Pe||pointEqual(O,Pe)||pointEqual(xe,Pe))&&(xe[0]+=epsilon,xe[1]+=epsilon,Re=d(xe[0],xe[1]))),Re!==H)le=0,Re?(C.lineStart(),Pe=v(xe,O),C.point(Pe[0],Pe[1])):(Pe=v(O,xe),C.point(Pe[0],Pe[1]),C.lineEnd()),O=Pe;else if(r&&O&&i^Re){var ot;!(Ze&R)&&(ot=v(xe,O,!0))&&(le=0,i?(C.lineStart(),C.point(ot[0][0],ot[0][1]),C.point(ot[1][0],ot[1][1]),C.lineEnd()):(C.point(ot[1][0],ot[1][1]),C.lineEnd(),C.lineStart(),C.point(ot[0][0],ot[0][1])))}Re&&(!O||!pointEqual(O,xe))&&C.point(xe[0],xe[1]),O=xe,H=Re,R=Ze},lineEnd:function(){H&&C.lineEnd(),O=null},clean:function(){return le|(K&&H)<<1}}}function v(C,O,R){var H=cartesian(C),K=cartesian(O),le=[1,0,0],fe=cartesianCross(H,K),ye=cartesianDot(fe,fe),xe=fe[0],Pe=ye-xe*xe;if(!Pe)return!R&&C;var Re=n*ye/Pe,Ze=-n*xe/Pe,ot=cartesianCross(le,fe),ut=cartesianScale(le,Re),lt=cartesianScale(fe,Ze);cartesianAddInPlace(ut,lt);var ct=ot,wt=cartesianDot(ut,ct),At=cartesianDot(ct,ct),Ot=wt*wt-At*(cartesianDot(ut,ut)-1);if(!(Ot<0)){var Ut=sqrt(Ot),Ve=cartesianScale(ct,(-wt-Ut)/At);if(cartesianAddInPlace(Ve,ut),Ve=spherical(Ve),!R)return Ve;var ht=C[0],He=O[0],Ft=C[1],Kt=O[1],Zt;He<ht&&(Zt=ht,ht=He,He=Zt);var Nn=He-ht,In=abs(Nn-pi)<epsilon,zn=In||Nn<epsilon;if(!In&&Kt<Ft&&(Zt=Ft,Ft=Kt,Kt=Zt),zn?In?Ft+Kt>0^Ve[1]<(abs(Ve[0]-ht)<epsilon?Ft:Kt):Ft<=Ve[1]&&Ve[1]<=Kt:Nn>pi^(ht<=Ve[0]&&Ve[0]<=He)){var Pn=cartesianScale(ct,(-wt+Ut)/At);return cartesianAddInPlace(Pn,ut),[Ve,spherical(Pn)]}}}function S(C,O){var R=i?e:pi-e,H=0;return C<-R?H|=1:C>R&&(H|=2),O<-R?H|=4:O>R&&(H|=8),H}return clip(d,c,u,i?[0,-e]:[-pi,e-pi])}function transformer(e){return function(t){var n=new TransformStream;for(var i in e)n[i]=e[i];return n.stream=t,n}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function fitExtent(e,t,n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],u=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),u!=null&&e.clipExtent(null),geoStream(n,e.stream(boundsStream));var d=boundsStream.result(),c=Math.min(i/(d[1][0]-d[0][0]),r/(d[1][1]-d[0][1])),v=+t[0][0]+(i-c*(d[1][0]+d[0][0]))/2,S=+t[0][1]+(r-c*(d[1][1]+d[0][1]))/2;return u!=null&&e.clipExtent(u),e.scale(c*150).translate([v,S])}function fitSize(e,t,n){return fitExtent(e,[[0,0],t],n)}var maxDepth=16,cosMinDistance=cos(30*radians);function resample(e,t){return+t?resample$1(e,t):resampleNone(e)}function resampleNone(e){return transformer({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function resample$1(e,t){function n(i,r,u,d,c,v,S,C,O,R,H,K,le,fe){var ye=S-i,xe=C-r,Pe=ye*ye+xe*xe;if(Pe>4*t&&le--){var Re=d+R,Ze=c+H,ot=v+K,ut=sqrt(Re*Re+Ze*Ze+ot*ot),lt=asin(ot/=ut),ct=abs(abs(ot)-1)<epsilon||abs(u-O)<epsilon?(u+O)/2:atan2(Ze,Re),wt=e(ct,lt),At=wt[0],Ot=wt[1],Ut=At-i,Ve=Ot-r,ht=xe*Ut-ye*Ve;(ht*ht/Pe>t||abs((ye*Ut+xe*Ve)/Pe-.5)>.3||d*R+c*H+v*K<cosMinDistance)&&(n(i,r,u,d,c,v,At,Ot,ct,Re/=ut,Ze/=ut,ot,le,fe),fe.point(At,Ot),n(At,Ot,ct,Re,Ze,ot,S,C,O,R,H,K,le,fe))}}return function(i){var r,u,d,c,v,S,C,O,R,H,K,le,fe={point:ye,lineStart:xe,lineEnd:Re,polygonStart:function(){i.polygonStart(),fe.lineStart=Ze},polygonEnd:function(){i.polygonEnd(),fe.lineStart=xe}};function ye(lt,ct){lt=e(lt,ct),i.point(lt[0],lt[1])}function xe(){O=NaN,fe.point=Pe,i.lineStart()}function Pe(lt,ct){var wt=cartesian([lt,ct]),At=e(lt,ct);n(O,R,C,H,K,le,O=At[0],R=At[1],C=lt,H=wt[0],K=wt[1],le=wt[2],maxDepth,i),i.point(O,R)}function Re(){fe.point=ye,i.lineEnd()}function Ze(){xe(),fe.point=ot,fe.lineEnd=ut}function ot(lt,ct){Pe(r=lt,ct),u=O,d=R,c=H,v=K,S=le,fe.point=Pe}function ut(){n(O,R,C,H,K,le,u,d,r,c,v,S,maxDepth,i),fe.lineEnd=Re,Re()}return fe}}var transformRadians=transformer({point:function(e,t){this.stream.point(e*radians,t*radians)}});function projection(e){return projectionMutator(function(){return e})()}function projectionMutator(e){var t,n=150,i=480,r=250,u,d,c=0,v=0,S=0,C=0,O=0,R,H,K=null,le=clipAntimeridian,fe=null,ye,xe,Pe,Re=identity,Ze=.5,ot=resample(At,Ze),ut,lt;function ct(Ve){return Ve=H(Ve[0]*radians,Ve[1]*radians),[Ve[0]*n+u,d-Ve[1]*n]}function wt(Ve){return Ve=H.invert((Ve[0]-u)/n,(d-Ve[1])/n),Ve&&[Ve[0]*degrees,Ve[1]*degrees]}function At(Ve,ht){return Ve=t(Ve,ht),[Ve[0]*n+u,d-Ve[1]*n]}ct.stream=function(Ve){return ut&&lt===Ve?ut:ut=transformRadians(le(R,ot(Re(lt=Ve))))},ct.clipAngle=function(Ve){return arguments.length?(le=+Ve?clipCircle(K=Ve*radians,6*radians):(K=null,clipAntimeridian),Ut()):K*degrees},ct.clipExtent=function(Ve){return arguments.length?(Re=Ve==null?(fe=ye=xe=Pe=null,identity):clipExtent(fe=+Ve[0][0],ye=+Ve[0][1],xe=+Ve[1][0],Pe=+Ve[1][1]),Ut()):fe==null?null:[[fe,ye],[xe,Pe]]},ct.scale=function(Ve){return arguments.length?(n=+Ve,Ot()):n},ct.translate=function(Ve){return arguments.length?(i=+Ve[0],r=+Ve[1],Ot()):[i,r]},ct.center=function(Ve){return arguments.length?(c=Ve[0]%360*radians,v=Ve[1]%360*radians,Ot()):[c*degrees,v*degrees]},ct.rotate=function(Ve){return arguments.length?(S=Ve[0]%360*radians,C=Ve[1]%360*radians,O=Ve.length>2?Ve[2]%360*radians:0,Ot()):[S*degrees,C*degrees,O*degrees]},ct.precision=function(Ve){return arguments.length?(ot=resample(At,Ze=Ve*Ve),Ut()):sqrt(Ze)},ct.fitExtent=function(Ve,ht){return fitExtent(ct,Ve,ht)},ct.fitSize=function(Ve,ht){return fitSize(ct,Ve,ht)};function Ot(){H=compose(R=rotateRadians(S,C,O),t);var Ve=t(c,v);return u=i-Ve[0]*n,d=r+Ve[1]*n,Ut()}function Ut(){return ut=lt=null,ct}return function(){return t=e.apply(this,arguments),ct.invert=t.invert&&wt,Ot()}}function azimuthalRaw(e){return function(t,n){var i=cos(t),r=cos(n),u=e(i*r);return[u*r*sin(t),u*sin(n)]}}function azimuthalInvert(e){return function(t,n){var i=sqrt(t*t+n*n),r=e(i),u=sin(r),d=cos(r);return[atan2(t*u,i*d),asin(i&&n*u/i)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(e){return sqrt(2/(1+e))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(e){return 2*asin(e/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(e){return(e=acos(e))&&e/sin(e)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(e){return e});function geoAzimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180-.001)}function equirectangularRaw(e,t){return[e,t]}equirectangularRaw.invert=equirectangularRaw;function buffer(e,t,n){n=n||{};var i=n.units||"kilometers",r=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var u=[];switch(e.type){case"GeometryCollection":return geomEach(e,function(d){var c=bufferFeature(d,t,i,r);c&&u.push(c)}),featureCollection(u);case"FeatureCollection":return featureEach(e,function(d){var c=bufferFeature(d,t,i,r);c&&featureEach(c,function(v){v&&u.push(v)})}),featureCollection(u)}return bufferFeature(e,t,i,r)}function bufferFeature(e,t,n,i){var r=e.properties||{},u=e.type==="Feature"?e.geometry:e;if(u.type==="GeometryCollection"){var d=[];return geomEach(e,function(le){var fe=bufferFeature(le,t,n,i);fe&&d.push(fe)}),featureCollection(d)}var c=defineProjection(u),v={type:u.type,coordinates:projectCoords(u.coordinates,c)},S=new GeoJSONReader,C=S.read(v),O=radiansToLength(lengthToRadians(t,n),"meters"),R=BufferOp.bufferOp(C,O,i),H=new GeoJSONWriter;if(R=H.write(R),!coordsIsNaN(R.coordinates)){var K={type:R.type,coordinates:unprojectCoords(R.coordinates,c)};return feature(K,r)}}function coordsIsNaN(e){return Array.isArray(e[0])?coordsIsNaN(e[0]):isNaN(e[0])}function projectCoords(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return projectCoords(n,t)})}function unprojectCoords(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return unprojectCoords(n,t)})}function defineProjection(e){var t=center(e).geometry.coordinates,n=[-t[0],-t[1]];return geoAzimuthalEquidistant().rotate(n).scale(earthRadius)}var maplibreGl={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(commonjsGlobal,function(){var n,i,r;function u(c,v){if(!n)n=v;else if(!i)i=v;else{var S="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",C={};n(C),r=v(C),typeof window<"u"&&(r.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}u(["exports"],function(c){var v=S;function S(p,a,g,f){this.cx=3*p,this.bx=3*(g-p)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(f-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=p,this.p1y=a,this.p2x=g,this.p2y=f}function C(p,a,g,f){const y=new v(p,a,g,f);return function(b){return y.solve(b)}}S.prototype={sampleCurveX:function(p){return((this.ax*p+this.bx)*p+this.cx)*p},sampleCurveY:function(p){return((this.ay*p+this.by)*p+this.cy)*p},sampleCurveDerivativeX:function(p){return(3*this.ax*p+2*this.bx)*p+this.cx},solveCurveX:function(p,a){if(a===void 0&&(a=1e-6),p<0)return 0;if(p>1)return 1;for(var g=p,f=0;f<8;f++){var y=this.sampleCurveX(g)-p;if(Math.abs(y)<a)return g;var b=this.sampleCurveDerivativeX(g);if(Math.abs(b)<1e-6)break;g-=y/b}var E=0,A=1;for(g=p,f=0;f<20&&(y=this.sampleCurveX(g),!(Math.abs(y-p)<a));f++)p>y?E=g:A=g,g=.5*(A-E)+E;return g},solve:function(p,a){return this.sampleCurveY(this.solveCurveX(p,a))}};const O=C(.25,.1,.25,1);function R(p,a,g){return Math.min(g,Math.max(a,p))}function H(p,a,g){const f=g-a,y=((p-a)%f+f)%f+a;return y===a?g:y}function K(p,...a){for(const g of a)for(const f in g)p[f]=g[f];return p}let le=1;function fe(p,a){p.forEach(g=>{a[g]&&(a[g]=a[g].bind(a))})}function ye(p,a,g){const f={};for(const y in p)f[y]=a.call(g||this,p[y],y,p);return f}function xe(p,a,g){const f={};for(const y in p)a.call(g||this,p[y],y,p)&&(f[y]=p[y]);return f}function Pe(p){return Array.isArray(p)?p.map(Pe):typeof p=="object"&&p?ye(p,Pe):p}const Re={};function Ze(p){Re[p]||(typeof console<"u"&&console.warn(p),Re[p]=!0)}function ot(p,a,g){return(g.y-p.y)*(a.x-p.x)>(a.y-p.y)*(g.x-p.x)}function ut(p){let a=0;for(let g,f,y=0,b=p.length,E=b-1;y<b;E=y++)g=p[y],f=p[E],a+=(f.x-g.x)*(g.y+f.y);return a}function lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ct(p){const a={};if(p.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(g,f,y,b)=>{const E=y||b;return a[f]=!E||E.toLowerCase(),""}),a["max-age"]){const g=parseInt(a["max-age"],10);isNaN(g)?delete a["max-age"]:a["max-age"]=g}return a}let wt,At,Ot=null;function Ut(p){if(Ot==null){const a=p.navigator?p.navigator.userAgent:null;Ot=!!p.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Ot}function Ve(p){return typeof ImageBitmap<"u"&&p instanceof ImageBitmap}const ht={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(p){const a=requestAnimationFrame(p);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(p,a=0){const g=window.document.createElement("canvas"),f=g.getContext("2d");if(!f)throw new Error("failed to create canvas 2d context");return g.width=p.width,g.height=p.height,f.drawImage(p,0,0,p.width,p.height),f.getImageData(-a,-a,p.width+2*a,p.height+2*a)},resolveURL:p=>(wt||(wt=document.createElement("a")),wt.href=p,wt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(At==null&&(At=matchMedia("(prefers-reduced-motion: reduce)")),At.matches)}};var He=Ft;function Ft(p,a){this.x=p,this.y=a}Ft.prototype={clone:function(){return new Ft(this.x,this.y)},add:function(p){return this.clone()._add(p)},sub:function(p){return this.clone()._sub(p)},multByPoint:function(p){return this.clone()._multByPoint(p)},divByPoint:function(p){return this.clone()._divByPoint(p)},mult:function(p){return this.clone()._mult(p)},div:function(p){return this.clone()._div(p)},rotate:function(p){return this.clone()._rotate(p)},rotateAround:function(p,a){return this.clone()._rotateAround(p,a)},matMult:function(p){return this.clone()._matMult(p)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(p){return this.x===p.x&&this.y===p.y},dist:function(p){return Math.sqrt(this.distSqr(p))},distSqr:function(p){var a=p.x-this.x,g=p.y-this.y;return a*a+g*g},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(p){return Math.atan2(this.y-p.y,this.x-p.x)},angleWith:function(p){return this.angleWithSep(p.x,p.y)},angleWithSep:function(p,a){return Math.atan2(this.x*a-this.y*p,this.x*p+this.y*a)},_matMult:function(p){var a=p[2]*this.x+p[3]*this.y;return this.x=p[0]*this.x+p[1]*this.y,this.y=a,this},_add:function(p){return this.x+=p.x,this.y+=p.y,this},_sub:function(p){return this.x-=p.x,this.y-=p.y,this},_mult:function(p){return this.x*=p,this.y*=p,this},_div:function(p){return this.x/=p,this.y/=p,this},_multByPoint:function(p){return this.x*=p.x,this.y*=p.y,this},_divByPoint:function(p){return this.x/=p.x,this.y/=p.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var p=this.y;return this.y=this.x,this.x=-p,this},_rotate:function(p){var a=Math.cos(p),g=Math.sin(p),f=g*this.x+a*this.y;return this.x=a*this.x-g*this.y,this.y=f,this},_rotateAround:function(p,a){var g=Math.cos(p),f=Math.sin(p),y=a.y+f*(this.x-a.x)+g*(this.y-a.y);return this.x=a.x+g*(this.x-a.x)-f*(this.y-a.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ft.convert=function(p){return p instanceof Ft?p:Array.isArray(p)?new Ft(p[0],p[1]):p};const Kt={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},Zt="mapbox-tiles";let Nn,In=500,zn=50;function Pn(){typeof caches>"u"||Nn||(Nn=caches.open(Zt))}let oi=1/0;const yn={supported:!1,testSupport:function(p){!Do&&Ci&&(Gn?lo(p):$i=p)}};let $i,Ci,Do=!1,Gn=!1;function lo(p){const a=p.createTexture();p.bindTexture(p.TEXTURE_2D,a);try{if(p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,Ci),p.isContextLost())return;yn.supported=!0}catch{}p.deleteTexture(a),Do=!0}typeof document<"u"&&(Ci=document.createElement("img"),Ci.onload=function(){$i&&lo($i),$i=null,Gn=!0},Ci.onerror=function(){Do=!0,$i=null},Ci.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Ro={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ro);class ri extends Error{constructor(a,g,f,y){super(`AJAXError: ${g} (${a}): ${f}`),this.status=a,this.statusText=g,this.url=f,this.body=y}}const ei=lt()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function gr(p,a){const g=new AbortController,f=new Request(p.url,{method:p.method||"GET",body:p.body,credentials:p.credentials,headers:p.headers,referrer:ei(),signal:g.signal});let y=!1,b=!1;return p.type==="json"&&f.headers.set("Accept","application/json"),((E,A,I)=>{b||fetch(f).then(D=>D.ok?((N,F,U)=>{(p.type==="arrayBuffer"?N.arrayBuffer():p.type==="json"?N.json():N.text()).then(V=>{b||(y=!0,a(null,V,N.headers.get("Cache-Control"),N.headers.get("Expires")))}).catch(V=>{b||a(new Error(V.message))})})(D):D.blob().then(N=>a(new ri(D.status,D.statusText,p.url,N)))).catch(D=>{D.code!==20&&a(new Error(D.message))})})(),{cancel:()=>{b=!0,y||g.abort()}}}const Ii=function(p,a){if(/:\/\//.test(p.url)&&!/^https?:|^file:/.test(p.url)){if(lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",p,a);if(!lt()){const f=p.url.substring(0,p.url.indexOf("://"));return(Kt.REGISTERED_PROTOCOLS[f]||gr)(p,a)}}if(!(/^file:/.test(g=p.url)||/^file:/.test(ei())&&!/^\w+:/.test(g))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return gr(p,a);if(lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",p,a,void 0,!0)}var g;return function(f,y){const b=new XMLHttpRequest;b.open(f.method||"GET",f.url,!0),f.type==="arrayBuffer"&&(b.responseType="arraybuffer");for(const E in f.headers)b.setRequestHeader(E,f.headers[E]);return f.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=f.credentials==="include",b.onerror=()=>{y(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let E=b.response;if(f.type==="json")try{E=JSON.parse(b.response)}catch(A){return y(A)}y(null,E,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const E=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});y(new ri(b.status,b.statusText,f.url,E))}},b.send(f.body),{cancel:()=>b.abort()}}(p,a)},uo=function(p,a){return Ii(K(p,{type:"arrayBuffer"}),a)};function dr(p){const a=window.document.createElement("a");return a.href=p,a.protocol===window.document.location.protocol&&a.host===window.document.location.host}const co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let St,ai;St=[],ai=0;const Lo=function(p,a){if(yn.supported&&(p.headers||(p.headers={}),p.headers.accept="image/webp,*/*"),ai>=Kt.MAX_PARALLEL_IMAGE_REQUESTS){const b={requestParameters:p,callback:a,cancelled:!1,cancel(){this.cancelled=!0}};return St.push(b),b}ai++;let g=!1;const f=()=>{if(!g)for(g=!0,ai--;St.length&&ai<Kt.MAX_PARALLEL_IMAGE_REQUESTS;){const b=St.shift(),{requestParameters:E,callback:A,cancelled:I}=b;I||(b.cancel=Lo(E,A).cancel)}},y=uo(p,(b,E,A,I)=>{f(),b?a(b):E&&function(D,N){typeof createImageBitmap=="function"?function(F,U){const V=new Blob([new Uint8Array(F)],{type:"image/png"});createImageBitmap(V).then(q=>{U(null,q)}).catch(q=>{U(new Error(`Could not load image because of ${q.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(D,N):function(F,U){const V=new Image;V.onload=()=>{U(null,V),URL.revokeObjectURL(V.src),V.onload=null,window.requestAnimationFrame(()=>{V.src=co})},V.onerror=()=>U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const q=new Blob([new Uint8Array(F)],{type:"image/png"});V.src=F.byteLength?URL.createObjectURL(q):co}(D,N)}(E,(D,N)=>{D!=null?a(D):N!=null&&a(null,N,{cacheControl:A,expires:I})})});return{cancel:()=>{y.cancel(),f()}}};function Mi(p,a,g){g[p]&&g[p].indexOf(a)!==-1||(g[p]=g[p]||[],g[p].push(a))}function po(p,a,g){if(g&&g[p]){const f=g[p].indexOf(a);f!==-1&&g[p].splice(f,1)}}class vi{constructor(a,g={}){K(this,g),this.type=a}}class Ni extends vi{constructor(a,g={}){super("error",K({error:a},g))}}class go{on(a,g){return this._listeners=this._listeners||{},Mi(a,g,this._listeners),this}off(a,g){return po(a,g,this._listeners),po(a,g,this._oneTimeListeners),this}once(a,g){return this._oneTimeListeners=this._oneTimeListeners||{},Mi(a,g,this._oneTimeListeners),this}fire(a,g){typeof a=="string"&&(a=new vi(a,g||{}));const f=a.type;if(this.listens(f)){a.target=this;const y=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const A of y)A.call(this,a);const b=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const A of b)po(f,A,this._oneTimeListeners),A.call(this,a);const E=this._eventedParent;E&&(K(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(a))}else a instanceof Ni&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,g){return this._eventedParent=a,this._eventedParentData=g,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class Me{constructor(a,g,f,y){this.message=(a?`${a}: `:"")+f,y&&(this.identifier=y),g!=null&&g.__line__&&(this.line=g.__line__)}}function qi(p){const a=p.value;return a?[new Me(p.key,a,"constants have been deprecated as of v8")]:[]}function si(p,...a){for(const g of a)for(const f in g)p[f]=g[f];return p}function jt(p){return p instanceof Number||p instanceof String||p instanceof Boolean?p.valueOf():p}function tn(p){if(Array.isArray(p))return p.map(tn);if(p instanceof Object&&!(p instanceof Number||p instanceof String||p instanceof Boolean)){const a={};for(const g in p)a[g]=tn(p[g]);return a}return jt(p)}class wn extends Error{constructor(a,g){super(g),this.message=g,this.key=a}}class ho{constructor(a,g=[]){this.parent=a,this.bindings={};for(const[f,y]of g)this.bindings[f]=y}concat(a){return new ho(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const On={kind:"null"},Fe={kind:"number"},yt={kind:"string"},gt={kind:"boolean"},Dn={kind:"color"},qn={kind:"object"},ft={kind:"value"},li={kind:"collator"},bi={kind:"formatted"},xn={kind:"padding"},zi={kind:"resolvedImage"};function kt(p,a){return{kind:"array",itemType:p,N:a}}function Bt(p){if(p.kind==="array"){const a=Bt(p.itemType);return typeof p.N=="number"?`array<${a}, ${p.N}>`:p.itemType.kind==="value"?"array":`array<${a}>`}return p.kind}const Hi=[On,Fe,yt,gt,Dn,bi,qn,kt(ft),xn,zi];function xi(p,a){if(a.kind==="error")return null;if(p.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!xi(p.itemType,a.itemType))&&(typeof p.N!="number"||p.N===a.N))return null}else{if(p.kind===a.kind)return null;if(p.kind==="value"){for(const g of Hi)if(!xi(g,a))return null}}return`Expected ${Bt(p)} but found ${Bt(a)} instead.`}function Fi(p,a){return a.some(g=>g.kind===p.kind)}function Pi(p,a){return a.some(g=>g==="null"?p===null:g==="array"?Array.isArray(p):g==="object"?p&&!Array.isArray(p)&&typeof p=="object":g===typeof p)}var Mo,No={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wi(p){return(p=Math.round(p))<0?0:p>255?255:p}function X(p){return wi(p[p.length-1]==="%"?parseFloat(p)/100*255:parseInt(p))}function M(p){return(a=p[p.length-1]==="%"?parseFloat(p)/100:parseFloat(p))<0?0:a>1?1:a;var a}function k(p,a,g){return g<0?g+=1:g>1&&(g-=1),6*g<1?p+(a-p)*g*6:2*g<1?a:3*g<2?p+(a-p)*(2/3-g)*6:p}try{Mo={}.parseCSSColor=function(p){var a,g=p.replace(/ /g,"").toLowerCase();if(g in No)return No[g].slice();if(g[0]==="#")return g.length===4?(a=parseInt(g.substr(1),16))>=0&&a<=4095?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null:g.length===7&&(a=parseInt(g.substr(1),16))>=0&&a<=16777215?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null;var f=g.indexOf("("),y=g.indexOf(")");if(f!==-1&&y+1===g.length){var b=g.substr(0,f),E=g.substr(f+1,y-(f+1)).split(","),A=1;switch(b){case"rgba":if(E.length!==4)return null;A=M(E.pop());case"rgb":return E.length!==3?null:[X(E[0]),X(E[1]),X(E[2]),A];case"hsla":if(E.length!==4)return null;A=M(E.pop());case"hsl":if(E.length!==3)return null;var I=(parseFloat(E[0])%360+360)%360/360,D=M(E[1]),N=M(E[2]),F=N<=.5?N*(D+1):N+D-N*D,U=2*N-F;return[wi(255*k(U,F,I+1/3)),wi(255*k(U,F,I)),wi(255*k(U,F,I-1/3)),A];default:return null}}return null}}catch{}class G{constructor(a,g,f,y=1){this.r=a,this.g=g,this.b=f,this.a=y}static parse(a){if(!a)return;if(a instanceof G)return a;if(typeof a!="string")return;const g=Mo(a);return g?new G(g[0]/255*g[3],g[1]/255*g[3],g[2]/255*g[3],g[3]):void 0}toString(){const[a,g,f,y]=this.toArray();return`rgba(${Math.round(a)},${Math.round(g)},${Math.round(f)},${y})`}toArray(){const{r:a,g,b:f,a:y}=this;return y===0?[0,0,0,0]:[255*a/y,255*g/y,255*f/y,y]}}G.black=new G(0,0,0,1),G.white=new G(1,1,1,1),G.transparent=new G(0,0,0,0),G.red=new G(1,0,0,1);class W{constructor(a,g,f){this.sensitivity=a?g?"variant":"case":g?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,g){return this.collator.compare(a,g)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ie{constructor(a,g,f,y,b){this.text=a,this.image=g,this.scale=f,this.fontStack=y,this.textColor=b}}class ae{constructor(a){this.sections=a}static fromString(a){return new ae([new ie(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.name.length!==0)}static factory(a){return a instanceof ae?a:ae.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}}class re{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof re)return a;if(typeof a=="number")return new re([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const g of a)if(typeof g!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new re(a)}}toString(){return JSON.stringify(this.values)}}class oe{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new oe({name:a,available:!1}):null}}function ce(p,a,g,f){return typeof p=="number"&&p>=0&&p<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof g=="number"&&g>=0&&g<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[p,a,g,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[p,a,g,f]:[p,a,g]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ve(p){if(p===null||typeof p=="string"||typeof p=="boolean"||typeof p=="number"||p instanceof G||p instanceof W||p instanceof ae||p instanceof re||p instanceof oe)return!0;if(Array.isArray(p)){for(const a of p)if(!ve(a))return!1;return!0}if(typeof p=="object"){for(const a in p)if(!ve(p[a]))return!1;return!0}return!1}function Ce(p){if(p===null)return On;if(typeof p=="string")return yt;if(typeof p=="boolean")return gt;if(typeof p=="number")return Fe;if(p instanceof G)return Dn;if(p instanceof W)return li;if(p instanceof ae)return bi;if(p instanceof re)return xn;if(p instanceof oe)return zi;if(Array.isArray(p)){const a=p.length;let g;for(const f of p){const y=Ce(f);if(g){if(g===y)continue;g=ft;break}g=y}return kt(g||ft,a)}return qn}function Ae(p){const a=typeof p;return p===null?"":a==="string"||a==="number"||a==="boolean"?String(p):p instanceof G||p instanceof ae||p instanceof re||p instanceof oe?p.toString():JSON.stringify(p)}class Ye{constructor(a,g){this.type=a,this.value=g}static parse(a,g){if(a.length!==2)return g.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!ve(a[1]))return g.error("invalid value");const f=a[1];let y=Ce(f);const b=g.expectedType;return y.kind!=="array"||y.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(y=b),new Ye(y,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ge{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const et={string:yt,number:Fe,boolean:gt,object:qn};class it{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");let f,y=1;const b=a[0];if(b==="array"){let A,I;if(a.length>2){const D=a[1];if(typeof D!="string"||!(D in et)||D==="object")return g.error('The item type argument of "array" must be one of string, number, boolean',1);A=et[D],y++}else A=ft;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return g.error('The length argument to "array" must be a positive integer literal',2);I=a[2],y++}f=kt(A,I)}else{if(!et[b])throw new Error(`Types doesn't contain name = ${b}`);f=et[b]}const E=[];for(;y<a.length;y++){const A=g.parse(a[y],y,ft);if(!A)return null;E.push(A)}return new it(f,E)}evaluate(a){for(let g=0;g<this.args.length;g++){const f=this.args[g].evaluate(a);if(!xi(this.type,Ce(f)))return f;if(g===this.args.length-1)throw new Ge(`Expected value to be of type ${Bt(this.type)}, but found ${Bt(Ce(f))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const mt={"to-boolean":gt,"to-color":Dn,"to-number":Fe,"to-string":yt};class xt{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");const f=a[0];if(!mt[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&a.length!==2)return g.error("Expected one argument.");const y=mt[f],b=[];for(let E=1;E<a.length;E++){const A=g.parse(a[E],E,ft);if(!A)return null;b.push(A)}return new xt(y,b)}evaluate(a){if(this.type.kind==="boolean")return!!this.args[0].evaluate(a);if(this.type.kind==="color"){let g,f;for(const y of this.args){if(g=y.evaluate(a),f=null,g instanceof G)return g;if(typeof g=="string"){const b=a.parseColor(g);if(b)return b}else if(Array.isArray(g)&&(f=g.length<3||g.length>4?`Invalid rbga value ${JSON.stringify(g)}: expected an array containing either three or four numeric values.`:ce(g[0],g[1],g[2],g[3]),!f))return new G(g[0]/255,g[1]/255,g[2]/255,g[3])}throw new Ge(f||`Could not parse color from value '${typeof g=="string"?g:JSON.stringify(g)}'`)}if(this.type.kind==="padding"){let g;for(const f of this.args){g=f.evaluate(a);const y=re.parse(g);if(y)return y}throw new Ge(`Could not parse padding from value '${typeof g=="string"?g:JSON.stringify(g)}'`)}if(this.type.kind==="number"){let g=null;for(const f of this.args){if(g=f.evaluate(a),g===null)return 0;const y=Number(g);if(!isNaN(y))return y}throw new Ge(`Could not convert ${JSON.stringify(g)} to number.`)}return this.type.kind==="formatted"?ae.fromString(Ae(this.args[0].evaluate(a))):this.type.kind==="resolvedImage"?oe.fromString(Ae(this.args[0].evaluate(a))):Ae(this.args[0].evaluate(a))}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const $t=["Unknown","Point","LineString","Polygon"];class _t{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?$t[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let g=this._parseColorCache[a];return g||(g=this._parseColorCache[a]=G.parse(a)),g}}class dt{constructor(a,g,f,y){this.name=a,this.type=g,this._evaluate=f,this.args=y}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,g){const f=a[0],y=dt.definitions[f];if(!y)return g.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(y)?y[0]:y.type,E=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,A=E.filter(([D])=>!Array.isArray(D)||D.length===a.length-1);let I=null;for(const[D,N]of A){I=new _r(g.registry,g.path,null,g.scope);const F=[];let U=!1;for(let V=1;V<a.length;V++){const q=a[V],ne=Array.isArray(D)?D[V-1]:D.type,te=I.parse(q,1+F.length,ne);if(!te){U=!0;break}F.push(te)}if(!U)if(Array.isArray(D)&&D.length!==F.length)I.error(`Expected ${D.length} arguments, but found ${F.length} instead.`);else{for(let V=0;V<F.length;V++){const q=Array.isArray(D)?D[V]:D.type,ne=F[V];I.concat(V+1).checkSubtype(q,ne.type)}if(I.errors.length===0)return new dt(f,b,N,F)}}if(A.length===1)g.errors.push(...I.errors);else{const D=(A.length?A:E).map(([F])=>{return U=F,Array.isArray(U)?`(${U.map(Bt).join(", ")})`:`(${Bt(U.type)}...)`;var U}).join(" | "),N=[];for(let F=1;F<a.length;F++){const U=g.parse(a[F],1+N.length);if(!U)return null;N.push(Bt(U.type))}g.error(`Expected arguments of type ${D}, but found (${N.join(", ")}) instead.`)}return null}static register(a,g){dt.definitions=g;for(const f in g)a[f]=dt}}class an{constructor(a,g,f){this.type=li,this.locale=f,this.caseSensitive=a,this.diacriticSensitive=g}static parse(a,g){if(a.length!==2)return g.error("Expected one argument.");const f=a[1];if(typeof f!="object"||Array.isArray(f))return g.error("Collator options argument must be an object.");const y=g.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,gt);if(!y)return null;const b=g.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,gt);if(!b)return null;let E=null;return f.locale&&(E=g.parse(f.locale,1,yt),!E)?null:new an(y,b,E)}evaluate(a){return new W(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}const nn=8192;function ln(p,a){p[0]=Math.min(p[0],a[0]),p[1]=Math.min(p[1],a[1]),p[2]=Math.max(p[2],a[0]),p[3]=Math.max(p[3],a[1])}function $n(p,a){return!(p[0]<=a[0]||p[2]>=a[2]||p[1]<=a[1]||p[3]>=a[3])}function Qr(p,a){const g=(180+p[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p[1]*Math.PI/360)))/360,y=Math.pow(2,a.z);return[Math.round(g*y*nn),Math.round(f*y*nn)]}function zo(p,a,g){const f=p[0]-a[0],y=p[1]-a[1],b=p[0]-g[0],E=p[1]-g[1];return f*E-b*y==0&&f*b<=0&&y*E<=0}function Lt(p,a){let g=!1;for(let E=0,A=a.length;E<A;E++){const I=a[E];for(let D=0,N=I.length;D<N-1;D++){if(zo(p,I[D],I[D+1]))return!1;(y=I[D])[1]>(f=p)[1]!=(b=I[D+1])[1]>f[1]&&f[0]<(b[0]-y[0])*(f[1]-y[1])/(b[1]-y[1])+y[0]&&(g=!g)}}var f,y,b;return g}function Qs(p,a){for(let g=0;g<a.length;g++)if(Lt(p,a[g]))return!0;return!1}function hr(p,a,g,f){const y=f[0]-g[0],b=f[1]-g[1],E=(p[0]-g[0])*b-y*(p[1]-g[1]),A=(a[0]-g[0])*b-y*(a[1]-g[1]);return E>0&&A<0||E<0&&A>0}function el(p,a,g){for(const D of g)for(let N=0;N<D.length-1;++N)if((A=[(E=D[N+1])[0]-(b=D[N])[0],E[1]-b[1]])[0]*(I=[(y=a)[0]-(f=p)[0],y[1]-f[1]])[1]-A[1]*I[0]!=0&&hr(f,y,b,E)&&hr(b,E,f,y))return!0;var f,y,b,E,A,I;return!1}function ea(p,a){for(let g=0;g<p.length;++g)if(!Lt(p[g],a))return!1;for(let g=0;g<p.length-1;++g)if(el(p[g],p[g+1],a))return!1;return!0}function Ja(p,a){for(let g=0;g<a.length;g++)if(ea(p,a[g]))return!0;return!1}function ta(p,a,g){const f=[];for(let y=0;y<p.length;y++){const b=[];for(let E=0;E<p[y].length;E++){const A=Qr(p[y][E],g);ln(a,A),b.push(A)}f.push(b)}return f}function na(p,a,g){const f=[];for(let y=0;y<p.length;y++){const b=ta(p[y],a,g);f.push(b)}return f}function ia(p,a,g,f){if(p[0]<g[0]||p[0]>g[2]){const y=.5*f;let b=p[0]-g[0]>y?-f:g[0]-p[0]>y?f:0;b===0&&(b=p[0]-g[2]>y?-f:g[2]-p[0]>y?f:0),p[0]+=b}ln(a,p)}function Qa(p,a,g,f){const y=Math.pow(2,f.z)*nn,b=[f.x*nn,f.y*nn],E=[];for(const A of p)for(const I of A){const D=[I.x+b[0],I.y+b[1]];ia(D,a,g,y),E.push(D)}return E}function es(p,a,g,f){const y=Math.pow(2,f.z)*nn,b=[f.x*nn,f.y*nn],E=[];for(const I of p){const D=[];for(const N of I){const F=[N.x+b[0],N.y+b[1]];ln(a,F),D.push(F)}E.push(D)}if(a[2]-a[0]<=y/2){(A=a)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const I of E)for(const D of I)ia(D,a,g,y)}var A;return E}class Xi{constructor(a,g){this.type=gt,this.geojson=a,this.geometries=g}static parse(a,g){if(a.length!==2)return g.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(ve(a[1])){const f=a[1];if(f.type==="FeatureCollection")for(let y=0;y<f.features.length;++y){const b=f.features[y].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Xi(f,f.features[y].geometry)}else if(f.type==="Feature"){const y=f.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Xi(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Xi(f,f)}return g.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(g,f){const y=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=g.canonicalID();if(f.type==="Polygon"){const A=ta(f.coordinates,b,E),I=Qa(g.geometry(),y,b,E);if(!$n(y,b))return!1;for(const D of I)if(!Lt(D,A))return!1}if(f.type==="MultiPolygon"){const A=na(f.coordinates,b,E),I=Qa(g.geometry(),y,b,E);if(!$n(y,b))return!1;for(const D of I)if(!Qs(D,A))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(g,f){const y=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],E=g.canonicalID();if(f.type==="Polygon"){const A=ta(f.coordinates,b,E),I=es(g.geometry(),y,b,E);if(!$n(y,b))return!1;for(const D of I)if(!ea(D,A))return!1}if(f.type==="MultiPolygon"){const A=na(f.coordinates,b,E),I=es(g.geometry(),y,b,E);if(!$n(y,b))return!1;for(const D of I)if(!Ja(D,A))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function fr(p){if(p instanceof dt&&(p.name==="get"&&p.args.length===1||p.name==="feature-state"||p.name==="has"&&p.args.length===1||p.name==="properties"||p.name==="geometry-type"||p.name==="id"||/^filter-/.test(p.name))||p instanceof Xi)return!1;let a=!0;return p.eachChild(g=>{a&&!fr(g)&&(a=!1)}),a}function fo(p){if(p instanceof dt&&p.name==="feature-state")return!1;let a=!0;return p.eachChild(g=>{a&&!fo(g)&&(a=!1)}),a}function Fo(p,a){if(p instanceof dt&&a.indexOf(p.name)>=0)return!1;let g=!0;return p.eachChild(f=>{g&&!Fo(f,a)&&(g=!1)}),g}class mr{constructor(a,g){this.type=g.type,this.name=a,this.boundExpression=g}static parse(a,g){if(a.length!==2||typeof a[1]!="string")return g.error("'var' expression requires exactly one string literal argument.");const f=a[1];return g.scope.has(f)?new mr(f,g.scope.get(f)):g.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class _r{constructor(a,g=[],f,y=new ho,b=[]){this.registry=a,this.path=g,this.key=g.map(E=>`[${E}]`).join(""),this.scope=y,this.errors=b,this.expectedType=f}parse(a,g,f,y,b={}){return g?this.concat(g,f,y)._parse(a,b):this._parse(a,b)}_parse(a,g){function f(y,b,E){return E==="assert"?new it(b,[y]):E==="coerce"?new xt(b,[y]):y}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=a[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[y];if(b){let E=b.parse(a,this);if(!E)return null;if(this.expectedType){const A=this.expectedType,I=E.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||I.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string")if(A.kind!=="padding"||I.kind!=="value"&&I.kind!=="number"&&I.kind!=="array"){if(this.checkSubtype(A,I))return null}else E=f(E,A,g.typeAnnotation||"coerce");else E=f(E,A,g.typeAnnotation||"coerce");else E=f(E,A,g.typeAnnotation||"assert")}if(!(E instanceof Ye)&&E.type.kind!=="resolvedImage"&&ko(E)){const A=new _t;try{E=new Ye(E.type,E.evaluate(A))}catch(I){return this.error(I.message),null}}return E}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,g,f){const y=typeof a=="number"?this.path.concat(a):this.path,b=f?this.scope.concat(f):this.scope;return new _r(this.registry,y,g||null,b,this.errors)}error(a,...g){const f=`${this.key}${g.map(y=>`[${y}]`).join("")}`;this.errors.push(new wn(f,a))}checkSubtype(a,g){const f=xi(a,g);return f&&this.error(f),f}}function ko(p){if(p instanceof mr)return ko(p.boundExpression);if(p instanceof dt&&p.name==="error"||p instanceof an||p instanceof Xi)return!1;const a=p instanceof xt||p instanceof it;let g=!0;return p.eachChild(f=>{g=a?g&&ko(f):g&&f instanceof Ye}),!!g&&fr(p)&&Fo(p,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function yr(p,a){const g=p.length-1;let f,y,b=0,E=g,A=0;for(;b<=E;)if(A=Math.floor((b+E)/2),f=p[A],y=p[A+1],f<=a){if(A===g||a<y)return A;b=A+1}else{if(!(f>a))throw new Ge("Input is not a number.");E=A-1}return 0}class Bo{constructor(a,g,f){this.type=a,this.input=g,this.labels=[],this.outputs=[];for(const[y,b]of f)this.labels.push(y),this.outputs.push(b)}static parse(a,g){if(a.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return g.error("Expected an even number of arguments.");const f=g.parse(a[1],1,Fe);if(!f)return null;const y=[];let b=null;g.expectedType&&g.expectedType.kind!=="value"&&(b=g.expectedType);for(let E=1;E<a.length;E+=2){const A=E===1?-1/0:a[E],I=a[E+1],D=E,N=E+1;if(typeof A!="number")return g.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(y.length&&y[y.length-1][0]>=A)return g.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const F=g.parse(I,N,b);if(!F)return null;b=b||F.type,y.push([A,F])}return new Bo(b,f,y)}evaluate(a){const g=this.labels,f=this.outputs;if(g.length===1)return f[0].evaluate(a);const y=this.input.evaluate(a);if(y<=g[0])return f[0].evaluate(a);const b=g.length;return y>=g[b-1]?f[b-1].evaluate(a):f[yr(g,y)].evaluate(a)}eachChild(a){a(this.input);for(const g of this.outputs)a(g)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function Jt(p,a,g){return p*(1-g)+a*g}var Uo=Object.freeze({__proto__:null,number:Jt,color:function(p,a,g){return new G(Jt(p.r,a.r,g),Jt(p.g,a.g,g),Jt(p.b,a.b,g),Jt(p.a,a.a,g))},array:function(p,a,g){return p.map((f,y)=>Jt(f,a[y],g))},padding:function(p,a,g){const f=p.values,y=a.values;return new re([Jt(f[0],y[0],g),Jt(f[1],y[1],g),Jt(f[2],y[2],g),Jt(f[3],y[3],g)])}});const oa=.95047,ts=1.08883,ns=4/29,$r=6/29,ra=3*$r*$r,tl=Math.PI/180,nl=180/Math.PI;function aa(p){return p>.008856451679035631?Math.pow(p,1/3):p/ra+ns}function sa(p){return p>$r?p*p*p:ra*(p-ns)}function la(p){return 255*(p<=.0031308?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function ua(p){return(p/=255)<=.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)}function is(p){const a=ua(p.r),g=ua(p.g),f=ua(p.b),y=aa((.4124564*a+.3575761*g+.1804375*f)/oa),b=aa((.2126729*a+.7151522*g+.072175*f)/1);return{l:116*b-16,a:500*(y-b),b:200*(b-aa((.0193339*a+.119192*g+.9503041*f)/ts)),alpha:p.a}}function Rt(p){let a=(p.l+16)/116,g=isNaN(p.a)?a:a+p.a/500,f=isNaN(p.b)?a:a-p.b/200;return a=1*sa(a),g=oa*sa(g),f=ts*sa(f),new G(la(3.2404542*g-1.5371385*a-.4985314*f),la(-.969266*g+1.8760108*a+.041556*f),la(.0556434*g-.2040259*a+1.0572252*f),p.alpha)}function il(p,a,g){const f=a-p;return p+g*(f>180||f<-180?f-360*Math.round(f/360):f)}const jo={forward:is,reverse:Rt,interpolate:function(p,a,g){return{l:Jt(p.l,a.l,g),a:Jt(p.a,a.a,g),b:Jt(p.b,a.b,g),alpha:Jt(p.alpha,a.alpha,g)}}},Vo={forward:function(p){const{l:a,a:g,b:f}=is(p),y=Math.atan2(f,g)*nl;return{h:y<0?y+360:y,c:Math.sqrt(g*g+f*f),l:a,alpha:p.a}},reverse:function(p){const a=p.h*tl,g=p.c;return Rt({l:p.l,a:Math.cos(a)*g,b:Math.sin(a)*g,alpha:p.alpha})},interpolate:function(p,a,g){return{h:il(p.h,a.h,g),c:Jt(p.c,a.c,g),l:Jt(p.l,a.l,g),alpha:Jt(p.alpha,a.alpha,g)}}};var os=Object.freeze({__proto__:null,lab:jo,hcl:Vo});class Hn{constructor(a,g,f,y,b){this.type=a,this.operator=g,this.interpolation=f,this.input=y,this.labels=[],this.outputs=[];for(const[E,A]of b)this.labels.push(E),this.outputs.push(A)}static interpolationFactor(a,g,f,y){let b=0;if(a.name==="exponential")b=ca(g,a.base,f,y);else if(a.name==="linear")b=ca(g,1,f,y);else if(a.name==="cubic-bezier"){const E=a.controlPoints;b=new v(E[0],E[1],E[2],E[3]).solve(ca(g,1,f,y))}return b}static parse(a,g){let[f,y,b,...E]=a;if(!Array.isArray(y)||y.length===0)return g.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const D=y[1];if(typeof D!="number")return g.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:D}}else{if(y[0]!=="cubic-bezier")return g.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const D=y.slice(1);if(D.length!==4||D.some(N=>typeof N!="number"||N<0||N>1))return g.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:D}}}if(a.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return g.error("Expected an even number of arguments.");if(b=g.parse(b,2,Fe),!b)return null;const A=[];let I=null;f==="interpolate-hcl"||f==="interpolate-lab"?I=Dn:g.expectedType&&g.expectedType.kind!=="value"&&(I=g.expectedType);for(let D=0;D<E.length;D+=2){const N=E[D],F=E[D+1],U=D+3,V=D+4;if(typeof N!="number")return g.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(A.length&&A[A.length-1][0]>=N)return g.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);const q=g.parse(F,V,I);if(!q)return null;I=I||q.type,A.push([N,q])}return I.kind==="number"||I.kind==="color"||I.kind==="padding"||I.kind==="array"&&I.itemType.kind==="number"&&typeof I.N=="number"?new Hn(I,f,y,b,A):g.error(`Type ${Bt(I)} is not interpolatable.`)}evaluate(a){const g=this.labels,f=this.outputs;if(g.length===1)return f[0].evaluate(a);const y=this.input.evaluate(a);if(y<=g[0])return f[0].evaluate(a);const b=g.length;if(y>=g[b-1])return f[b-1].evaluate(a);const E=yr(g,y),A=Hn.interpolationFactor(this.interpolation,y,g[E],g[E+1]),I=f[E].evaluate(a),D=f[E+1].evaluate(a);return this.operator==="interpolate"?Uo[this.type.kind.toLowerCase()](I,D,A):this.operator==="interpolate-hcl"?Vo.reverse(Vo.interpolate(Vo.forward(I),Vo.forward(D),A)):jo.reverse(jo.interpolate(jo.forward(I),jo.forward(D),A))}eachChild(a){a(this.input);for(const g of this.outputs)a(g)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function ca(p,a,g,f){const y=f-g,b=p-g;return y===0?0:a===1?b/y:(Math.pow(a,b)-1)/(Math.pow(a,y)-1)}class vr{constructor(a,g){this.type=a,this.args=g}static parse(a,g){if(a.length<2)return g.error("Expectected at least one argument.");let f=null;const y=g.expectedType;y&&y.kind!=="value"&&(f=y);const b=[];for(const A of a.slice(1)){const I=g.parse(A,1+b.length,f,void 0,{typeAnnotation:"omit"});if(!I)return null;f=f||I.type,b.push(I)}if(!f)throw new Error("No output type");const E=y&&b.some(A=>xi(y,A.type));return new vr(E?ft:f,b)}evaluate(a){let g,f=null,y=0;for(const b of this.args)if(y++,f=b.evaluate(a),f&&f instanceof oe&&!f.available&&(g||(g=f.name),f=null,y===this.args.length&&(f=g)),f!==null)break;return f}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}class br{constructor(a,g){this.type=g.type,this.bindings=[].concat(a),this.result=g}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const g of this.bindings)a(g[1]);a(this.result)}static parse(a,g){if(a.length<4)return g.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const f=[];for(let b=1;b<a.length-1;b+=2){const E=a[b];if(typeof E!="string")return g.error(`Expected string, but found ${typeof E} instead.`,b);if(/[^a-zA-Z0-9_]/.test(E))return g.error("Variable names must contain only alphanumeric characters or '_'.",b);const A=g.parse(a[b+1],b+1);if(!A)return null;f.push([E,A])}const y=g.parse(a[a.length-1],a.length-1,g.expectedType,f);return y?new br(f,y):null}outputDefined(){return this.result.outputDefined()}}class pa{constructor(a,g,f){this.type=a,this.index=g,this.input=f}static parse(a,g){if(a.length!==3)return g.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const f=g.parse(a[1],1,Fe),y=g.parse(a[2],2,kt(g.expectedType||ft));return f&&y?new pa(y.type.itemType,f,y):null}evaluate(a){const g=this.index.evaluate(a),f=this.input.evaluate(a);if(g<0)throw new Ge(`Array index out of bounds: ${g} < 0.`);if(g>=f.length)throw new Ge(`Array index out of bounds: ${g} > ${f.length-1}.`);if(g!==Math.floor(g))throw new Ge(`Array index must be an integer, but found ${g} instead.`);return f[g]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class ga{constructor(a,g){this.type=gt,this.needle=a,this.haystack=g}static parse(a,g){if(a.length!==3)return g.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const f=g.parse(a[1],1,ft),y=g.parse(a[2],2,ft);return f&&y?Fi(f.type,[gt,yt,Fe,On,ft])?new ga(f,y):g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(f.type)} instead`):null}evaluate(a){const g=this.needle.evaluate(a),f=this.haystack.evaluate(a);if(!f)return!1;if(!Pi(g,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(Ce(g))} instead.`);if(!Pi(f,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Bt(Ce(f))} instead.`);return f.indexOf(g)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class xr{constructor(a,g,f){this.type=Fe,this.needle=a,this.haystack=g,this.fromIndex=f}static parse(a,g){if(a.length<=2||a.length>=5)return g.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const f=g.parse(a[1],1,ft),y=g.parse(a[2],2,ft);if(!f||!y)return null;if(!Fi(f.type,[gt,yt,Fe,On,ft]))return g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(f.type)} instead`);if(a.length===4){const b=g.parse(a[3],3,Fe);return b?new xr(f,y,b):null}return new xr(f,y)}evaluate(a){const g=this.needle.evaluate(a),f=this.haystack.evaluate(a);if(!Pi(g,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Bt(Ce(g))} instead.`);if(!Pi(f,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Bt(Ce(f))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(a);return f.indexOf(g,y)}return f.indexOf(g)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class da{constructor(a,g,f,y,b,E){this.inputType=a,this.type=g,this.input=f,this.cases=y,this.outputs=b,this.otherwise=E}static parse(a,g){if(a.length<5)return g.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return g.error("Expected an even number of arguments.");let f,y;g.expectedType&&g.expectedType.kind!=="value"&&(y=g.expectedType);const b={},E=[];for(let D=2;D<a.length-1;D+=2){let N=a[D];const F=a[D+1];Array.isArray(N)||(N=[N]);const U=g.concat(D);if(N.length===0)return U.error("Expected at least one branch label.");for(const q of N){if(typeof q!="number"&&typeof q!="string")return U.error("Branch labels must be numbers or strings.");if(typeof q=="number"&&Math.abs(q)>Number.MAX_SAFE_INTEGER)return U.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof q=="number"&&Math.floor(q)!==q)return U.error("Numeric branch labels must be integer values.");if(f){if(U.checkSubtype(f,Ce(q)))return null}else f=Ce(q);if(b[String(q)]!==void 0)return U.error("Branch labels must be unique.");b[String(q)]=E.length}const V=g.parse(F,D,y);if(!V)return null;y=y||V.type,E.push(V)}const A=g.parse(a[1],1,ft);if(!A)return null;const I=g.parse(a[a.length-1],a.length-1,y);return I?A.type.kind!=="value"&&g.concat(1).checkSubtype(f,A.type)?null:new da(f,y,A,b,E,I):null}evaluate(a){const g=this.input.evaluate(a);return(Ce(g)===this.inputType&&this.outputs[this.cases[g]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class ha{constructor(a,g,f){this.type=a,this.branches=g,this.otherwise=f}static parse(a,g){if(a.length<4)return g.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return g.error("Expected an odd number of arguments.");let f;g.expectedType&&g.expectedType.kind!=="value"&&(f=g.expectedType);const y=[];for(let E=1;E<a.length-1;E+=2){const A=g.parse(a[E],E,gt);if(!A)return null;const I=g.parse(a[E+1],E+1,f);if(!I)return null;y.push([A,I]),f=f||I.type}const b=g.parse(a[a.length-1],a.length-1,f);if(!b)return null;if(!f)throw new Error("Can't infer output type");return new ha(f,y,b)}evaluate(a){for(const[g,f]of this.branches)if(g.evaluate(a))return f.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[g,f]of this.branches)a(g),a(f);a(this.otherwise)}outputDefined(){return this.branches.every(([a,g])=>g.outputDefined())&&this.otherwise.outputDefined()}}class Er{constructor(a,g,f,y){this.type=a,this.input=g,this.beginIndex=f,this.endIndex=y}static parse(a,g){if(a.length<=2||a.length>=5)return g.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const f=g.parse(a[1],1,ft),y=g.parse(a[2],2,Fe);if(!f||!y)return null;if(!Fi(f.type,[kt(ft),yt,ft]))return g.error(`Expected first argument to be of type array or string, but found ${Bt(f.type)} instead`);if(a.length===4){const b=g.parse(a[3],3,Fe);return b?new Er(f.type,f,y,b):null}return new Er(f.type,f,y)}evaluate(a){const g=this.input.evaluate(a),f=this.beginIndex.evaluate(a);if(!Pi(g,["string","array"]))throw new Ge(`Expected first argument to be of type array or string, but found ${Bt(Ce(g))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(a);return g.slice(f,y)}return g.slice(f)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function rs(p,a){return p==="=="||p==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function as(p,a,g,f){return f.compare(a,g)===0}function mo(p,a,g){const f=p!=="=="&&p!=="!=";return class Tc{constructor(b,E,A){this.type=gt,this.lhs=b,this.rhs=E,this.collator=A,this.hasUntypedArgument=b.type.kind==="value"||E.type.kind==="value"}static parse(b,E){if(b.length!==3&&b.length!==4)return E.error("Expected two or three arguments.");const A=b[0];let I=E.parse(b[1],1,ft);if(!I)return null;if(!rs(A,I.type))return E.concat(1).error(`"${A}" comparisons are not supported for type '${Bt(I.type)}'.`);let D=E.parse(b[2],2,ft);if(!D)return null;if(!rs(A,D.type))return E.concat(2).error(`"${A}" comparisons are not supported for type '${Bt(D.type)}'.`);if(I.type.kind!==D.type.kind&&I.type.kind!=="value"&&D.type.kind!=="value")return E.error(`Cannot compare types '${Bt(I.type)}' and '${Bt(D.type)}'.`);f&&(I.type.kind==="value"&&D.type.kind!=="value"?I=new it(D.type,[I]):I.type.kind!=="value"&&D.type.kind==="value"&&(D=new it(I.type,[D])));let N=null;if(b.length===4){if(I.type.kind!=="string"&&D.type.kind!=="string"&&I.type.kind!=="value"&&D.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(N=E.parse(b[3],3,li),!N)return null}return new Tc(I,D,N)}evaluate(b){const E=this.lhs.evaluate(b),A=this.rhs.evaluate(b);if(f&&this.hasUntypedArgument){const I=Ce(E),D=Ce(A);if(I.kind!==D.kind||I.kind!=="string"&&I.kind!=="number")throw new Ge(`Expected arguments for "${p}" to be (string, string) or (number, number), but found (${I.kind}, ${D.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const I=Ce(E),D=Ce(A);if(I.kind!=="string"||D.kind!=="string")return a(b,E,A)}return this.collator?g(b,E,A,this.collator.evaluate(b)):a(b,E,A)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const ol=mo("==",function(p,a,g){return a===g},as),rl=mo("!=",function(p,a,g){return a!==g},function(p,a,g,f){return!as(0,a,g,f)}),al=mo("<",function(p,a,g){return a<g},function(p,a,g,f){return f.compare(a,g)<0}),sl=mo(">",function(p,a,g){return a>g},function(p,a,g,f){return f.compare(a,g)>0}),ll=mo("<=",function(p,a,g){return a<=g},function(p,a,g,f){return f.compare(a,g)<=0}),ul=mo(">=",function(p,a,g){return a>=g},function(p,a,g,f){return f.compare(a,g)>=0});class fa{constructor(a,g,f,y,b){this.type=yt,this.number=a,this.locale=g,this.currency=f,this.minFractionDigits=y,this.maxFractionDigits=b}static parse(a,g){if(a.length!==3)return g.error("Expected two arguments.");const f=g.parse(a[1],1,Fe);if(!f)return null;const y=a[2];if(typeof y!="object"||Array.isArray(y))return g.error("NumberFormat options argument must be an object.");let b=null;if(y.locale&&(b=g.parse(y.locale,1,yt),!b))return null;let E=null;if(y.currency&&(E=g.parse(y.currency,1,yt),!E))return null;let A=null;if(y["min-fraction-digits"]&&(A=g.parse(y["min-fraction-digits"],1,Fe),!A))return null;let I=null;return y["max-fraction-digits"]&&(I=g.parse(y["max-fraction-digits"],1,Fe),!I)?null:new fa(f,b,E,A,I)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class Sr{constructor(a){this.type=bi,this.sections=a}static parse(a,g){if(a.length<2)return g.error("Expected at least one argument.");const f=a[1];if(!Array.isArray(f)&&typeof f=="object")return g.error("First argument must be an image or text section.");const y=[];let b=!1;for(let E=1;E<=a.length-1;++E){const A=a[E];if(b&&typeof A=="object"&&!Array.isArray(A)){b=!1;let I=null;if(A["font-scale"]&&(I=g.parse(A["font-scale"],1,Fe),!I))return null;let D=null;if(A["text-font"]&&(D=g.parse(A["text-font"],1,kt(yt)),!D))return null;let N=null;if(A["text-color"]&&(N=g.parse(A["text-color"],1,Dn),!N))return null;const F=y[y.length-1];F.scale=I,F.font=D,F.textColor=N}else{const I=g.parse(a[E],1,ft);if(!I)return null;const D=I.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return g.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,y.push({content:I,scale:null,font:null,textColor:null})}}return new Sr(y)}evaluate(a){return new ae(this.sections.map(g=>{const f=g.content.evaluate(a);return Ce(f)===zi?new ie("",f,null,null,null):new ie(Ae(f),null,g.scale?g.scale.evaluate(a):null,g.font?g.font.evaluate(a).join(","):null,g.textColor?g.textColor.evaluate(a):null)}))}eachChild(a){for(const g of this.sections)a(g.content),g.scale&&a(g.scale),g.font&&a(g.font),g.textColor&&a(g.textColor)}outputDefined(){return!1}}class ma{constructor(a){this.type=zi,this.input=a}static parse(a,g){if(a.length!==2)return g.error("Expected two arguments.");const f=g.parse(a[1],1,yt);return f?new ma(f):g.error("No image name provided.")}evaluate(a){const g=this.input.evaluate(a),f=oe.fromString(g);return f&&a.availableImages&&(f.available=a.availableImages.indexOf(g)>-1),f}eachChild(a){a(this.input)}outputDefined(){return!1}}class _a{constructor(a){this.type=Fe,this.input=a}static parse(a,g){if(a.length!==2)return g.error(`Expected 1 argument, but found ${a.length-1} instead.`);const f=g.parse(a[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?g.error(`Expected argument of type string or array, but found ${Bt(f.type)} instead.`):new _a(f):null}evaluate(a){const g=this.input.evaluate(a);if(typeof g=="string"||Array.isArray(g))return g.length;throw new Ge(`Expected value to be of type string or array, but found ${Bt(Ce(g))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const _o={"==":ol,"!=":rl,">":sl,"<":al,">=":ul,"<=":ll,array:it,at:pa,boolean:it,case:ha,coalesce:vr,collator:an,format:Sr,image:ma,in:ga,"index-of":xr,interpolate:Hn,"interpolate-hcl":Hn,"interpolate-lab":Hn,length:_a,let:br,literal:Ye,match:da,number:it,"number-format":fa,object:it,slice:Er,step:Bo,string:it,"to-boolean":xt,"to-color":xt,"to-number":xt,"to-string":xt,var:mr,within:Xi};function ss(p,[a,g,f,y]){a=a.evaluate(p),g=g.evaluate(p),f=f.evaluate(p);const b=y?y.evaluate(p):1,E=ce(a,g,f,b);if(E)throw new Ge(E);return new G(a/255*b,g/255*b,f/255*b,b)}function ls(p,a){return p in a}function ya(p,a){const g=a[p];return g===void 0?null:g}function ki(p){return{type:p}}function us(p){return{result:"success",value:p}}function yo(p){return{result:"error",value:p}}function $o(p){return p["property-type"]==="data-driven"||p["property-type"]==="cross-faded-data-driven"}function on(p){return!!p.expression&&p.expression.parameters.indexOf("zoom")>-1}function $a(p){return!!p.expression&&p.expression.interpolated}function Je(p){return p instanceof Number?"number":p instanceof String?"string":p instanceof Boolean?"boolean":Array.isArray(p)?"array":p===null?"null":typeof p}function vo(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)}function Qt(p){return p}function Vt(p,a){const g=a.type==="color",f=p.stops&&typeof p.stops[0][0]=="object",y=f||!(f||p.property!==void 0),b=p.type||($a(a)?"exponential":"interval");if(g||a.type==="padding"){const D=g?G.parse:re.parse;(p=si({},p)).stops&&(p.stops=p.stops.map(N=>[N[0],D(N[1])])),p.default=D(p.default?p.default:a.default)}if(p.colorSpace&&p.colorSpace!=="rgb"&&!os[p.colorSpace])throw new Error(`Unknown color space: ${p.colorSpace}`);let E,A,I;if(b==="exponential")E=ps;else if(b==="interval")E=cl;else if(b==="categorical"){E=cs,A=Object.create(null);for(const D of p.stops)A[D[0]]=D[1];I=typeof p.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);E=pl}if(f){const D={},N=[];for(let V=0;V<p.stops.length;V++){const q=p.stops[V],ne=q[0].zoom;D[ne]===void 0&&(D[ne]={zoom:ne,type:p.type,property:p.property,default:p.default,stops:[]},N.push(ne)),D[ne].stops.push([q[0].value,q[1]])}const F=[];for(const V of N)F.push([D[V].zoom,Vt(D[V],a)]);const U={name:"linear"};return{kind:"composite",interpolationType:U,interpolationFactor:Hn.interpolationFactor.bind(void 0,U),zoomStops:F.map(V=>V[0]),evaluate:({zoom:V},q)=>ps({stops:F,base:p.base},a,V).evaluate(V,q)}}if(y){const D=b==="exponential"?{name:"exponential",base:p.base!==void 0?p.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:Hn.interpolationFactor.bind(void 0,D),zoomStops:p.stops.map(N=>N[0]),evaluate:({zoom:N})=>E(p,a,N,A,I)}}return{kind:"source",evaluate(D,N){const F=N&&N.properties?N.properties[p.property]:void 0;return F===void 0?Bi(p.default,a.default):E(p,a,F,A,I)}}}function Bi(p,a,g){return p!==void 0?p:a!==void 0?a:g!==void 0?g:void 0}function cs(p,a,g,f,y){return Bi(typeof g===y?f[g]:void 0,p.default,a.default)}function cl(p,a,g){if(Je(g)!=="number")return Bi(p.default,a.default);const f=p.stops.length;if(f===1||g<=p.stops[0][0])return p.stops[0][1];if(g>=p.stops[f-1][0])return p.stops[f-1][1];const y=yr(p.stops.map(b=>b[0]),g);return p.stops[y][1]}function ps(p,a,g){const f=p.base!==void 0?p.base:1;if(Je(g)!=="number")return Bi(p.default,a.default);const y=p.stops.length;if(y===1||g<=p.stops[0][0])return p.stops[0][1];if(g>=p.stops[y-1][0])return p.stops[y-1][1];const b=yr(p.stops.map(N=>N[0]),g),E=function(N,F,U,V){const q=V-U,ne=N-U;return q===0?0:F===1?ne/q:(Math.pow(F,ne)-1)/(Math.pow(F,q)-1)}(g,f,p.stops[b][0],p.stops[b+1][0]),A=p.stops[b][1],I=p.stops[b+1][1];let D=Uo[a.type]||Qt;if(p.colorSpace&&p.colorSpace!=="rgb"){const N=os[p.colorSpace];D=(F,U)=>N.reverse(N.interpolate(N.forward(F),N.forward(U),E))}return typeof A.evaluate=="function"?{evaluate(...N){const F=A.evaluate.apply(void 0,N),U=I.evaluate.apply(void 0,N);if(F!==void 0&&U!==void 0)return D(F,U,E)}}:D(A,I,E)}function pl(p,a,g){switch(a.type){case"color":g=G.parse(g);break;case"formatted":g=ae.fromString(g.toString());break;case"resolvedImage":g=oe.fromString(g.toString());break;case"padding":g=re.parse(g);break;default:Je(g)===a.type||a.type==="enum"&&a.values[g]||(g=void 0)}return Bi(g,p.default,a.default)}dt.register(_o,{error:[{kind:"error"},[yt],(p,[a])=>{throw new Ge(a.evaluate(p))}],typeof:[yt,[ft],(p,[a])=>Bt(Ce(a.evaluate(p)))],"to-rgba":[kt(Fe,4),[Dn],(p,[a])=>a.evaluate(p).toArray()],rgb:[Dn,[Fe,Fe,Fe],ss],rgba:[Dn,[Fe,Fe,Fe,Fe],ss],has:{type:gt,overloads:[[[yt],(p,[a])=>ls(a.evaluate(p),p.properties())],[[yt,qn],(p,[a,g])=>ls(a.evaluate(p),g.evaluate(p))]]},get:{type:ft,overloads:[[[yt],(p,[a])=>ya(a.evaluate(p),p.properties())],[[yt,qn],(p,[a,g])=>ya(a.evaluate(p),g.evaluate(p))]]},"feature-state":[ft,[yt],(p,[a])=>ya(a.evaluate(p),p.featureState||{})],properties:[qn,[],p=>p.properties()],"geometry-type":[yt,[],p=>p.geometryType()],id:[ft,[],p=>p.id()],zoom:[Fe,[],p=>p.globals.zoom],"heatmap-density":[Fe,[],p=>p.globals.heatmapDensity||0],"line-progress":[Fe,[],p=>p.globals.lineProgress||0],accumulated:[ft,[],p=>p.globals.accumulated===void 0?null:p.globals.accumulated],"+":[Fe,ki(Fe),(p,a)=>{let g=0;for(const f of a)g+=f.evaluate(p);return g}],"*":[Fe,ki(Fe),(p,a)=>{let g=1;for(const f of a)g*=f.evaluate(p);return g}],"-":{type:Fe,overloads:[[[Fe,Fe],(p,[a,g])=>a.evaluate(p)-g.evaluate(p)],[[Fe],(p,[a])=>-a.evaluate(p)]]},"/":[Fe,[Fe,Fe],(p,[a,g])=>a.evaluate(p)/g.evaluate(p)],"%":[Fe,[Fe,Fe],(p,[a,g])=>a.evaluate(p)%g.evaluate(p)],ln2:[Fe,[],()=>Math.LN2],pi:[Fe,[],()=>Math.PI],e:[Fe,[],()=>Math.E],"^":[Fe,[Fe,Fe],(p,[a,g])=>Math.pow(a.evaluate(p),g.evaluate(p))],sqrt:[Fe,[Fe],(p,[a])=>Math.sqrt(a.evaluate(p))],log10:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))/Math.LN10],ln:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))],log2:[Fe,[Fe],(p,[a])=>Math.log(a.evaluate(p))/Math.LN2],sin:[Fe,[Fe],(p,[a])=>Math.sin(a.evaluate(p))],cos:[Fe,[Fe],(p,[a])=>Math.cos(a.evaluate(p))],tan:[Fe,[Fe],(p,[a])=>Math.tan(a.evaluate(p))],asin:[Fe,[Fe],(p,[a])=>Math.asin(a.evaluate(p))],acos:[Fe,[Fe],(p,[a])=>Math.acos(a.evaluate(p))],atan:[Fe,[Fe],(p,[a])=>Math.atan(a.evaluate(p))],min:[Fe,ki(Fe),(p,a)=>Math.min(...a.map(g=>g.evaluate(p)))],max:[Fe,ki(Fe),(p,a)=>Math.max(...a.map(g=>g.evaluate(p)))],abs:[Fe,[Fe],(p,[a])=>Math.abs(a.evaluate(p))],round:[Fe,[Fe],(p,[a])=>{const g=a.evaluate(p);return g<0?-Math.round(-g):Math.round(g)}],floor:[Fe,[Fe],(p,[a])=>Math.floor(a.evaluate(p))],ceil:[Fe,[Fe],(p,[a])=>Math.ceil(a.evaluate(p))],"filter-==":[gt,[yt,ft],(p,[a,g])=>p.properties()[a.value]===g.value],"filter-id-==":[gt,[ft],(p,[a])=>p.id()===a.value],"filter-type-==":[gt,[yt],(p,[a])=>p.geometryType()===a.value],"filter-<":[gt,[yt,ft],(p,[a,g])=>{const f=p.properties()[a.value],y=g.value;return typeof f==typeof y&&f<y}],"filter-id-<":[gt,[ft],(p,[a])=>{const g=p.id(),f=a.value;return typeof g==typeof f&&g<f}],"filter->":[gt,[yt,ft],(p,[a,g])=>{const f=p.properties()[a.value],y=g.value;return typeof f==typeof y&&f>y}],"filter-id->":[gt,[ft],(p,[a])=>{const g=p.id(),f=a.value;return typeof g==typeof f&&g>f}],"filter-<=":[gt,[yt,ft],(p,[a,g])=>{const f=p.properties()[a.value],y=g.value;return typeof f==typeof y&&f<=y}],"filter-id-<=":[gt,[ft],(p,[a])=>{const g=p.id(),f=a.value;return typeof g==typeof f&&g<=f}],"filter->=":[gt,[yt,ft],(p,[a,g])=>{const f=p.properties()[a.value],y=g.value;return typeof f==typeof y&&f>=y}],"filter-id->=":[gt,[ft],(p,[a])=>{const g=p.id(),f=a.value;return typeof g==typeof f&&g>=f}],"filter-has":[gt,[ft],(p,[a])=>a.value in p.properties()],"filter-has-id":[gt,[],p=>p.id()!==null&&p.id()!==void 0],"filter-type-in":[gt,[kt(yt)],(p,[a])=>a.value.indexOf(p.geometryType())>=0],"filter-id-in":[gt,[kt(ft)],(p,[a])=>a.value.indexOf(p.id())>=0],"filter-in-small":[gt,[yt,kt(ft)],(p,[a,g])=>g.value.indexOf(p.properties()[a.value])>=0],"filter-in-large":[gt,[yt,kt(ft)],(p,[a,g])=>function(f,y,b,E){for(;b<=E;){const A=b+E>>1;if(y[A]===f)return!0;y[A]>f?E=A-1:b=A+1}return!1}(p.properties()[a.value],g.value,0,g.value.length-1)],all:{type:gt,overloads:[[[gt,gt],(p,[a,g])=>a.evaluate(p)&&g.evaluate(p)],[ki(gt),(p,a)=>{for(const g of a)if(!g.evaluate(p))return!1;return!0}]]},any:{type:gt,overloads:[[[gt,gt],(p,[a,g])=>a.evaluate(p)||g.evaluate(p)],[ki(gt),(p,a)=>{for(const g of a)if(g.evaluate(p))return!0;return!1}]]},"!":[gt,[gt],(p,[a])=>!a.evaluate(p)],"is-supported-script":[gt,[yt],(p,[a])=>{const g=p.globals&&p.globals.isSupportedScript;return!g||g(a.evaluate(p))}],upcase:[yt,[yt],(p,[a])=>a.evaluate(p).toUpperCase()],downcase:[yt,[yt],(p,[a])=>a.evaluate(p).toLowerCase()],concat:[yt,ki(ft),(p,a)=>a.map(g=>Ae(g.evaluate(p))).join("")],"resolved-locale":[yt,[li],(p,[a])=>a.evaluate(p).resolvedLocale()]});class va{constructor(a,g){this.expression=a,this._warningHistory={},this._evaluator=new _t,this._defaultValue=g?function(f){return f.type==="color"&&vo(f.default)?new G(0,0,0,0):f.type==="color"?G.parse(f.default)||null:f.type==="padding"?re.parse(f.default)||null:f.default===void 0?null:f.default}(g):null,this._enumValues=g&&g.type==="enum"?g.values:null}evaluateWithoutErrorHandling(a,g,f,y,b,E){return this._evaluator.globals=a,this._evaluator.feature=g,this._evaluator.featureState=f,this._evaluator.canonical=y,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(a,g,f,y,b,E){this._evaluator.globals=a,this._evaluator.feature=g||null,this._evaluator.featureState=f||null,this._evaluator.canonical=y,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=E||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Ge(`Expected value to be one of ${Object.keys(this._enumValues).map(I=>JSON.stringify(I)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Go(p){return Array.isArray(p)&&p.length>0&&typeof p[0]=="string"&&p[0]in _o}function qo(p,a){const g=new _r(_o,[],a?function(y){const b={color:Dn,string:yt,number:Fe,enum:yt,boolean:gt,formatted:bi,padding:xn,resolvedImage:zi};return y.type==="array"?kt(b[y.value]||ft,y.length):b[y.type]}(a):void 0),f=g.parse(p,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?us(new va(f,a)):yo(g.errors)}class Tr{constructor(a,g){this.kind=a,this._styleExpression=g,this.isStateDependent=a!=="constant"&&!fo(g.expression)}evaluateWithoutErrorHandling(a,g,f,y,b,E){return this._styleExpression.evaluateWithoutErrorHandling(a,g,f,y,b,E)}evaluate(a,g,f,y,b,E){return this._styleExpression.evaluate(a,g,f,y,b,E)}}class Ho{constructor(a,g,f,y){this.kind=a,this.zoomStops=f,this._styleExpression=g,this.isStateDependent=a!=="camera"&&!fo(g.expression),this.interpolationType=y}evaluateWithoutErrorHandling(a,g,f,y,b,E){return this._styleExpression.evaluateWithoutErrorHandling(a,g,f,y,b,E)}evaluate(a,g,f,y,b,E){return this._styleExpression.evaluate(a,g,f,y,b,E)}interpolationFactor(a,g,f){return this.interpolationType?Hn.interpolationFactor(this.interpolationType,a,g,f):0}}function gs(p,a){const g=qo(p,a);if(g.result==="error")return g;const f=g.value.expression,y=fr(f);if(!y&&!$o(a))return yo([new wn("","data expressions not supported")]);const b=Fo(f,["zoom"]);if(!b&&!on(a))return yo([new wn("","zoom expressions not supported")]);const E=Cr(f);return E||b?E instanceof wn?yo([E]):E instanceof Hn&&!$a(a)?yo([new wn("",'"interpolate" expressions cannot be used with this property')]):us(E?new Ho(y?"camera":"composite",g.value,E.labels,E instanceof Hn?E.interpolation:void 0):new Tr(y?"constant":"source",g.value)):yo([new wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ar{constructor(a,g){this._parameters=a,this._specification=g,si(this,Vt(this._parameters,this._specification))}static deserialize(a){return new Ar(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function Cr(p){let a=null;if(p instanceof br)a=Cr(p.result);else if(p instanceof vr){for(const g of p.args)if(a=Cr(g),a)break}else(p instanceof Bo||p instanceof Hn)&&p.input instanceof dt&&p.input.name==="zoom"&&(a=p);return a instanceof wn||p.eachChild(g=>{const f=Cr(g);f instanceof wn?a=f:!a&&f?a=new wn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&f&&a!==f&&(a=new wn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function ui(p){const a=p.key,g=p.value,f=p.valueSpec||{},y=p.objectElementValidators||{},b=p.style,E=p.styleSpec;let A=[];const I=Je(g);if(I!=="object")return[new Me(a,g,`object expected, ${I} found`)];for(const D in g){const N=D.split(".")[0],F=f[N]||f["*"];let U;if(y[N])U=y[N];else if(f[N])U=En;else if(y["*"])U=y["*"];else{if(!f["*"]){A.push(new Me(a,g[D],`unknown property "${D}"`));continue}U=En}A=A.concat(U({key:(a&&`${a}.`)+D,value:g[D],valueSpec:F,style:b,styleSpec:E,object:g,objectKey:D},g))}for(const D in f)y[D]||f[D].required&&f[D].default===void 0&&g[D]===void 0&&A.push(new Me(a,g,`missing required property "${D}"`));return A}function ds(p){const a=p.value,g=p.valueSpec,f=p.style,y=p.styleSpec,b=p.key,E=p.arrayElementValidator||En;if(Je(a)!=="array")return[new Me(b,a,`array expected, ${Je(a)} found`)];if(g.length&&a.length!==g.length)return[new Me(b,a,`array length ${g.length} expected, length ${a.length} found`)];if(g["min-length"]&&a.length<g["min-length"])return[new Me(b,a,`array length at least ${g["min-length"]} expected, length ${a.length} found`)];let A={type:g.value,values:g.values};y.$version<7&&(A.function=g.function),Je(g.value)==="object"&&(A=g.value);let I=[];for(let D=0;D<a.length;D++)I=I.concat(E({array:a,arrayIndex:D,value:a[D],valueSpec:A,style:f,styleSpec:y,key:`${b}[${D}]`}));return I}function ba(p){const a=p.key,g=p.value,f=p.valueSpec;let y=Je(g);return y==="number"&&g!=g&&(y="NaN"),y!=="number"?[new Me(a,g,`number expected, ${y} found`)]:"minimum"in f&&g<f.minimum?[new Me(a,g,`${g} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&g>f.maximum?[new Me(a,g,`${g} is greater than the maximum value ${f.maximum}`)]:[]}function hs(p){const a=p.valueSpec,g=jt(p.value.type);let f,y,b,E={};const A=g!=="categorical"&&p.value.property===void 0,I=!A,D=Je(p.value.stops)==="array"&&Je(p.value.stops[0])==="array"&&Je(p.value.stops[0][0])==="object",N=ui({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(V){if(g==="identity")return[new Me(V.key,V.value,'identity function may not have a "stops" property')];let q=[];const ne=V.value;return q=q.concat(ds({key:V.key,value:ne,valueSpec:V.valueSpec,style:V.style,styleSpec:V.styleSpec,arrayElementValidator:F})),Je(ne)==="array"&&ne.length===0&&q.push(new Me(V.key,ne,"array must have at least one stop")),q},default:function(V){return En({key:V.key,value:V.value,valueSpec:a,style:V.style,styleSpec:V.styleSpec})}}});return g==="identity"&&A&&N.push(new Me(p.key,p.value,'missing required property "property"')),g==="identity"||p.value.stops||N.push(new Me(p.key,p.value,'missing required property "stops"')),g==="exponential"&&p.valueSpec.expression&&!$a(p.valueSpec)&&N.push(new Me(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(I&&!$o(p.valueSpec)?N.push(new Me(p.key,p.value,"property functions not supported")):A&&!on(p.valueSpec)&&N.push(new Me(p.key,p.value,"zoom functions not supported"))),g!=="categorical"&&!D||p.value.property!==void 0||N.push(new Me(p.key,p.value,'"property" property is required')),N;function F(V){let q=[];const ne=V.value,te=V.key;if(Je(ne)!=="array")return[new Me(te,ne,`array expected, ${Je(ne)} found`)];if(ne.length!==2)return[new Me(te,ne,`array length 2 expected, length ${ne.length} found`)];if(D){if(Je(ne[0])!=="object")return[new Me(te,ne,`object expected, ${Je(ne[0])} found`)];if(ne[0].zoom===void 0)return[new Me(te,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new Me(te,ne,"object stop key must have value")];if(b&&b>jt(ne[0].zoom))return[new Me(te,ne[0].zoom,"stop zoom values must appear in ascending order")];jt(ne[0].zoom)!==b&&(b=jt(ne[0].zoom),y=void 0,E={}),q=q.concat(ui({key:`${te}[0]`,value:ne[0],valueSpec:{zoom:{}},style:V.style,styleSpec:V.styleSpec,objectElementValidators:{zoom:ba,value:U}}))}else q=q.concat(U({key:`${te}[0]`,value:ne[0],style:V.style,styleSpec:V.styleSpec},ne));return Go(tn(ne[1]))?q.concat([new Me(`${te}[1]`,ne[1],"expressions are not allowed in function stops.")]):q.concat(En({key:`${te}[1]`,value:ne[1],valueSpec:a,style:V.style,styleSpec:V.styleSpec}))}function U(V,q){const ne=Je(V.value),te=jt(V.value),ge=V.value!==null?V.value:q;if(f){if(ne!==f)return[new Me(V.key,ge,`${ne} stop domain type must match previous stop domain type ${f}`)]}else f=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean")return[new Me(V.key,ge,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&g!=="categorical"){let $e=`number expected, ${ne} found`;return $o(a)&&g===void 0&&($e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Me(V.key,ge,$e)]}return g!=="categorical"||ne!=="number"||isFinite(te)&&Math.floor(te)===te?g!=="categorical"&&ne==="number"&&y!==void 0&&te<y?[new Me(V.key,ge,"stop domain values must appear in ascending order")]:(y=te,g==="categorical"&&te in E?[new Me(V.key,ge,"stop domain values must be unique")]:(E[te]=!0,[])):[new Me(V.key,ge,`integer expected, found ${te}`)]}}function bo(p){const a=(p.expressionContext==="property"?gs:qo)(tn(p.value),p.valueSpec);if(a.result==="error")return a.value.map(f=>new Me(`${p.key}${f.key}`,p.value,f.message));const g=a.value.expression||a.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!g.outputDefined())return[new Me(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!fo(g))return[new Me(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter"&&!fo(g))return[new Me(p.key,p.value,'"feature-state" data expressions are not supported with filters.')];if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!Fo(g,["zoom","feature-state"]))return[new Me(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!fr(g))return[new Me(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xo(p){const a=p.key,g=p.value,f=p.valueSpec,y=[];return Array.isArray(f.values)?f.values.indexOf(jt(g))===-1&&y.push(new Me(a,g,`expected one of [${f.values.join(", ")}], ${JSON.stringify(g)} found`)):Object.keys(f.values).indexOf(jt(g))===-1&&y.push(new Me(a,g,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(g)} found`)),y}function Ir(p){if(p===!0||p===!1)return!0;if(!Array.isArray(p)||p.length===0)return!1;switch(p[0]){case"has":return p.length>=2&&p[1]!=="$id"&&p[1]!=="$type";case"in":return p.length>=3&&(typeof p[1]!="string"||Array.isArray(p[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return p.length!==3||Array.isArray(p[1])||Array.isArray(p[2]);case"any":case"all":for(const a of p.slice(1))if(!Ir(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const Pr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xa(p){if(p==null)return{filter:()=>!0,needGeometry:!1};Ir(p)||(p=wr(p));const a=qo(p,Pr);if(a.result==="error")throw new Error(a.value.map(g=>`${g.key}: ${g.message}`).join(", "));return{filter:(g,f,y)=>a.value.evaluate(g,f,{},y),needGeometry:Ea(p)}}function fs(p,a){return p<a?-1:p>a?1:0}function Ea(p){if(!Array.isArray(p))return!1;if(p[0]==="within")return!0;for(let a=1;a<p.length;a++)if(Ea(p[a]))return!0;return!1}function wr(p){if(!p)return!0;const a=p[0];return p.length<=1?a!=="any":a==="=="?Or(p[1],p[2],"=="):a==="!="?Wi(Or(p[1],p[2],"==")):a==="<"||a===">"||a==="<="||a===">="?Or(p[1],p[2],a):a==="any"?(g=p.slice(1),["any"].concat(g.map(wr))):a==="all"?["all"].concat(p.slice(1).map(wr)):a==="none"?["all"].concat(p.slice(1).map(wr).map(Wi)):a==="in"?ms(p[1],p.slice(2)):a==="!in"?Wi(ms(p[1],p.slice(2))):a==="has"?Dr(p[1]):a==="!has"?Wi(Dr(p[1])):a!=="within"||p;var g}function Or(p,a,g){switch(p){case"$type":return[`filter-type-${g}`,a];case"$id":return[`filter-id-${g}`,a];default:return[`filter-${g}`,p,a]}}function ms(p,a){if(a.length===0)return!1;switch(p){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(g=>typeof g!=typeof a[0])?["filter-in-large",p,["literal",a.sort(fs)]]:["filter-in-small",p,["literal",a]]}}function Dr(p){switch(p){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",p]}}function Wi(p){return["!",p]}function Wo(p){return Ir(tn(p.value))?bo(si({},p,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Rr(p)}function Rr(p){const a=p.value,g=p.key;if(Je(a)!=="array")return[new Me(g,a,`array expected, ${Je(a)} found`)];const f=p.styleSpec;let y,b=[];if(a.length<1)return[new Me(g,a,"filter array must have at least 1 element")];switch(b=b.concat(Xo({key:`${g}[0]`,value:a[0],valueSpec:f.filter_operator,style:p.style,styleSpec:p.styleSpec})),jt(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&jt(a[1])==="$type"&&b.push(new Me(g,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&b.push(new Me(g,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(y=Je(a[1]),y!=="string"&&b.push(new Me(`${g}[1]`,a[1],`string expected, ${y} found`)));for(let E=2;E<a.length;E++)y=Je(a[E]),jt(a[1])==="$type"?b=b.concat(Xo({key:`${g}[${E}]`,value:a[E],valueSpec:f.geometry_type,style:p.style,styleSpec:p.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&b.push(new Me(`${g}[${E}]`,a[E],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let E=1;E<a.length;E++)b=b.concat(Rr({key:`${g}[${E}]`,value:a[E],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":y=Je(a[1]),a.length!==2?b.push(new Me(g,a,`filter array for "${a[0]}" operator must have 2 elements`)):y!=="string"&&b.push(new Me(`${g}[1]`,a[1],`string expected, ${y} found`));break;case"within":y=Je(a[1]),a.length!==2?b.push(new Me(g,a,`filter array for "${a[0]}" operator must have 2 elements`)):y!=="object"&&b.push(new Me(`${g}[1]`,a[1],`object expected, ${y} found`))}return b}function _s(p,a){const g=p.key,f=p.style,y=p.styleSpec,b=p.value,E=p.objectKey,A=y[`${a}_${p.layerType}`];if(!A)return[];const I=E.match(/^(.*)-transition$/);if(a==="paint"&&I&&A[I[1]]&&A[I[1]].transition)return En({key:g,value:b,valueSpec:y.transition,style:f,styleSpec:y});const D=p.valueSpec||A[E];if(!D)return[new Me(g,b,`unknown property "${E}"`)];let N;if(Je(b)==="string"&&$o(D)&&!D.tokens&&(N=/^{([^}]+)}$/.exec(b)))return[new Me(g,b,`"${E}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const F=[];return p.layerType==="symbol"&&(E==="text-field"&&f&&!f.glyphs&&F.push(new Me(g,b,'use of "text-field" requires a style "glyphs" property')),E==="text-font"&&vo(tn(b))&&jt(b.type)==="identity"&&F.push(new Me(g,b,'"text-font" does not support identity functions'))),F.concat(En({key:p.key,value:b,valueSpec:D,style:f,styleSpec:y,expressionContext:"property",propertyType:a,propertyKey:E}))}function Yo(p){return _s(p,"paint")}function ys(p){return _s(p,"layout")}function $s(p){let a=[];const g=p.value,f=p.key,y=p.style,b=p.styleSpec;g.type||g.ref||a.push(new Me(f,g,'either "type" or "ref" is required'));let E=jt(g.type);const A=jt(g.ref);if(g.id){const I=jt(g.id);for(let D=0;D<p.arrayIndex;D++){const N=y.layers[D];jt(N.id)===I&&a.push(new Me(f,g.id,`duplicate layer id "${g.id}", previously used at line ${N.id.__line__}`))}}if("ref"in g){let I;["type","source","source-layer","filter","layout"].forEach(D=>{D in g&&a.push(new Me(f,g[D],`"${D}" is prohibited for ref layers`))}),y.layers.forEach(D=>{jt(D.id)===A&&(I=D)}),I?I.ref?a.push(new Me(f,g.ref,"ref cannot reference another ref layer")):E=jt(I.type):a.push(new Me(f,g.ref,`ref layer "${A}" not found`))}else if(E!=="background")if(g.source){const I=y.sources&&y.sources[g.source],D=I&&jt(I.type);I?D==="vector"&&E==="raster"?a.push(new Me(f,g.source,`layer "${g.id}" requires a raster source`)):D==="raster"&&E!=="raster"?a.push(new Me(f,g.source,`layer "${g.id}" requires a vector source`)):D!=="vector"||g["source-layer"]?D==="raster-dem"&&E!=="hillshade"?a.push(new Me(f,g.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!g.paint||!g.paint["line-gradient"]||D==="geojson"&&I.lineMetrics||a.push(new Me(f,g,`layer "${g.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Me(f,g,`layer "${g.id}" must specify a "source-layer"`)):a.push(new Me(f,g.source,`source "${g.source}" not found`))}else a.push(new Me(f,g,'missing required property "source"'));return a=a.concat(ui({key:f,value:g,valueSpec:b.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>En({key:`${f}.type`,value:g.type,valueSpec:b.layer.type,style:p.style,styleSpec:p.styleSpec,object:g,objectKey:"type"}),filter:Wo,layout:I=>ui({layer:g,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":D=>ys(si({layerType:E},D))}}),paint:I=>ui({layer:g,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":D=>Yo(si({layerType:E},D))}})}})),a}function xo(p){const a=p.value,g=p.key,f=Je(a);return f!=="string"?[new Me(g,a,`string expected, ${f} found`)]:[]}const vs={promoteId:function({key:p,value:a}){if(Je(a)==="string")return xo({key:p,value:a});{const g=[];for(const f in a)g.push(...xo({key:`${p}.${f}`,value:a[f]}));return g}}};function bs(p){const a=p.value,g=p.key,f=p.styleSpec,y=p.style;if(!a.type)return[new Me(g,a,'"type" is required')];const b=jt(a.type);let E;switch(b){case"vector":case"raster":case"raster-dem":return E=ui({key:g,value:a,valueSpec:f[`source_${b.replace("-","_")}`],style:p.style,styleSpec:f,objectElementValidators:vs}),E;case"geojson":if(E=ui({key:g,value:a,valueSpec:f.source_geojson,style:y,styleSpec:f,objectElementValidators:vs}),a.cluster)for(const A in a.clusterProperties){const[I,D]=a.clusterProperties[A],N=typeof I=="string"?[I,["accumulated"],["get",A]]:I;E.push(...bo({key:`${g}.${A}.map`,value:D,expressionContext:"cluster-map"})),E.push(...bo({key:`${g}.${A}.reduce`,value:N,expressionContext:"cluster-reduce"}))}return E;case"video":return ui({key:g,value:a,valueSpec:f.source_video,style:y,styleSpec:f});case"image":return ui({key:g,value:a,valueSpec:f.source_image,style:y,styleSpec:f});case"canvas":return[new Me(g,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Xo({key:`${g}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Ko(p){const a=p.value,g=p.styleSpec,f=g.light,y=p.style;let b=[];const E=Je(a);if(a===void 0)return b;if(E!=="object")return b=b.concat([new Me("light",a,`object expected, ${E} found`)]),b;for(const A in a){const I=A.match(/^(.*)-transition$/);b=b.concat(I&&f[I[1]]&&f[I[1]].transition?En({key:A,value:a[A],valueSpec:g.transition,style:y,styleSpec:g}):f[A]?En({key:A,value:a[A],valueSpec:f[A],style:y,styleSpec:g}):[new Me(A,a[A],`unknown property "${A}"`)])}return b}function Zo(p){const a=p.value,g=p.styleSpec,f=g.terrain,y=p.style;let b=[];const E=Je(a);if(a===void 0)return b;if(E!=="object")return b=b.concat([new Me("terrain",a,`object expected, ${E} found`)]),b;for(const A in a)b=b.concat(f[A]?En({key:A,value:a[A],valueSpec:f[A],style:y,styleSpec:g}):[new Me(A,a[A],`unknown property "${A}"`)]);return b}const Xn={"*":()=>[],array:ds,boolean:function(p){const a=p.value,g=p.key,f=Je(a);return f!=="boolean"?[new Me(g,a,`boolean expected, ${f} found`)]:[]},number:ba,color:function(p){const a=p.key,g=p.value,f=Je(g);return f!=="string"?[new Me(a,g,`color expected, ${f} found`)]:Mo(g)===null?[new Me(a,g,`color expected, "${g}" found`)]:[]},constants:qi,enum:Xo,filter:Wo,function:hs,layer:$s,object:ui,source:bs,light:Ko,terrain:Zo,string:xo,formatted:function(p){return xo(p).length===0?[]:bo(p)},resolvedImage:function(p){return xo(p).length===0?[]:bo(p)},padding:function(p){const a=p.key,g=p.value;if(Je(g)==="array"){if(g.length<1||g.length>4)return[new Me(a,g,`padding requires 1 to 4 values; ${g.length} values found`)];const f={type:"number"};let y=[];for(let b=0;b<g.length;b++)y=y.concat(En({key:`${a}[${b}]`,value:g[b],valueSpec:f}));return y}return ba({key:a,value:g,valueSpec:{}})}};function En(p){const a=p.value,g=p.valueSpec,f=p.styleSpec;return g.expression&&vo(jt(a))?hs(p):g.expression&&Go(tn(a))?bo(p):g.type&&Xn[g.type]?Xn[g.type](p):ui(si({},p,{valueSpec:g.type?f[g.type]:g}))}function gl(p){const a=p.value,g=p.key,f=xo(p);return f.length||(a.indexOf("{fontstack}")===-1&&f.push(new Me(g,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&f.push(new Me(g,a,'"glyphs" url must include a "{range}" token'))),f}function Ui(p,a=Te){let g=[];return g=g.concat(En({key:"",value:p,valueSpec:a.$root,styleSpec:a,style:p,objectElementValidators:{glyphs:gl,"*":()=>[]}})),p.constants&&(g=g.concat(qi({key:"constants",value:p.constants}))),xs(g)}function xs(p){return[].concat(p).sort((a,g)=>a.line-g.line)}function Yi(p){return function(...a){return xs(p.apply(this,a))}}Ui.source=Yi(bs),Ui.light=Yi(Ko),Ui.terrain=Yi(Zo),Ui.layer=Yi($s),Ui.filter=Yi(Wo),Ui.paintProperty=Yi(Yo),Ui.layoutProperty=Yi(ys);const Ki=Ui,dl=Ki.light,Sa=Ki.paintProperty,hl=Ki.layoutProperty;function Es(p,a){let g=!1;if(a&&a.length)for(const f of a)p.fire(new Ni(new Error(f.message))),g=!0;return g}class Zi{constructor(a,g,f){const y=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const E=new Int32Array(this.arrayBuffer);a=E[0],this.d=(g=E[1])+2*(f=E[2]);for(let I=0;I<this.d*this.d;I++){const D=E[3+I],N=E[3+I+1];y.push(D===N?null:E.subarray(D,N))}const A=E[3+y.length+1];this.keys=E.subarray(E[3+y.length],A),this.bboxes=E.subarray(A),this.insert=this._insertReadonly}else{this.d=g+2*f;for(let E=0;E<this.d*this.d;E++)y.push([]);this.keys=[],this.bboxes=[]}this.n=g,this.extent=a,this.padding=f,this.scale=g/a,this.uid=0;const b=f/g*a;this.min=-b,this.max=a+b}insert(a,g,f,y,b){this._forEachCell(g,f,y,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(g),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,g,f,y,b,E){this.cells[b].push(E)}query(a,g,f,y,b){const E=this.min,A=this.max;if(a<=E&&g<=E&&A<=f&&A<=y&&!b)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(a,g,f,y,this._queryCell,I,{},b),I}}_queryCell(a,g,f,y,b,E,A,I){const D=this.cells[b];if(D!==null){const N=this.keys,F=this.bboxes;for(let U=0;U<D.length;U++){const V=D[U];if(A[V]===void 0){const q=4*V;(I?I(F[q+0],F[q+1],F[q+2],F[q+3]):a<=F[q+2]&&g<=F[q+3]&&f>=F[q+0]&&y>=F[q+1])?(A[V]=!0,E.push(N[V])):A[V]=!1}}}}_forEachCell(a,g,f,y,b,E,A,I){const D=this._convertToCellCoord(a),N=this._convertToCellCoord(g),F=this._convertToCellCoord(f),U=this._convertToCellCoord(y);for(let V=D;V<=F;V++)for(let q=N;q<=U;q++){const ne=this.d*q+V;if((!I||I(this._convertFromCellCoord(V),this._convertFromCellCoord(q),this._convertFromCellCoord(V+1),this._convertFromCellCoord(q+1)))&&b.call(this,a,g,f,y,ne,E,A,I))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,g=3+this.cells.length+1+1;let f=0;for(let E=0;E<this.cells.length;E++)f+=this.cells[E].length;const y=new Int32Array(g+f+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;let b=g;for(let E=0;E<a.length;E++){const A=a[E];y[3+E]=b,y.set(A,b),b+=A.length}return y[3+a.length]=b,y.set(this.keys,b),b+=this.keys.length,y[3+a.length+1]=b,y.set(this.bboxes,b),b+=this.bboxes.length,y.buffer}static serialize(a,g){const f=a.toArrayBuffer();return g&&g.push(f),{buffer:f}}static deserialize(a){return new Zi(a.buffer)}}const ji={};function We(p,a,g={}){if(ji[p])throw new Error(`${p} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:p,writeable:!1}),ji[p]={klass:a,omit:g.omit||[],shallow:g.shallow||[]}}We("Object",Object),We("TransferableGridIndex",Zi),We("Color",G),We("Error",Error),We("AJAXError",ri),We("ResolvedImage",oe),We("StylePropertyFunction",Ar),We("StyleExpression",va,{omit:["_evaluator"]}),We("ZoomDependentExpression",Ho),We("ZoomConstantExpression",Tr),We("CompoundExpression",dt,{omit:["_evaluate"]});for(const p in _o)_o[p]._classRegistryKey||We(`Expression_${p}`,_o[p]);function Ta(p){return p&&typeof ArrayBuffer<"u"&&(p instanceof ArrayBuffer||p.constructor&&p.constructor.name==="ArrayBuffer")}function Jo(p,a){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||p instanceof Blob)return p;if(Ta(p)||Ve(p))return a&&a.push(p),p;if(ArrayBuffer.isView(p)){const g=p;return a&&a.push(g.buffer),g}if(p instanceof ImageData)return a&&a.push(p.data.buffer),p;if(Array.isArray(p)){const g=[];for(const f of p)g.push(Jo(f,a));return g}if(typeof p=="object"){const g=p.constructor,f=g._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!ji[f])throw new Error(`${f} is not registered.`);const y=g.serialize?g.serialize(p,a):{};if(g.serialize){if(a&&y===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in p){if(!p.hasOwnProperty(b)||ji[f].omit.indexOf(b)>=0)continue;const E=p[b];y[b]=ji[f].shallow.indexOf(b)>=0?E:Jo(E,a)}p instanceof Error&&(y.message=p.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(y.$name=f),y}throw new Error("can't serialize object of type "+typeof p)}function Ji(p){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||p instanceof Blob||Ta(p)||Ve(p)||ArrayBuffer.isView(p)||p instanceof ImageData)return p;if(Array.isArray(p))return p.map(Ji);if(typeof p=="object"){const a=p.$name||"Object";if(!ji[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:g}=ji[a];if(!g)throw new Error(`can't deserialize unregistered class ${a}`);if(g.deserialize)return g.deserialize(p);const f=Object.create(g.prototype);for(const y of Object.keys(p)){if(y==="$name")continue;const b=p[y];f[y]=ji[a].shallow.indexOf(y)>=0?b:Ji(b)}return f}throw new Error("can't deserialize object of type "+typeof p)}class Qo{constructor(){this.first=!0}update(a,g){const f=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=g):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=g),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=f,!0))}}const Be={"Latin-1 Supplement":p=>p>=128&&p<=255,Arabic:p=>p>=1536&&p<=1791,"Arabic Supplement":p=>p>=1872&&p<=1919,"Arabic Extended-A":p=>p>=2208&&p<=2303,"Hangul Jamo":p=>p>=4352&&p<=4607,"Unified Canadian Aboriginal Syllabics":p=>p>=5120&&p<=5759,Khmer:p=>p>=6016&&p<=6143,"Unified Canadian Aboriginal Syllabics Extended":p=>p>=6320&&p<=6399,"General Punctuation":p=>p>=8192&&p<=8303,"Letterlike Symbols":p=>p>=8448&&p<=8527,"Number Forms":p=>p>=8528&&p<=8591,"Miscellaneous Technical":p=>p>=8960&&p<=9215,"Control Pictures":p=>p>=9216&&p<=9279,"Optical Character Recognition":p=>p>=9280&&p<=9311,"Enclosed Alphanumerics":p=>p>=9312&&p<=9471,"Geometric Shapes":p=>p>=9632&&p<=9727,"Miscellaneous Symbols":p=>p>=9728&&p<=9983,"Miscellaneous Symbols and Arrows":p=>p>=11008&&p<=11263,"CJK Radicals Supplement":p=>p>=11904&&p<=12031,"Kangxi Radicals":p=>p>=12032&&p<=12255,"Ideographic Description Characters":p=>p>=12272&&p<=12287,"CJK Symbols and Punctuation":p=>p>=12288&&p<=12351,Hiragana:p=>p>=12352&&p<=12447,Katakana:p=>p>=12448&&p<=12543,Bopomofo:p=>p>=12544&&p<=12591,"Hangul Compatibility Jamo":p=>p>=12592&&p<=12687,Kanbun:p=>p>=12688&&p<=12703,"Bopomofo Extended":p=>p>=12704&&p<=12735,"CJK Strokes":p=>p>=12736&&p<=12783,"Katakana Phonetic Extensions":p=>p>=12784&&p<=12799,"Enclosed CJK Letters and Months":p=>p>=12800&&p<=13055,"CJK Compatibility":p=>p>=13056&&p<=13311,"CJK Unified Ideographs Extension A":p=>p>=13312&&p<=19903,"Yijing Hexagram Symbols":p=>p>=19904&&p<=19967,"CJK Unified Ideographs":p=>p>=19968&&p<=40959,"Yi Syllables":p=>p>=40960&&p<=42127,"Yi Radicals":p=>p>=42128&&p<=42191,"Hangul Jamo Extended-A":p=>p>=43360&&p<=43391,"Hangul Syllables":p=>p>=44032&&p<=55215,"Hangul Jamo Extended-B":p=>p>=55216&&p<=55295,"Private Use Area":p=>p>=57344&&p<=63743,"CJK Compatibility Ideographs":p=>p>=63744&&p<=64255,"Arabic Presentation Forms-A":p=>p>=64336&&p<=65023,"Vertical Forms":p=>p>=65040&&p<=65055,"CJK Compatibility Forms":p=>p>=65072&&p<=65103,"Small Form Variants":p=>p>=65104&&p<=65135,"Arabic Presentation Forms-B":p=>p>=65136&&p<=65279,"Halfwidth and Fullwidth Forms":p=>p>=65280&&p<=65519};function Aa(p){for(const a of p)if(er(a.charCodeAt(0)))return!0;return!1}function Ss(p){for(const a of p)if(!fl(a.charCodeAt(0)))return!1;return!0}function fl(p){return!(Be.Arabic(p)||Be["Arabic Supplement"](p)||Be["Arabic Extended-A"](p)||Be["Arabic Presentation Forms-A"](p)||Be["Arabic Presentation Forms-B"](p))}function er(p){return!(p!==746&&p!==747&&(p<4352||!(Be["Bopomofo Extended"](p)||Be.Bopomofo(p)||Be["CJK Compatibility Forms"](p)&&!(p>=65097&&p<=65103)||Be["CJK Compatibility Ideographs"](p)||Be["CJK Compatibility"](p)||Be["CJK Radicals Supplement"](p)||Be["CJK Strokes"](p)||!(!Be["CJK Symbols and Punctuation"](p)||p>=12296&&p<=12305||p>=12308&&p<=12319||p===12336)||Be["CJK Unified Ideographs Extension A"](p)||Be["CJK Unified Ideographs"](p)||Be["Enclosed CJK Letters and Months"](p)||Be["Hangul Compatibility Jamo"](p)||Be["Hangul Jamo Extended-A"](p)||Be["Hangul Jamo Extended-B"](p)||Be["Hangul Jamo"](p)||Be["Hangul Syllables"](p)||Be.Hiragana(p)||Be["Ideographic Description Characters"](p)||Be.Kanbun(p)||Be["Kangxi Radicals"](p)||Be["Katakana Phonetic Extensions"](p)||Be.Katakana(p)&&p!==12540||!(!Be["Halfwidth and Fullwidth Forms"](p)||p===65288||p===65289||p===65293||p>=65306&&p<=65310||p===65339||p===65341||p===65343||p>=65371&&p<=65503||p===65507||p>=65512&&p<=65519)||!(!Be["Small Form Variants"](p)||p>=65112&&p<=65118||p>=65123&&p<=65126)||Be["Unified Canadian Aboriginal Syllabics"](p)||Be["Unified Canadian Aboriginal Syllabics Extended"](p)||Be["Vertical Forms"](p)||Be["Yijing Hexagram Symbols"](p)||Be["Yi Syllables"](p)||Be["Yi Radicals"](p))))}function Ts(p){return!(er(p)||function(a){return!!(Be["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Be["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Be["Letterlike Symbols"](a)||Be["Number Forms"](a)||Be["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Be["Control Pictures"](a)&&a!==9251||Be["Optical Character Recognition"](a)||Be["Enclosed Alphanumerics"](a)||Be["Geometric Shapes"](a)||Be["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Be["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Be["CJK Symbols and Punctuation"](a)||Be.Katakana(a)||Be["Private Use Area"](a)||Be["CJK Compatibility Forms"](a)||Be["Small Form Variants"](a)||Be["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(p))}function As(p){return p>=1424&&p<=2303||Be["Arabic Presentation Forms-A"](p)||Be["Arabic Presentation Forms-B"](p)}function ml(p,a){return!(!a&&As(p)||p>=2304&&p<=3583||p>=3840&&p<=4255||Be.Khmer(p))}function _l(p){for(const a of p)if(As(a.charCodeAt(0)))return!0;return!1}const Lr="deferred",Ca="loading",Ia="loaded";let Pa=null,Fn="unavailable",Vi=null;const Cs=function(p){p&&typeof p=="string"&&p.indexOf("NetworkError")>-1&&(Fn="error"),Pa&&Pa(p)};function wa(){Eo.fire(new vi("pluginStateChange",{pluginStatus:Fn,pluginURL:Vi}))}const Eo=new go,Oa=function(){return Fn},Mr=function(){if(Fn!==Lr||!Vi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Fn=Ca,wa(),Vi&&uo({url:Vi},p=>{p?Cs(p):(Fn=Ia,wa())})},ti={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Fn===Ia||ti.applyArabicShaping!=null,isLoading:()=>Fn===Ca,setState(p){if(!lt())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Fn=p.pluginStatus,Vi=p.pluginURL},isParsed(){if(!lt())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ti.applyArabicShaping!=null&&ti.processBidirectionalText!=null&&ti.processStyledBidirectionalText!=null},getPluginURL(){if(!lt())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Vi}};class Xt{constructor(a,g){this.zoom=a,g?(this.now=g.now,this.fadeDuration=g.fadeDuration,this.zoomHistory=g.zoomHistory,this.transition=g.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Qo,this.transition={})}isSupportedScript(a){return function(g,f){for(const y of g)if(!ml(y.charCodeAt(0),f))return!1;return!0}(a,ti.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,g=a-Math.floor(a),f=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:g+(1-g)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*g}}}class Nr{constructor(a,g){this.property=a,this.value=g,this.expression=function(f,y){if(vo(f))return new Ar(f,y);if(Go(f)){const b=gs(f,y);if(b.result==="error")throw new Error(b.value.map(E=>`${E.key}: ${E.message}`).join(", "));return b.value}{let b=f;return y.type==="color"&&typeof f=="string"?b=G.parse(f):y.type!=="padding"||typeof f!="number"&&!Array.isArray(f)||(b=re.parse(f)),{kind:"constant",evaluate:()=>b}}}(g===void 0?a.specification.default:g,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,g,f){return this.property.possiblyEvaluate(this,a,g,f)}}class zr{constructor(a){this.property=a,this.value=new Nr(a,void 0)}transitioned(a,g){return new Is(this.property,this.value,g,K({},a.transition,this.transition),a.now)}untransitioned(){return new Is(this.property,this.value,null,{},0)}}class Da{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return Pe(this._values[a].value.value)}setValue(a,g){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zr(this._values[a].property)),this._values[a].value=new Nr(this._values[a].property,g===null?void 0:Pe(g))}getTransition(a){return Pe(this._values[a].transition)}setTransition(a,g){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new zr(this._values[a].property)),this._values[a].transition=Pe(g)||void 0}serialize(){const a={};for(const g of Object.keys(this._values)){const f=this.getValue(g);f!==void 0&&(a[g]=f);const y=this.getTransition(g);y!==void 0&&(a[`${g}-transition`]=y)}return a}transitioned(a,g){const f=new Ps(this._properties);for(const y of Object.keys(this._values))f._values[y]=this._values[y].transitioned(a,g._values[y]);return f}untransitioned(){const a=new Ps(this._properties);for(const g of Object.keys(this._values))a._values[g]=this._values[g].untransitioned();return a}}class Is{constructor(a,g,f,y,b){this.property=a,this.value=g,this.begin=b+y.delay||0,this.end=this.begin+y.duration||0,a.specification.transition&&(y.delay||y.duration)&&(this.prior=f)}possiblyEvaluate(a,g,f){const y=a.now||0,b=this.value.possiblyEvaluate(a,g,f),E=this.prior;if(E){if(y>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(y<this.begin)return E.possiblyEvaluate(a,g,f);{const A=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(a,g,f),b,function(I){if(I<=0)return 0;if(I>=1)return 1;const D=I*I,N=D*I;return 4*(I<.5?N:3*(I-D)+N-.75)}(A))}}return b}}class Ps{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,g,f){const y=new Fr(this._properties);for(const b of Object.keys(this._values))y._values[b]=this._values[b].possiblyEvaluate(a,g,f);return y}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class yl{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}getValue(a){return Pe(this._values[a].value)}setValue(a,g){this._values[a]=new Nr(this._values[a].property,g===null?void 0:Pe(g))}serialize(){const a={};for(const g of Object.keys(this._values)){const f=this.getValue(g);f!==void 0&&(a[g]=f)}return a}possiblyEvaluate(a,g,f){const y=new Fr(this._properties);for(const b of Object.keys(this._values))y._values[b]=this._values[b].possiblyEvaluate(a,g,f);return y}}class Ei{constructor(a,g,f){this.property=a,this.value=g,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,g,f,y){return this.property.evaluate(this.value,this.parameters,a,g,f,y)}}class Fr{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class tt{constructor(a){this.specification=a}possiblyEvaluate(a,g){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(g)}interpolate(a,g,f){const y=Uo[this.specification.type];return y?y(a,g,f):a}}class st{constructor(a,g){this.specification=a,this.overrides=g}possiblyEvaluate(a,g,f,y){return new Ei(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(g,null,{},f,y)}:a.expression,g)}interpolate(a,g,f){if(a.value.kind!=="constant"||g.value.kind!=="constant")return a;if(a.value.value===void 0||g.value.value===void 0)return new Ei(this,{kind:"constant",value:void 0},a.parameters);const y=Uo[this.specification.type];return y?new Ei(this,{kind:"constant",value:y(a.value.value,g.value.value,f)},a.parameters):a}evaluate(a,g,f,y,b,E){return a.kind==="constant"?a.value:a.evaluate(g,f,y,b,E)}}class tr extends st{possiblyEvaluate(a,g,f,y){if(a.value===void 0)return new Ei(this,{kind:"constant",value:void 0},g);if(a.expression.kind==="constant"){const b=a.expression.evaluate(g,null,{},f,y),E=a.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,A=this._calculate(E,E,E,g);return new Ei(this,{kind:"constant",value:A},g)}if(a.expression.kind==="camera"){const b=this._calculate(a.expression.evaluate({zoom:g.zoom-1}),a.expression.evaluate({zoom:g.zoom}),a.expression.evaluate({zoom:g.zoom+1}),g);return new Ei(this,{kind:"constant",value:b},g)}return new Ei(this,a.expression,g)}evaluate(a,g,f,y,b,E){if(a.kind==="source"){const A=a.evaluate(g,f,y,b,E);return this._calculate(A,A,A,g)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(g.zoom)-1},f,y),a.evaluate({zoom:Math.floor(g.zoom)},f,y),a.evaluate({zoom:Math.floor(g.zoom)+1},f,y),g):a.value}_calculate(a,g,f,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:a,to:g}:{from:f,to:g}}interpolate(a){return a}}class nr{constructor(a){this.specification=a}possiblyEvaluate(a,g,f,y){if(a.value!==void 0){if(a.expression.kind==="constant"){const b=a.expression.evaluate(g,null,{},f,y);return this._calculate(b,b,b,g)}return this._calculate(a.expression.evaluate(new Xt(Math.floor(g.zoom-1),g)),a.expression.evaluate(new Xt(Math.floor(g.zoom),g)),a.expression.evaluate(new Xt(Math.floor(g.zoom+1),g)),g)}}_calculate(a,g,f,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:a,to:g}:{from:f,to:g}}interpolate(a){return a}}class Ra{constructor(a){this.specification=a}possiblyEvaluate(a,g,f,y){return!!a.expression.evaluate(g,null,{},f,y)}interpolate(){return!1}}class dn{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const g in a){const f=a[g];f.specification.overridable&&this.overridableProperties.push(g);const y=this.defaultPropertyValues[g]=new Nr(f,void 0),b=this.defaultTransitionablePropertyValues[g]=new zr(f);this.defaultTransitioningPropertyValues[g]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[g]=y.possiblyEvaluate({})}}}We("DataDrivenProperty",st),We("DataConstantProperty",tt),We("CrossFadedDataDrivenProperty",tr),We("CrossFadedProperty",nr),We("ColorRampProperty",Ra);const Qi="-transition";class kn extends go{constructor(a,g){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),g.layout&&(this._unevaluatedLayout=new yl(g.layout)),g.paint)){this._transitionablePaint=new Da(g.paint);for(const f in a.paint)this.setPaintProperty(f,a.paint[f],{validate:!1});for(const f in a.layout)this.setLayoutProperty(f,a.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fr(g.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,g,f={}){g!=null&&this._validate(hl,`layers.${this.id}.layout.${a}`,a,g,f)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,g):this.visibility=g)}getPaintProperty(a){return a.endsWith(Qi)?this._transitionablePaint.getTransition(a.slice(0,-Qi.length)):this._transitionablePaint.getValue(a)}setPaintProperty(a,g,f={}){if(g!=null&&this._validate(Sa,`layers.${this.id}.paint.${a}`,a,g,f))return!1;if(a.endsWith(Qi))return this._transitionablePaint.setTransition(a.slice(0,-Qi.length),g||void 0),!1;{const y=this._transitionablePaint._values[a],b=y.property.specification["property-type"]==="cross-faded-data-driven",E=y.value.isDataDriven(),A=y.value;this._transitionablePaint.setValue(a,g),this._handleSpecialPaintPropertyUpdate(a);const I=this._transitionablePaint._values[a].value;return I.isDataDriven()||E||b||this._handleOverridablePaintPropertyUpdate(a,A,I)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,g,f){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,g){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,g)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),xe(a,(g,f)=>!(g===void 0||f==="layout"&&!Object.keys(g).length||f==="paint"&&!Object.keys(g).length))}_validate(a,g,f,y,b={}){return(!b||b.validate!==!1)&&Es(this,a.call(Ki,{key:g,layerType:this.type,objectKey:f,value:y,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const g=this.paint.get(a);if(g instanceof Ei&&$o(g.property.specification)&&(g.value.kind==="source"||g.value.kind==="composite")&&g.value.isStateDependent)return!0}return!1}}const $l={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ir{constructor(a,g){this._structArray=a,this._pos1=g*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Gt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,g){return a._trim(),g&&(a.isTransferred=!0,g.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const g=Object.create(this.prototype);return g.arrayBuffer=a.arrayBuffer,g.length=a.length,g.capacity=a.arrayBuffer.byteLength/g.bytesPerElement,g._refreshViews(),g}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const g=this.uint8;this._refreshViews(),g&&this.uint8.set(g)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function un(p,a=1){let g=0,f=0;return{members:p.map(y=>{const b=$l[y.type].BYTES_PER_ELEMENT,E=g=ws(g,Math.max(a,b)),A=y.components||1;return f=Math.max(f,b),g+=b*A,{name:y.name,type:y.type,components:A,offset:E}}),size:ws(g,Math.max(f,a)),alignment:a}}function ws(p,a){return Math.ceil(p/a)*a}class So extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g){const f=this.length;return this.resize(f+1),this.emplace(f,a,g)}emplace(a,g,f){const y=2*a;return this.int16[y+0]=g,this.int16[y+1]=f,a}}So.prototype.bytesPerElement=4,We("StructArrayLayout2i4",So);class or extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f,y){const b=this.length;return this.resize(b+1),this.emplace(b,a,g,f,y)}emplace(a,g,f,y,b){const E=4*a;return this.int16[E+0]=g,this.int16[E+1]=f,this.int16[E+2]=y,this.int16[E+3]=b,a}}or.prototype.bytesPerElement=8,We("StructArrayLayout4i8",or);class _ extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,f,y,b,E)}emplace(a,g,f,y,b,E,A){const I=6*a;return this.int16[I+0]=g,this.int16[I+1]=f,this.int16[I+2]=y,this.int16[I+3]=b,this.int16[I+4]=E,this.int16[I+5]=A,a}}_.prototype.bytesPerElement=12,We("StructArrayLayout2i4i12",_);class l extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,f,y,b,E)}emplace(a,g,f,y,b,E,A){const I=4*a,D=8*a;return this.int16[I+0]=g,this.int16[I+1]=f,this.uint8[D+4]=y,this.uint8[D+5]=b,this.uint8[D+6]=E,this.uint8[D+7]=A,a}}l.prototype.bytesPerElement=8,We("StructArrayLayout2i4ub8",l);class h extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g){const f=this.length;return this.resize(f+1),this.emplace(f,a,g)}emplace(a,g,f){const y=2*a;return this.float32[y+0]=g,this.float32[y+1]=f,a}}h.prototype.bytesPerElement=8,We("StructArrayLayout2f8",h);class m extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E,A,I,D,N){const F=this.length;return this.resize(F+1),this.emplace(F,a,g,f,y,b,E,A,I,D,N)}emplace(a,g,f,y,b,E,A,I,D,N,F){const U=10*a;return this.uint16[U+0]=g,this.uint16[U+1]=f,this.uint16[U+2]=y,this.uint16[U+3]=b,this.uint16[U+4]=E,this.uint16[U+5]=A,this.uint16[U+6]=I,this.uint16[U+7]=D,this.uint16[U+8]=N,this.uint16[U+9]=F,a}}m.prototype.bytesPerElement=20,We("StructArrayLayout10ui20",m);class $ extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E,A,I,D,N,F,U){const V=this.length;return this.resize(V+1),this.emplace(V,a,g,f,y,b,E,A,I,D,N,F,U)}emplace(a,g,f,y,b,E,A,I,D,N,F,U,V){const q=12*a;return this.int16[q+0]=g,this.int16[q+1]=f,this.int16[q+2]=y,this.int16[q+3]=b,this.uint16[q+4]=E,this.uint16[q+5]=A,this.uint16[q+6]=I,this.uint16[q+7]=D,this.int16[q+8]=N,this.int16[q+9]=F,this.int16[q+10]=U,this.int16[q+11]=V,a}}$.prototype.bytesPerElement=24,We("StructArrayLayout4i4ui4i24",$);class x extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,f){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,f)}emplace(a,g,f,y){const b=3*a;return this.float32[b+0]=g,this.float32[b+1]=f,this.float32[b+2]=y,a}}x.prototype.bytesPerElement=12,We("StructArrayLayout3f12",x);class T extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.uint32[1*a+0]=g,a}}T.prototype.bytesPerElement=4,We("StructArrayLayout1ul4",T);class P extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E,A,I,D){const N=this.length;return this.resize(N+1),this.emplace(N,a,g,f,y,b,E,A,I,D)}emplace(a,g,f,y,b,E,A,I,D,N){const F=10*a,U=5*a;return this.int16[F+0]=g,this.int16[F+1]=f,this.int16[F+2]=y,this.int16[F+3]=b,this.int16[F+4]=E,this.int16[F+5]=A,this.uint32[U+3]=I,this.uint16[F+8]=D,this.uint16[F+9]=N,a}}P.prototype.bytesPerElement=20,We("StructArrayLayout6i1ul2ui20",P);class w extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E){const A=this.length;return this.resize(A+1),this.emplace(A,a,g,f,y,b,E)}emplace(a,g,f,y,b,E,A){const I=6*a;return this.int16[I+0]=g,this.int16[I+1]=f,this.int16[I+2]=y,this.int16[I+3]=b,this.int16[I+4]=E,this.int16[I+5]=A,a}}w.prototype.bytesPerElement=12,We("StructArrayLayout2i2i2i12",w);class L extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b){const E=this.length;return this.resize(E+1),this.emplace(E,a,g,f,y,b)}emplace(a,g,f,y,b,E){const A=4*a,I=8*a;return this.float32[A+0]=g,this.float32[A+1]=f,this.float32[A+2]=y,this.int16[I+6]=b,this.int16[I+7]=E,a}}L.prototype.bytesPerElement=16,We("StructArrayLayout2f1f2i16",L);class z extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,f,y){const b=this.length;return this.resize(b+1),this.emplace(b,a,g,f,y)}emplace(a,g,f,y,b){const E=12*a,A=3*a;return this.uint8[E+0]=g,this.uint8[E+1]=f,this.float32[A+1]=y,this.float32[A+2]=b,a}}z.prototype.bytesPerElement=12,We("StructArrayLayout2ub2f12",z);class B extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,f){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,f)}emplace(a,g,f,y){const b=3*a;return this.uint16[b+0]=g,this.uint16[b+1]=f,this.uint16[b+2]=y,a}}B.prototype.bytesPerElement=6,We("StructArrayLayout3ui6",B);class j extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge){const $e=this.length;return this.resize($e+1),this.emplace($e,a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge)}emplace(a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge,$e){const pe=24*a,_e=12*a,we=48*a;return this.int16[pe+0]=g,this.int16[pe+1]=f,this.uint16[pe+2]=y,this.uint16[pe+3]=b,this.uint32[_e+2]=E,this.uint32[_e+3]=A,this.uint32[_e+4]=I,this.uint16[pe+10]=D,this.uint16[pe+11]=N,this.uint16[pe+12]=F,this.float32[_e+7]=U,this.float32[_e+8]=V,this.uint8[we+36]=q,this.uint8[we+37]=ne,this.uint8[we+38]=te,this.uint32[_e+10]=ge,this.int16[pe+22]=$e,a}}j.prototype.bytesPerElement=48,We("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",j);class J extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge,$e,pe,_e,we,Ie,Ke,Qe,Ue,ze,Le,je){const ke=this.length;return this.resize(ke+1),this.emplace(ke,a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge,$e,pe,_e,we,Ie,Ke,Qe,Ue,ze,Le,je)}emplace(a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne,te,ge,$e,pe,_e,we,Ie,Ke,Qe,Ue,ze,Le,je,ke){const De=34*a,rt=17*a;return this.int16[De+0]=g,this.int16[De+1]=f,this.int16[De+2]=y,this.int16[De+3]=b,this.int16[De+4]=E,this.int16[De+5]=A,this.int16[De+6]=I,this.int16[De+7]=D,this.uint16[De+8]=N,this.uint16[De+9]=F,this.uint16[De+10]=U,this.uint16[De+11]=V,this.uint16[De+12]=q,this.uint16[De+13]=ne,this.uint16[De+14]=te,this.uint16[De+15]=ge,this.uint16[De+16]=$e,this.uint16[De+17]=pe,this.uint16[De+18]=_e,this.uint16[De+19]=we,this.uint16[De+20]=Ie,this.uint16[De+21]=Ke,this.uint16[De+22]=Qe,this.uint32[rt+12]=Ue,this.float32[rt+13]=ze,this.float32[rt+14]=Le,this.float32[rt+15]=je,this.float32[rt+16]=ke,a}}J.prototype.bytesPerElement=68,We("StructArrayLayout8i15ui1ul4f68",J);class Y extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.float32[1*a+0]=g,a}}Y.prototype.bytesPerElement=4,We("StructArrayLayout1f4",Y);class Z extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,g,f){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,f)}emplace(a,g,f,y){const b=3*a;return this.int16[b+0]=g,this.int16[b+1]=f,this.int16[b+2]=y,a}}Z.prototype.bytesPerElement=6,We("StructArrayLayout3i6",Z);class se extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g,f){const y=this.length;return this.resize(y+1),this.emplace(y,a,g,f)}emplace(a,g,f,y){const b=4*a;return this.uint32[2*a+0]=g,this.uint16[b+2]=f,this.uint16[b+3]=y,a}}se.prototype.bytesPerElement=8,We("StructArrayLayout1ul2ui8",se);class ue extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,g){const f=this.length;return this.resize(f+1),this.emplace(f,a,g)}emplace(a,g,f){const y=2*a;return this.uint16[y+0]=g,this.uint16[y+1]=f,a}}ue.prototype.bytesPerElement=4,We("StructArrayLayout2ui4",ue);class de extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const g=this.length;return this.resize(g+1),this.emplace(g,a)}emplace(a,g){return this.uint16[1*a+0]=g,a}}de.prototype.bytesPerElement=2,We("StructArrayLayout1ui2",de);class Q extends Gt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,g,f,y){const b=this.length;return this.resize(b+1),this.emplace(b,a,g,f,y)}emplace(a,g,f,y,b){const E=4*a;return this.float32[E+0]=g,this.float32[E+1]=f,this.float32[E+2]=y,this.float32[E+3]=b,a}}Q.prototype.bytesPerElement=16,We("StructArrayLayout4f16",Q);class me extends ir{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new He(this.anchorPointX,this.anchorPointY)}}me.prototype.size=20;class he extends P{get(a){return new me(this,a)}}We("CollisionBoxArray",he);class Ee extends ir{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Ee.prototype.size=48;class Se extends j{get(a){return new Ee(this,a)}}We("PlacedSymbolArray",Se);class Oe extends ir{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Oe.prototype.size=68;class be extends J{get(a){return new Oe(this,a)}}We("SymbolInstanceArray",be);class qe extends Y{getoffsetX(a){return this.float32[1*a+0]}}We("GlyphOffsetArray",qe);class Ne extends Z{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}We("SymbolLineVertexArray",Ne);class Xe extends ir{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Xe.prototype.size=8;class pt extends se{get(a){return new Xe(this,a)}}We("FeatureIndexArray",pt);class vt extends So{}class at extends So{}class Mt extends So{}class Nt extends _{}class Tt extends l{}class Ct extends h{}class It extends m{}class Wn extends ${}class Si extends x{}class ci extends T{}class gi extends w{}class eo extends z{}class vn extends B{}class di extends ue{}const to=un([{name:"a_pos",components:2,type:"Int16"}],4),{members:kr}=to;class Pt{constructor(a=[]){this.segments=a}prepareSegment(a,g,f,y){let b=this.segments[this.segments.length-1];return a>Pt.MAX_VERTEX_ARRAY_LENGTH&&Ze(`Max vertices per segment is ${Pt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!b||b.vertexLength+a>Pt.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==y)&&(b={vertexOffset:g.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},y!==void 0&&(b.sortKey=y),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const a of this.segments)for(const g in a.vaos)a.vaos[g].destroy()}static simpleSegment(a,g,f,y){return new Pt([{vertexOffset:a,primitiveOffset:g,vertexLength:f,primitiveLength:y,vaos:{},sortKey:0}])}}function qt(p,a){return 256*(p=R(Math.floor(p),0,255))+R(Math.floor(a),0,255)}Pt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,We("SegmentVector",Pt);const Dt=un([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var cn={exports:{}},Bn={exports:{}};Bn.exports=function(p,a){var g,f,y,b,E,A,I,D;for(f=p.length-(g=3&p.length),y=a,E=3432918353,A=461845907,D=0;D<f;)I=255&p.charCodeAt(D)|(255&p.charCodeAt(++D))<<8|(255&p.charCodeAt(++D))<<16|(255&p.charCodeAt(++D))<<24,++D,y=27492+(65535&(b=5*(65535&(y=(y^=I=(65535&(I=(I=(65535&I)*E+(((I>>>16)*E&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(I=0,g){case 3:I^=(255&p.charCodeAt(D+2))<<16;case 2:I^=(255&p.charCodeAt(D+1))<<8;case 1:y^=I=(65535&(I=(I=(65535&(I^=255&p.charCodeAt(D)))*E+(((I>>>16)*E&65535)<<16)&4294967295)<<15|I>>>17))*A+(((I>>>16)*A&65535)<<16)&4294967295}return y^=p.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0};var Wt={exports:{}};Wt.exports=function(p,a){for(var g,f=p.length,y=a^f,b=0;f>=4;)g=1540483477*(65535&(g=255&p.charCodeAt(b)|(255&p.charCodeAt(++b))<<8|(255&p.charCodeAt(++b))<<16|(255&p.charCodeAt(++b))<<24))+((1540483477*(g>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),f-=4,++b;switch(f){case 3:y^=(255&p.charCodeAt(b+2))<<16;case 2:y^=(255&p.charCodeAt(b+1))<<8;case 1:y=1540483477*(65535&(y^=255&p.charCodeAt(b)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0};var ni=Bn.exports,To=Wt.exports;cn.exports=ni,cn.exports.murmur3=ni,cn.exports.murmur2=To;class Ao{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,g,f,y){this.ids.push(Br(a)),this.positions.push(g,f,y)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const g=Br(a);let f=0,y=this.ids.length-1;for(;f<y;){const E=f+y>>1;this.ids[E]>=g?y=E:f=E+1}const b=[];for(;this.ids[f]===g;)b.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return b}static serialize(a,g){const f=new Float64Array(a.ids),y=new Uint32Array(a.positions);return La(f,y,0,f.length-1),g&&g.push(f.buffer,y.buffer),{ids:f,positions:y}}static deserialize(a){const g=new Ao;return g.ids=a.ids,g.positions=a.positions,g.indexed=!0,g}}function Br(p){const a=+p;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:cn.exports(String(p))}function La(p,a,g,f){for(;g<f;){const y=p[g+f>>1];let b=g-1,E=f+1;for(;;){do b++;while(p[b]<y);do E--;while(p[E]>y);if(b>=E)break;Ur(p,b,E),Ur(a,3*b,3*E),Ur(a,3*b+1,3*E+1),Ur(a,3*b+2,3*E+2)}E-g<f-E?(La(p,a,g,E),g=E+1):(La(p,a,E+1,f),f=E)}}function Ur(p,a,g){const f=p[a];p[a]=p[g],p[g]=f}We("FeaturePositionMap",Ao);class hi{constructor(a,g){this.gl=a.gl,this.location=g}}class jr extends hi{constructor(a,g){super(a,g),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class rr extends hi{constructor(a,g){super(a,g),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class Vr extends hi{constructor(a,g){super(a,g),this.current=G.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const Ac=new Float32Array(16);function vl(p){return[qt(255*p.r,255*p.g),qt(255*p.b,255*p.a)]}class Ma{constructor(a,g,f){this.value=a,this.uniformNames=g.map(y=>`u_${y}`),this.type=f}setUniform(a,g,f){a.set(f.constantOr(this.value))}getBinding(a,g,f){return this.type==="color"?new Vr(a,g):new jr(a,g)}}class Gr{constructor(a,g){this.uniformNames=g.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,g){this.pixelRatioFrom=g.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=g.tlbr,this.patternTo=a.tlbr}setUniform(a,g,f,y){const b=y==="u_pattern_to"?this.patternTo:y==="u_pattern_from"?this.patternFrom:y==="u_pixel_ratio_to"?this.pixelRatioTo:y==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&a.set(b)}getBinding(a,g,f){return f.substr(0,9)==="u_pattern"?new rr(a,g):new jr(a,g)}}class no{constructor(a,g,f,y){this.expression=a,this.type=f,this.maxValue=0,this.paintVertexAttributes=g.map(b=>({name:`a_${b}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(a,g,f,y,b){const E=this.paintVertexArray.length,A=this.expression.evaluate(new Xt(0),g,{},y,[],b);this.paintVertexArray.resize(a),this._setPaintValue(E,a,A)}updatePaintArray(a,g,f,y){const b=this.expression.evaluate({zoom:0},f,y);this._setPaintValue(a,g,b)}_setPaintValue(a,g,f){if(this.type==="color"){const y=vl(f);for(let b=a;b<g;b++)this.paintVertexArray.emplace(b,y[0],y[1])}else{for(let y=a;y<g;y++)this.paintVertexArray.emplace(y,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Oi{constructor(a,g,f,y,b,E){this.expression=a,this.uniformNames=g.map(A=>`u_${A}_t`),this.type=f,this.useIntegerZoom=y,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=g.map(A=>({name:`a_${A}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(a,g,f,y,b){const E=this.expression.evaluate(new Xt(this.zoom),g,{},y,[],b),A=this.expression.evaluate(new Xt(this.zoom+1),g,{},y,[],b),I=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(I,a,E,A)}updatePaintArray(a,g,f,y){const b=this.expression.evaluate({zoom:this.zoom},f,y),E=this.expression.evaluate({zoom:this.zoom+1},f,y);this._setPaintValue(a,g,b,E)}_setPaintValue(a,g,f,y){if(this.type==="color"){const b=vl(f),E=vl(y);for(let A=a;A<g;A++)this.paintVertexArray.emplace(A,b[0],b[1],E[0],E[1])}else{for(let b=a;b<g;b++)this.paintVertexArray.emplace(b,f,y);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(y))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,g){const f=this.useIntegerZoom?Math.floor(g.zoom):g.zoom,y=R(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);a.set(y)}getBinding(a,g,f){return new jr(a,g)}}class Co{constructor(a,g,f,y,b,E){this.expression=a,this.type=g,this.useIntegerZoom=f,this.zoom=y,this.layerId=E,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(a,g,f){const y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(y,a,g.patterns&&g.patterns[this.layerId],f)}updatePaintArray(a,g,f,y,b){this._setPaintValues(a,g,f.patterns&&f.patterns[this.layerId],b)}_setPaintValues(a,g,f,y){if(!y||!f)return;const{min:b,mid:E,max:A}=f,I=y[b],D=y[E],N=y[A];if(I&&D&&N)for(let F=a;F<g;F++)this.zoomInPaintVertexArray.emplace(F,D.tl[0],D.tl[1],D.br[0],D.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],D.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(F,D.tl[0],D.tl[1],D.br[0],D.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],D.pixelRatio,N.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Dt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Dt.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ou{constructor(a,g,f){this.binders={},this._buffers=[];const y=[];for(const b in a.paint._values){if(!f(b))continue;const E=a.paint.get(b);if(!(E instanceof Ei&&$o(E.property.specification)))continue;const A=Cc(b,a.type),I=E.value,D=E.property.specification.type,N=E.property.useIntegerZoom,F=E.property.specification["property-type"],U=F==="cross-faded"||F==="cross-faded-data-driven";if(I.kind==="constant")this.binders[b]=U?new Gr(I.value,A):new Ma(I.value,A,D),y.push(`/u_${b}`);else if(I.kind==="source"||U){const V=ru(b,D,"source");this.binders[b]=U?new Co(I,D,N,g,V,a.id):new no(I,A,D,V),y.push(`/a_${b}`)}else{const V=ru(b,D,"composite");this.binders[b]=new Oi(I,A,D,N,g,V),y.push(`/z_${b}`)}}this.cacheKey=y.sort().join("")}getMaxValue(a){const g=this.binders[a];return g instanceof no||g instanceof Oi?g.maxValue:0}populatePaintArrays(a,g,f,y,b){for(const E in this.binders){const A=this.binders[E];(A instanceof no||A instanceof Oi||A instanceof Co)&&A.populatePaintArray(a,g,f,y,b)}}setConstantPatternPositions(a,g){for(const f in this.binders){const y=this.binders[f];y instanceof Gr&&y.setConstantPatternPositions(a,g)}}updatePaintArrays(a,g,f,y,b){let E=!1;for(const A in a){const I=g.getPositions(A);for(const D of I){const N=f.feature(D.index);for(const F in this.binders){const U=this.binders[F];if((U instanceof no||U instanceof Oi||U instanceof Co)&&U.expression.isStateDependent===!0){const V=y.paint.get(F);U.expression=V.value,U.updatePaintArray(D.start,D.end,N,a[A],b),E=!0}}}}return E}defines(){const a=[];for(const g in this.binders){const f=this.binders[g];(f instanceof Ma||f instanceof Gr)&&a.push(...f.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return a}getBinderAttributes(){const a=[];for(const g in this.binders){const f=this.binders[g];if(f instanceof no||f instanceof Oi)for(let y=0;y<f.paintVertexAttributes.length;y++)a.push(f.paintVertexAttributes[y].name);else if(f instanceof Co)for(let y=0;y<Dt.members.length;y++)a.push(Dt.members[y].name)}return a}getBinderUniforms(){const a=[];for(const g in this.binders){const f=this.binders[g];if(f instanceof Ma||f instanceof Gr||f instanceof Oi)for(const y of f.uniformNames)a.push(y)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,g){const f=[];for(const y in this.binders){const b=this.binders[y];if(b instanceof Ma||b instanceof Gr||b instanceof Oi){for(const E of b.uniformNames)if(g[E]){const A=b.getBinding(a,g[E],E);f.push({name:E,property:y,binding:A})}}}return f}setUniforms(a,g,f,y){for(const{name:b,property:E,binding:A}of g)this.binders[E].setUniform(A,y,f.get(E),b)}updatePaintBuffers(a){this._buffers=[];for(const g in this.binders){const f=this.binders[g];if(a&&f instanceof Co){const y=a.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(f instanceof no||f instanceof Oi)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(a){for(const g in this.binders){const f=this.binders[g];(f instanceof no||f instanceof Oi||f instanceof Co)&&f.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const g=this.binders[a];(g instanceof no||g instanceof Oi||g instanceof Co)&&g.destroy()}}}class ar{constructor(a,g,f=()=>!0){this.programConfigurations={};for(const y of a)this.programConfigurations[y.id]=new ou(y,g,f);this.needsUpload=!1,this._featureMap=new Ao,this._bufferOffset=0}populatePaintArrays(a,g,f,y,b,E){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(a,g,y,b,E);g.id!==void 0&&this._featureMap.add(g.id,f,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,g,f,y){for(const b of f)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(a,this._featureMap,g,b,y)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const g in this.programConfigurations)this.programConfigurations[g].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function Cc(p,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[p]||[p.replace(`${a}-`,"").replace(/-/g,"_")]}function ru(p,a,g){const f={color:{source:h,composite:Q},number:{source:Y,composite:h}},y=function(b){return{"line-pattern":{source:It,composite:It},"fill-pattern":{source:It,composite:It},"fill-extrusion-pattern":{source:It,composite:It}}[b]}(p);return y&&y[g]||f[a][g]}We("ConstantBinder",Ma),We("CrossFadedConstantBinder",Gr),We("SourceExpressionBinder",no),We("CrossFadedCompositeBinder",Co),We("CompositeExpressionBinder",Oi),We("ProgramConfiguration",ou,{omit:["_buffers"]}),We("ProgramConfigurationSet",ar);var hn=8192;const bl=Math.pow(2,14)-1,au=-bl-1;function sr(p){const a=hn/p.extent,g=p.loadGeometry();for(let f=0;f<g.length;f++){const y=g[f];for(let b=0;b<y.length;b++){const E=y[b],A=Math.round(E.x*a),I=Math.round(E.y*a);E.x=R(A,au,bl),E.y=R(I,au,bl),(A<E.x||A>E.x+1||I<E.y||I>E.y+1)&&Ze("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return g}function lr(p,a){return{type:p.type,id:p.id,properties:p.properties,geometry:a?sr(p):[]}}function Os(p,a,g,f,y){p.emplaceBack(2*a+(f+1)/2,2*g+(y+1)/2)}class xl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new at,this.indexArray=new vn,this.segments=new Pt,this.programConfigurations=new ar(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,f){const y=this.layers[0],b=[];let E=null,A=!1;y.type==="circle"&&(E=y.layout.get("circle-sort-key"),A=!E.isConstant());for(const{feature:I,id:D,index:N,sourceLayerIndex:F}of a){const U=this.layers[0]._featureFilter.needGeometry,V=lr(I,U);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),V,f))continue;const q=A?E.evaluate(V,{},f):void 0,ne={id:D,properties:I.properties,type:I.type,sourceLayerIndex:F,index:N,geometry:U?V.geometry:sr(I),patterns:{},sortKey:q};b.push(ne)}A&&b.sort((I,D)=>I.sortKey-D.sortKey);for(const I of b){const{geometry:D,index:N,sourceLayerIndex:F}=I,U=a[N].feature;this.addFeature(I,D,N,f),g.featureIndex.insert(U,D,N,F,this.index)}}update(a,g,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,kr),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,g,f,y){for(const b of g)for(const E of b){const A=E.x,I=E.y;if(A<0||A>=hn||I<0||I>=hn)continue;const D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),N=D.vertexLength;Os(this.layoutVertexArray,A,I,-1,-1),Os(this.layoutVertexArray,A,I,1,-1),Os(this.layoutVertexArray,A,I,1,1),Os(this.layoutVertexArray,A,I,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+3,N+2),D.vertexLength+=4,D.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,{},y)}}function su(p,a){for(let g=0;g<p.length;g++)if(qr(a,p[g]))return!0;for(let g=0;g<a.length;g++)if(qr(p,a[g]))return!0;return!!El(p,a)}function Ic(p,a,g){return!!qr(p,a)||!!Sl(a,p,g)}function lu(p,a){if(p.length===1)return cu(a,p[0]);for(let g=0;g<a.length;g++){const f=a[g];for(let y=0;y<f.length;y++)if(qr(p,f[y]))return!0}for(let g=0;g<p.length;g++)if(cu(a,p[g]))return!0;for(let g=0;g<a.length;g++)if(El(p,a[g]))return!0;return!1}function Pc(p,a,g){if(p.length>1){if(El(p,a))return!0;for(let f=0;f<a.length;f++)if(Sl(a[f],p,g))return!0}for(let f=0;f<p.length;f++)if(Sl(p[f],a,g))return!0;return!1}function El(p,a){if(p.length===0||a.length===0)return!1;for(let g=0;g<p.length-1;g++){const f=p[g],y=p[g+1];for(let b=0;b<a.length-1;b++)if(wc(f,y,a[b],a[b+1]))return!0}return!1}function wc(p,a,g,f){return ot(p,g,f)!==ot(a,g,f)&&ot(p,a,g)!==ot(p,a,f)}function Sl(p,a,g){const f=g*g;if(a.length===1)return p.distSqr(a[0])<f;for(let y=1;y<a.length;y++)if(uu(p,a[y-1],a[y])<f)return!0;return!1}function uu(p,a,g){const f=a.distSqr(g);if(f===0)return p.distSqr(a);const y=((p.x-a.x)*(g.x-a.x)+(p.y-a.y)*(g.y-a.y))/f;return p.distSqr(y<0?a:y>1?g:g.sub(a)._mult(y)._add(a))}function cu(p,a){let g,f,y,b=!1;for(let E=0;E<p.length;E++){g=p[E];for(let A=0,I=g.length-1;A<g.length;I=A++)f=g[A],y=g[I],f.y>a.y!=y.y>a.y&&a.x<(y.x-f.x)*(a.y-f.y)/(y.y-f.y)+f.x&&(b=!b)}return b}function qr(p,a){let g=!1;for(let f=0,y=p.length-1;f<p.length;y=f++){const b=p[f],E=p[y];b.y>a.y!=E.y>a.y&&a.x<(E.x-b.x)*(a.y-b.y)/(E.y-b.y)+b.x&&(g=!g)}return g}function Oc(p,a,g){const f=g[0],y=g[2];if(p.x<f.x&&a.x<f.x||p.x>y.x&&a.x>y.x||p.y<f.y&&a.y<f.y||p.y>y.y&&a.y>y.y)return!1;const b=ot(p,a,g[0]);return b!==ot(p,a,g[1])||b!==ot(p,a,g[2])||b!==ot(p,a,g[3])}function Na(p,a,g){const f=a.paint.get(p).value;return f.kind==="constant"?f.value:g.programConfigurations.get(a.id).getMaxValue(p)}function Ds(p){return Math.sqrt(p[0]*p[0]+p[1]*p[1])}function Rs(p,a,g,f,y){if(!a[0]&&!a[1])return p;const b=He.convert(a)._mult(y);g==="viewport"&&b._rotate(-f);const E=[];for(let A=0;A<p.length;A++)E.push(p[A].sub(b));return E}We("CircleBucket",xl,{omit:["layers"]});const Dc=new dn({"circle-sort-key":new st(Te.layout_circle["circle-sort-key"])});var Rc={paint:new dn({"circle-radius":new st(Te.paint_circle["circle-radius"]),"circle-color":new st(Te.paint_circle["circle-color"]),"circle-blur":new st(Te.paint_circle["circle-blur"]),"circle-opacity":new st(Te.paint_circle["circle-opacity"]),"circle-translate":new tt(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new tt(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new tt(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new tt(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new st(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new st(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new st(Te.paint_circle["circle-stroke-opacity"])}),layout:Dc},Un=1e-6,jn=typeof Float32Array<"u"?Float32Array:Array;function pu(){var p=new jn(9);return jn!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[5]=0,p[6]=0,p[7]=0),p[0]=1,p[4]=1,p[8]=1,p}function Tl(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function gu(p,a,g){var f=a[0],y=a[1],b=a[2],E=a[3],A=a[4],I=a[5],D=a[6],N=a[7],F=a[8],U=a[9],V=a[10],q=a[11],ne=a[12],te=a[13],ge=a[14],$e=a[15],pe=g[0],_e=g[1],we=g[2],Ie=g[3];return p[0]=pe*f+_e*A+we*F+Ie*ne,p[1]=pe*y+_e*I+we*U+Ie*te,p[2]=pe*b+_e*D+we*V+Ie*ge,p[3]=pe*E+_e*N+we*q+Ie*$e,p[4]=(pe=g[4])*f+(_e=g[5])*A+(we=g[6])*F+(Ie=g[7])*ne,p[5]=pe*y+_e*I+we*U+Ie*te,p[6]=pe*b+_e*D+we*V+Ie*ge,p[7]=pe*E+_e*N+we*q+Ie*$e,p[8]=(pe=g[8])*f+(_e=g[9])*A+(we=g[10])*F+(Ie=g[11])*ne,p[9]=pe*y+_e*I+we*U+Ie*te,p[10]=pe*b+_e*D+we*V+Ie*ge,p[11]=pe*E+_e*N+we*q+Ie*$e,p[12]=(pe=g[12])*f+(_e=g[13])*A+(we=g[14])*F+(Ie=g[15])*ne,p[13]=pe*y+_e*I+we*U+Ie*te,p[14]=pe*b+_e*D+we*V+Ie*ge,p[15]=pe*E+_e*N+we*q+Ie*$e,p}Math.hypot||(Math.hypot=function(){for(var p=0,a=arguments.length;a--;)p+=arguments[a]*arguments[a];return Math.sqrt(p)});var za,Lc=gu;function du(){var p=new jn(3);return jn!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function hu(p,a,g){var f=new jn(3);return f[0]=p,f[1]=a,f[2]=g,f}function Ls(p,a,g){var f=a[0],y=a[1],b=a[2],E=a[3];return p[0]=g[0]*f+g[4]*y+g[8]*b+g[12]*E,p[1]=g[1]*f+g[5]*y+g[9]*b+g[13]*E,p[2]=g[2]*f+g[6]*y+g[10]*b+g[14]*E,p[3]=g[3]*f+g[7]*y+g[11]*b+g[15]*E,p}function fu(){var p=new jn(4);return jn!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p[3]=1,p}function mu(p,a){const g=Ls([],[p.x,p.y,0,1],a);return new He(g[0]/g[3],g[1]/g[3])}du(),za=new jn(4),jn!=Float32Array&&(za[0]=0,za[1]=0,za[2]=0,za[3]=0),du(),hu(1,0,0),hu(0,1,0),fu(),fu(),pu(),function(){var p;p=new jn(2),jn!=Float32Array&&(p[0]=0,p[1]=0)}();class _u extends xl{}We("HeatmapBucket",_u,{omit:["layers"]});var Mc={paint:new dn({"heatmap-radius":new st(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new st(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new tt(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ra(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new tt(Te.paint_heatmap["heatmap-opacity"])})};function Al(p,{width:a,height:g},f,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==a*g*f)throw new RangeError(`mismatched image size. expected: ${y.length} but got: ${a*g*f}`)}else y=new Uint8Array(a*g*f);return p.width=a,p.height=g,p.data=y,p}function yu(p,{width:a,height:g},f){if(a===p.width&&g===p.height)return;const y=Al({},{width:a,height:g},f);Cl(p,y,{x:0,y:0},{x:0,y:0},{width:Math.min(p.width,a),height:Math.min(p.height,g)},f),p.width=a,p.height=g,p.data=y.data}function Cl(p,a,g,f,y,b){if(y.width===0||y.height===0)return a;if(y.width>p.width||y.height>p.height||g.x>p.width-y.width||g.y>p.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>a.width||y.height>a.height||f.x>a.width-y.width||f.y>a.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const E=p.data,A=a.data;if(E===A)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<y.height;I++){const D=((g.y+I)*p.width+g.x)*b,N=((f.y+I)*a.width+f.x)*b;for(let F=0;F<y.width*b;F++)A[N+F]=E[D+F]}return a}class Fa{constructor(a,g){Al(this,a,1,g)}resize(a){yu(this,a,1)}clone(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,g,f,y,b){Cl(a,g,f,y,b,1)}}class fi{constructor(a,g){Al(this,a,4,g)}resize(a){yu(this,a,4)}replace(a,g){g?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new fi({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,g,f,y,b){Cl(a,g,f,y,b,4)}}function $u(p){const a={},g=p.resolution||256,f=p.clips?p.clips.length:1,y=p.image||new fi({width:g,height:f});if(Math.log(g)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${g}`);const b=(E,A,I)=>{a[p.evaluationKey]=I;const D=p.expression.evaluate(a);y.data[E+A+0]=Math.floor(255*D.r/D.a),y.data[E+A+1]=Math.floor(255*D.g/D.a),y.data[E+A+2]=Math.floor(255*D.b/D.a),y.data[E+A+3]=Math.floor(255*D.a)};if(p.clips)for(let E=0,A=0;E<f;++E,A+=4*g)for(let I=0,D=0;I<g;I++,D+=4){const N=I/(g-1),{start:F,end:U}=p.clips[E];b(A,D,F*(1-N)+U*N)}else for(let E=0,A=0;E<g;E++,A+=4)b(0,A,E/(g-1));return y}We("AlphaImage",Fa),We("RGBAImage",fi);var Nc={paint:new dn({"hillshade-illumination-direction":new tt(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new tt(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new tt(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new tt(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new tt(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new tt(Te.paint_hillshade["hillshade-accent-color"])})};const zc=un([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fc}=zc;var Ms={exports:{}};function Ns(p,a,g){g=g||2;var f,y,b,E,A,I,D,N=a&&a.length,F=N?a[0]*g:p.length,U=vu(p,0,F,g,!0),V=[];if(!U||U.next===U.prev)return V;if(N&&(U=function(ne,te,ge,$e){var pe,_e,we,Ie=[];for(pe=0,_e=te.length;pe<_e;pe++)(we=vu(ne,te[pe]*$e,pe<_e-1?te[pe+1]*$e:ne.length,$e,!1))===we.next&&(we.steiner=!0),Ie.push(Hc(we));for(Ie.sort(Vc),pe=0;pe<Ie.length;pe++)ge=Gc(Ie[pe],ge);return ge}(p,a,U,g)),p.length>80*g){f=b=p[0],y=E=p[1];for(var q=g;q<F;q+=g)(A=p[q])<f&&(f=A),(I=p[q+1])<y&&(y=I),A>b&&(b=A),I>E&&(E=I);D=(D=Math.max(b-f,E-y))!==0?32767/D:0}return ka(U,V,g,f,y,D,0),V}function vu(p,a,g,f,y){var b,E;if(y===wl(p,a,g,f)>0)for(b=a;b<g;b+=f)E=Eu(b,p[b],p[b+1],E);else for(b=g-f;b>=a;b-=f)E=Eu(b,p[b],p[b+1],E);return E&&zs(E,E.next)&&(Ua(E),E=E.next),E}function ur(p,a){if(!p)return p;a||(a=p);var g,f=p;do if(g=!1,f.steiner||!zs(f,f.next)&&sn(f.prev,f,f.next)!==0)f=f.next;else{if(Ua(f),(f=a=f.prev)===f.next)break;g=!0}while(g||f!==a);return a}function ka(p,a,g,f,y,b,E){if(p){!E&&b&&function(N,F,U,V){var q=N;do q.z===0&&(q.z=Il(q.x,q.y,F,U,V)),q.prevZ=q.prev,q.nextZ=q.next,q=q.next;while(q!==N);q.prevZ.nextZ=null,q.prevZ=null,function(ne){var te,ge,$e,pe,_e,we,Ie,Ke,Qe=1;do{for(ge=ne,ne=null,_e=null,we=0;ge;){for(we++,$e=ge,Ie=0,te=0;te<Qe&&(Ie++,$e=$e.nextZ);te++);for(Ke=Qe;Ie>0||Ke>0&&$e;)Ie!==0&&(Ke===0||!$e||ge.z<=$e.z)?(pe=ge,ge=ge.nextZ,Ie--):(pe=$e,$e=$e.nextZ,Ke--),_e?_e.nextZ=pe:ne=pe,pe.prevZ=_e,_e=pe;ge=$e}_e.nextZ=null,Qe*=2}while(we>1)}(q)}(p,f,y,b);for(var A,I,D=p;p.prev!==p.next;)if(A=p.prev,I=p.next,b?Bc(p,f,y,b):kc(p))a.push(A.i/g|0),a.push(p.i/g|0),a.push(I.i/g|0),Ua(p),p=I.next,D=I.next;else if((p=I)===D){E?E===1?ka(p=Uc(ur(p),a,g),a,g,f,y,b,2):E===2&&jc(p,a,g,f,y,b):ka(ur(p),a,g,f,y,b,1);break}}}function kc(p){var a=p.prev,g=p,f=p.next;if(sn(a,g,f)>=0)return!1;for(var y=a.x,b=g.x,E=f.x,A=a.y,I=g.y,D=f.y,N=y<b?y<E?y:E:b<E?b:E,F=A<I?A<D?A:D:I<D?I:D,U=y>b?y>E?y:E:b>E?b:E,V=A>I?A>D?A:D:I>D?I:D,q=f.next;q!==a;){if(q.x>=N&&q.x<=U&&q.y>=F&&q.y<=V&&Hr(y,A,b,I,E,D,q.x,q.y)&&sn(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function Bc(p,a,g,f){var y=p.prev,b=p,E=p.next;if(sn(y,b,E)>=0)return!1;for(var A=y.x,I=b.x,D=E.x,N=y.y,F=b.y,U=E.y,V=A<I?A<D?A:D:I<D?I:D,q=N<F?N<U?N:U:F<U?F:U,ne=A>I?A>D?A:D:I>D?I:D,te=N>F?N>U?N:U:F>U?F:U,ge=Il(V,q,a,g,f),$e=Il(ne,te,a,g,f),pe=p.prevZ,_e=p.nextZ;pe&&pe.z>=ge&&_e&&_e.z<=$e;){if(pe.x>=V&&pe.x<=ne&&pe.y>=q&&pe.y<=te&&pe!==y&&pe!==E&&Hr(A,N,I,F,D,U,pe.x,pe.y)&&sn(pe.prev,pe,pe.next)>=0||(pe=pe.prevZ,_e.x>=V&&_e.x<=ne&&_e.y>=q&&_e.y<=te&&_e!==y&&_e!==E&&Hr(A,N,I,F,D,U,_e.x,_e.y)&&sn(_e.prev,_e,_e.next)>=0))return!1;_e=_e.nextZ}for(;pe&&pe.z>=ge;){if(pe.x>=V&&pe.x<=ne&&pe.y>=q&&pe.y<=te&&pe!==y&&pe!==E&&Hr(A,N,I,F,D,U,pe.x,pe.y)&&sn(pe.prev,pe,pe.next)>=0)return!1;pe=pe.prevZ}for(;_e&&_e.z<=$e;){if(_e.x>=V&&_e.x<=ne&&_e.y>=q&&_e.y<=te&&_e!==y&&_e!==E&&Hr(A,N,I,F,D,U,_e.x,_e.y)&&sn(_e.prev,_e,_e.next)>=0)return!1;_e=_e.nextZ}return!0}function Uc(p,a,g){var f=p;do{var y=f.prev,b=f.next.next;!zs(y,b)&&bu(y,f,f.next,b)&&Ba(y,b)&&Ba(b,y)&&(a.push(y.i/g|0),a.push(f.i/g|0),a.push(b.i/g|0),Ua(f),Ua(f.next),f=p=b),f=f.next}while(f!==p);return ur(f)}function jc(p,a,g,f,y,b){var E=p;do{for(var A=E.next.next;A!==E.prev;){if(E.i!==A.i&&Xc(E,A)){var I=xu(E,A);return E=ur(E,E.next),I=ur(I,I.next),ka(E,a,g,f,y,b,0),void ka(I,a,g,f,y,b,0)}A=A.next}E=E.next}while(E!==p)}function Vc(p,a){return p.x-a.x}function Gc(p,a){var g=function(y,b){var E,A=b,I=y.x,D=y.y,N=-1/0;do{if(D<=A.y&&D>=A.next.y&&A.next.y!==A.y){var F=A.x+(D-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(F<=I&&F>N&&(N=F,E=A.x<A.next.x?A:A.next,F===I))return E}A=A.next}while(A!==b);if(!E)return null;var U,V=E,q=E.x,ne=E.y,te=1/0;A=E;do I>=A.x&&A.x>=q&&I!==A.x&&Hr(D<ne?I:N,D,q,ne,D<ne?N:I,D,A.x,A.y)&&(U=Math.abs(D-A.y)/(I-A.x),Ba(A,y)&&(U<te||U===te&&(A.x>E.x||A.x===E.x&&qc(E,A)))&&(E=A,te=U)),A=A.next;while(A!==V);return E}(p,a);if(!g)return a;var f=xu(g,p);return ur(f,f.next),ur(g,g.next)}function qc(p,a){return sn(p.prev,p,a.prev)<0&&sn(a.next,p,p.next)<0}function Il(p,a,g,f,y){return(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-g)*y|0)|p<<8))|p<<4))|p<<2))|p<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-f)*y|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Hc(p){var a=p,g=p;do(a.x<g.x||a.x===g.x&&a.y<g.y)&&(g=a),a=a.next;while(a!==p);return g}function Hr(p,a,g,f,y,b,E,A){return(y-E)*(a-A)>=(p-E)*(b-A)&&(p-E)*(f-A)>=(g-E)*(a-A)&&(g-E)*(b-A)>=(y-E)*(f-A)}function Xc(p,a){return p.next.i!==a.i&&p.prev.i!==a.i&&!function(g,f){var y=g;do{if(y.i!==g.i&&y.next.i!==g.i&&y.i!==f.i&&y.next.i!==f.i&&bu(y,y.next,g,f))return!0;y=y.next}while(y!==g);return!1}(p,a)&&(Ba(p,a)&&Ba(a,p)&&function(g,f){var y=g,b=!1,E=(g.x+f.x)/2,A=(g.y+f.y)/2;do y.y>A!=y.next.y>A&&y.next.y!==y.y&&E<(y.next.x-y.x)*(A-y.y)/(y.next.y-y.y)+y.x&&(b=!b),y=y.next;while(y!==g);return b}(p,a)&&(sn(p.prev,p,a.prev)||sn(p,a.prev,a))||zs(p,a)&&sn(p.prev,p,p.next)>0&&sn(a.prev,a,a.next)>0)}function sn(p,a,g){return(a.y-p.y)*(g.x-a.x)-(a.x-p.x)*(g.y-a.y)}function zs(p,a){return p.x===a.x&&p.y===a.y}function bu(p,a,g,f){var y=ks(sn(p,a,g)),b=ks(sn(p,a,f)),E=ks(sn(g,f,p)),A=ks(sn(g,f,a));return y!==b&&E!==A||!(y!==0||!Fs(p,g,a))||!(b!==0||!Fs(p,f,a))||!(E!==0||!Fs(g,p,f))||!(A!==0||!Fs(g,a,f))}function Fs(p,a,g){return a.x<=Math.max(p.x,g.x)&&a.x>=Math.min(p.x,g.x)&&a.y<=Math.max(p.y,g.y)&&a.y>=Math.min(p.y,g.y)}function ks(p){return p>0?1:p<0?-1:0}function Ba(p,a){return sn(p.prev,p,p.next)<0?sn(p,a,p.next)>=0&&sn(p,p.prev,a)>=0:sn(p,a,p.prev)<0||sn(p,p.next,a)<0}function xu(p,a){var g=new Pl(p.i,p.x,p.y),f=new Pl(a.i,a.x,a.y),y=p.next,b=a.prev;return p.next=a,a.prev=p,g.next=y,y.prev=g,f.next=g,g.prev=f,b.next=f,f.prev=b,f}function Eu(p,a,g,f){var y=new Pl(p,a,g);return f?(y.next=f.next,y.prev=f,f.next.prev=y,f.next=y):(y.prev=y,y.next=y),y}function Ua(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Pl(p,a,g){this.i=p,this.x=a,this.y=g,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function wl(p,a,g,f){for(var y=0,b=a,E=g-f;b<g;b+=f)y+=(p[E]-p[b])*(p[b+1]+p[E+1]),E=b;return y}function Wc(p,a,g,f,y){Su(p,a,g,f||p.length-1,y||Yc)}function Su(p,a,g,f,y){for(;f>g;){if(f-g>600){var b=f-g+1,E=a-g+1,A=Math.log(b),I=.5*Math.exp(2*A/3),D=.5*Math.sqrt(A*I*(b-I)/b)*(E-b/2<0?-1:1);Su(p,a,Math.max(g,Math.floor(a-E*I/b+D)),Math.min(f,Math.floor(a+(b-E)*I/b+D)),y)}var N=p[a],F=g,U=f;for(ja(p,g,a),y(p[f],N)>0&&ja(p,g,f);F<U;){for(ja(p,F,U),F++,U--;y(p[F],N)<0;)F++;for(;y(p[U],N)>0;)U--}y(p[g],N)===0?ja(p,g,U):ja(p,++U,f),U<=a&&(g=U+1),a<=U&&(f=U-1)}}function ja(p,a,g){var f=p[a];p[a]=p[g],p[g]=f}function Yc(p,a){return p<a?-1:p>a?1:0}function Ol(p,a){const g=p.length;if(g<=1)return[p];const f=[];let y,b;for(let E=0;E<g;E++){const A=ut(p[E]);A!==0&&(p[E].area=Math.abs(A),b===void 0&&(b=A<0),b===A<0?(y&&f.push(y),y=[p[E]]):y.push(p[E]))}if(y&&f.push(y),a>1)for(let E=0;E<f.length;E++)f[E].length<=a||(Wc(f[E],a,1,f[E].length-1,Kc),f[E]=f[E].slice(0,a));return f}function Kc(p,a){return a.area-p.area}function Dl(p,a,g){const f=g.patternDependencies;let y=!1;for(const b of a){const E=b.paint.get(`${p}-pattern`);E.isConstant()||(y=!0);const A=E.constantOr(null);A&&(y=!0,f[A.to]=!0,f[A.from]=!0)}return y}function Rl(p,a,g,f,y){const b=y.patternDependencies;for(const E of a){const A=E.paint.get(`${p}-pattern`).value;if(A.kind!=="constant"){let I=A.evaluate({zoom:f-1},g,{},y.availableImages),D=A.evaluate({zoom:f},g,{},y.availableImages),N=A.evaluate({zoom:f+1},g,{},y.availableImages);I=I&&I.name?I.name:I,D=D&&D.name?D.name:D,N=N&&N.name?N.name:N,b[I]=!0,b[D]=!0,b[N]=!0,g.patterns[E.id]={min:I,mid:D,max:N}}}return g}Ms.exports=Ns,Ms.exports.default=Ns,Ns.deviation=function(p,a,g,f){var y=a&&a.length,b=Math.abs(wl(p,0,y?a[0]*g:p.length,g));if(y)for(var E=0,A=a.length;E<A;E++)b-=Math.abs(wl(p,a[E]*g,E<A-1?a[E+1]*g:p.length,g));var I=0;for(E=0;E<f.length;E+=3){var D=f[E]*g,N=f[E+1]*g,F=f[E+2]*g;I+=Math.abs((p[D]-p[F])*(p[N+1]-p[D+1])-(p[D]-p[N])*(p[F+1]-p[D+1]))}return b===0&&I===0?0:Math.abs((I-b)/b)},Ns.flatten=function(p){for(var a=p[0][0].length,g={vertices:[],holes:[],dimensions:a},f=0,y=0;y<p.length;y++){for(var b=0;b<p[y].length;b++)for(var E=0;E<a;E++)g.vertices.push(p[y][b][E]);y>0&&g.holes.push(f+=p[y-1].length)}return g};class Ll{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mt,this.indexArray=new vn,this.indexArray2=new di,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.segments2=new Pt,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,f){this.hasPattern=Dl("fill",this.layers,g);const y=this.layers[0].layout.get("fill-sort-key"),b=!y.isConstant(),E=[];for(const{feature:A,id:I,index:D,sourceLayerIndex:N}of a){const F=this.layers[0]._featureFilter.needGeometry,U=lr(A,F);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),U,f))continue;const V=b?y.evaluate(U,{},f,g.availableImages):void 0,q={id:I,properties:A.properties,type:A.type,sourceLayerIndex:N,index:D,geometry:F?U.geometry:sr(A),patterns:{},sortKey:V};E.push(q)}b&&E.sort((A,I)=>A.sortKey-I.sortKey);for(const A of E){const{geometry:I,index:D,sourceLayerIndex:N}=A;if(this.hasPattern){const F=Rl("fill",this.layers,A,this.zoom,g);this.patternFeatures.push(F)}else this.addFeature(A,I,D,f,{});g.featureIndex.insert(a[D].feature,I,D,N,this.index)}}update(a,g,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,f)}addFeatures(a,g,f){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,g,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Fc),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,g,f,y,b){for(const E of Ol(g,500)){let A=0;for(const V of E)A+=V.length;const I=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),D=I.vertexLength,N=[],F=[];for(const V of E){if(V.length===0)continue;V!==E[0]&&F.push(N.length/2);const q=this.segments2.prepareSegment(V.length,this.layoutVertexArray,this.indexArray2),ne=q.vertexLength;this.layoutVertexArray.emplaceBack(V[0].x,V[0].y),this.indexArray2.emplaceBack(ne+V.length-1,ne),N.push(V[0].x),N.push(V[0].y);for(let te=1;te<V.length;te++)this.layoutVertexArray.emplaceBack(V[te].x,V[te].y),this.indexArray2.emplaceBack(ne+te-1,ne+te),N.push(V[te].x),N.push(V[te].y);q.vertexLength+=V.length,q.primitiveLength+=V.length}const U=Ms.exports(N,F);for(let V=0;V<U.length;V+=3)this.indexArray.emplaceBack(D+U[V],D+U[V+1],D+U[V+2]);I.vertexLength+=A,I.primitiveLength+=U.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,b,y)}}We("FillBucket",Ll,{omit:["layers","patternFeatures"]});const Zc=new dn({"fill-sort-key":new st(Te.layout_fill["fill-sort-key"])});var Jc={paint:new dn({"fill-antialias":new tt(Te.paint_fill["fill-antialias"]),"fill-opacity":new st(Te.paint_fill["fill-opacity"]),"fill-color":new st(Te.paint_fill["fill-color"]),"fill-outline-color":new st(Te.paint_fill["fill-outline-color"]),"fill-translate":new tt(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new tt(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new tr(Te.paint_fill["fill-pattern"])}),layout:Zc};const Qc=un([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ep=un([{name:"a_centroid",components:2,type:"Int16"}],4),{members:tp}=Qc;var Io={},np=He,Tu=Xr;function Xr(p,a,g,f,y){this.properties={},this.extent=g,this.type=0,this._pbf=p,this._geometry=-1,this._keys=f,this._values=y,p.readFields(ip,this,a)}function ip(p,a,g){p==1?a.id=g.readVarint():p==2?function(f,y){for(var b=f.readVarint()+f.pos;f.pos<b;){var E=y._keys[f.readVarint()],A=y._values[f.readVarint()];y.properties[E]=A}}(g,a):p==3?a.type=g.readVarint():p==4&&(a._geometry=g.pos)}function op(p){for(var a,g,f=0,y=0,b=p.length,E=b-1;y<b;E=y++)f+=((g=p[E]).x-(a=p[y]).x)*(a.y+g.y);return f}Xr.types=["Unknown","Point","LineString","Polygon"],Xr.prototype.loadGeometry=function(){var p=this._pbf;p.pos=this._geometry;for(var a,g=p.readVarint()+p.pos,f=1,y=0,b=0,E=0,A=[];p.pos<g;){if(y<=0){var I=p.readVarint();f=7&I,y=I>>3}if(y--,f===1||f===2)b+=p.readSVarint(),E+=p.readSVarint(),f===1&&(a&&A.push(a),a=[]),a.push(new np(b,E));else{if(f!==7)throw new Error("unknown command "+f);a&&a.push(a[0].clone())}}return a&&A.push(a),A},Xr.prototype.bbox=function(){var p=this._pbf;p.pos=this._geometry;for(var a=p.readVarint()+p.pos,g=1,f=0,y=0,b=0,E=1/0,A=-1/0,I=1/0,D=-1/0;p.pos<a;){if(f<=0){var N=p.readVarint();g=7&N,f=N>>3}if(f--,g===1||g===2)(y+=p.readSVarint())<E&&(E=y),y>A&&(A=y),(b+=p.readSVarint())<I&&(I=b),b>D&&(D=b);else if(g!==7)throw new Error("unknown command "+g)}return[E,I,A,D]},Xr.prototype.toGeoJSON=function(p,a,g){var f,y,b=this.extent*Math.pow(2,g),E=this.extent*p,A=this.extent*a,I=this.loadGeometry(),D=Xr.types[this.type];function N(V){for(var q=0;q<V.length;q++){var ne=V[q];V[q]=[360*(ne.x+E)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+A)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(f=0;f<I.length;f++)F[f]=I[f][0];N(I=F);break;case 2:for(f=0;f<I.length;f++)N(I[f]);break;case 3:for(I=function(V){var q=V.length;if(q<=1)return[V];for(var ne,te,ge=[],$e=0;$e<q;$e++){var pe=op(V[$e]);pe!==0&&(te===void 0&&(te=pe<0),te===pe<0?(ne&&ge.push(ne),ne=[V[$e]]):ne.push(V[$e]))}return ne&&ge.push(ne),ge}(I),f=0;f<I.length;f++)for(y=0;y<I[f].length;y++)N(I[f][y])}I.length===1?I=I[0]:D="Multi"+D;var U={type:"Feature",geometry:{type:D,coordinates:I},properties:this.properties};return"id"in this&&(U.id=this.id),U};var rp=Tu,Au=Cu;function Cu(p,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=p,this._keys=[],this._values=[],this._features=[],p.readFields(ap,this,a),this.length=this._features.length}function ap(p,a,g){p===15?a.version=g.readVarint():p===1?a.name=g.readString():p===5?a.extent=g.readVarint():p===2?a._features.push(g.pos):p===3?a._keys.push(g.readString()):p===4&&a._values.push(function(f){for(var y=null,b=f.readVarint()+f.pos;f.pos<b;){var E=f.readVarint()>>3;y=E===1?f.readString():E===2?f.readFloat():E===3?f.readDouble():E===4?f.readVarint64():E===5?f.readVarint():E===6?f.readSVarint():E===7?f.readBoolean():null}return y}(g))}Cu.prototype.feature=function(p){if(p<0||p>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[p];var a=this._pbf.readVarint()+this._pbf.pos;return new rp(this._pbf,a,this.extent,this._keys,this._values)};var sp=Au;function lp(p,a,g){if(p===3){var f=new sp(g,g.readVarint()+g.pos);f.length&&(a[f.name]=f)}}Io.VectorTile=function(p,a){this.layers=p.readFields(lp,{},a)},Io.VectorTileFeature=Tu,Io.VectorTileLayer=Au;const up=Io.VectorTileFeature.types,Ml=Math.pow(2,13);function Va(p,a,g,f,y,b,E,A){p.emplaceBack(a,g,2*Math.floor(f*Ml)+E,y*Ml*2,b*Ml*2,Math.round(A))}class Nl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Nt,this.centroidVertexArray=new vt,this.indexArray=new vn,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,f){this.features=[],this.hasPattern=Dl("fill-extrusion",this.layers,g);for(const{feature:y,id:b,index:E,sourceLayerIndex:A}of a){const I=this.layers[0]._featureFilter.needGeometry,D=lr(y,I);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),D,f))continue;const N={id:b,sourceLayerIndex:A,index:E,geometry:I?D.geometry:sr(y),properties:y.properties,type:y.type,patterns:{}};this.hasPattern?this.features.push(Rl("fill-extrusion",this.layers,N,this.zoom,g)):this.addFeature(N,N.geometry,E,f,{}),g.featureIndex.insert(y,N.geometry,E,A,this.index,!0)}}addFeatures(a,g,f){for(const y of this.features){const{geometry:b}=y;this.addFeature(y,b,y.index,g,f)}}update(a,g,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,tp),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,ep.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,g,f,y,b){const E={x:0,y:0,vertexCount:0};for(const A of Ol(g,500)){let I=0;for(const q of A)I+=q.length;let D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const q of A){if(q.length===0||pp(q))continue;let ne=0;for(let te=0;te<q.length;te++){const ge=q[te];if(te>=1){const $e=q[te-1];if(!cp(ge,$e)){D.vertexLength+4>Pt.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const pe=ge.sub($e)._perp()._unit(),_e=$e.dist(ge);ne+_e>32768&&(ne=0),Va(this.layoutVertexArray,ge.x,ge.y,pe.x,pe.y,0,0,ne),Va(this.layoutVertexArray,ge.x,ge.y,pe.x,pe.y,0,1,ne),E.x+=2*ge.x,E.y+=2*ge.y,E.vertexCount+=2,ne+=_e,Va(this.layoutVertexArray,$e.x,$e.y,pe.x,pe.y,0,0,ne),Va(this.layoutVertexArray,$e.x,$e.y,pe.x,pe.y,0,1,ne),E.x+=2*$e.x,E.y+=2*$e.y,E.vertexCount+=2;const we=D.vertexLength;this.indexArray.emplaceBack(we,we+2,we+1),this.indexArray.emplaceBack(we+1,we+2,we+3),D.vertexLength+=4,D.primitiveLength+=2}}}}if(D.vertexLength+I>Pt.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray)),up[a.type]!=="Polygon")continue;const N=[],F=[],U=D.vertexLength;for(const q of A)if(q.length!==0){q!==A[0]&&F.push(N.length/2);for(let ne=0;ne<q.length;ne++){const te=q[ne];Va(this.layoutVertexArray,te.x,te.y,0,0,1,1,0),E.x+=te.x,E.y+=te.y,E.vertexCount+=1,N.push(te.x),N.push(te.y)}}const V=Ms.exports(N,F);for(let q=0;q<V.length;q+=3)this.indexArray.emplaceBack(U+V[q],U+V[q+2],U+V[q+1]);D.primitiveLength+=V.length/3,D.vertexLength+=I}for(let A=0;A<E.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(E.x/E.vertexCount),Math.floor(E.y/E.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,b,y)}}function cp(p,a){return p.x===a.x&&(p.x<0||p.x>hn)||p.y===a.y&&(p.y<0||p.y>hn)}function pp(p){return p.every(a=>a.x<0)||p.every(a=>a.x>hn)||p.every(a=>a.y<0)||p.every(a=>a.y>hn)}We("FillExtrusionBucket",Nl,{omit:["layers","features"]});var gp={paint:new dn({"fill-extrusion-opacity":new tt(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new st(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new tt(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new tt(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new tr(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new st(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new st(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new tt(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ga(p,a){return p.x*a.x+p.y*a.y}function Iu(p,a){if(p.length===1){let g=0;const f=a[g++];let y;for(;!y||f.equals(y);)if(y=a[g++],!y)return 1/0;for(;g<a.length;g++){const b=a[g],E=p[0],A=y.sub(f),I=b.sub(f),D=E.sub(f),N=Ga(A,A),F=Ga(A,I),U=Ga(I,I),V=Ga(D,A),q=Ga(D,I),ne=N*U-F*F,te=(U*V-F*q)/ne,ge=(N*q-F*V)/ne,$e=f.z*(1-te-ge)+y.z*te+b.z*ge;if(isFinite($e))return $e}return 1/0}{let g=1/0;for(const f of a)g=Math.min(g,f.z);return g}}const dp=un([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:hp}=dp,fp=un([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:mp}=fp,_p=Io.VectorTileFeature.types,yp=Math.cos(Math.PI/180*37.5),Pu=Math.pow(2,14)/.5;class zl{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(g=>g.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(g=>{this.gradients[g.id]={}}),this.layoutVertexArray=new Tt,this.layoutVertexArray2=new Ct,this.indexArray=new vn,this.programConfigurations=new ar(a.layers,a.zoom),this.segments=new Pt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(a,g,f){this.hasPattern=Dl("line",this.layers,g);const y=this.layers[0].layout.get("line-sort-key"),b=!y.isConstant(),E=[];for(const{feature:A,id:I,index:D,sourceLayerIndex:N}of a){const F=this.layers[0]._featureFilter.needGeometry,U=lr(A,F);if(!this.layers[0]._featureFilter.filter(new Xt(this.zoom),U,f))continue;const V=b?y.evaluate(U,{},f):void 0,q={id:I,properties:A.properties,type:A.type,sourceLayerIndex:N,index:D,geometry:F?U.geometry:sr(A),patterns:{},sortKey:V};E.push(q)}b&&E.sort((A,I)=>A.sortKey-I.sortKey);for(const A of E){const{geometry:I,index:D,sourceLayerIndex:N}=A;if(this.hasPattern){const F=Rl("line",this.layers,A,this.zoom,g);this.patternFeatures.push(F)}else this.addFeature(A,I,D,f,{});g.featureIndex.insert(a[D].feature,I,D,N,this.index)}}update(a,g,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,g,this.stateDependentLayers,f)}addFeatures(a,g,f){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,g,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,mp)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,hp),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,g,f,y,b){const E=this.layers[0].layout,A=E.get("line-join").evaluate(a,{}),I=E.get("line-cap"),D=E.get("line-miter-limit"),N=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const F of g)this.addLine(F,a,A,I,D,N);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,f,b,y)}addLine(a,g,f,y,b,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ge=0;ge<a.length-1;ge++)this.totalDistance+=a[ge].dist(a[ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=_p[g.type]==="Polygon";let I=a.length;for(;I>=2&&a[I-1].equals(a[I-2]);)I--;let D=0;for(;D<I-1&&a[D].equals(a[D+1]);)D++;if(I<(A?3:2))return;f==="bevel"&&(b=1.05);const N=this.overscaling<=16?122880/(512*this.overscaling):0,F=this.segments.prepareSegment(10*I,this.layoutVertexArray,this.indexArray);let U,V,q,ne,te;this.e1=this.e2=-1,A&&(U=a[I-2],te=a[D].sub(U)._unit()._perp());for(let ge=D;ge<I;ge++){if(q=ge===I-1?A?a[D+1]:void 0:a[ge+1],q&&a[ge].equals(q))continue;te&&(ne=te),U&&(V=U),U=a[ge],te=q?q.sub(U)._unit()._perp():ne,ne=ne||te;let $e=ne.add(te);$e.x===0&&$e.y===0||$e._unit();const pe=ne.x*te.x+ne.y*te.y,_e=$e.x*te.x+$e.y*te.y,we=_e!==0?1/_e:1/0,Ie=2*Math.sqrt(2-2*_e),Ke=_e<yp&&V&&q,Qe=ne.x*te.y-ne.y*te.x>0;if(Ke&&ge>D){const Le=U.dist(V);if(Le>2*N){const je=U.sub(U.sub(V)._mult(N/Le)._round());this.updateDistance(V,je),this.addCurrentVertex(je,ne,0,0,F),V=je}}const Ue=V&&q;let ze=Ue?f:A?"butt":y;if(Ue&&ze==="round"&&(we<E?ze="miter":we<=2&&(ze="fakeround")),ze==="miter"&&we>b&&(ze="bevel"),ze==="bevel"&&(we>2&&(ze="flipbevel"),we<b&&(ze="miter")),V&&this.updateDistance(V,U),ze==="miter")$e._mult(we),this.addCurrentVertex(U,$e,0,0,F);else if(ze==="flipbevel"){if(we>100)$e=te.mult(-1);else{const Le=we*ne.add(te).mag()/ne.sub(te).mag();$e._perp()._mult(Le*(Qe?-1:1))}this.addCurrentVertex(U,$e,0,0,F),this.addCurrentVertex(U,$e.mult(-1),0,0,F)}else if(ze==="bevel"||ze==="fakeround"){const Le=-Math.sqrt(we*we-1),je=Qe?Le:0,ke=Qe?0:Le;if(V&&this.addCurrentVertex(U,ne,je,ke,F),ze==="fakeround"){const De=Math.round(180*Ie/Math.PI/20);for(let rt=1;rt<De;rt++){let nt=rt/De;if(nt!==.5){const Ht=nt-.5;nt+=nt*Ht*(nt-1)*((1.0904+pe*(pe*(3.55645-1.43519*pe)-3.2452))*Ht*Ht+(.848013+pe*(.215638*pe-1.06021)))}const bt=te.sub(ne)._mult(nt)._add(ne)._unit()._mult(Qe?-1:1);this.addHalfVertex(U,bt.x,bt.y,!1,Qe,0,F)}}q&&this.addCurrentVertex(U,te,-je,-ke,F)}else if(ze==="butt")this.addCurrentVertex(U,$e,0,0,F);else if(ze==="square"){const Le=V?1:-1;this.addCurrentVertex(U,$e,Le,Le,F)}else ze==="round"&&(V&&(this.addCurrentVertex(U,ne,0,0,F),this.addCurrentVertex(U,ne,1,1,F,!0)),q&&(this.addCurrentVertex(U,te,-1,-1,F,!0),this.addCurrentVertex(U,te,0,0,F)));if(Ke&&ge<I-1){const Le=U.dist(q);if(Le>2*N){const je=U.add(q.sub(U)._mult(N/Le)._round());this.updateDistance(U,je),this.addCurrentVertex(je,te,0,0,F),U=je}}}}addCurrentVertex(a,g,f,y,b,E=!1){const A=g.y*y-g.x,I=-g.y-g.x*y;this.addHalfVertex(a,g.x+g.y*f,g.y-g.x*f,E,!1,f,b),this.addHalfVertex(a,A,I,E,!0,-y,b),this.distance>Pu/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(a,g,f,y,b,E))}addHalfVertex({x:a,y:g},f,y,b,E,A,I){const D=.5*(this.lineClips?this.scaledDistance*(Pu-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(b?1:0),(g<<1)+(E?1:0),Math.round(63*f)+128,Math.round(63*y)+128,1+(A===0?0:A<0?-1:1)|(63&D)<<2,D>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const N=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,N),I.primitiveLength++),E?this.e2=N:this.e1=N}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,g){this.distance+=a.dist(g),this.updateScaledDistance()}}We("LineBucket",zl,{omit:["layers","patternFeatures"]});const $p=new dn({"line-cap":new tt(Te.layout_line["line-cap"]),"line-join":new st(Te.layout_line["line-join"]),"line-miter-limit":new tt(Te.layout_line["line-miter-limit"]),"line-round-limit":new tt(Te.layout_line["line-round-limit"]),"line-sort-key":new st(Te.layout_line["line-sort-key"])});var wu={paint:new dn({"line-opacity":new st(Te.paint_line["line-opacity"]),"line-color":new st(Te.paint_line["line-color"]),"line-translate":new tt(Te.paint_line["line-translate"]),"line-translate-anchor":new tt(Te.paint_line["line-translate-anchor"]),"line-width":new st(Te.paint_line["line-width"]),"line-gap-width":new st(Te.paint_line["line-gap-width"]),"line-offset":new st(Te.paint_line["line-offset"]),"line-blur":new st(Te.paint_line["line-blur"]),"line-dasharray":new nr(Te.paint_line["line-dasharray"]),"line-pattern":new tr(Te.paint_line["line-pattern"]),"line-gradient":new Ra(Te.paint_line["line-gradient"])}),layout:$p};const Ou=new class extends st{possiblyEvaluate(p,a){return a=new Xt(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(p,a)}evaluate(p,a,g,f){return a=K({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(p,a,g,f)}}(wu.paint.properties["line-width"].specification);function Du(p,a){return a>0?a+2*p:p}Ou.useIntegerZoom=!0;const vp=un([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bp=un([{name:"a_projected_pos",components:3,type:"Float32"}],4);un([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const xp=un([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);un([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ru=un([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ep=un([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Sp(p,a,g){return p.sections.forEach(f=>{f.text=function(y,b,E){const A=b.layout.get("text-transform").evaluate(E,{});return A==="uppercase"?y=y.toLocaleUpperCase():A==="lowercase"&&(y=y.toLocaleLowerCase()),ti.applyArabicShaping&&(y=ti.applyArabicShaping(y)),y}(f.text,a,g)}),p}un([{name:"triangle",components:3,type:"Uint16"}]),un([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),un([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),un([{type:"Float32",name:"offsetX"}]),un([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const qa={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var bn=24,Fl=zt,Lu=function(p,a,g,f,y){var b,E,A=8*y-f-1,I=(1<<A)-1,D=I>>1,N=-7,F=y-1,U=-1,V=p[a+F];for(F+=U,b=V&(1<<-N)-1,V>>=-N,N+=A;N>0;b=256*b+p[a+F],F+=U,N-=8);for(E=b&(1<<-N)-1,b>>=-N,N+=f;N>0;E=256*E+p[a+F],F+=U,N-=8);if(b===0)b=1-D;else{if(b===I)return E?NaN:1/0*(V?-1:1);E+=Math.pow(2,f),b-=D}return(V?-1:1)*E*Math.pow(2,b-f)},Mu=function(p,a,g,f,y,b){var E,A,I,D=8*b-y-1,N=(1<<D)-1,F=N>>1,U=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=0,q=1,ne=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(A=isNaN(a)?1:0,E=N):(E=Math.floor(Math.log(a)/Math.LN2),a*(I=Math.pow(2,-E))<1&&(E--,I*=2),(a+=E+F>=1?U/I:U*Math.pow(2,1-F))*I>=2&&(E++,I/=2),E+F>=N?(A=0,E=N):E+F>=1?(A=(a*I-1)*Math.pow(2,y),E+=F):(A=a*Math.pow(2,F-1)*Math.pow(2,y),E=0));y>=8;p[g+V]=255&A,V+=q,A/=256,y-=8);for(E=E<<y|A,D+=y;D>0;p[g+V]=255&E,V+=q,E/=256,D-=8);p[g+V-q]|=128*ne};function zt(p){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(p)?p:new Uint8Array(p||0),this.pos=0,this.type=0,this.length=this.buf.length}zt.Varint=0,zt.Fixed64=1,zt.Bytes=2,zt.Fixed32=5;var Po,kl=4294967296,Nu=1/kl,zu=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function io(p){return p.type===zt.Bytes?p.readVarint()+p.pos:p.pos+1}function Wr(p,a,g){return g?4294967296*a+(p>>>0):4294967296*(a>>>0)+(p>>>0)}function Fu(p,a,g){var f=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));g.realloc(f);for(var y=g.pos-1;y>=p;y--)g.buf[y+f]=g.buf[y]}function Tp(p,a){for(var g=0;g<p.length;g++)a.writeVarint(p[g])}function Ap(p,a){for(var g=0;g<p.length;g++)a.writeSVarint(p[g])}function Cp(p,a){for(var g=0;g<p.length;g++)a.writeFloat(p[g])}function Ip(p,a){for(var g=0;g<p.length;g++)a.writeDouble(p[g])}function Pp(p,a){for(var g=0;g<p.length;g++)a.writeBoolean(p[g])}function wp(p,a){for(var g=0;g<p.length;g++)a.writeFixed32(p[g])}function Op(p,a){for(var g=0;g<p.length;g++)a.writeSFixed32(p[g])}function Dp(p,a){for(var g=0;g<p.length;g++)a.writeFixed64(p[g])}function Rp(p,a){for(var g=0;g<p.length;g++)a.writeSFixed64(p[g])}function Bs(p,a){return(p[a]|p[a+1]<<8|p[a+2]<<16)+16777216*p[a+3]}function Yr(p,a,g){p[g]=a,p[g+1]=a>>>8,p[g+2]=a>>>16,p[g+3]=a>>>24}function ku(p,a){return(p[a]|p[a+1]<<8|p[a+2]<<16)+(p[a+3]<<24)}function Lp(p,a,g){p===1&&g.readMessage(Mp,a)}function Mp(p,a,g){if(p===3){const{id:f,bitmap:y,width:b,height:E,left:A,top:I,advance:D}=g.readMessage(Np,{});a.push({id:f,bitmap:new Fa({width:b+6,height:E+6},y),metrics:{width:b,height:E,left:A,top:I,advance:D}})}}function Np(p,a,g){p===1?a.id=g.readVarint():p===2?a.bitmap=g.readBytes():p===3?a.width=g.readVarint():p===4?a.height=g.readVarint():p===5?a.left=g.readSVarint():p===6?a.top=g.readSVarint():p===7&&(a.advance=g.readVarint())}function Bu(p){let a=0,g=0;for(const E of p)a+=E.w*E.h,g=Math.max(g,E.w);p.sort((E,A)=>A.h-E.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),g),h:1/0}];let y=0,b=0;for(const E of p)for(let A=f.length-1;A>=0;A--){const I=f[A];if(!(E.w>I.w||E.h>I.h)){if(E.x=I.x,E.y=I.y,b=Math.max(b,E.y+E.h),y=Math.max(y,E.x+E.w),E.w===I.w&&E.h===I.h){const D=f.pop();A<f.length&&(f[A]=D)}else E.h===I.h?(I.x+=E.w,I.w-=E.w):E.w===I.w?(I.y+=E.h,I.h-=E.h):(f.push({x:I.x+E.w,y:I.y,w:I.w-E.w,h:E.h}),I.y+=E.h,I.h-=E.h);break}}return{w:y,h:b,fill:a/(y*b)||0}}zt.prototype={destroy:function(){this.buf=null},readFields:function(p,a,g){for(g=g||this.length;this.pos<g;){var f=this.readVarint(),y=f>>3,b=this.pos;this.type=7&f,p(y,a,this),this.pos===b&&this.skip(f)}return a},readMessage:function(p,a){return this.readFields(p,a,this.readVarint()+this.pos)},readFixed32:function(){var p=Bs(this.buf,this.pos);return this.pos+=4,p},readSFixed32:function(){var p=ku(this.buf,this.pos);return this.pos+=4,p},readFixed64:function(){var p=Bs(this.buf,this.pos)+Bs(this.buf,this.pos+4)*kl;return this.pos+=8,p},readSFixed64:function(){var p=Bs(this.buf,this.pos)+ku(this.buf,this.pos+4)*kl;return this.pos+=8,p},readFloat:function(){var p=Lu(this.buf,this.pos,!0,23,4);return this.pos+=4,p},readDouble:function(){var p=Lu(this.buf,this.pos,!0,52,8);return this.pos+=8,p},readVarint:function(p){var a,g,f=this.buf;return a=127&(g=f[this.pos++]),g<128?a:(a|=(127&(g=f[this.pos++]))<<7,g<128?a:(a|=(127&(g=f[this.pos++]))<<14,g<128?a:(a|=(127&(g=f[this.pos++]))<<21,g<128?a:function(y,b,E){var A,I,D=E.buf;if(A=(112&(I=D[E.pos++]))>>4,I<128||(A|=(127&(I=D[E.pos++]))<<3,I<128)||(A|=(127&(I=D[E.pos++]))<<10,I<128)||(A|=(127&(I=D[E.pos++]))<<17,I<128)||(A|=(127&(I=D[E.pos++]))<<24,I<128)||(A|=(1&(I=D[E.pos++]))<<31,I<128))return Wr(y,A,b);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(g=f[this.pos]))<<28,p,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var p=this.readVarint();return p%2==1?(p+1)/-2:p/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var p=this.readVarint()+this.pos,a=this.pos;return this.pos=p,p-a>=12&&zu?function(g,f,y){return zu.decode(g.subarray(f,y))}(this.buf,a,p):function(g,f,y){for(var b="",E=f;E<y;){var A,I,D,N=g[E],F=null,U=N>239?4:N>223?3:N>191?2:1;if(E+U>y)break;U===1?N<128&&(F=N):U===2?(192&(A=g[E+1]))==128&&(F=(31&N)<<6|63&A)<=127&&(F=null):U===3?(I=g[E+2],(192&(A=g[E+1]))==128&&(192&I)==128&&((F=(15&N)<<12|(63&A)<<6|63&I)<=2047||F>=55296&&F<=57343)&&(F=null)):U===4&&(I=g[E+2],D=g[E+3],(192&(A=g[E+1]))==128&&(192&I)==128&&(192&D)==128&&((F=(15&N)<<18|(63&A)<<12|(63&I)<<6|63&D)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,U=1):F>65535&&(F-=65536,b+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),b+=String.fromCharCode(F),E+=U}return b}(this.buf,a,p)},readBytes:function(){var p=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,p);return this.pos=p,a},readPackedVarint:function(p,a){if(this.type!==zt.Bytes)return p.push(this.readVarint(a));var g=io(this);for(p=p||[];this.pos<g;)p.push(this.readVarint(a));return p},readPackedSVarint:function(p){if(this.type!==zt.Bytes)return p.push(this.readSVarint());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readSVarint());return p},readPackedBoolean:function(p){if(this.type!==zt.Bytes)return p.push(this.readBoolean());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readBoolean());return p},readPackedFloat:function(p){if(this.type!==zt.Bytes)return p.push(this.readFloat());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readFloat());return p},readPackedDouble:function(p){if(this.type!==zt.Bytes)return p.push(this.readDouble());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readDouble());return p},readPackedFixed32:function(p){if(this.type!==zt.Bytes)return p.push(this.readFixed32());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readFixed32());return p},readPackedSFixed32:function(p){if(this.type!==zt.Bytes)return p.push(this.readSFixed32());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readSFixed32());return p},readPackedFixed64:function(p){if(this.type!==zt.Bytes)return p.push(this.readFixed64());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readFixed64());return p},readPackedSFixed64:function(p){if(this.type!==zt.Bytes)return p.push(this.readSFixed64());var a=io(this);for(p=p||[];this.pos<a;)p.push(this.readSFixed64());return p},skip:function(p){var a=7&p;if(a===zt.Varint)for(;this.buf[this.pos++]>127;);else if(a===zt.Bytes)this.pos=this.readVarint()+this.pos;else if(a===zt.Fixed32)this.pos+=4;else{if(a!==zt.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(p,a){this.writeVarint(p<<3|a)},realloc:function(p){for(var a=this.length||16;a<this.pos+p;)a*=2;if(a!==this.length){var g=new Uint8Array(a);g.set(this.buf),this.buf=g,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(p){this.realloc(4),Yr(this.buf,p,this.pos),this.pos+=4},writeSFixed32:function(p){this.realloc(4),Yr(this.buf,p,this.pos),this.pos+=4},writeFixed64:function(p){this.realloc(8),Yr(this.buf,-1&p,this.pos),Yr(this.buf,Math.floor(p*Nu),this.pos+4),this.pos+=8},writeSFixed64:function(p){this.realloc(8),Yr(this.buf,-1&p,this.pos),Yr(this.buf,Math.floor(p*Nu),this.pos+4),this.pos+=8},writeVarint:function(p){(p=+p||0)>268435455||p<0?function(a,g){var f,y;if(a>=0?(f=a%4294967296|0,y=a/4294967296|0):(y=~(-a/4294967296),4294967295^(f=~(-a%4294967296))?f=f+1|0:(f=0,y=y+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");g.realloc(10),function(b,E,A){A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,A.buf[A.pos]=127&(b>>>=7)}(f,0,g),function(b,E){var A=(7&b)<<4;E.buf[E.pos++]|=A|((b>>>=3)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b|((b>>>=7)?128:0),b&&(E.buf[E.pos++]=127&b)))))}(y,g)}(p,this):(this.realloc(4),this.buf[this.pos++]=127&p|(p>127?128:0),p<=127||(this.buf[this.pos++]=127&(p>>>=7)|(p>127?128:0),p<=127||(this.buf[this.pos++]=127&(p>>>=7)|(p>127?128:0),p<=127||(this.buf[this.pos++]=p>>>7&127))))},writeSVarint:function(p){this.writeVarint(p<0?2*-p-1:2*p)},writeBoolean:function(p){this.writeVarint(!!p)},writeString:function(p){p=String(p),this.realloc(4*p.length),this.pos++;var a=this.pos;this.pos=function(f,y,b){for(var E,A,I=0;I<y.length;I++){if((E=y.charCodeAt(I))>55295&&E<57344){if(!A){E>56319||I+1===y.length?(f[b++]=239,f[b++]=191,f[b++]=189):A=E;continue}if(E<56320){f[b++]=239,f[b++]=191,f[b++]=189,A=E;continue}E=A-55296<<10|E-56320|65536,A=null}else A&&(f[b++]=239,f[b++]=191,f[b++]=189,A=null);E<128?f[b++]=E:(E<2048?f[b++]=E>>6|192:(E<65536?f[b++]=E>>12|224:(f[b++]=E>>18|240,f[b++]=E>>12&63|128),f[b++]=E>>6&63|128),f[b++]=63&E|128)}return b}(this.buf,p,this.pos);var g=this.pos-a;g>=128&&Fu(a,g,this),this.pos=a-1,this.writeVarint(g),this.pos+=g},writeFloat:function(p){this.realloc(4),Mu(this.buf,p,this.pos,!0,23,4),this.pos+=4},writeDouble:function(p){this.realloc(8),Mu(this.buf,p,this.pos,!0,52,8),this.pos+=8},writeBytes:function(p){var a=p.length;this.writeVarint(a),this.realloc(a);for(var g=0;g<a;g++)this.buf[this.pos++]=p[g]},writeRawMessage:function(p,a){this.pos++;var g=this.pos;p(a,this);var f=this.pos-g;f>=128&&Fu(g,f,this),this.pos=g-1,this.writeVarint(f),this.pos+=f},writeMessage:function(p,a,g){this.writeTag(p,zt.Bytes),this.writeRawMessage(a,g)},writePackedVarint:function(p,a){a.length&&this.writeMessage(p,Tp,a)},writePackedSVarint:function(p,a){a.length&&this.writeMessage(p,Ap,a)},writePackedBoolean:function(p,a){a.length&&this.writeMessage(p,Pp,a)},writePackedFloat:function(p,a){a.length&&this.writeMessage(p,Cp,a)},writePackedDouble:function(p,a){a.length&&this.writeMessage(p,Ip,a)},writePackedFixed32:function(p,a){a.length&&this.writeMessage(p,wp,a)},writePackedSFixed32:function(p,a){a.length&&this.writeMessage(p,Op,a)},writePackedFixed64:function(p,a){a.length&&this.writeMessage(p,Dp,a)},writePackedSFixed64:function(p,a){a.length&&this.writeMessage(p,Rp,a)},writeBytesField:function(p,a){this.writeTag(p,zt.Bytes),this.writeBytes(a)},writeFixed32Field:function(p,a){this.writeTag(p,zt.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(p,a){this.writeTag(p,zt.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(p,a){this.writeTag(p,zt.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(p,a){this.writeTag(p,zt.Fixed64),this.writeSFixed64(a)},writeVarintField:function(p,a){this.writeTag(p,zt.Varint),this.writeVarint(a)},writeSVarintField:function(p,a){this.writeTag(p,zt.Varint),this.writeSVarint(a)},writeStringField:function(p,a){this.writeTag(p,zt.Bytes),this.writeString(a)},writeFloatField:function(p,a){this.writeTag(p,zt.Fixed32),this.writeFloat(a)},writeDoubleField:function(p,a){this.writeTag(p,zt.Fixed64),this.writeDouble(a)},writeBooleanField:function(p,a){this.writeVarintField(p,!!a)}};class Bl{constructor(a,{pixelRatio:g,version:f,stretchX:y,stretchY:b,content:E}){this.paddedRect=a,this.pixelRatio=g,this.stretchX=y,this.stretchY=b,this.content=E,this.version=f}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Uu{constructor(a,g){const f={},y={};this.haveRenderCallbacks=[];const b=[];this.addImages(a,f,b),this.addImages(g,y,b);const{w:E,h:A}=Bu(b),I=new fi({width:E||1,height:A||1});for(const D in a){const N=a[D],F=f[D].paddedRect;fi.copy(N.data,I,{x:0,y:0},{x:F.x+1,y:F.y+1},N.data)}for(const D in g){const N=g[D],F=y[D].paddedRect,U=F.x+1,V=F.y+1,q=N.data.width,ne=N.data.height;fi.copy(N.data,I,{x:0,y:0},{x:U,y:V},N.data),fi.copy(N.data,I,{x:0,y:ne-1},{x:U,y:V-1},{width:q,height:1}),fi.copy(N.data,I,{x:0,y:0},{x:U,y:V+ne},{width:q,height:1}),fi.copy(N.data,I,{x:q-1,y:0},{x:U-1,y:V},{width:1,height:ne}),fi.copy(N.data,I,{x:0,y:0},{x:U+q,y:V},{width:1,height:ne})}this.image=I,this.iconPositions=f,this.patternPositions=y}addImages(a,g,f){for(const y in a){const b=a[y],E={x:0,y:0,w:b.data.width+2,h:b.data.height+2};f.push(E),g[y]=new Bl(E,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(a,g){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in a.updatedImages)this.patchUpdatedImage(this.iconPositions[f],a.getImage(f),g),this.patchUpdatedImage(this.patternPositions[f],a.getImage(f),g)}patchUpdatedImage(a,g,f){if(!a||!g||a.version===g.version)return;a.version=g.version;const[y,b]=a.tl;f.update(g.data,void 0,{x:y,y:b})}}We("ImagePosition",Bl),We("ImageAtlas",Uu),c.WritingMode=void 0,(Po=c.WritingMode||(c.WritingMode={}))[Po.none=0]="none",Po[Po.horizontal=1]="horizontal",Po[Po.vertical=2]="vertical",Po[Po.horizontalOnly=3]="horizontalOnly";const Us=-17;class Ha{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,g){const f=new Ha;return f.scale=a||1,f.fontStack=g,f}static forImage(a){const g=new Ha;return g.imageName=a,g}}class Kr{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,g){const f=new Kr;for(let y=0;y<a.sections.length;y++){const b=a.sections[y];b.image?f.addImageSection(b):f.addTextSection(b,g)}return f}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let g="";for(let f=0;f<a.length;f++){const y=a.charCodeAt(f+1)||null,b=a.charCodeAt(f-1)||null;g+=y&&Ts(y)&&!qa[a[f+1]]||b&&Ts(b)&&!qa[a[f-1]]||!qa[a[f]]?a[f]:qa[a[f]]}return g}(this.text)}trim(){let a=0;for(let f=0;f<this.text.length&&Vs[this.text.charCodeAt(f)];f++)a++;let g=this.text.length;for(let f=this.text.length-1;f>=0&&f>=a&&Vs[this.text.charCodeAt(f)];f--)g--;this.text=this.text.substring(a,g),this.sectionIndex=this.sectionIndex.slice(a,g)}substring(a,g){const f=new Kr;return f.text=this.text.substring(a,g),f.sectionIndex=this.sectionIndex.slice(a,g),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,g)=>Math.max(a,this.sections[g].scale),0)}addTextSection(a,g){this.text+=a.text,this.sections.push(Ha.forText(a.scale,a.fontStack||g));const f=this.sections.length-1;for(let y=0;y<a.text.length;++y)this.sectionIndex.push(f)}addImageSection(a){const g=a.image?a.image.name:"";if(g.length===0)return void Ze("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(Ha.forImage(g)),this.sectionIndex.push(this.sections.length-1)):Ze("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function js(p,a,g,f,y,b,E,A,I,D,N,F,U,V,q,ne){const te=Kr.fromFeature(p,y);let ge;F===c.WritingMode.vertical&&te.verticalizePunctuation();const{processBidirectionalText:$e,processStyledBidirectionalText:pe}=ti;if($e&&te.sections.length===1){ge=[];const Ie=$e(te.toString(),Ul(te,D,b,a,f,V,q));for(const Ke of Ie){const Qe=new Kr;Qe.text=Ke,Qe.sections=te.sections;for(let Ue=0;Ue<Ke.length;Ue++)Qe.sectionIndex.push(0);ge.push(Qe)}}else if(pe){ge=[];const Ie=pe(te.text,te.sectionIndex,Ul(te,D,b,a,f,V,q));for(const Ke of Ie){const Qe=new Kr;Qe.text=Ke[0],Qe.sectionIndex=Ke[1],Qe.sections=te.sections,ge.push(Qe)}}else ge=function(Ie,Ke){const Qe=[],Ue=Ie.text;let ze=0;for(const Le of Ke)Qe.push(Ie.substring(ze,Le)),ze=Le;return ze<Ue.length&&Qe.push(Ie.substring(ze,Ue.length)),Qe}(te,Ul(te,D,b,a,f,V,q));const _e=[],we={positionedLines:_e,text:te.toString(),top:N[1],bottom:N[1],left:N[0],right:N[0],writingMode:F,iconsInText:!1,verticalizable:!1};return function(Ie,Ke,Qe,Ue,ze,Le,je,ke,De,rt,nt,bt){let Ht=0,Yt=Us,fn=0,_i=0;const Sn=ke==="right"?1:ke==="left"?0:.5;let pn=0;for(const gn of ze){gn.trim();const An=gn.getMaxScale(),Ln=(An-1)*bn,Vn={positionedGlyphs:[],lineOffset:0};Ie.positionedLines[pn]=Vn;const Kn=Vn.positionedGlyphs;let Zn=0;if(!gn.length()){Yt+=Le,++pn;continue}for(let _n=0;_n<gn.length();_n++){const Et=gn.getSection(_n),ii=gn.getSectionIndex(_n),Cn=gn.getCharCode(_n);let Mn=0,Ti=null,Di=null,Ri=null,ro=bn;const Ai=!(De===c.WritingMode.horizontal||!nt&&!er(Cn)||nt&&(Vs[Cn]||(mn=Cn,Be.Arabic(mn)||Be["Arabic Supplement"](mn)||Be["Arabic Extended-A"](mn)||Be["Arabic Presentation Forms-A"](mn)||Be["Arabic Presentation Forms-B"](mn))));if(Et.imageName){const yi=Ue[Et.imageName];if(!yi)continue;Ri=Et.imageName,Ie.iconsInText=Ie.iconsInText||!0,Di=yi.paddedRect;const Jn=yi.displaySize;Et.scale=Et.scale*bn/bt,Ti={width:Jn[0],height:Jn[1],left:1,top:-3,advance:Ai?Jn[1]:Jn[0]},Mn=Ln+(bn-Jn[1]*Et.scale),ro=Ti.advance;const ao=Ai?Jn[0]*Et.scale-bn*An:Jn[1]*Et.scale-bn*An;ao>0&&ao>Zn&&(Zn=ao)}else{const yi=Qe[Et.fontStack],Jn=yi&&yi[Cn];if(Jn&&Jn.rect)Di=Jn.rect,Ti=Jn.metrics;else{const ao=Ke[Et.fontStack],Ya=ao&&ao[Cn];if(!Ya)continue;Ti=Ya.metrics}Mn=(An-Et.scale)*bn}Ai?(Ie.verticalizable=!0,Kn.push({glyph:Cn,imageName:Ri,x:Ht,y:Yt+Mn,vertical:Ai,scale:Et.scale,fontStack:Et.fontStack,sectionIndex:ii,metrics:Ti,rect:Di}),Ht+=ro*Et.scale+rt):(Kn.push({glyph:Cn,imageName:Ri,x:Ht,y:Yt+Mn,vertical:Ai,scale:Et.scale,fontStack:Et.fontStack,sectionIndex:ii,metrics:Ti,rect:Di}),Ht+=Ti.advance*Et.scale+rt)}Kn.length!==0&&(fn=Math.max(Ht-rt,fn),kp(Kn,0,Kn.length-1,Sn,Zn)),Ht=0;const en=Le*An+Zn;Vn.lineOffset=Math.max(Zn,Ln),Yt+=en,_i=Math.max(en,_i),++pn}var mn;const Tn=Yt-Us,{horizontalAlign:Rn,verticalAlign:Yn}=jl(je);(function(gn,An,Ln,Vn,Kn,Zn,en,_n,Et){const ii=(An-Ln)*Kn;let Cn=0;Cn=Zn!==en?-_n*Vn-Us:(-Vn*Et+.5)*en;for(const Mn of gn)for(const Ti of Mn.positionedGlyphs)Ti.x+=ii,Ti.y+=Cn})(Ie.positionedLines,Sn,Rn,Yn,fn,_i,Le,Tn,ze.length),Ie.top+=-Yn*Tn,Ie.bottom=Ie.top+Tn,Ie.left+=-Rn*fn,Ie.right=Ie.left+fn}(we,a,g,f,ge,E,A,I,F,D,U,ne),!function(Ie){for(const Ke of Ie)if(Ke.positionedGlyphs.length!==0)return!1;return!0}(_e)&&we}const Vs={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},zp={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ju(p,a,g,f,y,b){if(a.imageName){const E=f[a.imageName];return E?E.displaySize[0]*a.scale*bn/b+y:0}{const E=g[a.fontStack],A=E&&E[p];return A?A.metrics.advance*a.scale+y:0}}function Vu(p,a,g,f){const y=Math.pow(p-a,2);return f?p<a?y/2:2*y:y+Math.abs(g)*g}function Fp(p,a,g){let f=0;return p===10&&(f-=1e4),g&&(f+=150),p!==40&&p!==65288||(f+=50),a!==41&&a!==65289||(f+=50),f}function Gu(p,a,g,f,y,b){let E=null,A=Vu(a,g,y,b);for(const I of f){const D=Vu(a-I.x,g,y,b)+I.badness;D<=A&&(E=I,A=D)}return{index:p,x:a,priorBreak:E,badness:A}}function qu(p){return p?qu(p.priorBreak).concat(p.index):[]}function Ul(p,a,g,f,y,b,E){if(b!=="point")return[];if(!p)return[];const A=[],I=function(U,V,q,ne,te,ge){let $e=0;for(let pe=0;pe<U.length();pe++){const _e=U.getSection(pe);$e+=ju(U.getCharCode(pe),_e,ne,te,V,ge)}return $e/Math.max(1,Math.ceil($e/q))}(p,a,g,f,y,E),D=p.text.indexOf("​")>=0;let N=0;for(let U=0;U<p.length();U++){const V=p.getSection(U),q=p.getCharCode(U);if(Vs[q]||(N+=ju(q,V,f,y,a,E)),U<p.length()-1){const ne=!((F=q)<11904||!(Be["Bopomofo Extended"](F)||Be.Bopomofo(F)||Be["CJK Compatibility Forms"](F)||Be["CJK Compatibility Ideographs"](F)||Be["CJK Compatibility"](F)||Be["CJK Radicals Supplement"](F)||Be["CJK Strokes"](F)||Be["CJK Symbols and Punctuation"](F)||Be["CJK Unified Ideographs Extension A"](F)||Be["CJK Unified Ideographs"](F)||Be["Enclosed CJK Letters and Months"](F)||Be["Halfwidth and Fullwidth Forms"](F)||Be.Hiragana(F)||Be["Ideographic Description Characters"](F)||Be["Kangxi Radicals"](F)||Be["Katakana Phonetic Extensions"](F)||Be.Katakana(F)||Be["Vertical Forms"](F)||Be["Yi Radicals"](F)||Be["Yi Syllables"](F)));(zp[q]||ne||V.imageName)&&A.push(Gu(U+1,N,I,A,Fp(q,p.getCharCode(U+1),ne&&D),!1))}}var F;return qu(Gu(p.length(),N,I,A,0,!0))}function jl(p){let a=.5,g=.5;switch(p){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(p){case"bottom":case"bottom-right":case"bottom-left":g=1;break;case"top":case"top-right":case"top-left":g=0}return{horizontalAlign:a,verticalAlign:g}}function kp(p,a,g,f,y){if(!f&&!y)return;const b=p[g],E=(p[g].x+b.metrics.advance*b.scale)*f;for(let A=a;A<=g;A++)p[A].x-=E,p[A].y+=y}function Bp(p,a,g){const{horizontalAlign:f,verticalAlign:y}=jl(g),b=a[0]-p.displaySize[0]*f,E=a[1]-p.displaySize[1]*y;return{image:p,top:E,bottom:E+p.displaySize[1],left:b,right:b+p.displaySize[0]}}function Hu(p,a,g,f,y,b){const E=p.image;let A;if(E.content){const te=E.content,ge=E.pixelRatio||1;A=[te[0]/ge,te[1]/ge,E.displaySize[0]-te[2]/ge,E.displaySize[1]-te[3]/ge]}const I=a.left*b,D=a.right*b;let N,F,U,V;g==="width"||g==="both"?(V=y[0]+I-f[3],F=y[0]+D+f[1]):(V=y[0]+(I+D-E.displaySize[0])/2,F=V+E.displaySize[0]);const q=a.top*b,ne=a.bottom*b;return g==="height"||g==="both"?(N=y[1]+q-f[0],U=y[1]+ne+f[2]):(N=y[1]+(q+ne-E.displaySize[1])/2,U=N+E.displaySize[1]),{image:E,top:N,right:F,bottom:U,left:V,collisionPadding:A}}const oo=128;function Xu(p,a){const{expression:g}=a;if(g.kind==="constant")return{kind:"constant",layoutSize:g.evaluate(new Xt(p+1))};if(g.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:y}=g;let b=0;for(;b<f.length&&f[b]<=p;)b++;b=Math.max(0,b-1);let E=b;for(;E<f.length&&f[E]<p+1;)E++;E=Math.min(f.length-1,E);const A=f[b],I=f[E];return g.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:I,interpolationType:y}:{kind:"camera",minZoom:A,maxZoom:I,minSize:g.evaluate(new Xt(A)),maxSize:g.evaluate(new Xt(I)),interpolationType:y}}}class wo extends He{constructor(a,g,f,y){super(a,g),this.angle=f,y!==void 0&&(this.segment=y)}clone(){return new wo(this.x,this.y,this.angle,this.segment)}}function Wu(p,a,g,f,y){if(a.segment===void 0)return!0;let b=a,E=a.segment+1,A=0;for(;A>-g/2;){if(E--,E<0)return!1;A-=p[E].dist(b),b=p[E]}A+=p[E].dist(p[E+1]),E++;const I=[];let D=0;for(;A<g/2;){const N=p[E],F=p[E+1];if(!F)return!1;let U=p[E-1].angleTo(N)-N.angleTo(F);for(U=Math.abs((U+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:A,angleDelta:U}),D+=U;A-I[0].distance>f;)D-=I.shift().angleDelta;if(D>y)return!1;E++,A+=N.dist(F)}return!0}function Yu(p){let a=0;for(let g=0;g<p.length-1;g++)a+=p[g].dist(p[g+1]);return a}function Ku(p,a,g){return p?.6*a*g:0}function Zu(p,a){return Math.max(p?p.right-p.left:0,a?a.right-a.left:0)}function Up(p,a,g,f,y,b){const E=Ku(g,y,b),A=Zu(g,f)*b;let I=0;const D=Yu(p)/2;for(let N=0;N<p.length-1;N++){const F=p[N],U=p[N+1],V=F.dist(U);if(I+V>D){const q=(D-I)/V,ne=Jt(F.x,U.x,q),te=Jt(F.y,U.y,q),ge=new wo(ne,te,U.angleTo(F),N);return ge._round(),!E||Wu(p,ge,A,E,a)?ge:void 0}I+=V}}function jp(p,a,g,f,y,b,E,A,I){const D=Ku(f,b,E),N=Zu(f,y),F=N*E,U=p[0].x===0||p[0].x===I||p[0].y===0||p[0].y===I;return a-F<a/4&&(a=F+a/4),Ju(p,U?a/2*A%a:(N/2+2*b)*E*A%a,a,D,g,F,U,!1,I)}function Ju(p,a,g,f,y,b,E,A,I){const D=b/2,N=Yu(p);let F=0,U=a-g,V=[];for(let q=0;q<p.length-1;q++){const ne=p[q],te=p[q+1],ge=ne.dist(te),$e=te.angleTo(ne);for(;U+g<F+ge;){U+=g;const pe=(U-F)/ge,_e=Jt(ne.x,te.x,pe),we=Jt(ne.y,te.y,pe);if(_e>=0&&_e<I&&we>=0&&we<I&&U-D>=0&&U+D<=N){const Ie=new wo(_e,we,$e,q);Ie._round(),f&&!Wu(p,Ie,b,f,y)||V.push(Ie)}}F+=ge}return A||V.length||E||(V=Ju(p,F/2,g,f,y,b,E,!0,I)),V}function Qu(p,a,g,f,y){const b=[];for(let E=0;E<p.length;E++){const A=p[E];let I;for(let D=0;D<A.length-1;D++){let N=A[D],F=A[D+1];N.x<a&&F.x<a||(N.x<a?N=new He(a,N.y+(a-N.x)/(F.x-N.x)*(F.y-N.y))._round():F.x<a&&(F=new He(a,N.y+(a-N.x)/(F.x-N.x)*(F.y-N.y))._round()),N.y<g&&F.y<g||(N.y<g?N=new He(N.x+(g-N.y)/(F.y-N.y)*(F.x-N.x),g)._round():F.y<g&&(F=new He(N.x+(g-N.y)/(F.y-N.y)*(F.x-N.x),g)._round()),N.x>=f&&F.x>=f||(N.x>=f?N=new He(f,N.y+(f-N.x)/(F.x-N.x)*(F.y-N.y))._round():F.x>=f&&(F=new He(f,N.y+(f-N.x)/(F.x-N.x)*(F.y-N.y))._round()),N.y>=y&&F.y>=y||(N.y>=y?N=new He(N.x+(y-N.y)/(F.y-N.y)*(F.x-N.x),y)._round():F.y>=y&&(F=new He(N.x+(y-N.y)/(F.y-N.y)*(F.x-N.x),y)._round()),I&&N.equals(I[I.length-1])||(I=[N],b.push(I)),I.push(F)))))}}return b}function ec(p,a,g,f){const y=[],b=p.image,E=b.pixelRatio,A=b.paddedRect.w-2,I=b.paddedRect.h-2,D=p.right-p.left,N=p.bottom-p.top,F=b.stretchX||[[0,A]],U=b.stretchY||[[0,I]],V=(Le,je)=>Le+je[1]-je[0],q=F.reduce(V,0),ne=U.reduce(V,0),te=A-q,ge=I-ne;let $e=0,pe=q,_e=0,we=ne,Ie=0,Ke=te,Qe=0,Ue=ge;if(b.content&&f){const Le=b.content;$e=Gs(F,0,Le[0]),_e=Gs(U,0,Le[1]),pe=Gs(F,Le[0],Le[2]),we=Gs(U,Le[1],Le[3]),Ie=Le[0]-$e,Qe=Le[1]-_e,Ke=Le[2]-Le[0]-pe,Ue=Le[3]-Le[1]-we}const ze=(Le,je,ke,De)=>{const rt=qs(Le.stretch-$e,pe,D,p.left),nt=Hs(Le.fixed-Ie,Ke,Le.stretch,q),bt=qs(je.stretch-_e,we,N,p.top),Ht=Hs(je.fixed-Qe,Ue,je.stretch,ne),Yt=qs(ke.stretch-$e,pe,D,p.left),fn=Hs(ke.fixed-Ie,Ke,ke.stretch,q),_i=qs(De.stretch-_e,we,N,p.top),Sn=Hs(De.fixed-Qe,Ue,De.stretch,ne),pn=new He(rt,bt),mn=new He(Yt,bt),Tn=new He(Yt,_i),Rn=new He(rt,_i),Yn=new He(nt/E,Ht/E),gn=new He(fn/E,Sn/E),An=a*Math.PI/180;if(An){const Kn=Math.sin(An),Zn=Math.cos(An),en=[Zn,-Kn,Kn,Zn];pn._matMult(en),mn._matMult(en),Rn._matMult(en),Tn._matMult(en)}const Ln=Le.stretch+Le.fixed,Vn=je.stretch+je.fixed;return{tl:pn,tr:mn,bl:Rn,br:Tn,tex:{x:b.paddedRect.x+1+Ln,y:b.paddedRect.y+1+Vn,w:ke.stretch+ke.fixed-Ln,h:De.stretch+De.fixed-Vn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yn,pixelOffsetBR:gn,minFontScaleX:Ke/E/D,minFontScaleY:Ue/E/N,isSDF:g}};if(f&&(b.stretchX||b.stretchY)){const Le=tc(F,te,q),je=tc(U,ge,ne);for(let ke=0;ke<Le.length-1;ke++){const De=Le[ke],rt=Le[ke+1];for(let nt=0;nt<je.length-1;nt++)y.push(ze(De,je[nt],rt,je[nt+1]))}}else y.push(ze({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:I+1}));return y}function Gs(p,a,g){let f=0;for(const y of p)f+=Math.max(a,Math.min(g,y[1]))-Math.max(a,Math.min(g,y[0]));return f}function tc(p,a,g){const f=[{fixed:-1,stretch:0}];for(const[y,b]of p){const E=f[f.length-1];f.push({fixed:y-E.stretch,stretch:E.stretch}),f.push({fixed:y-E.stretch,stretch:E.stretch+(b-y)})}return f.push({fixed:a+1,stretch:g}),f}function qs(p,a,g,f){return p/a*g+f}function Hs(p,a,g,f){return p-a*g/f}We("Anchor",wo);class Xs{constructor(a,g,f,y,b,E,A,I,D,N){if(this.boxStartIndex=a.length,D){let F=E.top,U=E.bottom;const V=E.collisionPadding;V&&(F-=V[1],U+=V[3]);let q=U-F;q>0&&(q=Math.max(10,q),this.circleDiameter=q)}else{let F=E.top*A-I[0],U=E.bottom*A+I[2],V=E.left*A-I[3],q=E.right*A+I[1];const ne=E.collisionPadding;if(ne&&(V-=ne[0]*A,F-=ne[1]*A,q+=ne[2]*A,U+=ne[3]*A),N){const te=new He(V,F),ge=new He(q,F),$e=new He(V,U),pe=new He(q,U),_e=N*Math.PI/180;te._rotate(_e),ge._rotate(_e),$e._rotate(_e),pe._rotate(_e),V=Math.min(te.x,ge.x,$e.x,pe.x),q=Math.max(te.x,ge.x,$e.x,pe.x),F=Math.min(te.y,ge.y,$e.y,pe.y),U=Math.max(te.y,ge.y,$e.y,pe.y)}a.emplaceBack(g.x,g.y,V,F,q,U,f,y,b)}this.boxEndIndex=a.length}}class Vp{constructor(a=[],g=Gp){if(this.data=a,this.length=this.data.length,this.compare=g,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(a){this.data.push(a),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const a=this.data[0],g=this.data.pop();return this.length--,this.length>0&&(this.data[0]=g,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:g,compare:f}=this,y=g[a];for(;a>0;){const b=a-1>>1,E=g[b];if(f(y,E)>=0)break;g[a]=E,a=b}g[a]=y}_down(a){const{data:g,compare:f}=this,y=this.length>>1,b=g[a];for(;a<y;){let E=1+(a<<1),A=g[E];const I=E+1;if(I<this.length&&f(g[I],A)<0&&(E=I,A=g[I]),f(A,b)>=0)break;g[a]=A,a=E}g[a]=b}}function Gp(p,a){return p<a?-1:p>a?1:0}function qp(p,a=1,g=!1){let f=1/0,y=1/0,b=-1/0,E=-1/0;const A=p[0];for(let V=0;V<A.length;V++){const q=A[V];(!V||q.x<f)&&(f=q.x),(!V||q.y<y)&&(y=q.y),(!V||q.x>b)&&(b=q.x),(!V||q.y>E)&&(E=q.y)}const I=Math.min(b-f,E-y);let D=I/2;const N=new Vp([],Hp);if(I===0)return new He(f,y);for(let V=f;V<b;V+=I)for(let q=y;q<E;q+=I)N.push(new Zr(V+D,q+D,D,p));let F=function(V){let q=0,ne=0,te=0;const ge=V[0];for(let $e=0,pe=ge.length,_e=pe-1;$e<pe;_e=$e++){const we=ge[$e],Ie=ge[_e],Ke=we.x*Ie.y-Ie.x*we.y;ne+=(we.x+Ie.x)*Ke,te+=(we.y+Ie.y)*Ke,q+=3*Ke}return new Zr(ne/q,te/q,0,V)}(p),U=N.length;for(;N.length;){const V=N.pop();(V.d>F.d||!F.d)&&(F=V,g&&console.log("found best %d after %d probes",Math.round(1e4*V.d)/1e4,U)),V.max-F.d<=a||(D=V.h/2,N.push(new Zr(V.p.x-D,V.p.y-D,D,p)),N.push(new Zr(V.p.x+D,V.p.y-D,D,p)),N.push(new Zr(V.p.x-D,V.p.y+D,D,p)),N.push(new Zr(V.p.x+D,V.p.y+D,D,p)),U+=4)}return g&&(console.log(`num probes: ${U}`),console.log(`best distance: ${F.d}`)),F.p}function Hp(p,a){return a.max-p.max}function Zr(p,a,g,f){this.p=new He(p,a),this.h=g,this.d=function(y,b){let E=!1,A=1/0;for(let I=0;I<b.length;I++){const D=b[I];for(let N=0,F=D.length,U=F-1;N<F;U=N++){const V=D[N],q=D[U];V.y>y.y!=q.y>y.y&&y.x<(q.x-V.x)*(y.y-V.y)/(q.y-V.y)+V.x&&(E=!E),A=Math.min(A,uu(y,V,q))}}return(E?1:-1)*Math.sqrt(A)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}const Vl=Number.POSITIVE_INFINITY;function nc(p,a){return a[1]!==Vl?function(g,f,y){let b=0,E=0;switch(f=Math.abs(f),y=Math.abs(y),g){case"top-right":case"top-left":case"top":E=y-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-y}switch(g){case"top-right":case"bottom-right":case"right":b=-f;break;case"top-left":case"bottom-left":case"left":b=f}return[b,E]}(p,a[0],a[1]):function(g,f){let y=0,b=0;f<0&&(f=0);const E=f/Math.sqrt(2);switch(g){case"top-right":case"top-left":b=E-7;break;case"bottom-right":case"bottom-left":b=7-E;break;case"bottom":b=7-f;break;case"top":b=f-7}switch(g){case"top-right":case"bottom-right":y=-E;break;case"top-left":case"bottom-left":y=E;break;case"left":y=f;break;case"right":y=-f}return[y,b]}(p,a[0])}function Gl(p){switch(p){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Xp(p,a,g,f,y,b,E,A,I,D,N){let F=b.textMaxSize.evaluate(a,{});F===void 0&&(F=E);const U=p.layers[0].layout,V=U.get("icon-offset").evaluate(a,{},N),q=oc(g.horizontal),ne=E/24,te=p.tilePixelRatio*ne,ge=p.tilePixelRatio*F/24,$e=p.tilePixelRatio*A,pe=p.tilePixelRatio*U.get("symbol-spacing"),_e=U.get("text-padding")*p.tilePixelRatio,we=function(De,rt,nt,bt=1){const Ht=De.get("icon-padding").evaluate(rt,{},nt),Yt=Ht&&Ht.values;return[Yt[0]*bt,Yt[1]*bt,Yt[2]*bt,Yt[3]*bt]}(U,a,N,p.tilePixelRatio),Ie=U.get("text-max-angle")/180*Math.PI,Ke=U.get("text-rotation-alignment")!=="viewport"&&U.get("symbol-placement")!=="point",Qe=U.get("icon-rotation-alignment")==="map"&&U.get("symbol-placement")!=="point",Ue=U.get("symbol-placement"),ze=pe/2,Le=U.get("icon-text-fit");let je;f&&Le!=="none"&&(p.allowVerticalPlacement&&g.vertical&&(je=Hu(f,g.vertical,Le,U.get("icon-text-fit-padding"),V,ne)),q&&(f=Hu(f,q,Le,U.get("icon-text-fit-padding"),V,ne)));const ke=(De,rt)=>{rt.x<0||rt.x>=hn||rt.y<0||rt.y>=hn||function(nt,bt,Ht,Yt,fn,_i,Sn,pn,mn,Tn,Rn,Yn,gn,An,Ln,Vn,Kn,Zn,en,_n,Et,ii,Cn,Mn,Ti){const Di=nt.addToLineVertexArray(bt,Ht);let Ri,ro,Ai,yi,Jn=0,ao=0,Ya=0,vc=0,eu=-1,tu=-1;const so={};let bc=cn.exports(""),nu=0,iu=0;if(pn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[nu,iu]=pn.layout.get("text-offset").evaluate(Et,{},Mn).map(Qn=>Qn*bn):(nu=pn.layout.get("text-radial-offset").evaluate(Et,{},Mn)*bn,iu=Vl),nt.allowVerticalPlacement&&Yt.vertical){const Qn=pn.layout.get("text-rotate").evaluate(Et,{},Mn)+90;Ai=new Xs(mn,bt,Tn,Rn,Yn,Yt.vertical,gn,An,Ln,Qn),Sn&&(yi=new Xs(mn,bt,Tn,Rn,Yn,Sn,Kn,Zn,Ln,Qn))}if(fn){const Qn=pn.layout.get("icon-rotate").evaluate(Et,{}),Gi=pn.layout.get("icon-text-fit")!=="none",Ka=ec(fn,Qn,Cn,Gi),Za=Sn?ec(Sn,Qn,Cn,Gi):void 0;ro=new Xs(mn,bt,Tn,Rn,Yn,fn,Kn,Zn,!1,Qn),Jn=4*Ka.length;const Sc=nt.iconSizeData;let pr=null;Sc.kind==="source"?(pr=[oo*pn.layout.get("icon-size").evaluate(Et,{})],pr[0]>Oo&&Ze(`${nt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Sc.kind==="composite"&&(pr=[oo*ii.compositeIconSizes[0].evaluate(Et,{},Mn),oo*ii.compositeIconSizes[1].evaluate(Et,{},Mn)],(pr[0]>Oo||pr[1]>Oo)&&Ze(`${nt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),nt.addSymbols(nt.icon,Ka,pr,_n,en,Et,c.WritingMode.none,bt,Di.lineStartIndex,Di.lineLength,-1,Mn),eu=nt.icon.placedSymbolArray.length-1,Za&&(ao=4*Za.length,nt.addSymbols(nt.icon,Za,pr,_n,en,Et,c.WritingMode.vertical,bt,Di.lineStartIndex,Di.lineLength,-1,Mn),tu=nt.icon.placedSymbolArray.length-1)}const xc=Object.keys(Yt.horizontal);for(const Qn of xc){const Gi=Yt.horizontal[Qn];if(!Ri){bc=cn.exports(Gi.text);const Za=pn.layout.get("text-rotate").evaluate(Et,{},Mn);Ri=new Xs(mn,bt,Tn,Rn,Yn,Gi,gn,An,Ln,Za)}const Ka=Gi.positionedLines.length===1;if(Ya+=ic(nt,bt,Gi,_i,pn,Ln,Et,Vn,Di,Yt.vertical?c.WritingMode.horizontal:c.WritingMode.horizontalOnly,Ka?xc:[Qn],so,eu,ii,Mn),Ka)break}Yt.vertical&&(vc+=ic(nt,bt,Yt.vertical,_i,pn,Ln,Et,Vn,Di,c.WritingMode.vertical,["vertical"],so,tu,ii,Mn));const ag=Ri?Ri.boxStartIndex:nt.collisionBoxArray.length,sg=Ri?Ri.boxEndIndex:nt.collisionBoxArray.length,lg=Ai?Ai.boxStartIndex:nt.collisionBoxArray.length,ug=Ai?Ai.boxEndIndex:nt.collisionBoxArray.length,cg=ro?ro.boxStartIndex:nt.collisionBoxArray.length,pg=ro?ro.boxEndIndex:nt.collisionBoxArray.length,gg=yi?yi.boxStartIndex:nt.collisionBoxArray.length,dg=yi?yi.boxEndIndex:nt.collisionBoxArray.length;let Li=-1;const Js=(Qn,Gi)=>Qn&&Qn.circleDiameter?Math.max(Qn.circleDiameter,Gi):Gi;Li=Js(Ri,Li),Li=Js(Ai,Li),Li=Js(ro,Li),Li=Js(yi,Li);const Ec=Li>-1?1:0;Ec&&(Li*=Ti/bn),nt.glyphOffsetArray.length>=Jr.MAX_GLYPHS&&Ze("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Et.sortKey!==void 0&&nt.addToSortKeyRanges(nt.symbolInstances.length,Et.sortKey),nt.symbolInstances.emplaceBack(bt.x,bt.y,so.right>=0?so.right:-1,so.center>=0?so.center:-1,so.left>=0?so.left:-1,so.vertical||-1,eu,tu,bc,ag,sg,lg,ug,cg,pg,gg,dg,Tn,Ya,vc,Jn,ao,Ec,0,gn,nu,iu,Li)}(p,rt,De,g,f,y,je,p.layers[0],p.collisionBoxArray,a.index,a.sourceLayerIndex,p.index,te,[_e,_e,_e,_e],Ke,I,$e,we,Qe,V,a,b,D,N,E)};if(Ue==="line")for(const De of Qu(a.geometry,0,0,hn,hn)){const rt=jp(De,pe,Ie,g.vertical||q,f,24,ge,p.overscaling,hn);for(const nt of rt){const bt=q;bt&&Wp(p,bt.text,ze,nt)||ke(De,nt)}}else if(Ue==="line-center"){for(const De of a.geometry)if(De.length>1){const rt=Up(De,Ie,g.vertical||q,f,24,ge);rt&&ke(De,rt)}}else if(a.type==="Polygon")for(const De of Ol(a.geometry,0)){const rt=qp(De,16);ke(De[0],new wo(rt.x,rt.y,0))}else if(a.type==="LineString")for(const De of a.geometry)ke(De,new wo(De[0].x,De[0].y,0));else if(a.type==="Point")for(const De of a.geometry)for(const rt of De)ke([rt],new wo(rt.x,rt.y,0))}const Oo=32640;function ic(p,a,g,f,y,b,E,A,I,D,N,F,U,V,q){const ne=function($e,pe,_e,we,Ie,Ke,Qe,Ue){const ze=we.layout.get("text-rotate").evaluate(Ke,{})*Math.PI/180,Le=[];for(const je of pe.positionedLines)for(const ke of je.positionedGlyphs){if(!ke.rect)continue;const De=ke.rect||{};let rt=4,nt=!0,bt=1,Ht=0;const Yt=(Ie||Ue)&&ke.vertical,fn=ke.metrics.advance*ke.scale/2;if(Ue&&pe.verticalizable){const en=(ke.scale-1)*bn,_n=(bn-ke.metrics.width*ke.scale)/2;Ht=je.lineOffset/2-(ke.imageName?-_n:en)}if(ke.imageName){const en=Qe[ke.imageName];nt=en.sdf,bt=en.pixelRatio,rt=1/bt}const _i=Ie?[ke.x+fn,ke.y]:[0,0];let Sn=Ie?[0,0]:[ke.x+fn+_e[0],ke.y+_e[1]-Ht],pn=[0,0];Yt&&(pn=Sn,Sn=[0,0]);const mn=(ke.metrics.left-rt)*ke.scale-fn+Sn[0],Tn=(-ke.metrics.top-rt)*ke.scale+Sn[1],Rn=mn+De.w*ke.scale/bt,Yn=Tn+De.h*ke.scale/bt,gn=new He(mn,Tn),An=new He(Rn,Tn),Ln=new He(mn,Yn),Vn=new He(Rn,Yn);if(Yt){const en=new He(-fn,fn-Us),_n=-Math.PI/2,Et=12-fn,ii=new He(22-Et,-(ke.imageName?Et:0)),Cn=new He(...pn);gn._rotateAround(_n,en)._add(ii)._add(Cn),An._rotateAround(_n,en)._add(ii)._add(Cn),Ln._rotateAround(_n,en)._add(ii)._add(Cn),Vn._rotateAround(_n,en)._add(ii)._add(Cn)}if(ze){const en=Math.sin(ze),_n=Math.cos(ze),Et=[_n,-en,en,_n];gn._matMult(Et),An._matMult(Et),Ln._matMult(Et),Vn._matMult(Et)}const Kn=new He(0,0),Zn=new He(0,0);Le.push({tl:gn,tr:An,bl:Ln,br:Vn,tex:De,writingMode:pe.writingMode,glyphOffset:_i,sectionIndex:ke.sectionIndex,isSDF:nt,pixelOffsetTL:Kn,pixelOffsetBR:Zn,minFontScaleX:0,minFontScaleY:0})}return Le}(0,g,A,y,b,E,f,p.allowVerticalPlacement),te=p.textSizeData;let ge=null;te.kind==="source"?(ge=[oo*y.layout.get("text-size").evaluate(E,{})],ge[0]>Oo&&Ze(`${p.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):te.kind==="composite"&&(ge=[oo*V.compositeTextSizes[0].evaluate(E,{},q),oo*V.compositeTextSizes[1].evaluate(E,{},q)],(ge[0]>Oo||ge[1]>Oo)&&Ze(`${p.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),p.addSymbols(p.text,ne,ge,A,b,E,D,a,I.lineStartIndex,I.lineLength,U,q);for(const $e of N)F[$e]=p.text.placedSymbolArray.length-1;return 4*ne.length}function oc(p){for(const a in p)return p[a];return null}function Wp(p,a,g,f){const y=p.compareText;if(a in y){const b=y[a];for(let E=b.length-1;E>=0;E--)if(f.dist(b[E])<g)return!0}else y[a]=[];return y[a].push(f),!1}const Yp=Io.VectorTileFeature.types,Kp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ws(p,a,g,f,y,b,E,A,I,D,N,F,U){const V=A?Math.min(Oo,Math.round(A[0])):0,q=A?Math.min(Oo,Math.round(A[1])):0;p.emplaceBack(a,g,Math.round(32*f),Math.round(32*y),b,E,(V<<1)+(I?1:0),q,16*D,16*N,256*F,256*U)}function ql(p,a,g){p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g),p.emplaceBack(a.x,a.y,g)}function Zp(p){for(const a of p.sections)if(_l(a.text))return!0;return!1}class Hl{constructor(a){this.layoutVertexArray=new Wn,this.indexArray=new vn,this.programConfigurations=a,this.segments=new Pt,this.dynamicLayoutVertexArray=new Si,this.opacityVertexArray=new ci,this.placedSymbolArray=new Se}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,g,f,y){this.isEmpty()||(f&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,vp.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,g),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,bp.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Kp,!0),this.opacityVertexBuffer.itemSize=1),(f||y)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}We("SymbolBuffers",Hl);class Xl{constructor(a,g,f){this.layoutVertexArray=new a,this.layoutAttributes=g,this.indexArray=new f,this.segments=new Pt,this.collisionVertexArray=new eo}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,xp.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}We("CollisionBuffers",Xl);class Jr{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(E=>E.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Tl([]),this.placementViewportMatrix=Tl([]);const g=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Xu(this.zoom,g["text-size"]),this.iconSizeData=Xu(this.zoom,g["icon-size"]);const f=this.layers[0].layout,y=f.get("symbol-sort-key"),b=f.get("symbol-z-order");this.canOverlap=Yl(f,"text-overlap","text-allow-overlap")!=="never"||Yl(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!y.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(E=>c.WritingMode[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=a.sourceID}createArrays(){this.text=new Hl(new ar(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new Hl(new ar(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new qe,this.lineVertexArray=new Ne,this.symbolInstances=new be}calculateGlyphDependencies(a,g,f,y,b){for(let E=0;E<a.length;E++)if(g[a.charCodeAt(E)]=!0,(f||y)&&b){const A=qa[a.charAt(E)];A&&(g[A.charCodeAt(0)]=!0)}}populate(a,g,f){const y=this.layers[0],b=y.layout,E=b.get("text-font"),A=b.get("text-field"),I=b.get("icon-image"),D=(A.value.kind!=="constant"||A.value.value instanceof ae&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),N=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,F=b.get("symbol-sort-key");if(this.features=[],!D&&!N)return;const U=g.iconDependencies,V=g.glyphDependencies,q=g.availableImages,ne=new Xt(this.zoom);for(const{feature:te,id:ge,index:$e,sourceLayerIndex:pe}of a){const _e=y._featureFilter.needGeometry,we=lr(te,_e);if(!y._featureFilter.filter(ne,we,f))continue;let Ie,Ke;if(_e||(we.geometry=sr(te)),D){const Ue=y.getValueAndResolveTokens("text-field",we,f,q),ze=ae.factory(Ue);Zp(ze)&&(this.hasRTLText=!0),(!this.hasRTLText||Oa()==="unavailable"||this.hasRTLText&&ti.isParsed())&&(Ie=Sp(ze,y,we))}if(N){const Ue=y.getValueAndResolveTokens("icon-image",we,f,q);Ke=Ue instanceof oe?Ue:oe.fromString(Ue)}if(!Ie&&!Ke)continue;const Qe=this.sortFeaturesByKey?F.evaluate(we,{},f):void 0;if(this.features.push({id:ge,text:Ie,icon:Ke,index:$e,sourceLayerIndex:pe,geometry:we.geometry,properties:te.properties,type:Yp[te.type],sortKey:Qe}),Ke&&(U[Ke.name]=!0),Ie){const Ue=E.evaluate(we,{},f).join(","),ze=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(c.WritingMode.vertical)>=0;for(const Le of Ie.sections)if(Le.image)U[Le.image.name]=!0;else{const je=Aa(Ie.toString()),ke=Le.fontStack||Ue,De=V[ke]=V[ke]||{};this.calculateGlyphDependencies(Le.text,De,ze,this.allowVerticalPlacement,je)}}}b.get("symbol-placement")==="line"&&(this.features=function(te){const ge={},$e={},pe=[];let _e=0;function we(Ue){pe.push(te[Ue]),_e++}function Ie(Ue,ze,Le){const je=$e[Ue];return delete $e[Ue],$e[ze]=je,pe[je].geometry[0].pop(),pe[je].geometry[0]=pe[je].geometry[0].concat(Le[0]),je}function Ke(Ue,ze,Le){const je=ge[ze];return delete ge[ze],ge[Ue]=je,pe[je].geometry[0].shift(),pe[je].geometry[0]=Le[0].concat(pe[je].geometry[0]),je}function Qe(Ue,ze,Le){const je=Le?ze[0][ze[0].length-1]:ze[0][0];return`${Ue}:${je.x}:${je.y}`}for(let Ue=0;Ue<te.length;Ue++){const ze=te[Ue],Le=ze.geometry,je=ze.text?ze.text.toString():null;if(!je){we(Ue);continue}const ke=Qe(je,Le),De=Qe(je,Le,!0);if(ke in $e&&De in ge&&$e[ke]!==ge[De]){const rt=Ke(ke,De,Le),nt=Ie(ke,De,pe[rt].geometry);delete ge[ke],delete $e[De],$e[Qe(je,pe[nt].geometry,!0)]=nt,pe[rt].geometry=null}else ke in $e?Ie(ke,De,Le):De in ge?Ke(ke,De,Le):(we(Ue),ge[ke]=_e-1,$e[De]=_e-1)}return pe.filter(Ue=>Ue.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((te,ge)=>te.sortKey-ge.sortKey)}update(a,g,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,g,this.layers,f),this.icon.programConfigurations.updatePaintArrays(a,g,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,g){const f=this.lineVertexArray.length;if(a.segment!==void 0){let y=a.dist(g[a.segment+1]),b=a.dist(g[a.segment]);const E={};for(let A=a.segment+1;A<g.length;A++)E[A]={x:g[A].x,y:g[A].y,tileUnitDistanceFromAnchor:y},A<g.length-1&&(y+=g[A+1].dist(g[A]));for(let A=a.segment||0;A>=0;A--)E[A]={x:g[A].x,y:g[A].y,tileUnitDistanceFromAnchor:b},A>0&&(b+=g[A-1].dist(g[A]));for(let A=0;A<g.length;A++){const I=E[A];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(a,g,f,y,b,E,A,I,D,N,F,U){const V=a.indexArray,q=a.layoutVertexArray,ne=a.segments.prepareSegment(4*g.length,q,V,this.canOverlap?E.sortKey:void 0),te=this.glyphOffsetArray.length,ge=ne.vertexLength,$e=this.allowVerticalPlacement&&A===c.WritingMode.vertical?Math.PI/2:0,pe=E.text&&E.text.sections;for(let _e=0;_e<g.length;_e++){const{tl:we,tr:Ie,bl:Ke,br:Qe,tex:Ue,pixelOffsetTL:ze,pixelOffsetBR:Le,minFontScaleX:je,minFontScaleY:ke,glyphOffset:De,isSDF:rt,sectionIndex:nt}=g[_e],bt=ne.vertexLength,Ht=De[1];Ws(q,I.x,I.y,we.x,Ht+we.y,Ue.x,Ue.y,f,rt,ze.x,ze.y,je,ke),Ws(q,I.x,I.y,Ie.x,Ht+Ie.y,Ue.x+Ue.w,Ue.y,f,rt,Le.x,ze.y,je,ke),Ws(q,I.x,I.y,Ke.x,Ht+Ke.y,Ue.x,Ue.y+Ue.h,f,rt,ze.x,Le.y,je,ke),Ws(q,I.x,I.y,Qe.x,Ht+Qe.y,Ue.x+Ue.w,Ue.y+Ue.h,f,rt,Le.x,Le.y,je,ke),ql(a.dynamicLayoutVertexArray,I,$e),V.emplaceBack(bt,bt+1,bt+2),V.emplaceBack(bt+1,bt+2,bt+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(De[0]),_e!==g.length-1&&nt===g[_e+1].sectionIndex||a.programConfigurations.populatePaintArrays(q.length,E,E.index,{},U,pe&&pe[nt])}a.placedSymbolArray.emplaceBack(I.x,I.y,te,this.glyphOffsetArray.length-te,ge,D,N,I.segment,f?f[0]:0,f?f[1]:0,y[0],y[1],A,0,!1,0,F)}_addCollisionDebugVertex(a,g,f,y,b,E){return g.emplaceBack(0,0),a.emplaceBack(f.x,f.y,y,b,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(a,g,f,y,b,E,A){const I=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),D=I.vertexLength,N=b.layoutVertexArray,F=b.collisionVertexArray,U=A.anchorX,V=A.anchorY;this._addCollisionDebugVertex(N,F,E,U,V,new He(a,g)),this._addCollisionDebugVertex(N,F,E,U,V,new He(f,g)),this._addCollisionDebugVertex(N,F,E,U,V,new He(f,y)),this._addCollisionDebugVertex(N,F,E,U,V,new He(a,y)),I.vertexLength+=4;const q=b.indexArray;q.emplaceBack(D,D+1),q.emplaceBack(D+1,D+2),q.emplaceBack(D+2,D+3),q.emplaceBack(D+3,D),I.primitiveLength+=4}addDebugCollisionBoxes(a,g,f,y){for(let b=a;b<g;b++){const E=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,y?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Xl(gi,Ru.members,di),this.iconCollisionBox=new Xl(gi,Ru.members,di);for(let a=0;a<this.symbolInstances.length;a++){const g=this.symbolInstances.get(a);this.addDebugCollisionBoxes(g.textBoxStartIndex,g.textBoxEndIndex,g,!0),this.addDebugCollisionBoxes(g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g,!0),this.addDebugCollisionBoxes(g.iconBoxStartIndex,g.iconBoxEndIndex,g,!1),this.addDebugCollisionBoxes(g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g,!1)}}_deserializeCollisionBoxesForSymbol(a,g,f,y,b,E,A,I,D){const N={};for(let F=g;F<f;F++){const U=a.get(F);N.textBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.textFeatureIndex=U.featureIndex;break}for(let F=y;F<b;F++){const U=a.get(F);N.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.verticalTextFeatureIndex=U.featureIndex;break}for(let F=E;F<A;F++){const U=a.get(F);N.iconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.iconFeatureIndex=U.featureIndex;break}for(let F=I;F<D;F++){const U=a.get(F);N.verticalIconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},N.verticalIconFeatureIndex=U.featureIndex;break}return N}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let g=0;g<this.symbolInstances.length;g++){const f=this.symbolInstances.get(g);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,g){const f=a.placedSymbolArray.get(g),y=f.vertexStartIndex+4*f.numGlyphs;for(let b=f.vertexStartIndex;b<y;b+=4)a.indexArray.emplaceBack(b,b+1,b+2),a.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const g=Math.sin(a),f=Math.cos(a),y=[],b=[],E=[];for(let A=0;A<this.symbolInstances.length;++A){E.push(A);const I=this.symbolInstances.get(A);y.push(0|Math.round(g*I.anchorX+f*I.anchorY)),b.push(I.featureIndex)}return E.sort((A,I)=>y[A]-y[I]||b[I]-b[A]),E}addToSortKeyRanges(a,g){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===g?f.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:g,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const g of this.symbolInstanceIndexes){const f=this.symbolInstances.get(g);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((y,b,E)=>{y>=0&&E.indexOf(y)===b&&this.addIndicesForPlacedSymbol(this.text,y)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}We("SymbolBucket",Jr,{omit:["layers","collisionBoxArray","features","compareText"]}),Jr.MAX_GLYPHS=65535,Jr.addDynamicAttributes=ql;const Jp=new dn({"symbol-placement":new tt(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new tt(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new tt(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new st(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new tt(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new tt(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new tt(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new tt(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new tt(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new tt(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new st(Te.layout_symbol["icon-size"]),"icon-text-fit":new tt(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new tt(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new st(Te.layout_symbol["icon-image"]),"icon-rotate":new st(Te.layout_symbol["icon-rotate"]),"icon-padding":new st(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new tt(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new st(Te.layout_symbol["icon-offset"]),"icon-anchor":new st(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new tt(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new tt(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new tt(Te.layout_symbol["text-rotation-alignment"]),"text-field":new st(Te.layout_symbol["text-field"]),"text-font":new st(Te.layout_symbol["text-font"]),"text-size":new st(Te.layout_symbol["text-size"]),"text-max-width":new st(Te.layout_symbol["text-max-width"]),"text-line-height":new tt(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new st(Te.layout_symbol["text-letter-spacing"]),"text-justify":new st(Te.layout_symbol["text-justify"]),"text-radial-offset":new st(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new tt(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new st(Te.layout_symbol["text-anchor"]),"text-max-angle":new tt(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new tt(Te.layout_symbol["text-writing-mode"]),"text-rotate":new st(Te.layout_symbol["text-rotate"]),"text-padding":new tt(Te.layout_symbol["text-padding"]),"text-keep-upright":new tt(Te.layout_symbol["text-keep-upright"]),"text-transform":new st(Te.layout_symbol["text-transform"]),"text-offset":new st(Te.layout_symbol["text-offset"]),"text-allow-overlap":new tt(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new tt(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new tt(Te.layout_symbol["text-ignore-placement"]),"text-optional":new tt(Te.layout_symbol["text-optional"])});var Wl={paint:new dn({"icon-opacity":new st(Te.paint_symbol["icon-opacity"]),"icon-color":new st(Te.paint_symbol["icon-color"]),"icon-halo-color":new st(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new st(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new st(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new tt(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new tt(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new st(Te.paint_symbol["text-opacity"]),"text-color":new st(Te.paint_symbol["text-color"],{runtimeType:Dn,getOverride:p=>p.textColor,hasOverride:p=>!!p.textColor}),"text-halo-color":new st(Te.paint_symbol["text-halo-color"]),"text-halo-width":new st(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new st(Te.paint_symbol["text-halo-blur"]),"text-translate":new tt(Te.paint_symbol["text-translate"]),"text-translate-anchor":new tt(Te.paint_symbol["text-translate-anchor"])}),layout:Jp};class rc{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:On,this.defaultValue=a}evaluate(a){if(a.formattedSection){const g=this.defaultValue.property.overrides;if(g&&g.hasOverride(a.formattedSection))return g.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}We("FormatSectionOverride",rc,{omit:["defaultValue"]});class Ys extends kn{constructor(a){super(a,Wl)}recalculate(a,g){if(super.recalculate(a,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const y=[];for(const b of f)y.indexOf(b)<0&&y.push(b);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,g,f,y){const b=this.layout.get(a).evaluate(g,{},f,y),E=this._unevaluatedLayout._values[a];return E.isDataDriven()||Go(E.value)||!b?b:function(A,I){return I.replace(/{([^{}]+)}/g,(D,N)=>N in A?String(A[N]):"")}(g.properties,b)}createBucket(a){return new Jr(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of Wl.paint.overridableProperties){if(!Ys.hasPaintOverride(this.layout,a))continue;const g=this.paint.get(a),f=new rc(g),y=new va(f,g.property.specification);let b=null;b=g.value.kind==="constant"||g.value.kind==="source"?new Tr("source",y):new Ho("composite",y,g.value.zoomStops),this.paint._values[a]=new Ei(g.property,b,g.parameters)}}_handleOverridablePaintPropertyUpdate(a,g,f){return!(!this.layout||g.isDataDriven()||f.isDataDriven())&&Ys.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,g){const f=a.get("text-field"),y=Wl.paint.properties[g];let b=!1;const E=A=>{for(const I of A)if(y.overrides&&y.overrides.hasOverride(I))return void(b=!0)};if(f.value.kind==="constant"&&f.value.value instanceof ae)E(f.value.value.sections);else if(f.value.kind==="source"){const A=D=>{b||(D instanceof Ye&&Ce(D.value)===bi?E(D.value.sections):D instanceof Sr?E(D.sections):D.eachChild(A))},I=f.value;I._styleExpression&&A(I._styleExpression.expression)}return b}}function Yl(p,a,g){let f="never";const y=p.get(a);return y?f=y:p.get(g)&&(f="always"),f}var Qp={paint:new dn({"background-color":new tt(Te.paint_background["background-color"]),"background-pattern":new nr(Te.paint_background["background-pattern"]),"background-opacity":new tt(Te.paint_background["background-opacity"])})},eg={paint:new dn({"raster-opacity":new tt(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new tt(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new tt(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new tt(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new tt(Te.paint_raster["raster-saturation"]),"raster-contrast":new tt(Te.paint_raster["raster-contrast"]),"raster-resampling":new tt(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new tt(Te.paint_raster["raster-fade-duration"])})};class tg extends kn{constructor(a){super(a,{}),this.onAdd=g=>{this.implementation.onAdd&&this.implementation.onAdd(g,g.painter.context.gl)},this.onRemove=g=>{this.implementation.onRemove&&this.implementation.onRemove(g,g.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const ng={circle:class extends kn{constructor(p){super(p,Rc)}createBucket(p){return new xl(p)}queryRadius(p){const a=p;return Na("circle-radius",this,a)+Na("circle-stroke-width",this,a)+Ds(this.paint.get("circle-translate"))}queryIntersectsFeature(p,a,g,f,y,b,E,A){const I=Rs(p,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,E),D=this.paint.get("circle-radius").evaluate(a,g)+this.paint.get("circle-stroke-width").evaluate(a,g),N=this.paint.get("circle-pitch-alignment")==="map",F=N?I:function(V,q){return V.map(ne=>mu(ne,q))}(I,A),U=N?D*E:D;for(const V of f)for(const q of V){const ne=N?q:mu(q,A);let te=U;const ge=Ls([],[q.x,q.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?te*=ge[3]/b.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(te*=b.cameraToCenterDistance/ge[3]),Ic(F,ne,te))return!0}return!1}},heatmap:class extends kn{constructor(p){super(p,Mc),this._updateColorRamp()}createBucket(p){return new _u(p)}_handleSpecialPaintPropertyUpdate(p){p==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=$u({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends kn{constructor(p){super(p,Nc)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends kn{constructor(p){super(p,Jc)}recalculate(p,a){super.recalculate(p,a);const g=this.paint._values["fill-outline-color"];g.value.kind==="constant"&&g.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(p){return new Ll(p)}queryRadius(){return Ds(this.paint.get("fill-translate"))}queryIntersectsFeature(p,a,g,f,y,b,E){return lu(Rs(p,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,E),f)}isTileClipped(){return!0}},"fill-extrusion":class extends kn{constructor(p){super(p,gp)}createBucket(p){return new Nl(p)}queryRadius(){return Ds(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(p,a,g,f,y,b,E,A){const I=Rs(p,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,E),D=this.paint.get("fill-extrusion-height").evaluate(a,g),N=this.paint.get("fill-extrusion-base").evaluate(a,g),F=function(V,q,ne,te){const ge=[];for(const $e of V){const pe=[$e.x,$e.y,0,1];Ls(pe,pe,q),ge.push(new He(pe[0]/pe[3],pe[1]/pe[3]))}return ge}(I,A),U=function(V,q,ne,te){const ge=[],$e=[],pe=te[8]*q,_e=te[9]*q,we=te[10]*q,Ie=te[11]*q,Ke=te[8]*ne,Qe=te[9]*ne,Ue=te[10]*ne,ze=te[11]*ne;for(const Le of V){const je=[],ke=[];for(const De of Le){const rt=De.x,nt=De.y,bt=te[0]*rt+te[4]*nt+te[12],Ht=te[1]*rt+te[5]*nt+te[13],Yt=te[2]*rt+te[6]*nt+te[14],fn=te[3]*rt+te[7]*nt+te[15],_i=Yt+we,Sn=fn+Ie,pn=bt+Ke,mn=Ht+Qe,Tn=Yt+Ue,Rn=fn+ze,Yn=new He((bt+pe)/Sn,(Ht+_e)/Sn);Yn.z=_i/Sn,je.push(Yn);const gn=new He(pn/Rn,mn/Rn);gn.z=Tn/Rn,ke.push(gn)}ge.push(je),$e.push(ke)}return[ge,$e]}(f,N,D,A);return function(V,q,ne){let te=1/0;lu(ne,q)&&(te=Iu(ne,q[0]));for(let ge=0;ge<q.length;ge++){const $e=q[ge],pe=V[ge];for(let _e=0;_e<$e.length-1;_e++){const we=$e[_e],Ie=[we,$e[_e+1],pe[_e+1],pe[_e],we];su(ne,Ie)&&(te=Math.min(te,Iu(ne,Ie)))}}return te!==1/0&&te}(U[0],U[1],F)}},line:class extends kn{constructor(p){super(p,wu),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(p){p==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Bo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(p,a){super.recalculate(p,a),this.paint._values["line-floorwidth"]=Ou.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,p)}createBucket(p){return new zl(p)}queryRadius(p){const a=p,g=Du(Na("line-width",this,a),Na("line-gap-width",this,a)),f=Na("line-offset",this,a);return g/2+Math.abs(f)+Ds(this.paint.get("line-translate"))}queryIntersectsFeature(p,a,g,f,y,b,E){const A=Rs(p,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,E),I=E/2*Du(this.paint.get("line-width").evaluate(a,g),this.paint.get("line-gap-width").evaluate(a,g)),D=this.paint.get("line-offset").evaluate(a,g);return D&&(f=function(N,F){const U=[];for(let V=0;V<N.length;V++){const q=N[V],ne=[];for(let te=0;te<q.length;te++){const ge=q[te-1],$e=q[te],pe=q[te+1],_e=te===0?new He(0,0):$e.sub(ge)._unit()._perp(),we=te===q.length-1?new He(0,0):pe.sub($e)._unit()._perp(),Ie=_e._add(we)._unit(),Ke=Ie.x*we.x+Ie.y*we.y;Ke!==0&&Ie._mult(1/Ke),ne.push(Ie._mult(F)._add($e))}U.push(ne)}return U}(f,D*E)),function(N,F,U){for(let V=0;V<F.length;V++){const q=F[V];if(N.length>=3){for(let ne=0;ne<q.length;ne++)if(qr(N,q[ne]))return!0}if(Pc(N,q,U))return!0}return!1}(A,f,I)}isTileClipped(){return!0}},symbol:Ys,background:class extends kn{constructor(p){super(p,Qp)}},raster:class extends kn{constructor(p){super(p,eg)}}};class ig{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const ac=63710088e-1;class rn{constructor(a,g){if(isNaN(a)||isNaN(g))throw new Error(`Invalid LngLat object: (${a}, ${g})`);if(this.lng=+a,this.lat=+g,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new rn(H(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const g=Math.PI/180,f=this.lat*g,y=a.lat*g,b=Math.sin(f)*Math.sin(y)+Math.cos(f)*Math.cos(y)*Math.cos((a.lng-this.lng)*g);return ac*Math.acos(Math.min(b,1))}toBounds(a=0){const g=360*a/40075017,f=g/Math.cos(Math.PI/180*this.lat);return new cr(new rn(this.lng-f,this.lat-g),new rn(this.lng+f,this.lat+g))}static convert(a){if(a instanceof rn)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new rn(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new rn(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class cr{constructor(a,g){a&&(g?this.setSouthWest(a).setNorthEast(g):a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1]))}setNorthEast(a){return this._ne=a instanceof rn?new rn(a.lng,a.lat):rn.convert(a),this}setSouthWest(a){return this._sw=a instanceof rn?new rn(a.lng,a.lat):rn.convert(a),this}extend(a){const g=this._sw,f=this._ne;let y,b;if(a instanceof rn)y=a,b=a;else{if(!(a instanceof cr))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(cr.convert(a)):this.extend(rn.convert(a)):this;if(y=a._sw,b=a._ne,!y||!b)return this}return g||f?(g.lng=Math.min(y.lng,g.lng),g.lat=Math.min(y.lat,g.lat),f.lng=Math.max(b.lng,f.lng),f.lat=Math.max(b.lat,f.lat)):(this._sw=new rn(y.lng,y.lat),this._ne=new rn(b.lng,b.lat)),this}getCenter(){return new rn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new rn(this.getWest(),this.getNorth())}getSouthEast(){return new rn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:g,lat:f}=rn.convert(a);let y=this._sw.lng<=g&&g<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=g&&g>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&y}static convert(a){return a instanceof cr?a:a&&new cr(a)}}const sc=2*Math.PI*ac;function lc(p){return sc*Math.cos(p*Math.PI/180)}function uc(p){return(180+p)/360}function cc(p){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p*Math.PI/360)))/360}function pc(p,a){return p/lc(a)}function Kl(p){return 360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90}class Ks{constructor(a,g,f=0){this.x=+a,this.y=+g,this.z=+f}static fromLngLat(a,g=0){const f=rn.convert(a);return new Ks(uc(f.lng),cc(f.lat),pc(g,f.lat))}toLngLat(){return new rn(360*this.x-180,Kl(this.y))}toAltitude(){return this.z*lc(Kl(this.y))}meterInMercatorCoordinateUnits(){return 1/sc*(a=Kl(this.y),1/Math.cos(a*Math.PI/180));var a}}function gc(p,a,g){var f=2*Math.PI*6378137/256/Math.pow(2,g);return[p*f-2*Math.PI*6378137/2,a*f-2*Math.PI*6378137/2]}class Zl{constructor(a,g,f){if(a<0||a>25||f<0||f>=Math.pow(2,a)||g<0||g>=Math.pow(2,a))throw new Error(`x=${g}, y=${f}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=g,this.y=f,this.key=Xa(0,a,a,g,f)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,g,f){const y=(E=this.y,A=this.z,I=gc(256*(b=this.x),256*(E=Math.pow(2,A)-E-1),A),D=gc(256*(b+1),256*(E+1),A),I[0]+","+I[1]+","+D[0]+","+D[1]);var b,E,A,I,D;const N=function(F,U,V){let q,ne="";for(let te=F;te>0;te--)q=1<<te-1,ne+=(U&q?1:0)+(V&q?2:0);return ne}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,g>1?"@2x":"").replace(/{quadkey}/g,N).replace(/{bbox-epsg-3857}/g,y)}isChildOf(a){const g=this.z-a.z;return g>0&&a.x===this.x>>g&&a.y===this.y>>g}getTilePoint(a){const g=Math.pow(2,this.z);return new He((a.x*g-this.x)*hn,(a.y*g-this.y)*hn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class dc{constructor(a,g){this.wrap=a,this.canonical=g,this.key=Xa(a,g.z,g.z,g.x,g.y)}}class mi{constructor(a,g,f,y,b){if(a<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${f}`);this.overscaledZ=a,this.wrap=g,this.canonical=new Zl(f,+y,+b),this.key=Xa(g,a,f,y,b)}clone(){return new mi(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const g=this.canonical.z-a;return a>this.canonical.z?new mi(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new mi(a,this.wrap,a,this.canonical.x>>g,this.canonical.y>>g)}calculateScaledKey(a,g){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-a;return a>this.canonical.z?Xa(this.wrap*+g,a,this.canonical.z,this.canonical.x,this.canonical.y):Xa(this.wrap*+g,a,a,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const g=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>g&&a.canonical.y===this.canonical.y>>g}children(a){if(this.overscaledZ>=a)return[new mi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const g=this.canonical.z+1,f=2*this.canonical.x,y=2*this.canonical.y;return[new mi(g,this.wrap,g,f,y),new mi(g,this.wrap,g,f+1,y),new mi(g,this.wrap,g,f,y+1),new mi(g,this.wrap,g,f+1,y+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new mi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new mi(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new dc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Ks(a.x-this.wrap,a.y))}}function Xa(p,a,g,f,y){(p*=2)<0&&(p=-1*p-1);const b=1<<g;return(b*b*p+b*y+f).toString(36)+g.toString(36)+a.toString(36)}We("CanonicalTileID",Zl),We("OverscaledTileID",mi,{omit:["posMatrix"]});class hc{constructor(a,g,f){if(this.uid=a,g.height!==g.width)throw new RangeError("DEM tiles must be square");if(f&&f!=="mapbox"&&f!=="terrarium")return void Ze(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=g.height;const y=this.dim=g.height-2;this.data=new Uint32Array(g.data.buffer),this.encoding=f||"mapbox";for(let b=0;b<y;b++)this.data[this._idx(-1,b)]=this.data[this._idx(0,b)],this.data[this._idx(y,b)]=this.data[this._idx(y-1,b)],this.data[this._idx(b,-1)]=this.data[this._idx(b,0)],this.data[this._idx(b,y)]=this.data[this._idx(b,y-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(y,-1)]=this.data[this._idx(y-1,0)],this.data[this._idx(-1,y)]=this.data[this._idx(0,y-1)],this.data[this._idx(y,y)]=this.data[this._idx(y-1,y-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let b=0;b<y;b++)for(let E=0;E<y;E++){const A=this.get(b,E);A>this.max&&(this.max=A),A<this.min&&(this.min=A)}}get(a,g){const f=new Uint8Array(this.data.buffer),y=4*this._idx(a,g);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(f[y],f[y+1],f[y+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(a,g){if(a<-1||a>=this.dim+1||g<-1||g>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(g+1)*this.stride+(a+1)}_unpackMapbox(a,g,f){return(256*a*256+256*g+f)/10-1e4}_unpackTerrarium(a,g,f){return 256*a+g+f/256-32768}getPixels(){return new fi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,g,f){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let y=g*this.dim,b=g*this.dim+this.dim,E=f*this.dim,A=f*this.dim+this.dim;switch(g){case-1:y=b-1;break;case 1:b=y+1}switch(f){case-1:E=A-1;break;case 1:A=E+1}const I=-g*this.dim,D=-f*this.dim;for(let N=E;N<A;N++)for(let F=y;F<b;F++)this.data[this._idx(F,N)]=a.data[this._idx(F+I,N+D)]}}We("DEMData",hc);class fc{constructor(a){this._stringToNumber={},this._numberToString=[];for(let g=0;g<a.length;g++){const f=a[g];this._stringToNumber[f]=g,this._numberToString[g]=f}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class mc{constructor(a,g,f,y,b){this.type="Feature",this._vectorTileFeature=a,a._z=g,a._x=f,a._y=y,this.properties=a.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const g in this)g!=="_geometry"&&g!=="_vectorTileFeature"&&(a[g]=this[g]);return a}}class _c{constructor(a,g){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Zi(hn,16,0),this.grid3D=new Zi(hn,16,0),this.featureIndexArray=new pt,this.promoteId=g}insert(a,g,f,y,b,E){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,y,b);const I=E?this.grid3D:this.grid;for(let D=0;D<g.length;D++){const N=g[D],F=[1/0,1/0,-1/0,-1/0];for(let U=0;U<N.length;U++){const V=N[U];F[0]=Math.min(F[0],V.x),F[1]=Math.min(F[1],V.y),F[2]=Math.max(F[2],V.x),F[3]=Math.max(F[3],V.y)}F[0]<hn&&F[1]<hn&&F[2]>=0&&F[3]>=0&&I.insert(A,F[0],F[1],F[2],F[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Io.VectorTile(new Fl(this.rawTileData)).layers,this.sourceLayerCoder=new fc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,g,f,y){this.loadVTLayers();const b=a.params||{},E=hn/a.tileSize/a.scale,A=xa(b.filter),I=a.queryGeometry,D=a.queryPadding*E,N=$c(I),F=this.grid.query(N.minX-D,N.minY-D,N.maxX+D,N.maxY+D),U=$c(a.cameraQueryGeometry),V=this.grid3D.query(U.minX-D,U.minY-D,U.maxX+D,U.maxY+D,(te,ge,$e,pe)=>function(_e,we,Ie,Ke,Qe){for(const ze of _e)if(we<=ze.x&&Ie<=ze.y&&Ke>=ze.x&&Qe>=ze.y)return!0;const Ue=[new He(we,Ie),new He(we,Qe),new He(Ke,Qe),new He(Ke,Ie)];if(_e.length>2){for(const ze of Ue)if(qr(_e,ze))return!0}for(let ze=0;ze<_e.length-1;ze++)if(Oc(_e[ze],_e[ze+1],Ue))return!0;return!1}(a.cameraQueryGeometry,te-D,ge-D,$e+D,pe+D));for(const te of V)F.push(te);F.sort(og);const q={};let ne;for(let te=0;te<F.length;te++){const ge=F[te];if(ge===ne)continue;ne=ge;const $e=this.featureIndexArray.get(ge);let pe=null;this.loadMatchingFeature(q,$e.bucketIndex,$e.sourceLayerIndex,$e.featureIndex,A,b.layers,b.availableImages,g,f,y,(_e,we,Ie)=>(pe||(pe=sr(_e)),we.queryIntersectsFeature(I,_e,Ie,pe,this.z,a.transform,E,a.pixelPosMatrix)))}return q}loadMatchingFeature(a,g,f,y,b,E,A,I,D,N,F){const U=this.bucketLayerIDs[g];if(E&&!function(te,ge){for(let $e=0;$e<te.length;$e++)if(ge.indexOf(te[$e])>=0)return!0;return!1}(E,U))return;const V=this.sourceLayerCoder.decode(f),q=this.vtLayers[V].feature(y);if(b.needGeometry){const te=lr(q,!0);if(!b.filter(new Xt(this.tileID.overscaledZ),te,this.tileID.canonical))return}else if(!b.filter(new Xt(this.tileID.overscaledZ),q))return;const ne=this.getId(q,V);for(let te=0;te<U.length;te++){const ge=U[te];if(E&&E.indexOf(ge)<0)continue;const $e=I[ge];if(!$e)continue;let pe={};ne&&N&&(pe=N.getState($e.sourceLayer||"_geojsonTileLayer",ne));const _e=K({},D[ge]);_e.paint=yc(_e.paint,$e.paint,q,pe,A),_e.layout=yc(_e.layout,$e.layout,q,pe,A);const we=!F||F(q,$e,pe);if(!we)continue;const Ie=new mc(q,this.z,this.x,this.y,ne);Ie.layer=_e;let Ke=a[ge];Ke===void 0&&(Ke=a[ge]=[]),Ke.push({featureIndex:y,feature:Ie,intersectionZ:we})}}lookupSymbolFeatures(a,g,f,y,b,E,A,I){const D={};this.loadVTLayers();const N=xa(b);for(const F of a)this.loadMatchingFeature(D,f,y,F,N,E,A,I,g);return D}hasLayer(a){for(const g of this.bucketLayerIDs)for(const f of g)if(a===f)return!0;return!1}getId(a,g){let f=a.id;return this.promoteId&&(f=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[g]],typeof f=="boolean"&&(f=Number(f))),f}}function yc(p,a,g,f,y){return ye(p,(b,E)=>{const A=a instanceof Fr?a.get(E):null;return A&&A.evaluate?A.evaluate(g,f,y):A})}function $c(p){let a=1/0,g=1/0,f=-1/0,y=-1/0;for(const b of p)a=Math.min(a,b.x),g=Math.min(g,b.y),f=Math.max(f,b.x),y=Math.max(y,b.y);return{minX:a,minY:g,maxX:f,maxY:y}}function og(p,a){return a-p}var Jl;We("FeatureIndex",_c,{omit:["rawTileData","sourceLayerCoder"]}),c.PerformanceMarkers=void 0,(Jl=c.PerformanceMarkers||(c.PerformanceMarkers={})).create="create",Jl.load="load",Jl.fullLoad="fullLoad";let Zs=null,Wa=[];const Ql=1e3/30,rg={mark(p){performance.mark(p)},frame(p){const a=p;Zs!=null&&Wa.push(a-Zs),Zs=a},clearMetrics(){Zs=null,Wa=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const p in c.PerformanceMarkers)performance.clearMarks(c.PerformanceMarkers[p])},getPerformanceMetrics(){performance.measure("loadTime",c.PerformanceMarkers.create,c.PerformanceMarkers.load),performance.measure("fullLoadTime",c.PerformanceMarkers.create,c.PerformanceMarkers.fullLoad);const p=performance.getEntriesByName("loadTime")[0].duration,a=performance.getEntriesByName("fullLoadTime")[0].duration,g=Wa.length,f=1/(Wa.reduce((b,E)=>b+E,0)/g/1e3),y=Wa.filter(b=>b>Ql).reduce((b,E)=>b+(E-Ql)/Ql,0);return{loadTime:p,fullLoadTime:a,fps:f,percentDroppedFrames:y/(g+y)*100}}};c.AJAXError=ri,c.ARRAY_TYPE=jn,c.Actor=class{constructor(p,a,g){this.target=p,this.parent=a,this.mapId=g,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},fe(["receive","process"],this),this.invoker=new ig(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=lt()?p:window}send(p,a,g,f,y=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);g&&(this.callbacks[b]=g);const E=Ut(this.globalScope)?void 0:[];return this.target.postMessage({id:b,type:p,hasCallback:!!g,targetMapId:f,mustQueue:y,sourceMapId:this.mapId,data:Jo(a,E)},E),{cancel:()=>{g&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}receive(p){const a=p.data,g=a.id;if(g&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[g];const f=this.cancelCallbacks[g];delete this.cancelCallbacks[g],f&&f()}else lt()||a.mustQueue?(this.tasks[g]=a,this.taskQueue.push(g),this.invoker.trigger()):this.processTask(g,a)}process(){if(!this.taskQueue.length)return;const p=this.taskQueue.shift(),a=this.tasks[p];delete this.tasks[p],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(p,a)}processTask(p,a){if(a.type==="<response>"){const g=this.callbacks[p];delete this.callbacks[p],g&&(a.error?g(Ji(a.error)):g(null,Ji(a.data)))}else{let g=!1;const f=Ut(this.globalScope)?void 0:[],y=a.hasCallback?(A,I)=>{g=!0,delete this.cancelCallbacks[p],this.target.postMessage({id:p,type:"<response>",sourceMapId:this.mapId,error:A?Jo(A):null,data:Jo(I,f)},f)}:A=>{g=!0};let b=null;const E=Ji(a.data);if(this.parent[a.type])b=this.parent[a.type](a.sourceMapId,E,y);else if(this.parent.getWorkerSource){const A=a.type.split(".");b=this.parent.getWorkerSource(a.sourceMapId,A[0],E.source)[A[1]](E,y)}else y(new Error(`Could not find function ${a.type}`));!g&&b&&b.cancel&&(this.cancelCallbacks[p]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},c.AlphaImage=Fa,c.CanonicalTileID=Zl,c.CollisionBoxArray=he,c.CollisionCircleLayoutArray=class extends L{},c.Color=G,c.DEMData=hc,c.DataConstantProperty=tt,c.DictionaryCoder=fc,c.EXTENT=hn,c.ErrorEvent=Ni,c.EvaluationParameters=Xt,c.Event=vi,c.Evented=go,c.FeatureIndex=_c,c.FillBucket=Ll,c.FillExtrusionBucket=Nl,c.GeoJSONFeature=mc,c.ImageAtlas=Uu,c.ImagePosition=Bl,c.LineBucket=zl,c.LineStripIndexArray=class extends de{},c.LngLat=rn,c.LngLatBounds=cr,c.MercatorCoordinate=Ks,c.ONE_EM=bn,c.OverscaledTileID=mi,c.PerformanceUtils=rg,c.PosArray=vt,c.Properties=dn,c.QuadTriangleArray=class extends B{},c.RGBAImage=fi,c.RasterBoundsArray=class extends or{},c.RequestPerformance=class{constructor(p){this._marks={start:[p.url,"start"].join("#"),end:[p.url,"end"].join("#"),measure:p.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let p=performance.getEntriesByName(this._marks.measure);return p.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),p=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),p}},c.ResourceType=Ro,c.SegmentVector=Pt,c.SymbolBucket=Jr,c.Transitionable=Da,c.TriangleIndexArray=vn,c.Uniform1f=jr,c.Uniform1i=class extends hi{constructor(p,a){super(p,a),this.current=0}set(p){this.current!==p&&(this.current=p,this.gl.uniform1i(this.location,p))}},c.Uniform2f=class extends hi{constructor(p,a){super(p,a),this.current=[0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]||(this.current=p,this.gl.uniform2f(this.location,p[0],p[1]))}},c.Uniform3f=class extends hi{constructor(p,a){super(p,a),this.current=[0,0,0]}set(p){p[0]===this.current[0]&&p[1]===this.current[1]&&p[2]===this.current[2]||(this.current=p,this.gl.uniform3f(this.location,p[0],p[1],p[2]))}},c.Uniform4f=rr,c.UniformColor=Vr,c.UniformMatrix4f=class extends hi{constructor(p,a){super(p,a),this.current=Ac}set(p){if(p[12]!==this.current[12]||p[0]!==this.current[0])return this.current=p,void this.gl.uniformMatrix4fv(this.location,!1,p);for(let a=1;a<16;a++)if(p[a]!==this.current[a]){this.current=p,this.gl.uniformMatrix4fv(this.location,!1,p);break}}},c.UnwrappedTileID=dc,c.ValidationError=Me,c.ZoomHistory=Qo,c.add=function(p,a,g){return p[0]=a[0]+g[0],p[1]=a[1]+g[1],p[2]=a[2]+g[2],p},c.addDynamicAttributes=ql,c.asyncAll=function(p,a,g){if(!p.length)return g(null,[]);let f=p.length;const y=new Array(p.length);let b=null;p.forEach((E,A)=>{a(E,(I,D)=>{I&&(b=I),y[A]=D,--f==0&&g(b,y)})})},c.bezier=C,c.bindAll=fe,c.cacheEntryPossiblyAdded=function(p){oi++,oi>zn&&(p.getActor().send("enforceCacheSizeLimit",In),oi=0)},c.clamp=R,c.clearTileCache=function(p){const a=caches.delete(Zt);p&&a.catch(p).then(()=>p())},c.clipLine=Qu,c.clone=function(p){var a=new jn(16);return a[0]=p[0],a[1]=p[1],a[2]=p[2],a[3]=p[3],a[4]=p[4],a[5]=p[5],a[6]=p[6],a[7]=p[7],a[8]=p[8],a[9]=p[9],a[10]=p[10],a[11]=p[11],a[12]=p[12],a[13]=p[13],a[14]=p[14],a[15]=p[15],a},c.clone$1=Pe,c.clone$2=function(p){var a=new jn(3);return a[0]=p[0],a[1]=p[1],a[2]=p[2],a},c.collisionCircleLayout=Ep,c.config=Kt,c.copy=function(p,a){return p[0]=a[0],p[1]=a[1],p[2]=a[2],p[3]=a[3],p[4]=a[4],p[5]=a[5],p[6]=a[6],p[7]=a[7],p[8]=a[8],p[9]=a[9],p[10]=a[10],p[11]=a[11],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15],p},c.create=function(){var p=new jn(16);return jn!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p},c.create$1=pu,c.createExpression=qo,c.createFilter=xa,c.createLayout=un,c.createStyleLayer=function(p){return p.type==="custom"?new tg(p):new ng[p.type](p)},c.cross=function(p,a,g){var f=a[0],y=a[1],b=a[2],E=g[0],A=g[1],I=g[2];return p[0]=y*I-b*A,p[1]=b*E-f*I,p[2]=f*A-y*E,p},c.dot=function(p,a){return p[0]*a[0]+p[1]*a[1]+p[2]*a[2]},c.dot$1=function(p,a){return p[0]*a[0]+p[1]*a[1]+p[2]*a[2]+p[3]*a[3]},c.ease=O,c.emitValidationErrors=Es,c.enforceCacheSizeLimit=function(p){Pn(),Nn&&Nn.then(a=>{a.keys().then(g=>{for(let f=0;f<g.length-p;f++)a.delete(g[f])})})},c.equals=function(p,a){var g=p[0],f=p[1],y=p[2],b=p[3],E=p[4],A=p[5],I=p[6],D=p[7],N=p[8],F=p[9],U=p[10],V=p[11],q=p[12],ne=p[13],te=p[14],ge=p[15],$e=a[0],pe=a[1],_e=a[2],we=a[3],Ie=a[4],Ke=a[5],Qe=a[6],Ue=a[7],ze=a[8],Le=a[9],je=a[10],ke=a[11],De=a[12],rt=a[13],nt=a[14],bt=a[15];return Math.abs(g-$e)<=Un*Math.max(1,Math.abs(g),Math.abs($e))&&Math.abs(f-pe)<=Un*Math.max(1,Math.abs(f),Math.abs(pe))&&Math.abs(y-_e)<=Un*Math.max(1,Math.abs(y),Math.abs(_e))&&Math.abs(b-we)<=Un*Math.max(1,Math.abs(b),Math.abs(we))&&Math.abs(E-Ie)<=Un*Math.max(1,Math.abs(E),Math.abs(Ie))&&Math.abs(A-Ke)<=Un*Math.max(1,Math.abs(A),Math.abs(Ke))&&Math.abs(I-Qe)<=Un*Math.max(1,Math.abs(I),Math.abs(Qe))&&Math.abs(D-Ue)<=Un*Math.max(1,Math.abs(D),Math.abs(Ue))&&Math.abs(N-ze)<=Un*Math.max(1,Math.abs(N),Math.abs(ze))&&Math.abs(F-Le)<=Un*Math.max(1,Math.abs(F),Math.abs(Le))&&Math.abs(U-je)<=Un*Math.max(1,Math.abs(U),Math.abs(je))&&Math.abs(V-ke)<=Un*Math.max(1,Math.abs(V),Math.abs(ke))&&Math.abs(q-De)<=Un*Math.max(1,Math.abs(q),Math.abs(De))&&Math.abs(ne-rt)<=Un*Math.max(1,Math.abs(ne),Math.abs(rt))&&Math.abs(te-nt)<=Un*Math.max(1,Math.abs(te),Math.abs(nt))&&Math.abs(ge-bt)<=Un*Math.max(1,Math.abs(ge),Math.abs(bt))},c.evaluateSizeForFeature=function(p,{uSize:a,uSizeT:g},{lowerSize:f,upperSize:y}){return p.kind==="source"?f/oo:p.kind==="composite"?Jt(f/oo,y/oo,g):a},c.evaluateSizeForZoom=function(p,a){let g=0,f=0;if(p.kind==="constant")f=p.layoutSize;else if(p.kind!=="source"){const{interpolationType:y,minZoom:b,maxZoom:E}=p,A=y?R(Hn.interpolationFactor(y,a,b,E),0,1):0;p.kind==="camera"?f=Jt(p.minSize,p.maxSize,A):g=A}return{uSizeT:g,uSize:f}},c.evaluateVariableOffset=nc,c.evented=Eo,c.exported=ht,c.exported$1=yn,c.extend=K,c.filterObject=xe,c.fromRotation=function(p,a){var g=Math.sin(a),f=Math.cos(a);return p[0]=f,p[1]=g,p[2]=0,p[3]=-g,p[4]=f,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},c.fromScaling=function(p,a){return p[0]=a[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=a[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=a[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},c.getAnchorAlignment=jl,c.getAnchorJustification=Gl,c.getArrayBuffer=uo,c.getImage=Lo,c.getJSON=function(p,a){return Ii(K(p,{type:"json"}),a)},c.getOverlapMode=Yl,c.getRTLTextPluginStatus=Oa,c.getReferrer=ei,c.getVideo=function(p,a){const g=window.document.createElement("video");g.muted=!0,g.onloadstart=function(){a(null,g)};for(let f=0;f<p.length;f++){const y=window.document.createElement("source");dr(p[f])||(g.crossOrigin="Anonymous"),y.src=p[f],g.appendChild(y)}return{cancel:()=>{}}},c.identity=Tl,c.invert=function(p,a){var g=a[0],f=a[1],y=a[2],b=a[3],E=a[4],A=a[5],I=a[6],D=a[7],N=a[8],F=a[9],U=a[10],V=a[11],q=a[12],ne=a[13],te=a[14],ge=a[15],$e=g*A-f*E,pe=g*I-y*E,_e=g*D-b*E,we=f*I-y*A,Ie=f*D-b*A,Ke=y*D-b*I,Qe=N*ne-F*q,Ue=N*te-U*q,ze=N*ge-V*q,Le=F*te-U*ne,je=F*ge-V*ne,ke=U*ge-V*te,De=$e*ke-pe*je+_e*Le+we*ze-Ie*Ue+Ke*Qe;return De?(p[0]=(A*ke-I*je+D*Le)*(De=1/De),p[1]=(y*je-f*ke-b*Le)*De,p[2]=(ne*Ke-te*Ie+ge*we)*De,p[3]=(U*Ie-F*Ke-V*we)*De,p[4]=(I*ze-E*ke-D*Ue)*De,p[5]=(g*ke-y*ze+b*Ue)*De,p[6]=(te*_e-q*Ke-ge*pe)*De,p[7]=(N*Ke-U*_e+V*pe)*De,p[8]=(E*je-A*ze+D*Qe)*De,p[9]=(f*ze-g*je-b*Qe)*De,p[10]=(q*Ie-ne*_e+ge*$e)*De,p[11]=(F*_e-N*Ie-V*$e)*De,p[12]=(A*Ue-E*Le-I*Qe)*De,p[13]=(g*Le-f*Ue+y*Qe)*De,p[14]=(ne*pe-q*we-te*$e)*De,p[15]=(N*we-F*pe+U*$e)*De,p):null},c.isImageBitmap=Ve,c.isSafari=Ut,c.isWorker=lt,c.keysDifference=function(p,a){const g=[];for(const f in p)f in a||g.push(f);return g},c.lazyLoadRTLTextPlugin=function(){ti.isLoading()||ti.isLoaded()||Oa()!=="deferred"||Mr()},c.makeRequest=Ii,c.mapObject=ye,c.mercatorXfromLng=uc,c.mercatorYfromLat=cc,c.mercatorZfromAltitude=pc,c.mul=Lc,c.mul$1=function(p,a,g){return p[0]=a[0]*g[0],p[1]=a[1]*g[1],p[2]=a[2]*g[2],p[3]=a[3]*g[3],p},c.multiply=gu,c.nextPowerOfTwo=function(p){return p<=1?1:Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))},c.normalize=function(p,a){var g=a[0],f=a[1],y=a[2],b=g*g+f*f+y*y;return b>0&&(b=1/Math.sqrt(b)),p[0]=a[0]*b,p[1]=a[1]*b,p[2]=a[2]*b,p},c.number=Jt,c.ortho=function(p,a,g,f,y,b,E){var A=1/(a-g),I=1/(f-y),D=1/(b-E);return p[0]=-2*A,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*I,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*D,p[11]=0,p[12]=(a+g)*A,p[13]=(y+f)*I,p[14]=(E+b)*D,p[15]=1,p},c.parseCacheControl=ct,c.parseGlyphPbf=function(p){return new Fl(p).readFields(Lp,[])},c.pbf=Fl,c.performSymbolLayout=function(p){p.bucket.createArrays(),p.bucket.tilePixelRatio=hn/(512*p.bucket.overscaling),p.bucket.compareText={},p.bucket.iconsNeedLinear=!1;const a=p.bucket.layers[0].layout,g=p.bucket.layers[0]._unevaluatedLayout._values,f={layoutIconSize:g["icon-size"].possiblyEvaluate(new Xt(p.bucket.zoom+1),p.canonical),layoutTextSize:g["text-size"].possiblyEvaluate(new Xt(p.bucket.zoom+1),p.canonical),textMaxSize:g["text-size"].possiblyEvaluate(new Xt(18))};if(p.bucket.textSizeData.kind==="composite"){const{minZoom:I,maxZoom:D}=p.bucket.textSizeData;f.compositeTextSizes=[g["text-size"].possiblyEvaluate(new Xt(I),p.canonical),g["text-size"].possiblyEvaluate(new Xt(D),p.canonical)]}if(p.bucket.iconSizeData.kind==="composite"){const{minZoom:I,maxZoom:D}=p.bucket.iconSizeData;f.compositeIconSizes=[g["icon-size"].possiblyEvaluate(new Xt(I),p.canonical),g["icon-size"].possiblyEvaluate(new Xt(D),p.canonical)]}const y=a.get("text-line-height")*bn,b=a.get("text-rotation-alignment")!=="viewport"&&a.get("symbol-placement")!=="point",E=a.get("text-keep-upright"),A=a.get("text-size");for(const I of p.bucket.features){const D=a.get("text-font").evaluate(I,{},p.canonical).join(","),N=A.evaluate(I,{},p.canonical),F=f.layoutTextSize.evaluate(I,{},p.canonical),U=f.layoutIconSize.evaluate(I,{},p.canonical),V={horizontal:{},vertical:void 0},q=I.text;let ne,te=[0,0];if(q){const pe=q.toString(),_e=a.get("text-letter-spacing").evaluate(I,{},p.canonical)*bn,we=Ss(pe)?_e:0,Ie=a.get("text-anchor").evaluate(I,{},p.canonical),Ke=a.get("text-variable-anchor");if(!Ke){const je=a.get("text-radial-offset").evaluate(I,{},p.canonical);te=je?nc(Ie,[je*bn,Vl]):a.get("text-offset").evaluate(I,{},p.canonical).map(ke=>ke*bn)}let Qe=b?"center":a.get("text-justify").evaluate(I,{},p.canonical);const Ue=a.get("symbol-placement"),ze=Ue==="point"?a.get("text-max-width").evaluate(I,{},p.canonical)*bn:0,Le=()=>{p.bucket.allowVerticalPlacement&&Aa(pe)&&(V.vertical=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,D,ze,y,Ie,"left",we,te,c.WritingMode.vertical,!0,Ue,F,N))};if(!b&&Ke){const je=Qe==="auto"?Ke.map(De=>Gl(De)):[Qe];let ke=!1;for(let De=0;De<je.length;De++){const rt=je[De];if(!V.horizontal[rt])if(ke)V.horizontal[rt]=V.horizontal[0];else{const nt=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,D,ze,y,"center",rt,we,te,c.WritingMode.horizontal,!1,Ue,F,N);nt&&(V.horizontal[rt]=nt,ke=nt.positionedLines.length===1)}}Le()}else{Qe==="auto"&&(Qe=Gl(Ie));const je=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,D,ze,y,Ie,Qe,we,te,c.WritingMode.horizontal,!1,Ue,F,N);je&&(V.horizontal[Qe]=je),Le(),Aa(pe)&&b&&E&&(V.vertical=js(q,p.glyphMap,p.glyphPositions,p.imagePositions,D,ze,y,Ie,Qe,we,te,c.WritingMode.vertical,!1,Ue,F,N))}}let ge=!1;if(I.icon&&I.icon.name){const pe=p.imageMap[I.icon.name];pe&&(ne=Bp(p.imagePositions[I.icon.name],a.get("icon-offset").evaluate(I,{},p.canonical),a.get("icon-anchor").evaluate(I,{},p.canonical)),ge=!!pe.sdf,p.bucket.sdfIcons===void 0?p.bucket.sdfIcons=ge:p.bucket.sdfIcons!==ge&&Ze("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(pe.pixelRatio!==p.bucket.pixelRatio||a.get("icon-rotate").constantOr(1)!==0)&&(p.bucket.iconsNeedLinear=!0))}const $e=oc(V.horizontal)||V.vertical;p.bucket.iconsInText=!!$e&&$e.iconsInText,($e||ne)&&Xp(p.bucket,I,V,ne,p.imageMap,f,F,U,te,ge,p.canonical)}p.showCollisionBoxes&&p.bucket.generateCollisionDebugBuffers()},c.perspective=function(p,a,g,f,y){var b,E=1/Math.tan(a/2);return p[0]=E/g,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=E,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,y!=null&&y!==1/0?(p[10]=(y+f)*(b=1/(f-y)),p[14]=2*y*f*b):(p[10]=-1,p[14]=-2*f),p},c.pick=function(p,a){const g={};for(let f=0;f<a.length;f++){const y=a[f];y in p&&(g[y]=p[y])}return g},c.plugin=ti,c.pointGeometry=He,c.polygonIntersectsPolygon=su,c.potpack=Bu,c.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.register=We,c.registerForPluginStateChange=function(p){return p({pluginStatus:Fn,pluginURL:Vi}),Eo.on("pluginStateChange",p),p},c.renderColorRamp=$u,c.rotateX=function(p,a,g){var f=Math.sin(g),y=Math.cos(g),b=a[4],E=a[5],A=a[6],I=a[7],D=a[8],N=a[9],F=a[10],U=a[11];return a!==p&&(p[0]=a[0],p[1]=a[1],p[2]=a[2],p[3]=a[3],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15]),p[4]=b*y+D*f,p[5]=E*y+N*f,p[6]=A*y+F*f,p[7]=I*y+U*f,p[8]=D*y-b*f,p[9]=N*y-E*f,p[10]=F*y-A*f,p[11]=U*y-I*f,p},c.rotateZ=function(p,a,g){var f=Math.sin(g),y=Math.cos(g),b=a[0],E=a[1],A=a[2],I=a[3],D=a[4],N=a[5],F=a[6],U=a[7];return a!==p&&(p[8]=a[8],p[9]=a[9],p[10]=a[10],p[11]=a[11],p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15]),p[0]=b*y+D*f,p[1]=E*y+N*f,p[2]=A*y+F*f,p[3]=I*y+U*f,p[4]=D*y-b*f,p[5]=N*y-E*f,p[6]=F*y-A*f,p[7]=U*y-I*f,p},c.scale=function(p,a,g){var f=g[0],y=g[1],b=g[2];return p[0]=a[0]*f,p[1]=a[1]*f,p[2]=a[2]*f,p[3]=a[3]*f,p[4]=a[4]*y,p[5]=a[5]*y,p[6]=a[6]*y,p[7]=a[7]*y,p[8]=a[8]*b,p[9]=a[9]*b,p[10]=a[10]*b,p[11]=a[11]*b,p[12]=a[12],p[13]=a[13],p[14]=a[14],p[15]=a[15],p},c.scale$1=function(p,a,g){return p[0]=a[0]*g,p[1]=a[1]*g,p[2]=a[2]*g,p},c.setCacheLimits=function(p,a){In=p,zn=a},c.setRTLTextPlugin=function(p,a,g=!1){if(Fn===Lr||Fn===Ca||Fn===Ia)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vi=ht.resolveURL(p),Fn=Lr,Pa=a,wa(),g||Mr()},c.spec=Te,c.sphericalToCartesian=function([p,a,g]){return a+=90,a*=Math.PI/180,g*=Math.PI/180,{x:p*Math.cos(a)*Math.sin(g),y:p*Math.sin(a)*Math.sin(g),z:p*Math.cos(g)}},c.sqrLen=function(p){var a=p[0],g=p[1];return a*a+g*g},c.sub=function(p,a,g){return p[0]=a[0]-g[0],p[1]=a[1]-g[1],p[2]=a[2]-g[2],p},c.toEvaluationFeature=lr,c.transformMat3=function(p,a,g){var f=a[0],y=a[1],b=a[2];return p[0]=f*g[0]+y*g[3]+b*g[6],p[1]=f*g[1]+y*g[4]+b*g[7],p[2]=f*g[2]+y*g[5]+b*g[8],p},c.transformMat4=Ls,c.transformMat4$1=function(p,a,g){var f=a[0],y=a[1];return p[0]=g[0]*f+g[4]*y+g[12],p[1]=g[1]*f+g[5]*y+g[13],p},c.translate=function(p,a,g){var f,y,b,E,A,I,D,N,F,U,V,q,ne=g[0],te=g[1],ge=g[2];return a===p?(p[12]=a[0]*ne+a[4]*te+a[8]*ge+a[12],p[13]=a[1]*ne+a[5]*te+a[9]*ge+a[13],p[14]=a[2]*ne+a[6]*te+a[10]*ge+a[14],p[15]=a[3]*ne+a[7]*te+a[11]*ge+a[15]):(y=a[1],b=a[2],E=a[3],A=a[4],I=a[5],D=a[6],N=a[7],F=a[8],U=a[9],V=a[10],q=a[11],p[0]=f=a[0],p[1]=y,p[2]=b,p[3]=E,p[4]=A,p[5]=I,p[6]=D,p[7]=N,p[8]=F,p[9]=U,p[10]=V,p[11]=q,p[12]=f*ne+A*te+F*ge+a[12],p[13]=y*ne+I*te+U*ge+a[13],p[14]=b*ne+D*te+V*ge+a[14],p[15]=E*ne+N*te+q*ge+a[15]),p},c.triggerPluginCompletionEvent=Cs,c.unicodeBlockLookup=Be,c.uniqueId=function(){return le++},c.validateCustomStyleLayer=function(p){const a=[],g=p.id;return g===void 0&&a.push({message:`layers.${g}: missing required property "id"`}),p.render===void 0&&a.push({message:`layers.${g}: missing required method "render"`}),p.renderingMode&&p.renderingMode!=="2d"&&p.renderingMode!=="3d"&&a.push({message:`layers.${g}: property "renderingMode" must be either "2d" or "3d"`}),a},c.validateLight=dl,c.validateStyle=Ki,c.vectorTile=Io,c.warnOnce=Ze,c.wrap=H}),u(["./shared"],function(c){function v(X){const M=typeof X;if(M==="number"||M==="boolean"||M==="string"||X==null)return JSON.stringify(X);if(Array.isArray(X)){let W="[";for(const ie of X)W+=`${v(ie)},`;return`${W}]`}const k=Object.keys(X).sort();let G="{";for(let W=0;W<k.length;W++)G+=`${JSON.stringify(k[W])}:${v(X[k[W]])},`;return`${G}}`}function S(X){let M="";for(const k of c.refProperties)M+=`/${v(X[k])}`;return M}class C{constructor(M){this.keyCache={},M&&this.replace(M)}replace(M){this._layerConfigs={},this._layers={},this.update(M,[])}update(M,k){for(const W of M){this._layerConfigs[W.id]=W;const ie=this._layers[W.id]=c.createStyleLayer(W);ie._featureFilter=c.createFilter(ie.filter),this.keyCache[W.id]&&delete this.keyCache[W.id]}for(const W of k)delete this.keyCache[W],delete this._layerConfigs[W],delete this._layers[W];this.familiesBySource={};const G=function(W,ie){const ae={};for(let oe=0;oe<W.length;oe++){const ce=ie&&ie[W[oe].id]||S(W[oe]);ie&&(ie[W[oe].id]=ce);let ve=ae[ce];ve||(ve=ae[ce]=[]),ve.push(W[oe])}const re=[];for(const oe in ae)re.push(ae[oe]);return re}(Object.values(this._layerConfigs),this.keyCache);for(const W of G){const ie=W.map(Ce=>this._layers[Ce.id]),ae=ie[0];if(ae.visibility==="none")continue;const re=ae.source||"";let oe=this.familiesBySource[re];oe||(oe=this.familiesBySource[re]={});const ce=ae.sourceLayer||"_geojsonTileLayer";let ve=oe[ce];ve||(ve=oe[ce]=[]),ve.push(ie)}}}class O{constructor(M){const k={},G=[];for(const re in M){const oe=M[re],ce=k[re]={};for(const ve in oe){const Ce=oe[+ve];if(!Ce||Ce.bitmap.width===0||Ce.bitmap.height===0)continue;const Ae={x:0,y:0,w:Ce.bitmap.width+2,h:Ce.bitmap.height+2};G.push(Ae),ce[ve]={rect:Ae,metrics:Ce.metrics}}}const{w:W,h:ie}=c.potpack(G),ae=new c.AlphaImage({width:W||1,height:ie||1});for(const re in M){const oe=M[re];for(const ce in oe){const ve=oe[+ce];if(!ve||ve.bitmap.width===0||ve.bitmap.height===0)continue;const Ce=k[re][ce].rect;c.AlphaImage.copy(ve.bitmap,ae,{x:0,y:0},{x:Ce.x+1,y:Ce.y+1},ve.bitmap)}}this.image=ae,this.positions=k}}c.register("GlyphAtlas",O);class R{constructor(M){this.tileID=new c.OverscaledTileID(M.tileID.overscaledZ,M.tileID.wrap,M.tileID.canonical.z,M.tileID.canonical.x,M.tileID.canonical.y),this.uid=M.uid,this.zoom=M.zoom,this.pixelRatio=M.pixelRatio,this.tileSize=M.tileSize,this.source=M.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=M.showCollisionBoxes,this.collectResourceTiming=!!M.collectResourceTiming,this.returnDependencies=!!M.returnDependencies,this.promoteId=M.promoteId}parse(M,k,G,W,ie){this.status="parsing",this.data=M,this.collisionBoxArray=new c.CollisionBoxArray;const ae=new c.DictionaryCoder(Object.keys(M.layers).sort()),re=new c.FeatureIndex(this.tileID,this.promoteId);re.bucketLayerIDs=[];const oe={},ce={featureIndex:re,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:G},ve=k.familiesBySource[this.source];for(const $t in ve){const _t=M.layers[$t];if(!_t)continue;_t.version===1&&c.warnOnce(`Vector tile source "${this.source}" layer "${$t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const dt=ae.encode($t),an=[];for(let nn=0;nn<_t.length;nn++){const ln=_t.feature(nn),$n=re.getId(ln,$t);an.push({feature:ln,id:$n,index:nn,sourceLayerIndex:dt})}for(const nn of ve[$t]){const ln=nn[0];ln.source!==this.source&&c.warnOnce(`layer.source = ${ln.source} does not equal this.source = ${this.source}`),ln.minzoom&&this.zoom<Math.floor(ln.minzoom)||ln.maxzoom&&this.zoom>=ln.maxzoom||ln.visibility!=="none"&&(H(nn,this.zoom,G),(oe[ln.id]=ln.createBucket({index:re.bucketLayerIDs.length,layers:nn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dt,sourceID:this.source})).populate(an,ce,this.tileID.canonical),re.bucketLayerIDs.push(nn.map($n=>$n.id)))}}let Ce,Ae,Ye,Ge;const et=c.mapObject(ce.glyphDependencies,$t=>Object.keys($t).map(Number));Object.keys(et).length?W.send("getGlyphs",{uid:this.uid,stacks:et},($t,_t)=>{Ce||(Ce=$t,Ae=_t,xt.call(this))}):Ae={};const it=Object.keys(ce.iconDependencies);it.length?W.send("getImages",{icons:it,source:this.source,tileID:this.tileID,type:"icons"},($t,_t)=>{Ce||(Ce=$t,Ye=_t,xt.call(this))}):Ye={};const mt=Object.keys(ce.patternDependencies);function xt(){if(Ce)return ie(Ce);if(Ae&&Ye&&Ge){const $t=new O(Ae),_t=new c.ImageAtlas(Ye,Ge);for(const dt in oe){const an=oe[dt];an instanceof c.SymbolBucket?(H(an.layers,this.zoom,G),c.performSymbolLayout({bucket:an,glyphMap:Ae,glyphPositions:$t.positions,imageMap:Ye,imagePositions:_t.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):an.hasPattern&&(an instanceof c.LineBucket||an instanceof c.FillBucket||an instanceof c.FillExtrusionBucket)&&(H(an.layers,this.zoom,G),an.addFeatures(ce,this.tileID.canonical,_t.patternPositions))}this.status="done",ie(null,{buckets:Object.values(oe).filter(dt=>!dt.isEmpty()),featureIndex:re,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$t.image,imageAtlas:_t,glyphMap:this.returnDependencies?Ae:null,iconMap:this.returnDependencies?Ye:null,glyphPositions:this.returnDependencies?$t.positions:null})}}mt.length?W.send("getImages",{icons:mt,source:this.source,tileID:this.tileID,type:"patterns"},($t,_t)=>{Ce||(Ce=$t,Ge=_t,xt.call(this))}):Ge={},xt.call(this)}}function H(X,M,k){const G=new c.EvaluationParameters(M);for(const W of X)W.recalculate(G,k)}function K(X,M){const k=c.getArrayBuffer(X.request,(G,W,ie,ae)=>{G?M(G):W&&M(null,{vectorTile:new c.vectorTile.VectorTile(new c.pbf(W)),rawData:W,cacheControl:ie,expires:ae})});return()=>{k.cancel(),M()}}class le{constructor(M,k,G,W){this.actor=M,this.layerIndex=k,this.availableImages=G,this.loadVectorData=W||K,this.loading={},this.loaded={}}loadTile(M,k){const G=M.uid;this.loading||(this.loading={});const W=!!(M&&M.request&&M.request.collectResourceTiming)&&new c.RequestPerformance(M.request),ie=this.loading[G]=new R(M);ie.abort=this.loadVectorData(M,(ae,re)=>{if(delete this.loading[G],ae||!re)return ie.status="done",this.loaded[G]=ie,k(ae);const oe=re.rawData,ce={};re.expires&&(ce.expires=re.expires),re.cacheControl&&(ce.cacheControl=re.cacheControl);const ve={};if(W){const Ce=W.finish();Ce&&(ve.resourceTiming=JSON.parse(JSON.stringify(Ce)))}ie.vectorTile=re.vectorTile,ie.parse(re.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ce,Ae)=>{if(Ce||!Ae)return k(Ce);k(null,c.extend({rawTileData:oe.slice(0)},Ae,ce,ve))}),this.loaded=this.loaded||{},this.loaded[G]=ie})}reloadTile(M,k){const G=this.loaded,W=M.uid,ie=this;if(G&&G[W]){const ae=G[W];ae.showCollisionBoxes=M.showCollisionBoxes;const re=(oe,ce)=>{const ve=ae.reloadCallback;ve&&(delete ae.reloadCallback,ae.parse(ae.vectorTile,ie.layerIndex,this.availableImages,ie.actor,ve)),k(oe,ce)};ae.status==="parsing"?ae.reloadCallback=re:ae.status==="done"&&(ae.vectorTile?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,re):re())}}abortTile(M,k){const G=this.loading,W=M.uid;G&&G[W]&&G[W].abort&&(G[W].abort(),delete G[W]),k()}removeTile(M,k){const G=this.loaded,W=M.uid;G&&G[W]&&delete G[W],k()}}class fe{constructor(){this.loaded={}}loadTile(M,k){const{uid:G,encoding:W,rawImageData:ie}=M,ae=c.isImageBitmap(ie)?this.getImageData(ie):ie,re=new c.DEMData(G,ae,W);this.loaded=this.loaded||{},this.loaded[G]=re,k(null,re)}getImageData(M){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(M.width,M.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=M.width,this.offscreenCanvas.height=M.height,this.offscreenCanvasContext.drawImage(M,0,0,M.width,M.height);const k=this.offscreenCanvasContext.getImageData(-1,-1,M.width+2,M.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new c.RGBAImage({width:k.width,height:k.height},k.data)}removeTile(M){const k=this.loaded,G=M.uid;k&&k[G]&&delete k[G]}}var ye=function X(M,k){var G,W=M&&M.type;if(W==="FeatureCollection")for(G=0;G<M.features.length;G++)X(M.features[G],k);else if(W==="GeometryCollection")for(G=0;G<M.geometries.length;G++)X(M.geometries[G],k);else if(W==="Feature")X(M.geometry,k);else if(W==="Polygon")xe(M.coordinates,k);else if(W==="MultiPolygon")for(G=0;G<M.coordinates.length;G++)xe(M.coordinates[G],k);return M};function xe(X,M){if(X.length!==0){Pe(X[0],M);for(var k=1;k<X.length;k++)Pe(X[k],!1)}}function Pe(X,M){for(var k=0,G=0,W=0,ie=X.length,ae=ie-1;W<ie;ae=W++){var re=(X[W][0]-X[ae][0])*(X[ae][1]+X[W][1]),oe=k+re;G+=Math.abs(k)>=Math.abs(re)?k-oe+re:re-oe+k,k=oe}k+G>=0!=!!M&&X.reverse()}const Re=c.vectorTile.VectorTileFeature.prototype.toGeoJSON;class Ze{constructor(M){this._feature=M,this.extent=c.EXTENT,this.type=M.type,this.properties=M.tags,"id"in M&&!isNaN(M.id)&&(this.id=parseInt(M.id,10))}loadGeometry(){if(this._feature.type===1){const M=[];for(const k of this._feature.geometry)M.push([new c.pointGeometry(k[0],k[1])]);return M}{const M=[];for(const k of this._feature.geometry){const G=[];for(const W of k)G.push(new c.pointGeometry(W[0],W[1]));M.push(G)}return M}}toGeoJSON(M,k,G){return Re.call(this,M,k,G)}}class ot{constructor(M){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.EXTENT,this.length=M.length,this._features=M}feature(M){return new Ze(this._features[M])}}var ut={exports:{}},lt=c.pointGeometry,ct=c.vectorTile.VectorTileFeature,wt=At;function At(X,M){this.options=M||{},this.features=X,this.length=X.length}function Ot(X,M){this.id=typeof X.id=="number"?X.id:void 0,this.type=X.type,this.rawGeometry=X.type===1?[X.geometry]:X.geometry,this.properties=X.tags,this.extent=M||4096}At.prototype.feature=function(X){return new Ot(this.features[X],this.options.extent)},Ot.prototype.loadGeometry=function(){var X=this.rawGeometry;this.geometry=[];for(var M=0;M<X.length;M++){for(var k=X[M],G=[],W=0;W<k.length;W++)G.push(new lt(k[W][0],k[W][1]));this.geometry.push(G)}return this.geometry},Ot.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var X=this.geometry,M=1/0,k=-1/0,G=1/0,W=-1/0,ie=0;ie<X.length;ie++)for(var ae=X[ie],re=0;re<ae.length;re++){var oe=ae[re];M=Math.min(M,oe.x),k=Math.max(k,oe.x),G=Math.min(G,oe.y),W=Math.max(W,oe.y)}return[M,G,k,W]},Ot.prototype.toGeoJSON=ct.prototype.toGeoJSON;var Ut=c.pbf,Ve=wt;function ht(X){var M=new Ut;return function(k,G){for(var W in k.layers)G.writeMessage(3,He,k.layers[W])}(X,M),M.finish()}function He(X,M){var k;M.writeVarintField(15,X.version||1),M.writeStringField(1,X.name||""),M.writeVarintField(5,X.extent||4096);var G={keys:[],values:[],keycache:{},valuecache:{}};for(k=0;k<X.length;k++)G.feature=X.feature(k),M.writeMessage(2,Ft,G);var W=G.keys;for(k=0;k<W.length;k++)M.writeStringField(3,W[k]);var ie=G.values;for(k=0;k<ie.length;k++)M.writeMessage(4,zn,ie[k])}function Ft(X,M){var k=X.feature;k.id!==void 0&&M.writeVarintField(1,k.id),M.writeMessage(2,Kt,X),M.writeVarintField(3,k.type),M.writeMessage(4,In,k)}function Kt(X,M){var k=X.feature,G=X.keys,W=X.values,ie=X.keycache,ae=X.valuecache;for(var re in k.properties){var oe=k.properties[re],ce=ie[re];if(oe!==null){ce===void 0&&(G.push(re),ie[re]=ce=G.length-1),M.writeVarint(ce);var ve=typeof oe;ve!=="string"&&ve!=="boolean"&&ve!=="number"&&(oe=JSON.stringify(oe));var Ce=ve+":"+oe,Ae=ae[Ce];Ae===void 0&&(W.push(oe),ae[Ce]=Ae=W.length-1),M.writeVarint(Ae)}}}function Zt(X,M){return(M<<3)+(7&X)}function Nn(X){return X<<1^X>>31}function In(X,M){for(var k=X.loadGeometry(),G=X.type,W=0,ie=0,ae=k.length,re=0;re<ae;re++){var oe=k[re],ce=1;G===1&&(ce=oe.length),M.writeVarint(Zt(1,ce));for(var ve=G===3?oe.length-1:oe.length,Ce=0;Ce<ve;Ce++){Ce===1&&G!==1&&M.writeVarint(Zt(2,ve-1));var Ae=oe[Ce].x-W,Ye=oe[Ce].y-ie;M.writeVarint(Nn(Ae)),M.writeVarint(Nn(Ye)),W+=Ae,ie+=Ye}G===3&&M.writeVarint(Zt(7,1))}}function zn(X,M){var k=typeof X;k==="string"?M.writeStringField(1,X):k==="boolean"?M.writeBooleanField(7,X):k==="number"&&(X%1!=0?M.writeDoubleField(3,X):X<0?M.writeSVarintField(6,X):M.writeVarintField(5,X))}function Pn(X,M,k,G,W,ie){if(W-G<=k)return;const ae=G+W>>1;oi(X,M,ae,G,W,ie%2),Pn(X,M,k,G,ae-1,ie+1),Pn(X,M,k,ae+1,W,ie+1)}function oi(X,M,k,G,W,ie){for(;W>G;){if(W-G>600){const ce=W-G+1,ve=k-G+1,Ce=Math.log(ce),Ae=.5*Math.exp(2*Ce/3),Ye=.5*Math.sqrt(Ce*Ae*(ce-Ae)/ce)*(ve-ce/2<0?-1:1);oi(X,M,k,Math.max(G,Math.floor(k-ve*Ae/ce+Ye)),Math.min(W,Math.floor(k+(ce-ve)*Ae/ce+Ye)),ie)}const ae=M[2*k+ie];let re=G,oe=W;for(yn(X,M,G,k),M[2*W+ie]>ae&&yn(X,M,G,W);re<oe;){for(yn(X,M,re,oe),re++,oe--;M[2*re+ie]<ae;)re++;for(;M[2*oe+ie]>ae;)oe--}M[2*G+ie]===ae?yn(X,M,G,oe):(oe++,yn(X,M,oe,W)),oe<=k&&(G=oe+1),k<=oe&&(W=oe-1)}}function yn(X,M,k,G){$i(X,k,G),$i(M,2*k,2*G),$i(M,2*k+1,2*G+1)}function $i(X,M,k){const G=X[M];X[M]=X[k],X[k]=G}function Ci(X,M,k,G){const W=X-k,ie=M-G;return W*W+ie*ie}ut.exports=ht,ut.exports.fromVectorTileJs=ht,ut.exports.fromGeojsonVt=function(X,M){M=M||{};var k={};for(var G in X)k[G]=new Ve(X[G].features,M),k[G].name=G,k[G].version=M.version,k[G].extent=M.extent;return ht({layers:k})},ut.exports.GeoJSONWrapper=Ve;const Do=X=>X[0],Gn=X=>X[1];class lo{constructor(M,k=Do,G=Gn,W=64,ie=Float64Array){this.nodeSize=W,this.points=M;const ae=M.length<65536?Uint16Array:Uint32Array,re=this.ids=new ae(M.length),oe=this.coords=new ie(2*M.length);for(let ce=0;ce<M.length;ce++)re[ce]=ce,oe[2*ce]=k(M[ce]),oe[2*ce+1]=G(M[ce]);Pn(re,oe,W,0,re.length-1,0)}range(M,k,G,W){return function(ie,ae,re,oe,ce,ve,Ce){const Ae=[0,ie.length-1,0],Ye=[];let Ge,et;for(;Ae.length;){const it=Ae.pop(),mt=Ae.pop(),xt=Ae.pop();if(mt-xt<=Ce){for(let dt=xt;dt<=mt;dt++)Ge=ae[2*dt],et=ae[2*dt+1],Ge>=re&&Ge<=ce&&et>=oe&&et<=ve&&Ye.push(ie[dt]);continue}const $t=Math.floor((xt+mt)/2);Ge=ae[2*$t],et=ae[2*$t+1],Ge>=re&&Ge<=ce&&et>=oe&&et<=ve&&Ye.push(ie[$t]);const _t=(it+1)%2;(it===0?re<=Ge:oe<=et)&&(Ae.push(xt),Ae.push($t-1),Ae.push(_t)),(it===0?ce>=Ge:ve>=et)&&(Ae.push($t+1),Ae.push(mt),Ae.push(_t))}return Ye}(this.ids,this.coords,M,k,G,W,this.nodeSize)}within(M,k,G){return function(W,ie,ae,re,oe,ce){const ve=[0,W.length-1,0],Ce=[],Ae=oe*oe;for(;ve.length;){const Ye=ve.pop(),Ge=ve.pop(),et=ve.pop();if(Ge-et<=ce){for(let _t=et;_t<=Ge;_t++)Ci(ie[2*_t],ie[2*_t+1],ae,re)<=Ae&&Ce.push(W[_t]);continue}const it=Math.floor((et+Ge)/2),mt=ie[2*it],xt=ie[2*it+1];Ci(mt,xt,ae,re)<=Ae&&Ce.push(W[it]);const $t=(Ye+1)%2;(Ye===0?ae-oe<=mt:re-oe<=xt)&&(ve.push(et),ve.push(it-1),ve.push($t)),(Ye===0?ae+oe>=mt:re+oe>=xt)&&(ve.push(it+1),ve.push(Ge),ve.push($t))}return Ce}(this.ids,this.coords,M,k,G,this.nodeSize)}}const Ro={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:X=>X},ri=Math.fround||(ei=new Float32Array(1),X=>(ei[0]=+X,ei[0]));var ei;class gr{constructor(M){this.options=Mi(Object.create(Ro),M),this.trees=new Array(this.options.maxZoom+1)}load(M){const{log:k,minZoom:G,maxZoom:W,nodeSize:ie}=this.options;k&&console.time("total time");const ae=`prepare ${M.length} points`;k&&console.time(ae),this.points=M;let re=[];for(let oe=0;oe<M.length;oe++)M[oe].geometry&&re.push(uo(M[oe],oe));this.trees[W+1]=new lo(re,po,vi,ie,Float32Array),k&&console.timeEnd(ae);for(let oe=W;oe>=G;oe--){const ce=+Date.now();re=this._cluster(re,oe),this.trees[oe]=new lo(re,po,vi,ie,Float32Array),k&&console.log("z%d: %d clusters in %dms",oe,re.length,+Date.now()-ce)}return k&&console.timeEnd("total time"),this}getClusters(M,k){let G=((M[0]+180)%360+360)%360-180;const W=Math.max(-90,Math.min(90,M[1]));let ie=M[2]===180?180:((M[2]+180)%360+360)%360-180;const ae=Math.max(-90,Math.min(90,M[3]));if(M[2]-M[0]>=360)G=-180,ie=180;else if(G>ie){const ve=this.getClusters([G,W,180,ae],k),Ce=this.getClusters([-180,W,ie,ae],k);return ve.concat(Ce)}const re=this.trees[this._limitZoom(k)],oe=re.range(St(G),ai(ae),St(ie),ai(W)),ce=[];for(const ve of oe){const Ce=re.points[ve];ce.push(Ce.numPoints?dr(Ce):this.points[Ce.index])}return ce}getChildren(M){const k=this._getOriginId(M),G=this._getOriginZoom(M),W="No cluster with the specified id.",ie=this.trees[G];if(!ie)throw new Error(W);const ae=ie.points[k];if(!ae)throw new Error(W);const re=this.options.radius/(this.options.extent*Math.pow(2,G-1)),oe=ie.within(ae.x,ae.y,re),ce=[];for(const ve of oe){const Ce=ie.points[ve];Ce.parentId===M&&ce.push(Ce.numPoints?dr(Ce):this.points[Ce.index])}if(ce.length===0)throw new Error(W);return ce}getLeaves(M,k,G){const W=[];return this._appendLeaves(W,M,k=k||10,G=G||0,0),W}getTile(M,k,G){const W=this.trees[this._limitZoom(M)],ie=Math.pow(2,M),{extent:ae,radius:re}=this.options,oe=re/ae,ce=(G-oe)/ie,ve=(G+1+oe)/ie,Ce={features:[]};return this._addTileFeatures(W.range((k-oe)/ie,ce,(k+1+oe)/ie,ve),W.points,k,G,ie,Ce),k===0&&this._addTileFeatures(W.range(1-oe/ie,ce,1,ve),W.points,ie,G,ie,Ce),k===ie-1&&this._addTileFeatures(W.range(0,ce,oe/ie,ve),W.points,-1,G,ie,Ce),Ce.features.length?Ce:null}getClusterExpansionZoom(M){let k=this._getOriginZoom(M)-1;for(;k<=this.options.maxZoom;){const G=this.getChildren(M);if(k++,G.length!==1)break;M=G[0].properties.cluster_id}return k}_appendLeaves(M,k,G,W,ie){const ae=this.getChildren(k);for(const re of ae){const oe=re.properties;if(oe&&oe.cluster?ie+oe.point_count<=W?ie+=oe.point_count:ie=this._appendLeaves(M,oe.cluster_id,G,W,ie):ie<W?ie++:M.push(re),M.length===G)break}return ie}_addTileFeatures(M,k,G,W,ie,ae){for(const re of M){const oe=k[re],ce=oe.numPoints;let ve,Ce,Ae;if(ce)ve=co(oe),Ce=oe.x,Ae=oe.y;else{const et=this.points[oe.index];ve=et.properties,Ce=St(et.geometry.coordinates[0]),Ae=ai(et.geometry.coordinates[1])}const Ye={type:1,geometry:[[Math.round(this.options.extent*(Ce*ie-G)),Math.round(this.options.extent*(Ae*ie-W))]],tags:ve};let Ge;ce?Ge=oe.id:this.options.generateId?Ge=oe.index:this.points[oe.index].id&&(Ge=this.points[oe.index].id),Ge!==void 0&&(Ye.id=Ge),ae.features.push(Ye)}}_limitZoom(M){return Math.max(this.options.minZoom,Math.min(Math.floor(+M),this.options.maxZoom+1))}_cluster(M,k){const G=[],{radius:W,extent:ie,reduce:ae,minPoints:re}=this.options,oe=W/(ie*Math.pow(2,k));for(let ce=0;ce<M.length;ce++){const ve=M[ce];if(ve.zoom<=k)continue;ve.zoom=k;const Ce=this.trees[k+1],Ae=Ce.within(ve.x,ve.y,oe),Ye=ve.numPoints||1;let Ge=Ye;for(const et of Ae){const it=Ce.points[et];it.zoom>k&&(Ge+=it.numPoints||1)}if(Ge>Ye&&Ge>=re){let et=ve.x*Ye,it=ve.y*Ye,mt=ae&&Ye>1?this._map(ve,!0):null;const xt=(ce<<5)+(k+1)+this.points.length;for(const $t of Ae){const _t=Ce.points[$t];if(_t.zoom<=k)continue;_t.zoom=k;const dt=_t.numPoints||1;et+=_t.x*dt,it+=_t.y*dt,_t.parentId=xt,ae&&(mt||(mt=this._map(ve,!0)),ae(mt,this._map(_t)))}ve.parentId=xt,G.push(Ii(et/Ge,it/Ge,xt,Ge,mt))}else if(G.push(ve),Ge>1)for(const et of Ae){const it=Ce.points[et];it.zoom<=k||(it.zoom=k,G.push(it))}}return G}_getOriginId(M){return M-this.points.length>>5}_getOriginZoom(M){return(M-this.points.length)%32}_map(M,k){if(M.numPoints)return k?Mi({},M.properties):M.properties;const G=this.points[M.index].properties,W=this.options.map(G);return k&&W===G?Mi({},W):W}}function Ii(X,M,k,G,W){return{x:ri(X),y:ri(M),zoom:1/0,id:k,parentId:-1,numPoints:G,properties:W}}function uo(X,M){const[k,G]=X.geometry.coordinates;return{x:ri(St(k)),y:ri(ai(G)),zoom:1/0,index:M,parentId:-1}}function dr(X){return{type:"Feature",id:X.id,properties:co(X),geometry:{type:"Point",coordinates:[(M=X.x,360*(M-.5)),Lo(X.y)]}};var M}function co(X){const M=X.numPoints,k=M>=1e4?`${Math.round(M/1e3)}k`:M>=1e3?Math.round(M/100)/10+"k":M;return Mi(Mi({},X.properties),{cluster:!0,cluster_id:X.id,point_count:M,point_count_abbreviated:k})}function St(X){return X/360+.5}function ai(X){const M=Math.sin(X*Math.PI/180),k=.5-.25*Math.log((1+M)/(1-M))/Math.PI;return k<0?0:k>1?1:k}function Lo(X){const M=(180-360*X)*Math.PI/180;return 360*Math.atan(Math.exp(M))/Math.PI-90}function Mi(X,M){for(const k in M)X[k]=M[k];return X}function po(X){return X.x}function vi(X){return X.y}function Ni(X,M,k,G){for(var W,ie=G,ae=k-M>>1,re=k-M,oe=X[M],ce=X[M+1],ve=X[k],Ce=X[k+1],Ae=M+3;Ae<k;Ae+=3){var Ye=go(X[Ae],X[Ae+1],oe,ce,ve,Ce);if(Ye>ie)W=Ae,ie=Ye;else if(Ye===ie){var Ge=Math.abs(Ae-ae);Ge<re&&(W=Ae,re=Ge)}}ie>G&&(W-M>3&&Ni(X,M,W,G),X[W+2]=ie,k-W>3&&Ni(X,W,k,G))}function go(X,M,k,G,W,ie){var ae=W-k,re=ie-G;if(ae!==0||re!==0){var oe=((X-k)*ae+(M-G)*re)/(ae*ae+re*re);oe>1?(k=W,G=ie):oe>0&&(k+=ae*oe,G+=re*oe)}return(ae=X-k)*ae+(re=M-G)*re}function Te(X,M,k,G){var W={id:X===void 0?null:X,type:M,geometry:k,tags:G,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ie){var ae=ie.geometry,re=ie.type;if(re==="Point"||re==="MultiPoint"||re==="LineString")Me(ie,ae);else if(re==="Polygon"||re==="MultiLineString")for(var oe=0;oe<ae.length;oe++)Me(ie,ae[oe]);else if(re==="MultiPolygon")for(oe=0;oe<ae.length;oe++)for(var ce=0;ce<ae[oe].length;ce++)Me(ie,ae[oe][ce])}(W),W}function Me(X,M){for(var k=0;k<M.length;k+=3)X.minX=Math.min(X.minX,M[k]),X.minY=Math.min(X.minY,M[k+1]),X.maxX=Math.max(X.maxX,M[k]),X.maxY=Math.max(X.maxY,M[k+1])}function qi(X,M,k,G){if(M.geometry){var W=M.geometry.coordinates,ie=M.geometry.type,ae=Math.pow(k.tolerance/((1<<k.maxZoom)*k.extent),2),re=[],oe=M.id;if(k.promoteId?oe=M.properties[k.promoteId]:k.generateId&&(oe=G||0),ie==="Point")si(W,re);else if(ie==="MultiPoint")for(var ce=0;ce<W.length;ce++)si(W[ce],re);else if(ie==="LineString")jt(W,re,ae,!1);else if(ie==="MultiLineString"){if(k.lineMetrics){for(ce=0;ce<W.length;ce++)jt(W[ce],re=[],ae,!1),X.push(Te(oe,"LineString",re,M.properties));return}tn(W,re,ae,!1)}else if(ie==="Polygon")tn(W,re,ae,!0);else{if(ie!=="MultiPolygon"){if(ie==="GeometryCollection"){for(ce=0;ce<M.geometry.geometries.length;ce++)qi(X,{id:oe,geometry:M.geometry.geometries[ce],properties:M.properties},k,G);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ce=0;ce<W.length;ce++){var ve=[];tn(W[ce],ve,ae,!0),re.push(ve)}}X.push(Te(oe,ie,re,M.properties))}}function si(X,M){M.push(wn(X[0])),M.push(ho(X[1])),M.push(0)}function jt(X,M,k,G){for(var W,ie,ae=0,re=0;re<X.length;re++){var oe=wn(X[re][0]),ce=ho(X[re][1]);M.push(oe),M.push(ce),M.push(0),re>0&&(ae+=G?(W*ce-oe*ie)/2:Math.sqrt(Math.pow(oe-W,2)+Math.pow(ce-ie,2))),W=oe,ie=ce}var ve=M.length-3;M[2]=1,Ni(M,0,ve,k),M[ve+2]=1,M.size=Math.abs(ae),M.start=0,M.end=M.size}function tn(X,M,k,G){for(var W=0;W<X.length;W++){var ie=[];jt(X[W],ie,k,G),M.push(ie)}}function wn(X){return X/360+.5}function ho(X){var M=Math.sin(X*Math.PI/180),k=.5-.25*Math.log((1+M)/(1-M))/Math.PI;return k<0?0:k>1?1:k}function On(X,M,k,G,W,ie,ae,re){if(G/=M,ie>=(k/=M)&&ae<G)return X;if(ae<k||ie>=G)return null;for(var oe=[],ce=0;ce<X.length;ce++){var ve=X[ce],Ce=ve.geometry,Ae=ve.type,Ye=W===0?ve.minX:ve.minY,Ge=W===0?ve.maxX:ve.maxY;if(Ye>=k&&Ge<G)oe.push(ve);else if(!(Ge<k||Ye>=G)){var et=[];if(Ae==="Point"||Ae==="MultiPoint")Fe(Ce,et,k,G,W);else if(Ae==="LineString")yt(Ce,et,k,G,W,!1,re.lineMetrics);else if(Ae==="MultiLineString")Dn(Ce,et,k,G,W,!1);else if(Ae==="Polygon")Dn(Ce,et,k,G,W,!0);else if(Ae==="MultiPolygon")for(var it=0;it<Ce.length;it++){var mt=[];Dn(Ce[it],mt,k,G,W,!0),mt.length&&et.push(mt)}if(et.length){if(re.lineMetrics&&Ae==="LineString"){for(it=0;it<et.length;it++)oe.push(Te(ve.id,Ae,et[it],ve.tags));continue}Ae!=="LineString"&&Ae!=="MultiLineString"||(et.length===1?(Ae="LineString",et=et[0]):Ae="MultiLineString"),Ae!=="Point"&&Ae!=="MultiPoint"||(Ae=et.length===3?"Point":"MultiPoint"),oe.push(Te(ve.id,Ae,et,ve.tags))}}}return oe.length?oe:null}function Fe(X,M,k,G,W){for(var ie=0;ie<X.length;ie+=3){var ae=X[ie+W];ae>=k&&ae<=G&&(M.push(X[ie]),M.push(X[ie+1]),M.push(X[ie+2]))}}function yt(X,M,k,G,W,ie,ae){for(var re,oe,ce=gt(X),ve=W===0?ft:li,Ce=X.start,Ae=0;Ae<X.length-3;Ae+=3){var Ye=X[Ae],Ge=X[Ae+1],et=X[Ae+2],it=X[Ae+3],mt=X[Ae+4],xt=W===0?Ye:Ge,$t=W===0?it:mt,_t=!1;ae&&(re=Math.sqrt(Math.pow(Ye-it,2)+Math.pow(Ge-mt,2))),xt<k?$t>k&&(oe=ve(ce,Ye,Ge,it,mt,k),ae&&(ce.start=Ce+re*oe)):xt>G?$t<G&&(oe=ve(ce,Ye,Ge,it,mt,G),ae&&(ce.start=Ce+re*oe)):qn(ce,Ye,Ge,et),$t<k&&xt>=k&&(oe=ve(ce,Ye,Ge,it,mt,k),_t=!0),$t>G&&xt<=G&&(oe=ve(ce,Ye,Ge,it,mt,G),_t=!0),!ie&&_t&&(ae&&(ce.end=Ce+re*oe),M.push(ce),ce=gt(X)),ae&&(Ce+=re)}var dt=X.length-3;Ye=X[dt],Ge=X[dt+1],et=X[dt+2],(xt=W===0?Ye:Ge)>=k&&xt<=G&&qn(ce,Ye,Ge,et),dt=ce.length-3,ie&&dt>=3&&(ce[dt]!==ce[0]||ce[dt+1]!==ce[1])&&qn(ce,ce[0],ce[1],ce[2]),ce.length&&M.push(ce)}function gt(X){var M=[];return M.size=X.size,M.start=X.start,M.end=X.end,M}function Dn(X,M,k,G,W,ie){for(var ae=0;ae<X.length;ae++)yt(X[ae],M,k,G,W,ie,!1)}function qn(X,M,k,G){X.push(M),X.push(k),X.push(G)}function ft(X,M,k,G,W,ie){var ae=(ie-M)/(G-M);return X.push(ie),X.push(k+(W-k)*ae),X.push(1),ae}function li(X,M,k,G,W,ie){var ae=(ie-k)/(W-k);return X.push(M+(G-M)*ae),X.push(ie),X.push(1),ae}function bi(X,M){for(var k=[],G=0;G<X.length;G++){var W,ie=X[G],ae=ie.type;if(ae==="Point"||ae==="MultiPoint"||ae==="LineString")W=xn(ie.geometry,M);else if(ae==="MultiLineString"||ae==="Polygon"){W=[];for(var re=0;re<ie.geometry.length;re++)W.push(xn(ie.geometry[re],M))}else if(ae==="MultiPolygon")for(W=[],re=0;re<ie.geometry.length;re++){for(var oe=[],ce=0;ce<ie.geometry[re].length;ce++)oe.push(xn(ie.geometry[re][ce],M));W.push(oe)}k.push(Te(ie.id,ae,W,ie.tags))}return k}function xn(X,M){var k=[];k.size=X.size,X.start!==void 0&&(k.start=X.start,k.end=X.end);for(var G=0;G<X.length;G+=3)k.push(X[G]+M,X[G+1],X[G+2]);return k}function zi(X,M){if(X.transformed)return X;var k,G,W,ie=1<<X.z,ae=X.x,re=X.y;for(k=0;k<X.features.length;k++){var oe=X.features[k],ce=oe.geometry,ve=oe.type;if(oe.geometry=[],ve===1)for(G=0;G<ce.length;G+=2)oe.geometry.push(kt(ce[G],ce[G+1],M,ie,ae,re));else for(G=0;G<ce.length;G++){var Ce=[];for(W=0;W<ce[G].length;W+=2)Ce.push(kt(ce[G][W],ce[G][W+1],M,ie,ae,re));oe.geometry.push(Ce)}}return X.transformed=!0,X}function kt(X,M,k,G,W,ie){return[Math.round(k*(X*G-W)),Math.round(k*(M*G-ie))]}function Bt(X,M,k,G,W){for(var ie=M===W.maxZoom?0:W.tolerance/((1<<M)*W.extent),ae={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:k,y:G,z:M,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},re=0;re<X.length;re++){ae.numFeatures++,Hi(ae,X[re],ie,W);var oe=X[re].minX,ce=X[re].minY,ve=X[re].maxX,Ce=X[re].maxY;oe<ae.minX&&(ae.minX=oe),ce<ae.minY&&(ae.minY=ce),ve>ae.maxX&&(ae.maxX=ve),Ce>ae.maxY&&(ae.maxY=Ce)}return ae}function Hi(X,M,k,G){var W=M.geometry,ie=M.type,ae=[];if(ie==="Point"||ie==="MultiPoint")for(var re=0;re<W.length;re+=3)ae.push(W[re]),ae.push(W[re+1]),X.numPoints++,X.numSimplified++;else if(ie==="LineString")xi(ae,W,X,k,!1,!1);else if(ie==="MultiLineString"||ie==="Polygon")for(re=0;re<W.length;re++)xi(ae,W[re],X,k,ie==="Polygon",re===0);else if(ie==="MultiPolygon")for(var oe=0;oe<W.length;oe++){var ce=W[oe];for(re=0;re<ce.length;re++)xi(ae,ce[re],X,k,!0,re===0)}if(ae.length){var ve=M.tags||null;if(ie==="LineString"&&G.lineMetrics){for(var Ce in ve={},M.tags)ve[Ce]=M.tags[Ce];ve.mapbox_clip_start=W.start/W.size,ve.mapbox_clip_end=W.end/W.size}var Ae={geometry:ae,type:ie==="Polygon"||ie==="MultiPolygon"?3:ie==="LineString"||ie==="MultiLineString"?2:1,tags:ve};M.id!==null&&(Ae.id=M.id),X.features.push(Ae)}}function xi(X,M,k,G,W,ie){var ae=G*G;if(G>0&&M.size<(W?ae:G))k.numPoints+=M.length/3;else{for(var re=[],oe=0;oe<M.length;oe+=3)(G===0||M[oe+2]>ae)&&(k.numSimplified++,re.push(M[oe]),re.push(M[oe+1])),k.numPoints++;W&&function(ce,ve){for(var Ce=0,Ae=0,Ye=ce.length,Ge=Ye-2;Ae<Ye;Ge=Ae,Ae+=2)Ce+=(ce[Ae]-ce[Ge])*(ce[Ae+1]+ce[Ge+1]);if(Ce>0===ve)for(Ae=0,Ye=ce.length;Ae<Ye/2;Ae+=2){var et=ce[Ae],it=ce[Ae+1];ce[Ae]=ce[Ye-2-Ae],ce[Ae+1]=ce[Ye-1-Ae],ce[Ye-2-Ae]=et,ce[Ye-1-Ae]=it}}(re,ie),X.push(re)}}function Fi(X,M){var k=(M=this.options=function(W,ie){for(var ae in ie)W[ae]=ie[ae];return W}(Object.create(this.options),M)).debug;if(k&&console.time("preprocess data"),M.maxZoom<0||M.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(M.promoteId&&M.generateId)throw new Error("promoteId and generateId cannot be used together.");var G=function(W,ie){var ae=[];if(W.type==="FeatureCollection")for(var re=0;re<W.features.length;re++)qi(ae,W.features[re],ie,re);else qi(ae,W.type==="Feature"?W:{geometry:W},ie);return ae}(X,M);this.tiles={},this.tileCoords=[],k&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",M.indexMaxZoom,M.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),G=function(W,ie){var ae=ie.buffer/ie.extent,re=W,oe=On(W,1,-1-ae,ae,0,-1,2,ie),ce=On(W,1,1-ae,2+ae,0,-1,2,ie);return(oe||ce)&&(re=On(W,1,-ae,1+ae,0,-1,2,ie)||[],oe&&(re=bi(oe,1).concat(re)),ce&&(re=re.concat(bi(ce,-1)))),re}(G,M),G.length&&this.splitTile(G,0,0,0),k&&(G.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pi(X,M,k){return 32*((1<<X)*k+M)+X}function Mo(X,M){const k=X.tileID.canonical;if(!this._geoJSONIndex)return M(null,null);const G=this._geoJSONIndex.getTile(k.z,k.x,k.y);if(!G)return M(null,null);const W=new ot(G.features);let ie=ut.exports(W);ie.byteOffset===0&&ie.byteLength===ie.buffer.byteLength||(ie=new Uint8Array(ie)),M(null,{vectorTile:W,rawData:ie.buffer})}Fi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Fi.prototype.splitTile=function(X,M,k,G,W,ie,ae){for(var re=[X,M,k,G],oe=this.options,ce=oe.debug;re.length;){G=re.pop(),k=re.pop(),M=re.pop(),X=re.pop();var ve=1<<M,Ce=Pi(M,k,G),Ae=this.tiles[Ce];if(!Ae&&(ce>1&&console.time("creation"),Ae=this.tiles[Ce]=Bt(X,M,k,G,oe),this.tileCoords.push({z:M,x:k,y:G}),ce)){ce>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",M,k,G,Ae.numFeatures,Ae.numPoints,Ae.numSimplified),console.timeEnd("creation"));var Ye="z"+M;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(Ae.source=X,W){if(M===oe.maxZoom||M===W)continue;var Ge=1<<W-M;if(k!==Math.floor(ie/Ge)||G!==Math.floor(ae/Ge))continue}else if(M===oe.indexMaxZoom||Ae.numPoints<=oe.indexMaxPoints)continue;if(Ae.source=null,X.length!==0){ce>1&&console.time("clipping");var et,it,mt,xt,$t,_t,dt=.5*oe.buffer/oe.extent,an=.5-dt,nn=.5+dt,ln=1+dt;et=it=mt=xt=null,$t=On(X,ve,k-dt,k+nn,0,Ae.minX,Ae.maxX,oe),_t=On(X,ve,k+an,k+ln,0,Ae.minX,Ae.maxX,oe),X=null,$t&&(et=On($t,ve,G-dt,G+nn,1,Ae.minY,Ae.maxY,oe),it=On($t,ve,G+an,G+ln,1,Ae.minY,Ae.maxY,oe),$t=null),_t&&(mt=On(_t,ve,G-dt,G+nn,1,Ae.minY,Ae.maxY,oe),xt=On(_t,ve,G+an,G+ln,1,Ae.minY,Ae.maxY,oe),_t=null),ce>1&&console.timeEnd("clipping"),re.push(et||[],M+1,2*k,2*G),re.push(it||[],M+1,2*k,2*G+1),re.push(mt||[],M+1,2*k+1,2*G),re.push(xt||[],M+1,2*k+1,2*G+1)}}},Fi.prototype.getTile=function(X,M,k){var G=this.options,W=G.extent,ie=G.debug;if(X<0||X>24)return null;var ae=1<<X,re=Pi(X,M=(M%ae+ae)%ae,k);if(this.tiles[re])return zi(this.tiles[re],W);ie>1&&console.log("drilling down to z%d-%d-%d",X,M,k);for(var oe,ce=X,ve=M,Ce=k;!oe&&ce>0;)ce--,ve=Math.floor(ve/2),Ce=Math.floor(Ce/2),oe=this.tiles[Pi(ce,ve,Ce)];return oe&&oe.source?(ie>1&&console.log("found parent tile z%d-%d-%d",ce,ve,Ce),ie>1&&console.time("drilling down"),this.splitTile(oe.source,ce,ve,Ce,X,M,k),ie>1&&console.timeEnd("drilling down"),this.tiles[re]?zi(this.tiles[re],W):null):null};class No extends le{constructor(M,k,G,W){super(M,k,G,Mo),W&&(this.loadGeoJSON=W)}loadData(M,k){var G;(G=this._pendingRequest)===null||G===void 0||G.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const W=!!(M&&M.request&&M.request.collectResourceTiming)&&new c.RequestPerformance(M.request);this._pendingCallback=k,this._pendingRequest=this.loadGeoJSON(M,(ie,ae)=>{if(delete this._pendingCallback,delete this._pendingRequest,ie||!ae)return k(ie);if(typeof ae!="object")return k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`));{ye(ae,!0);try{if(M.filter){const oe=c.createExpression(M.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(oe.result==="error")throw new Error(oe.value.map(ve=>`${ve.key}: ${ve.message}`).join(", "));ae={type:"FeatureCollection",features:ae.features.filter(ve=>oe.value.evaluate({zoom:0},ve))}}this._geoJSONIndex=M.cluster?new gr(function({superclusterOptions:oe,clusterProperties:ce}){if(!ce||!oe)return oe;const ve={},Ce={},Ae={accumulated:null,zoom:0},Ye={properties:null},Ge=Object.keys(ce);for(const et of Ge){const[it,mt]=ce[et],xt=c.createExpression(mt),$t=c.createExpression(typeof it=="string"?[it,["accumulated"],["get",et]]:it);ve[et]=xt.value,Ce[et]=$t.value}return oe.map=et=>{Ye.properties=et;const it={};for(const mt of Ge)it[mt]=ve[mt].evaluate(Ae,Ye);return it},oe.reduce=(et,it)=>{Ye.properties=it;for(const mt of Ge)Ae.accumulated=et[mt],et[mt]=Ce[mt].evaluate(Ae,Ye)},oe}(M)).load(ae.features):function(oe,ce){return new Fi(oe,ce)}(ae,M.geojsonVtOptions)}catch(oe){return k(oe)}this.loaded={};const re={};if(W){const oe=W.finish();oe&&(re.resourceTiming={},re.resourceTiming[M.source]=JSON.parse(JSON.stringify(oe)))}k(null,re)}})}reloadTile(M,k){const G=this.loaded;return G&&G[M.uid]?super.reloadTile(M,k):this.loadTile(M,k)}loadGeoJSON(M,k){if(M.request)return c.getJSON(M.request,k);if(typeof M.data=="string")try{k(null,JSON.parse(M.data))}catch{k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`))}else k(new Error(`Input data given to '${M.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(M,k){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),k()}getClusterExpansionZoom(M,k){try{k(null,this._geoJSONIndex.getClusterExpansionZoom(M.clusterId))}catch(G){k(G)}}getClusterChildren(M,k){try{k(null,this._geoJSONIndex.getChildren(M.clusterId))}catch(G){k(G)}}getClusterLeaves(M,k){try{k(null,this._geoJSONIndex.getLeaves(M.clusterId,M.limit,M.offset))}catch(G){k(G)}}}class wi{constructor(M){this.self=M,this.actor=new c.Actor(M,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:le,geojson:No},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(k,G)=>{if(this.workerSourceTypes[k])throw new Error(`Worker source with name "${k}" already registered.`);this.workerSourceTypes[k]=G},this.self.registerRTLTextPlugin=k=>{if(c.plugin.isParsed())throw new Error("RTL text plugin already registered.");c.plugin.applyArabicShaping=k.applyArabicShaping,c.plugin.processBidirectionalText=k.processBidirectionalText,c.plugin.processStyledBidirectionalText=k.processStyledBidirectionalText}}setReferrer(M,k){this.referrer=k}setImages(M,k,G){this.availableImages[M]=k;for(const W in this.workerSources[M]){const ie=this.workerSources[M][W];for(const ae in ie)ie[ae].availableImages=k}G()}setLayers(M,k,G){this.getLayerIndex(M).replace(k),G()}updateLayers(M,k,G){this.getLayerIndex(M).update(k.layers,k.removedIds),G()}loadTile(M,k,G){this.getWorkerSource(M,k.type,k.source).loadTile(k,G)}loadDEMTile(M,k,G){this.getDEMWorkerSource(M,k.source).loadTile(k,G)}reloadTile(M,k,G){this.getWorkerSource(M,k.type,k.source).reloadTile(k,G)}abortTile(M,k,G){this.getWorkerSource(M,k.type,k.source).abortTile(k,G)}removeTile(M,k,G){this.getWorkerSource(M,k.type,k.source).removeTile(k,G)}removeDEMTile(M,k){this.getDEMWorkerSource(M,k.source).removeTile(k)}removeSource(M,k,G){if(!this.workerSources[M]||!this.workerSources[M][k.type]||!this.workerSources[M][k.type][k.source])return;const W=this.workerSources[M][k.type][k.source];delete this.workerSources[M][k.type][k.source],W.removeSource!==void 0?W.removeSource(k,G):G()}loadWorkerSource(M,k,G){try{this.self.importScripts(k.url),G()}catch(W){G(W.toString())}}syncRTLPluginState(M,k,G){try{c.plugin.setState(k);const W=c.plugin.getPluginURL();if(c.plugin.isLoaded()&&!c.plugin.isParsed()&&W!=null){this.self.importScripts(W);const ie=c.plugin.isParsed();G(ie?void 0:new Error(`RTL Text Plugin failed to import scripts from ${W}`),ie)}}catch(W){G(W.toString())}}getAvailableImages(M){let k=this.availableImages[M];return k||(k=[]),k}getLayerIndex(M){let k=this.layerIndexes[M];return k||(k=this.layerIndexes[M]=new C),k}getWorkerSource(M,k,G){if(this.workerSources[M]||(this.workerSources[M]={}),this.workerSources[M][k]||(this.workerSources[M][k]={}),!this.workerSources[M][k][G]){const W={send:(ie,ae,re)=>{this.actor.send(ie,ae,re,M)}};this.workerSources[M][k][G]=new this.workerSourceTypes[k](W,this.getLayerIndex(M),this.getAvailableImages(M))}return this.workerSources[M][k][G]}getDEMWorkerSource(M,k){return this.demWorkerSources[M]||(this.demWorkerSources[M]={}),this.demWorkerSources[M][k]||(this.demWorkerSources[M][k]=new fe),this.demWorkerSources[M][k]}enforceCacheSizeLimit(M,k){c.enforceCacheSizeLimit(k)}}return c.isWorker()&&(self.worker=new wi(self)),wi}),u(["./shared"],function(c){var v=S;function S(_){return!function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var m,$,x=new Blob([""],{type:"text/javascript"}),T=URL.createObjectURL(x);try{$=new Worker(T),m=!0}catch{m=!1}return $&&$.terminate(),URL.revokeObjectURL(T),m}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var m=document.createElement("canvas");m.width=m.height=1;var $=m.getContext("2d");if(!$)return!1;var x=$.getImageData(0,0,1,1);return x&&x.width===m.width}()?(C[h=l&&l.failIfMajorPerformanceCaveat]===void 0&&(C[h]=function(m){var $,x=function(T){var P=document.createElement("canvas"),w=Object.create(S.webGLContextAttributes);return w.failIfMajorPerformanceCaveat=T,P.getContext("webgl",w)||P.getContext("experimental-webgl",w)}(m);if(!x)return!1;try{$=x.createShader(x.VERTEX_SHADER)}catch{return!1}return!(!$||x.isContextLost())&&(x.shaderSource($,"void main() {}"),x.compileShader($),x.getShaderParameter($,x.COMPILE_STATUS)===!0)}(h)),C[h]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var h}(_)}var C={};function O(_,l){if(Array.isArray(_)){if(!Array.isArray(l)||_.length!==l.length)return!1;for(let h=0;h<_.length;h++)if(!O(_[h],l[h]))return!1;return!0}if(typeof _=="object"&&_!==null&&l!==null){if(typeof l!="object"||Object.keys(_).length!==Object.keys(l).length)return!1;for(const h in _)if(!O(_[h],l[h]))return!1;return!0}return _===l}S.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class R{static testProp(l){if(!R.docStyle)return l[0];for(let h=0;h<l.length;h++)if(l[h]in R.docStyle)return l[h];return l[0]}static create(l,h,m){const $=window.document.createElement(l);return h!==void 0&&($.className=h),m&&m.appendChild($),$}static createNS(l,h){return window.document.createElementNS(l,h)}static disableDrag(){R.docStyle&&R.selectProp&&(R.userSelect=R.docStyle[R.selectProp],R.docStyle[R.selectProp]="none")}static enableDrag(){R.docStyle&&R.selectProp&&(R.docStyle[R.selectProp]=R.userSelect)}static setTransform(l,h){l.style[R.transformProp]=h}static addEventListener(l,h,m,$={}){l.addEventListener(h,m,"passive"in $?$:$.capture)}static removeEventListener(l,h,m,$={}){l.removeEventListener(h,m,"passive"in $?$:$.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",R.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",R.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",R.suppressClickInternal,!0)},0)}static mousePos(l,h){const m=l.getBoundingClientRect();return new c.pointGeometry(h.clientX-m.left-l.clientLeft,h.clientY-m.top-l.clientTop)}static touchPos(l,h){const m=l.getBoundingClientRect(),$=[];for(let x=0;x<h.length;x++)$.push(new c.pointGeometry(h[x].clientX-m.left-l.clientLeft,h[x].clientY-m.top-l.clientTop));return $}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}}R.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,R.selectProp=R.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),R.transformProp=R.testProp(["transform","WebkitTransform"]);class H{constructor(l){this._transformRequestFn=l}transformRequest(l,h){return this._transformRequestFn&&this._transformRequestFn(l,h)||{url:l}}normalizeSpriteURL(l,h,m){const $=function(x){const T=x.match(K);if(!T)throw new Error(`Unable to parse URL "${x}"`);return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(l);return $.path+=`${h}${m}`,function(x){const T=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${T}`}($)}setTransformRequest(l){this._transformRequestFn=l}}const K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class le{constructor(l,h,m,$){this.context=l,this.format=m,this.texture=l.gl.createTexture(),this.update(h,$)}update(l,h,m){const{width:$,height:x}=l,T=!(this.size&&this.size[0]===$&&this.size[1]===x||m),{context:P}=this,{gl:w}=P;if(this.useMipmap=!!(h&&h.useMipmap),w.bindTexture(w.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===w.RGBA&&(!h||h.premultiply!==!1)),T)this.size=[$,x],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||c.isImageBitmap(l)?w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,w.UNSIGNED_BYTE,l):w.texImage2D(w.TEXTURE_2D,0,this.format,$,x,0,this.format,w.UNSIGNED_BYTE,l.data);else{const{x:L,y:z}=m||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||c.isImageBitmap(l)?w.texSubImage2D(w.TEXTURE_2D,0,L,z,w.RGBA,w.UNSIGNED_BYTE,l):w.texSubImage2D(w.TEXTURE_2D,0,L,z,$,x,w.RGBA,w.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&w.generateMipmap(w.TEXTURE_2D)}bind(l,h,m){const{context:$}=this,{gl:x}=$;x.bindTexture(x.TEXTURE_2D,this.texture),m!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=x.LINEAR),l!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,l),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,m||l),this.filter=l),h!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,h),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}function fe(_){const{userImage:l}=_;return!!(l&&l.render&&l.render())&&(_.data.replace(new Uint8Array(l.data.buffer)),!0)}class ye extends c.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:h,callback:m}of this.requestors)this._notify(h,m);this.requestors=[]}}getImage(l){return this.images[l]}addImage(l,h){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,h)&&(this.images[l]=h)}_validate(l,h){let m=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),m=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),m=!1),this._validateContent(h.content,h)||(this.fire(new c.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),m=!1),m}_validateStretch(l,h){if(!l)return!0;let m=0;for(const $ of l){if($[0]<m||$[1]<$[0]||h<$[1])return!1;m=$[1]}return!0}_validateContent(l,h){return!(l&&(l.length!==4||l[0]<0||h.data.width<l[0]||l[1]<0||h.data.height<l[1]||l[2]<0||h.data.width<l[2]||l[3]<0||h.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,h){const m=this.images[l];if(m.data.width!==h.data.width||m.data.height!==h.data.height)throw new Error(`size mismatch between old image (${m.data.width}x${m.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=m.version+1,this.images[l]=h,this.updatedImages[l]=!0}removeImage(l){const h=this.images[l];delete this.images[l],delete this.patterns[l],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,h){let m=!0;if(!this.isLoaded())for(const $ of l)this.images[$]||(m=!1);this.isLoaded()||m?this._notify(l,h):this.requestors.push({ids:l,callback:h})}_notify(l,h){const m={};for(const $ of l){this.images[$]||this.fire(new c.Event("styleimagemissing",{id:$}));const x=this.images[$];x?m[$]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:c.warnOnce(`Image "${$}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,m)}getPixelSize(){const{width:l,height:h}=this.atlasImage;return{width:l,height:h}}getPattern(l){const h=this.patterns[l],m=this.getImage(l);if(!m)return null;if(h&&h.position.version===m.version)return h.position;if(h)h.position.version=m.version;else{const $={w:m.data.width+2,h:m.data.height+2,x:0,y:0},x=new c.ImagePosition($,m);this.patterns[l]={bin:$,position:x}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const h=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new le(l,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const x in this.patterns)l.push(this.patterns[x].bin);const{w:h,h:m}=c.potpack(l),$=this.atlasImage;$.resize({width:h||1,height:m||1});for(const x in this.patterns){const{bin:T}=this.patterns[x],P=T.x+1,w=T.y+1,L=this.images[x].data,z=L.width,B=L.height;c.RGBAImage.copy(L,$,{x:0,y:0},{x:P,y:w},{width:z,height:B}),c.RGBAImage.copy(L,$,{x:0,y:B-1},{x:P,y:w-1},{width:z,height:1}),c.RGBAImage.copy(L,$,{x:0,y:0},{x:P,y:w+B},{width:z,height:1}),c.RGBAImage.copy(L,$,{x:z-1,y:0},{x:P-1,y:w},{width:1,height:B}),c.RGBAImage.copy(L,$,{x:0,y:0},{x:P+z,y:w},{width:1,height:B})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const h of l){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const m=this.images[h];m||c.warnOnce(`Image with ID: "${h}" was not found`),fe(m)&&this.updateImage(h,m)}}}const xe=1e20;function Pe(_,l,h,m,$,x,T,P,w){for(let L=l;L<l+m;L++)Re(_,h*x+L,x,$,T,P,w);for(let L=h;L<h+$;L++)Re(_,L*x+l,1,m,T,P,w)}function Re(_,l,h,m,$,x,T){x[0]=0,T[0]=-1e20,T[1]=xe,$[0]=_[l];for(let P=1,w=0,L=0;P<m;P++){$[P]=_[l+P*h];const z=P*P;do{const B=x[w];L=($[P]-$[B]+z-B*B)/(P-B)/2}while(L<=T[w]&&--w>-1);w++,x[w]=P,T[w]=L,T[w+1]=xe}for(let P=0,w=0;P<m;P++){for(;T[w+1]<P;)w++;const L=x[w],z=P-L;_[l+P*h]=$[L]+z*z}}class Ze{constructor(l,h){this.requestManager=l,this.localIdeographFontFamily=h,this.entries={}}setURL(l){this.url=l}getGlyphs(l,h){const m=[];for(const $ in l)for(const x of l[$])m.push({stack:$,id:x});c.asyncAll(m,({stack:$,id:x},T)=>{let P=this.entries[$];P||(P=this.entries[$]={glyphs:{},requests:{},ranges:{}});let w=P.glyphs[x];if(w!==void 0)return void T(null,{stack:$,id:x,glyph:w});if(w=this._tinySDF(P,$,x),w)return P.glyphs[x]=w,void T(null,{stack:$,id:x,glyph:w});const L=Math.floor(x/256);if(256*L>65535)return void T(new Error("glyphs > 65535 not supported"));if(P.ranges[L])return void T(null,{stack:$,id:x,glyph:w});let z=P.requests[L];z||(z=P.requests[L]=[],Ze.loadGlyphRange($,L,this.url,this.requestManager,(B,j)=>{if(j){for(const J in j)this._doesCharSupportLocalGlyph(+J)||(P.glyphs[+J]=j[+J]);P.ranges[L]=!0}for(const J of z)J(B,j);delete P.requests[L]})),z.push((B,j)=>{B?T(B):j&&T(null,{stack:$,id:x,glyph:j[x]||null})})},($,x)=>{if($)h($);else if(x){const T={};for(const{stack:P,id:w,glyph:L}of x)(T[P]||(T[P]={}))[w]=L&&{id:L.id,bitmap:L.bitmap.clone(),metrics:L.metrics};h(null,T)}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&(c.unicodeBlockLookup["CJK Unified Ideographs"](l)||c.unicodeBlockLookup["Hangul Syllables"](l)||c.unicodeBlockLookup.Hiragana(l)||c.unicodeBlockLookup.Katakana(l))}_tinySDF(l,h,m){const $=this.localIdeographFontFamily;if(!$||!this._doesCharSupportLocalGlyph(m))return;let x=l.tinySDF;if(!x){let P="400";/bold/i.test(h)?P="900":/medium/i.test(h)?P="500":/light/i.test(h)&&(P="200"),x=l.tinySDF=new Ze.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:$,fontWeight:P})}const T=x.draw(String.fromCharCode(m));return{id:m,bitmap:new c.AlphaImage({width:T.width||30,height:T.height||30},T.data),metrics:{width:T.glyphWidth||24,height:T.glyphHeight||24,left:T.glyphLeft||0,top:T.glyphTop-27||-8,advance:T.glyphAdvance||24}}}}Ze.loadGlyphRange=function(_,l,h,m,$){const x=256*l,T=x+255,P=m.transformRequest(h.replace("{fontstack}",_).replace("{range}",`${x}-${T}`),c.ResourceType.Glyphs);c.getArrayBuffer(P,(w,L)=>{if(w)$(w);else if(L){const z={};for(const B of c.parseGlyphPbf(L))z[B.id]=B;$(null,z)}})},Ze.TinySDF=class{constructor({fontSize:_=24,buffer:l=3,radius:h=8,cutoff:m=.25,fontFamily:$="sans-serif",fontWeight:x="normal",fontStyle:T="normal"}={}){this.buffer=l,this.cutoff=m,this.radius=h;const P=this.size=_+4*l,w=this._createCanvas(P),L=this.ctx=w.getContext("2d",{willReadFrequently:!0});L.font=`${T} ${x} ${_}px ${$}`,L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const l=document.createElement("canvas");return l.width=l.height=_,l}draw(_){const{width:l,actualBoundingBoxAscent:h,actualBoundingBoxDescent:m,actualBoundingBoxLeft:$,actualBoundingBoxRight:x}=this.ctx.measureText(_),T=Math.ceil(h),P=Math.min(this.size-this.buffer,Math.ceil(x-$)),w=Math.min(this.size-this.buffer,T+Math.ceil(m)),L=P+2*this.buffer,z=w+2*this.buffer,B=Math.max(L*z,0),j=new Uint8ClampedArray(B),J={data:j,width:L,height:z,glyphWidth:P,glyphHeight:w,glyphTop:T,glyphLeft:0,glyphAdvance:l};if(P===0||w===0)return J;const{ctx:Y,buffer:Z,gridInner:se,gridOuter:ue}=this;Y.clearRect(Z,Z,P,w),Y.fillText(_,Z,Z+T);const de=Y.getImageData(Z,Z,P,w);ue.fill(xe,0,B),se.fill(0,0,B);for(let Q=0;Q<w;Q++)for(let me=0;me<P;me++){const he=de.data[4*(Q*P+me)+3]/255;if(he===0)continue;const Ee=(Q+Z)*L+me+Z;if(he===1)ue[Ee]=0,se[Ee]=xe;else{const Se=.5-he;ue[Ee]=Se>0?Se*Se:0,se[Ee]=Se<0?Se*Se:0}}Pe(ue,0,0,L,z,L,this.f,this.v,this.z),Pe(se,Z,Z,P,w,L,this.f,this.v,this.z);for(let Q=0;Q<B;Q++){const me=Math.sqrt(ue[Q])-Math.sqrt(se[Q]);j[Q]=Math.round(255-255*(me/this.radius+this.cutoff))}return J}};const ot=new c.Properties({anchor:new c.DataConstantProperty(c.spec.light.anchor),position:new class{constructor(){this.specification=c.spec.light.position}possiblyEvaluate(_,l){return c.sphericalToCartesian(_.expression.evaluate(l))}interpolate(_,l,h){return{x:c.number(_.x,l.x,h),y:c.number(_.y,l.y,h),z:c.number(_.z,l.z,h)}}},color:new c.DataConstantProperty(c.spec.light.color),intensity:new c.DataConstantProperty(c.spec.light.intensity)}),ut="-transition";class lt extends c.Evented{constructor(l){super(),this._transitionable=new c.Transitionable(ot),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,h={}){if(!this._validate(c.validateLight,l,h))for(const m in l){const $=l[m];m.endsWith(ut)?this._transitionable.setTransition(m.slice(0,-ut.length),$):this._transitionable.setValue(m,$)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,h,m){return(!m||m.validate!==!1)&&c.emitValidationErrors(this,l.call(c.validateStyle,c.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:c.spec})))}}class ct{constructor(l,h){this.width=l,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,h){const m=l.join(",")+String(h);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(l,h)),this.dashEntry[m]}getDashRanges(l,h,m){const $=[];let x=l.length%2==1?-l[l.length-1]*m:0,T=l[0]*m,P=!0;$.push({left:x,right:T,isDash:P,zeroLength:l[0]===0});let w=l[0];for(let L=1;L<l.length;L++){P=!P;const z=l[L];x=w*m,w+=z,T=w*m,$.push({left:x,right:T,isDash:P,zeroLength:z===0})}return $}addRoundDash(l,h,m){const $=h/2;for(let x=-m;x<=m;x++){const T=this.width*(this.nextRow+m+x);let P=0,w=l[P];for(let L=0;L<this.width;L++){L/w.right>1&&(w=l[++P]);const z=Math.abs(L-w.left),B=Math.abs(L-w.right),j=Math.min(z,B);let J;const Y=x/m*($+1);if(w.isDash){const Z=$-Math.abs(Y);J=Math.sqrt(j*j+Z*Z)}else J=$-Math.sqrt(j*j+Y*Y);this.data[T+L]=Math.max(0,Math.min(255,J+128))}}}addRegularDash(l){for(let P=l.length-1;P>=0;--P){const w=l[P],L=l[P+1];w.zeroLength?l.splice(P,1):L&&L.isDash===w.isDash&&(L.left=w.left,l.splice(P,1))}const h=l[0],m=l[l.length-1];h.isDash===m.isDash&&(h.left=m.left-this.width,m.right=h.right+this.width);const $=this.width*this.nextRow;let x=0,T=l[x];for(let P=0;P<this.width;P++){P/T.right>1&&(T=l[++x]);const w=Math.abs(P-T.left),L=Math.abs(P-T.right),z=Math.min(w,L);this.data[$+P]=Math.max(0,Math.min(255,(T.isDash?z:-z)+128))}}addDash(l,h){const m=h?7:0,$=2*m+1;if(this.nextRow+$>this.height)return c.warnOnce("LineAtlas out of space"),null;let x=0;for(let P=0;P<l.length;P++)x+=l[P];if(x!==0){const P=this.width/x,w=this.getDashRanges(l,this.width,P);h?this.addRoundDash(w,P,m):this.addRegularDash(w)}const T={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:x};return this.nextRow+=$,this.dirty=!0,T}bind(l){const h=l.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}class wt{constructor(l,h){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=c.uniqueId();const m=this.workerPool.acquire(this.id);for(let $=0;$<m.length;$++){const x=new wt.Actor(m[$],h,this.id);x.name=`Worker ${$}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,h,m){c.asyncAll(this.actors,($,x)=>{$.send(l,h,x)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function At(_,l,h){const m=function($,x){if($)return h($);if(x){const T=c.pick(c.extend(x,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(T.vectorLayers=x.vector_layers,T.vectorLayerIds=T.vectorLayers.map(P=>P.id)),h(null,T)}};return _.url?c.getJSON(l.transformRequest(_.url,c.ResourceType.Source),m):c.exported.frame(()=>m(null,_))}wt.Actor=c.Actor;class Ot{constructor(l,h,m){this.bounds=c.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=h||0,this.maxzoom=m||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const h=Math.pow(2,l.z),m=Math.floor(c.mercatorXfromLng(this.bounds.getWest())*h),$=Math.floor(c.mercatorYfromLat(this.bounds.getNorth())*h),x=Math.ceil(c.mercatorXfromLng(this.bounds.getEast())*h),T=Math.ceil(c.mercatorYfromLat(this.bounds.getSouth())*h);return l.x>=m&&l.x<x&&l.y>=$&&l.y<T}}class Ut extends c.Evented{constructor(l,h,m,$){if(super(),this.id=l,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.extend(this,c.pick(h,["url","scheme","tileSize","promoteId"])),this._options=c.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent($)}load(){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=At(this._options,this.map._requestManager,(l,h)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l?this.fire(new c.ErrorEvent(l)):h&&(c.extend(this,h),h.bounds&&(this.tileBounds=new Ot(h.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return c.extend({},this._options)}loadTile(l,h){const m=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),$={request:this.map._requestManager.transformRequest(m,c.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(T,P){return delete l.request,l.aborted?h(null):T&&T.status!==404?h(T):(P&&P.resourceTiming&&(l.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&l.setExpiryData(P),l.loadVectorData(P,this.map.painter),c.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}$.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=h:l.request=l.actor.send("reloadTile",$,x.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",$,x.bind(this)))}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)}unloadTile(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Ve extends c.Evented{constructor(l,h,m,$){super(),this.id=l,this.dispatcher=m,this.setEventedParent($),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.extend({type:"raster"},h),c.extend(this,c.pick(h,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=At(this._options,this.map._requestManager,(l,h)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new c.ErrorEvent(l)):h&&(c.extend(this,h),h.bounds&&(this.tileBounds=new Ot(h.bounds,this.minzoom,this.maxzoom)),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return c.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,h){const m=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.request=c.getImage(this.map._requestManager.transformRequest(m,c.ResourceType.Tile),($,x,T)=>{if(delete l.request,l.aborted)l.state="unloaded",h(null);else if($)l.state="errored",h($);else if(x){this.map._refreshExpiredTiles&&l.setExpiryData(T);const P=this.map.painter.context,w=P.gl;l.texture=this.map.painter.getTileTexture(x.width),l.texture?l.texture.update(x,{useMipmap:!0}):(l.texture=new le(P,x,w.RGBA,{useMipmap:!0}),l.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE,w.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&w.texParameterf(w.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),l.state="loaded",c.cacheEntryPossiblyAdded(this.dispatcher),h(null)}})}abortTile(l,h){l.request&&(l.request.cancel(),delete l.request),h()}unloadTile(l,h){l.texture&&this.map.painter.saveTileTexture(l.texture),h()}hasTransition(){return!1}}let ht;class He extends Ve{constructor(l,h,m,$){super(l,h,m,$),this.type="raster-dem",this.maxzoom=22,this._options=c.extend({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(l,h){const m=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function $(x,T){x&&(l.state="errored",h(x)),T&&(l.dem=T,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded",h(null))}l.request=c.getImage(this.map._requestManager.transformRequest(m,c.ResourceType.Tile),(function(x,T){if(delete l.request,l.aborted)l.state="unloaded",h(null);else if(x)l.state="errored",h(x);else if(T){this.map._refreshExpiredTiles&&l.setExpiryData(T),delete T.cacheControl,delete T.expires;const P=c.isImageBitmap(T)&&(ht==null&&(ht=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ht)?T:c.exported.getImageData(T,1),w={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:P,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",w,$.bind(this)))}}).bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)}_getNeighboringTiles(l){const h=l.canonical,m=Math.pow(2,h.z),$=(h.x-1+m)%m,x=h.x===0?l.wrap-1:l.wrap,T=(h.x+1+m)%m,P=h.x+1===m?l.wrap+1:l.wrap,w={};return w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y).key]={backfilled:!1},h.y>0&&(w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y-1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y-1).key]={backfilled:!1}),h.y+1<m&&(w[new c.OverscaledTileID(l.overscaledZ,x,h.z,$,h.y+1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},w[new c.OverscaledTileID(l.overscaledZ,P,h.z,T,h.y+1).key]={backfilled:!1}),w}unloadTile(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})}}class Ft extends c.Evented{constructor(l,h,m,$){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent($),this._data=h.data,this._options=c.extend({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const x=c.EXTENT/this.tileSize;this.workerOptions=c.extend({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*x,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*x,extent:c.EXTENT,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:c.EXTENT,radius:(h.clusterRadius||50)*x,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData("content"),this}getClusterExpansionZoom(l,h){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},h),this}getClusterChildren(l,h){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},h),this}getClusterLeaves(l,h,m,$){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:h,offset:m},$),this}_updateWorkerData(l){const h=c.extend({},this.workerOptions),m=this._data;typeof m=="string"?(h.request=this.map._requestManager.transformRequest(c.exported.resolveURL(m),c.ResourceType.Source),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(m),this._pendingLoads++,this.fire(new c.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,h,($,x)=>{if(this._pendingLoads--,this._removed||x&&x.abandoned)return void this.fire(new c.Event("dataabort",{dataType:"source",sourceDataType:l}));let T=null;if(x&&x.resourceTiming&&x.resourceTiming[this.id]&&(T=x.resourceTiming[this.id].slice(0)),$)return void this.fire(new c.ErrorEvent($));const P={dataType:"source",sourceDataType:l};this._collectResourceTiming&&T&&T.length>0&&c.extend(P,{resourceTiming:T}),this.fire(new c.Event("data",P))})}loaded(){return this._pendingLoads===0}loadTile(l,h){const m=l.actor?"reloadTile":"loadTile";l.actor=this.actor;const $={type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};l.request=this.actor.send(m,$,(x,T)=>(delete l.request,l.unloadVectorData(),l.aborted?h(null):x?h(x):(l.loadVectorData(T,this.map.painter,m==="reloadTile"),h(null))))}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0}unloadTile(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return c.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Kt=c.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Zt extends c.Evented{constructor(l,h,m,$){super(),this.id=l,this.dispatcher=m,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent($),this.options=h}load(l,h){this._loaded=!1,this.fire(new c.Event("dataloading",{dataType:"source"})),this.url=this.options.url,c.getImage(this.map._requestManager.transformRequest(this.url,c.ResourceType.Image),(m,$)=>{this._loaded=!0,m?this.fire(new c.ErrorEvent(m)):$&&(this.image=$,l&&(this.coordinates=l),h&&h(),this._finishLoading())})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}setCoordinates(l){this.coordinates=l;const h=l.map(c.MercatorCoordinate.fromLngLat);this.tileID=function($){let x=1/0,T=1/0,P=-1/0,w=-1/0;for(const j of $)x=Math.min(x,j.x),T=Math.min(T,j.y),P=Math.max(P,j.x),w=Math.max(w,j.y);const L=Math.max(P-x,w-T),z=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),B=Math.pow(2,z);return new c.CanonicalTileID(z,Math.floor((x+P)/2*B),Math.floor((T+w)/2*B))}(h),this.minzoom=this.maxzoom=this.tileID.z;const m=h.map($=>this.tileID.getTilePoint($)._round());return this._boundsArray=new c.RasterBoundsArray,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,c.EXTENT,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,c.EXTENT),this._boundsArray.emplaceBack(m[2].x,m[2].y,c.EXTENT,c.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,h=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new le(l,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));for(const m in this.tiles){const $=this.tiles[m];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}loadTile(l,h){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},h(null)):(l.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Nn extends Zt{constructor(l,h,m,$){super(l,h,m,$),this.roundZoom=!0,this.type="video",this.options=h}load(){this._loaded=!1;const l=this.options;this.urls=[];for(const h of l.urls)this.urls.push(this.map._requestManager.transformRequest(h,c.ResourceType.Source).url);c.getVideo(this.urls,(h,m)=>{this._loaded=!0,h?this.fire(new c.ErrorEvent(h)):m&&(this.video=m,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){if(this.video){const h=this.video.seekable;l<h.start(0)||l>h.end(0)?this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=l}}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const l=this.map.painter.context,h=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new le(l,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));for(const m in this.tiles){const $=this.tiles[m];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class In extends Zt{constructor(l,h,m,$){super(l,h,m,$),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(T=>typeof T!="number"))||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.ErrorEvent(new c.ValidationError(`sources.${l}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,m=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Kt.members)),this.boundsSegments||(this.boundsSegments=c.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new le(h,this.canvas,m.RGBA,{premultiply:!0});for(const $ in this.tiles){const x=this.tiles[$];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const zn={vector:Ut,raster:Ve,"raster-dem":He,geojson:Ft,video:Nn,image:Zt,canvas:In};function Pn(_,l){const h=c.create();return c.translate(h,h,[1,1,0]),c.scale(h,h,[.5*_.width,.5*_.height,1]),c.multiply(h,h,_.calculatePosMatrix(l.toUnwrapped()))}function oi(_,l,h,m,$,x){const T=function(B,j,J){if(B)for(const Y of B){const Z=j[Y];if(Z&&Z.source===J&&Z.type==="fill-extrusion")return!0}else for(const Y in j){const Z=j[Y];if(Z.source===J&&Z.type==="fill-extrusion")return!0}return!1}($&&$.layers,l,_.id),P=x.maxPitchScaleFactor(),w=_.tilesIn(m,P,T);w.sort(yn);const L=[];for(const B of w)L.push({wrappedTileID:B.tileID.wrapped().key,queryResults:B.tile.queryRenderedFeatures(l,h,_._state,B.queryGeometry,B.cameraQueryGeometry,B.scale,$,x,P,Pn(_.transform,B.tileID))});const z=function(B){const j={},J={};for(const Y of B){const Z=Y.queryResults,se=Y.wrappedTileID,ue=J[se]=J[se]||{};for(const de in Z){const Q=Z[de],me=ue[de]=ue[de]||{},he=j[de]=j[de]||[];for(const Ee of Q)me[Ee.featureIndex]||(me[Ee.featureIndex]=!0,he.push(Ee))}}return j}(L);for(const B in z)z[B].forEach(j=>{const J=j.feature,Y=_.getFeatureState(J.layer["source-layer"],J.id);J.source=J.layer.source,J.layer["source-layer"]&&(J.sourceLayer=J.layer["source-layer"]),J.state=Y});return z}function yn(_,l){const h=_.tileID,m=l.tileID;return h.overscaledZ-m.overscaledZ||h.canonical.y-m.canonical.y||h.wrap-m.wrap||h.canonical.x-m.canonical.x}class $i{constructor(l,h){this.tileID=l,this.uid=c.uniqueId(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){const h=l+this.timeAdded;h<c.exported.now()||this.fadeEndTime&&h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.textures.forEach(h=>l.saveTileTexture(h)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(l,h,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=function($,x){const T={};if(!x)return T;for(const P of $){const w=P.layerIds.map(L=>x.getLayer(L)).filter(Boolean);if(w.length!==0){P.layers=w,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(L=>w.filter(z=>z.id===L)[0]));for(const L of w)T[L.id]=P}}return T}(l.buckets,h.style),this.hasSymbolBuckets=!1;for(const $ in this.buckets){const x=this.buckets[$];if(x instanceof c.SymbolBucket){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const $ in this.buckets){const x=this.buckets[$];if(x instanceof c.SymbolBucket&&x.hasRTLText){this.hasRTLText=!0,c.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const $ in this.buckets){const x=this.buckets[$];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer($).queryRadius(x))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new c.CollisionBoxArray}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const m in this.buckets){const $=this.buckets[m];$.uploadPending()&&$.upload(l)}const h=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new le(l,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new le(l,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,h,m,$,x,T,P,w,L,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:$,cameraQueryGeometry:x,scale:T,tileSize:this.tileSize,pixelPosMatrix:z,transform:w,params:P,queryPadding:this.queryPadding*L},l,h,m):{}}querySourceFeatures(l,h){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const $=m.loadVTLayers(),x=h?h.sourceLayer:"",T=$._geojsonTileLayer||$[x];if(!T)return;const P=c.createFilter(h&&h.filter),{z:w,x:L,y:z}=this.tileID.canonical,B={z:w,x:L,y:z};for(let j=0;j<T.length;j++){const J=T.feature(j);if(P.needGeometry){const se=c.toEvaluationFeature(J,!0);if(!P.filter(new c.EvaluationParameters(this.tileID.overscaledZ),se,this.tileID.canonical))continue}else if(!P.filter(new c.EvaluationParameters(this.tileID.overscaledZ),J))continue;const Y=m.getId(J,x),Z=new c.GeoJSONFeature(J,w,L,z,Y);Z.tile=B,l.push(Z)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){const h=this.expirationTime;if(l.cacheControl){const m=c.parseCacheControl(l.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else l.expires&&(this.expirationTime=new Date(l.expires).getTime());if(this.expirationTime){const m=Date.now();let $=!1;if(this.expirationTime>m)$=!1;else if(h)if(this.expirationTime<h)$=!0;else{const x=this.expirationTime-h;x?this.expirationTime=m+Math.max(x,3e4):$=!0}else $=!0;$?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(l).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const $ in this.buckets){if(!h.style.hasLayer($))continue;const x=this.buckets[$],T=x.layers[0].sourceLayer||"_geojsonTileLayer",P=m[T],w=l[T];if(!P||!w||Object.keys(w).length===0)continue;x.update(w,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const L=h&&h.style&&h.style.getLayer($);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=c.exported.now()+l}setDependencies(l,h){const m={};for(const $ of h)m[$]=!0;this.dependencies[l]=m}hasDependency(l,h){for(const m of l){const $=this.dependencies[m];if($){for(const x of h)if($[x])return!0}}return!1}}class Ci{constructor(l,h){this.max=l,this.onRemove=h,this.reset()}reset(){for(const l in this.data)for(const h of this.data[l])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(l,h,m){const $=l.wrapped().key;this.data[$]===void 0&&(this.data[$]=[]);const x={value:h,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(l,x)},m)),this.data[$].push(x),this.order.push($),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){const h=this.data[l].shift();return h.timeout&&clearTimeout(h.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),h.value}getByKey(l){const h=this.data[l];return h?h[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,h){if(!this.has(l))return this;const m=l.wrapped().key,$=h===void 0?0:this.data[m].indexOf(h),x=this.data[m][$];return this.data[m].splice($,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(l){const h=[];for(const m in this.data)for(const $ of this.data[m])l($.value)||h.push($);for(const m of h)this.remove(m.value.tileID,m)}}class Do{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,h,m){const $=String(h);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][$]=this.stateChanges[l][$]||{},c.extend(this.stateChanges[l][$],m),this.deletedStates[l]===null){this.deletedStates[l]={};for(const x in this.state[l])x!==$&&(this.deletedStates[l][x]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][$]===null){this.deletedStates[l][$]={};for(const x in this.state[l][$])m[x]||(this.deletedStates[l][$][x]=null)}else for(const x in m)this.deletedStates[l]&&this.deletedStates[l][$]&&this.deletedStates[l][$][x]===null&&delete this.deletedStates[l][$][x]}removeFeatureState(l,h,m){if(this.deletedStates[l]===null)return;const $=String(h);if(this.deletedStates[l]=this.deletedStates[l]||{},m&&h!==void 0)this.deletedStates[l][$]!==null&&(this.deletedStates[l][$]=this.deletedStates[l][$]||{},this.deletedStates[l][$][m]=null);else if(h!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][$])for(m in this.deletedStates[l][$]={},this.stateChanges[l][$])this.deletedStates[l][$][m]=null;else this.deletedStates[l][$]=null;else this.deletedStates[l]=null}getState(l,h){const m=String(h),$=c.extend({},(this.state[l]||{})[m],(this.stateChanges[l]||{})[m]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){const x=this.deletedStates[l][h];if(x===null)return{};for(const T in x)delete $[T]}return $}initializeTileState(l,h){l.setFeatureState(this.state,h)}coalesceChanges(l,h){const m={};for(const $ in this.stateChanges){this.state[$]=this.state[$]||{};const x={};for(const T in this.stateChanges[$])this.state[$][T]||(this.state[$][T]={}),c.extend(this.state[$][T],this.stateChanges[$][T]),x[T]=this.state[$][T];m[$]=x}for(const $ in this.deletedStates){this.state[$]=this.state[$]||{};const x={};if(this.deletedStates[$]===null)for(const T in this.state[$])x[T]={},this.state[$][T]={};else for(const T in this.deletedStates[$]){if(this.deletedStates[$][T]===null)this.state[$][T]={};else for(const P of Object.keys(this.deletedStates[$][T]))delete this.state[$][T][P];x[T]=this.state[$][T]}m[$]=m[$]||{},c.extend(m[$],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const $ in l)l[$].setFeatureState(m,h)}}class Gn extends c.Evented{constructor(l,h,m){super(),this.id=l,this.dispatcher=m,this.on("data",$=>{$.dataType==="source"&&$.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&$.dataType==="source"&&$.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function($,x,T,P){const w=new zn[x.type]($,x,T,P);if(w.id!==$)throw new Error(`Expected Source id to be ${$} instead of ${w.id}`);return c.bindAll(["load","abort","unload","serialize","prepare"],w),w}(l,h,m,this),this._tiles={},this._cache=new Ci(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Do}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const l in this._tiles){const h=this._tiles[l];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(l,h){return this._source.loadTile(l,h)}_unloadTile(l){if(this._source.unloadTile)return this._source.unloadTile(l,()=>{})}_abortTile(l){this._source.abortTile&&this._source.abortTile(l,()=>{}),this._source.fire(new c.Event("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const m=this._tiles[h];m.upload(l),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(lo).map(l=>l.key)}getRenderableIds(l){const h=[];for(const m in this._tiles)this._isIdRenderable(m,l)&&h.push(this._tiles[m]);return l?h.sort((m,$)=>{const x=m.tileID,T=$.tileID,P=new c.pointGeometry(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),w=new c.pointGeometry(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-T.overscaledZ||w.y-P.y||w.x-P.x}).map(m=>m.tileID.key):h.map(m=>m.tileID).sort(lo).map(m=>m.key)}hasRenderableParent(l){const h=this.findLoadedParent(l,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(l,h){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(h||!this._tiles[l].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const l in this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")}}_reloadTile(l,h){const m=this._tiles[l];m&&(m.state!=="loading"&&(m.state=h),this._loadTile(m,this._tileLoaded.bind(this,m,l,h)))}_tileLoaded(l,h,m,$){if($)return l.state="errored",void($.status!==404?this._source.fire(new c.ErrorEvent($,{tile:l})):this.update(this.transform,this.terrain));l.timeAdded=c.exported.now(),m==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(h,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new c.Event("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){const h=this.getRenderableIds();for(let $=0;$<h.length;$++){const x=h[$];if(l.neighboringTiles&&l.neighboringTiles[x]){const T=this.getTileByID(x);m(l,T),m(T,l)}}function m($,x){$.needsHillshadePrepare=!0,$.needsTerrainPrepare=!0;let T=x.tileID.canonical.x-$.tileID.canonical.x;const P=x.tileID.canonical.y-$.tileID.canonical.y,w=Math.pow(2,$.tileID.canonical.z),L=x.tileID.key;T===0&&P===0||Math.abs(P)>1||(Math.abs(T)>1&&(Math.abs(T+w)===1?T+=w:Math.abs(T-w)===1&&(T-=w)),x.dem&&$.dem&&($.dem.backfillBorder(x.dem,T,P),$.neighboringTiles&&$.neighboringTiles[L]&&($.neighboringTiles[L].backfilled=!0)))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,h,m,$){for(const x in this._tiles){let T=this._tiles[x];if($[x]||!T.hasData()||T.tileID.overscaledZ<=h||T.tileID.overscaledZ>m)continue;let P=T.tileID;for(;T&&T.tileID.overscaledZ>h+1;){const L=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[L.key],T&&T.hasData()&&(P=L)}let w=P;for(;w.overscaledZ>h;)if(w=w.scaledTo(w.overscaledZ-1),l[w.key]){$[P.key]=P;break}}}findLoadedParent(l,h){if(l.key in this._loadedParentTiles){const m=this._loadedParentTiles[l.key];return m&&m.tileID.overscaledZ>=h?m:null}for(let m=l.overscaledZ-1;m>=h;m--){const $=l.scaledTo(m),x=this._getLoadedTile($);if(x)return x}}_getLoadedTile(l){const h=this._tiles[l.key];return h&&h.hasData()?h:this._cache.getByKey(l.wrapped().key)}updateCacheSize(l){const h=Math.ceil(l.width/this._source.tileSize)+1,m=Math.ceil(l.height/this._source.tileSize)+1,$=Math.floor(h*m*5),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,$):$;this._cache.setMaxSize(x)}handleWrapJump(l){const h=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,h){const m={};for(const $ in this._tiles){const x=this._tiles[$];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+h),m[x.tileID.key]=x}this._tiles=m;for(const $ in this._timers)clearTimeout(this._timers[$]),delete this._timers[$];for(const $ in this._tiles)this._setTileReloadTimer($,this._tiles[$])}}update(l,h){if(this.transform=l,this.terrain=h,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(L=>new c.OverscaledTileID(L.canonical.z,L.wrap,L.canonical.z,L.canonical.x,L.canonical.y)):(m=l.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(m=m.filter(L=>this._source.hasTile(L)))):m=[];const $=l.coveringZoomLevel(this._source),x=Math.max($-Gn.maxOverzooming,this._source.minzoom),T=Math.max($+Gn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const L={};for(const z of m)if(z.canonical.z>this._source.minzoom){const B=z.scaledTo(z.canonical.z-1);L[B.key]=B;const j=z.scaledTo(Math.max(this._source.minzoom,Math.min(z.canonical.z,5)));L[j.key]=j}m=m.concat(Object.values(L))}const P=this._updateRetainedTiles(m,$);if(Ro(this._source.type)){const L={},z={},B=Object.keys(P);for(const j of B){const J=P[j],Y=this._tiles[j];if(!Y||Y.fadeEndTime&&Y.fadeEndTime<=c.exported.now())continue;const Z=this.findLoadedParent(J,x);Z&&(this._addTile(Z.tileID),L[Z.tileID.key]=Z.tileID),z[j]=J}this._retainLoadedChildren(z,$,T,P);for(const j in L)P[j]||(this._coveredTiles[j]=!0,P[j]=L[j]);if(h){const j={},J={};for(const Y of m)this._tiles[Y.key].hasData()?j[Y.key]=Y:J[Y.key]=Y;for(const Y in J){const Z=J[Y].children(this._source.maxzoom);this._tiles[Z[0].key]&&this._tiles[Z[1].key]&&this._tiles[Z[2].key]&&this._tiles[Z[3].key]&&(j[Z[0].key]=P[Z[0].key]=Z[0],j[Z[1].key]=P[Z[1].key]=Z[1],j[Z[2].key]=P[Z[2].key]=Z[2],j[Z[3].key]=P[Z[3].key]=Z[3],delete J[Y])}for(const Y in J){const Z=this.findLoadedParent(J[Y],this._source.minzoom);if(Z){j[Z.tileID.key]=P[Z.tileID.key]=Z.tileID;for(const se in j)j[se].isChildOf(Z.tileID)&&delete j[se]}}for(const Y in this._tiles)j[Y]||(this._coveredTiles[Y]=!0)}}for(const L in P)this._tiles[L].clearFadeHold();const w=c.keysDifference(this._tiles,P);for(const L of w){const z=this._tiles[L];z.hasSymbolBuckets&&!z.holdingForFade()?z.setHoldDuration(this.map._fadeDuration):z.hasSymbolBuckets&&!z.symbolFadeFinished()||this._removeTile(L)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,h){const m={},$={},x=Math.max(h-Gn.maxOverzooming,this._source.minzoom),T=Math.max(h+Gn.maxUnderzooming,this._source.minzoom),P={};for(const w of l){const L=this._addTile(w);m[w.key]=w,L.hasData()||h<this._source.maxzoom&&(P[w.key]=w)}this._retainLoadedChildren(P,h,T,m);for(const w of l){let L=this._tiles[w.key];if(L.hasData())continue;if(h+1>this._source.maxzoom){const B=w.children(this._source.maxzoom)[0],j=this.getTile(B);if(j&&j.hasData()){m[B.key]=B;continue}}else{const B=w.children(this._source.maxzoom);if(m[B[0].key]&&m[B[1].key]&&m[B[2].key]&&m[B[3].key])continue}let z=L.wasRequested();for(let B=w.overscaledZ-1;B>=x;--B){const j=w.scaledTo(B);if($[j.key]||($[j.key]=!0,L=this.getTile(j),!L&&z&&(L=this._addTile(j)),L&&(m[j.key]=j,z=L.wasRequested(),L.hasData())))break}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const l in this._tiles){const h=[];let m,$=this._tiles[l].tileID;for(;$.overscaledZ>0;){if($.key in this._loadedParentTiles){m=this._loadedParentTiles[$.key];break}h.push($.key);const x=$.scaledTo($.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;$=x}for(const x of h)this._loadedParentTiles[x]=m}}_addTile(l){let h=this._tiles[l.key];if(h)return h;h=this._cache.getAndRemove(l),h&&(this._setTileReloadTimer(l.key,h),h.tileID=l,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,h)));const m=h;return h||(h=new $i(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(h,this._tileLoaded.bind(this,h,l.key,h.state))),h.uses++,this._tiles[l.key]=h,m||this._source.fire(new c.Event("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(l,h){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);const m=h.getExpiryTimeout();m&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},m))}_removeTile(l){const h=this._tiles[l];h&&(h.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,h,m){const $=[],x=this.transform;if(!x)return $;const T=m?x.getCameraQueryGeometry(l):l,P=l.map(Y=>x.pointCoordinate(Y,this.terrain)),w=T.map(Y=>x.pointCoordinate(Y,this.terrain)),L=this.getIds();let z=1/0,B=1/0,j=-1/0,J=-1/0;for(const Y of w)z=Math.min(z,Y.x),B=Math.min(B,Y.y),j=Math.max(j,Y.x),J=Math.max(J,Y.y);for(let Y=0;Y<L.length;Y++){const Z=this._tiles[L[Y]];if(Z.holdingForFade())continue;const se=Z.tileID,ue=Math.pow(2,x.zoom-Z.tileID.overscaledZ),de=h*Z.queryPadding*c.EXTENT/Z.tileSize/ue,Q=[se.getTilePoint(new c.MercatorCoordinate(z,B)),se.getTilePoint(new c.MercatorCoordinate(j,J))];if(Q[0].x-de<c.EXTENT&&Q[0].y-de<c.EXTENT&&Q[1].x+de>=0&&Q[1].y+de>=0){const me=P.map(Ee=>se.getTilePoint(Ee)),he=w.map(Ee=>se.getTilePoint(Ee));$.push({tile:Z,tileID:se,queryGeometry:me,cameraQueryGeometry:he,scale:ue})}}return $}getVisibleCoordinates(l){const h=this.getRenderableIds(l).map(m=>this._tiles[m].tileID);for(const m of h)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(Ro(this._source.type))for(const l in this._tiles){const h=this._tiles[l];if(h.fadeEndTime!==void 0&&h.fadeEndTime>=c.exported.now())return!0}return!1}setFeatureState(l,h,m){this._state.updateState(l=l||"_geojsonTileLayer",h,m)}removeFeatureState(l,h,m){this._state.removeFeatureState(l=l||"_geojsonTileLayer",h,m)}getFeatureState(l,h){return this._state.getState(l=l||"_geojsonTileLayer",h)}setDependencies(l,h,m){const $=this._tiles[l];$&&$.setDependencies(h,m)}reloadTilesForDependencies(l,h){for(const m in this._tiles)this._tiles[m].hasDependency(l,h)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(l,h))}}function lo(_,l){const h=Math.abs(2*_.wrap)-+(_.wrap<0),m=Math.abs(2*l.wrap)-+(l.wrap<0);return _.overscaledZ-l.overscaledZ||m-h||l.canonical.y-_.canonical.y||l.canonical.x-_.canonical.x}function Ro(_){return _==="raster"||_==="image"||_==="video"}Gn.maxOverzooming=10,Gn.maxUnderzooming=3;const ri="mapboxgl_preloaded_worker_pool";class ei{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<ei.workerCount;)this.workers.push(new Worker(or.workerUrl));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ri]}numActive(){return Object.keys(this.active).length}}const gr=Math.floor(c.exported.hardwareConcurrency/2);let Ii;function uo(){return Ii||(Ii=new ei),Ii}function dr(_,l){const h={};for(const m in _)m!=="ref"&&(h[m]=_[m]);return c.refProperties.forEach(m=>{m in l&&(h[m]=l[m])}),h}function co(_){_=_.slice();const l=Object.create(null);for(let h=0;h<_.length;h++)l[_[h].id]=_[h];for(let h=0;h<_.length;h++)"ref"in _[h]&&(_[h]=dr(_[h],l[_[h].ref]));return _}ei.workerCount=Math.max(Math.min(gr,6),1);const St={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ai(_,l,h){h.push({command:St.addSource,args:[_,l[_]]})}function Lo(_,l,h){l.push({command:St.removeSource,args:[_]}),h[_]=!0}function Mi(_,l,h,m){Lo(_,h,m),ai(_,l,h)}function po(_,l,h){let m;for(m in _[h])if(Object.prototype.hasOwnProperty.call(_[h],m)&&m!=="data"&&!O(_[h][m],l[h][m]))return!1;for(m in l[h])if(Object.prototype.hasOwnProperty.call(l[h],m)&&m!=="data"&&!O(_[h][m],l[h][m]))return!1;return!0}function vi(_,l,h,m,$,x){let T;for(T in l=l||{},_=_||{})Object.prototype.hasOwnProperty.call(_,T)&&(O(_[T],l[T])||h.push({command:x,args:[m,T,l[T],$]}));for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(_,T)&&(O(_[T],l[T])||h.push({command:x,args:[m,T,l[T],$]}))}function Ni(_){return _.id}function go(_,l){return _[l.id]=l,_}class Te{constructor(l,h){this.reset(l,h)}reset(l,h){this.points=l||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=c.clamp(l,0,1);let h=1,m=this._distances[h];const $=l*this.paddedLength+this.padding;for(;m<$&&h<this._distances.length;)m=this._distances[++h];const x=h-1,T=this._distances[x],P=m-T,w=P>0?($-T)/P:0;return this.points[x].mult(1-w).add(this.points[h].mult(w))}}function Me(_,l){let h=!0;return _==="always"||_!=="never"&&l!=="never"||(h=!1),h}class qi{constructor(l,h,m){const $=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(l/m),this.yCellCount=Math.ceil(h/m);for(let T=0;T<this.xCellCount*this.yCellCount;T++)$.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=h,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,h,m,$,x){this._forEachCell(h,m,$,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(h),this.bboxes.push(m),this.bboxes.push($),this.bboxes.push(x)}insertCircle(l,h,m,$){this._forEachCell(h-$,m-$,h+$,m+$,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(h),this.circles.push(m),this.circles.push($)}_insertBoxCell(l,h,m,$,x,T){this.boxCells[x].push(T)}_insertCircleCell(l,h,m,$,x,T){this.circleCells[x].push(T)}_query(l,h,m,$,x,T,P){if(m<0||l>this.width||$<0||h>this.height)return[];const w=[];if(l<=0&&h<=0&&this.width<=m&&this.height<=$){if(x)return[{key:null,x1:l,y1:h,x2:m,y2:$}];for(let L=0;L<this.boxKeys.length;L++)w.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){const z=this.circles[3*L],B=this.circles[3*L+1],j=this.circles[3*L+2];w.push({key:this.circleKeys[L],x1:z-j,y1:B-j,x2:z+j,y2:B+j})}}else this._forEachCell(l,h,m,$,this._queryCell,w,{hitTest:x,overlapMode:T,seenUids:{box:{},circle:{}}},P);return w}query(l,h,m,$){return this._query(l,h,m,$,!1,null)}hitTest(l,h,m,$,x,T){return this._query(l,h,m,$,!0,x,T).length>0}hitTestCircle(l,h,m,$,x){const T=l-m,P=l+m,w=h-m,L=h+m;if(P<0||T>this.width||L<0||w>this.height)return!1;const z=[];return this._forEachCell(T,w,P,L,this._queryCellCircle,z,{hitTest:!0,overlapMode:$,circle:{x:l,y:h,radius:m},seenUids:{box:{},circle:{}}},x),z.length>0}_queryCell(l,h,m,$,x,T,P,w){const{seenUids:L,hitTest:z,overlapMode:B}=P,j=this.boxCells[x];if(j!==null){const Y=this.bboxes;for(const Z of j)if(!L.box[Z]){L.box[Z]=!0;const se=4*Z,ue=this.boxKeys[Z];if(l<=Y[se+2]&&h<=Y[se+3]&&m>=Y[se+0]&&$>=Y[se+1]&&(!w||w(ue))&&(!z||!Me(B,ue.overlapMode))&&(T.push({key:ue,x1:Y[se],y1:Y[se+1],x2:Y[se+2],y2:Y[se+3]}),z))return!0}}const J=this.circleCells[x];if(J!==null){const Y=this.circles;for(const Z of J)if(!L.circle[Z]){L.circle[Z]=!0;const se=3*Z,ue=this.circleKeys[Z];if(this._circleAndRectCollide(Y[se],Y[se+1],Y[se+2],l,h,m,$)&&(!w||w(ue))&&(!z||!Me(B,ue.overlapMode))){const de=Y[se],Q=Y[se+1],me=Y[se+2];if(T.push({key:ue,x1:de-me,y1:Q-me,x2:de+me,y2:Q+me}),z)return!0}}}return!1}_queryCellCircle(l,h,m,$,x,T,P,w){const{circle:L,seenUids:z,overlapMode:B}=P,j=this.boxCells[x];if(j!==null){const Y=this.bboxes;for(const Z of j)if(!z.box[Z]){z.box[Z]=!0;const se=4*Z,ue=this.boxKeys[Z];if(this._circleAndRectCollide(L.x,L.y,L.radius,Y[se+0],Y[se+1],Y[se+2],Y[se+3])&&(!w||w(ue))&&!Me(B,ue.overlapMode))return T.push(!0),!0}}const J=this.circleCells[x];if(J!==null){const Y=this.circles;for(const Z of J)if(!z.circle[Z]){z.circle[Z]=!0;const se=3*Z,ue=this.circleKeys[Z];if(this._circlesCollide(Y[se],Y[se+1],Y[se+2],L.x,L.y,L.radius)&&(!w||w(ue))&&!Me(B,ue.overlapMode))return T.push(!0),!0}}}_forEachCell(l,h,m,$,x,T,P,w){const L=this._convertToXCellCoord(l),z=this._convertToYCellCoord(h),B=this._convertToXCellCoord(m),j=this._convertToYCellCoord($);for(let J=L;J<=B;J++)for(let Y=z;Y<=j;Y++)if(x.call(this,l,h,m,$,this.xCellCount*Y+J,T,P,w))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,h,m,$,x,T){const P=$-l,w=x-h,L=m+T;return L*L>P*P+w*w}_circleAndRectCollide(l,h,m,$,x,T,P){const w=(T-$)/2,L=Math.abs(l-($+w));if(L>w+m)return!1;const z=(P-x)/2,B=Math.abs(h-(x+z));if(B>z+m)return!1;if(L<=w||B<=z)return!0;const j=L-w,J=B-z;return j*j+J*J<=m*m}}function si(_,l,h,m,$){const x=c.create();return l?(c.scale(x,x,[1/$,1/$,1]),h||c.rotateZ(x,x,m.angle)):c.multiply(x,m.labelPlaneMatrix,_),x}function jt(_,l,h,m,$){if(l){const x=c.clone(_);return c.scale(x,x,[$,$,1]),h||c.rotateZ(x,x,-m.angle),x}return m.glCoordMatrix}function tn(_,l,h){let m;h?(m=[_.x,_.y,h(_.x,_.y),1],c.transformMat4(m,m,l)):(m=[_.x,_.y,0,1],bi(m,m,l));const $=m[3];return{point:new c.pointGeometry(m[0]/$,m[1]/$),signedDistanceFromCamera:$}}function wn(_,l){return .5+_/l*.5}function ho(_,l){const h=_[0]/_[3],m=_[1]/_[3];return h>=-l[0]&&h<=l[0]&&m>=-l[1]&&m<=l[1]}function On(_,l,h,m,$,x,T,P,w,L){const z=m?_.textSizeData:_.iconSizeData,B=c.evaluateSizeForZoom(z,h.transform.zoom),j=[256/h.width*2+1,256/h.height*2+1],J=m?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;J.clear();const Y=_.lineVertexArray,Z=m?_.text.placedSymbolArray:_.icon.placedSymbolArray,se=h.transform.width/h.transform.height;let ue=!1;for(let de=0;de<Z.length;de++){const Q=Z.get(de);if(Q.hidden||Q.writingMode===c.WritingMode.vertical&&!ue){li(Q.numGlyphs,J);continue}let me;if(ue=!1,L?(me=[Q.anchorX,Q.anchorY,L(Q.anchorX,Q.anchorY),1],c.transformMat4(me,me,l)):(me=[Q.anchorX,Q.anchorY,0,1],bi(me,me,l)),!ho(me,j)){li(Q.numGlyphs,J);continue}const he=wn(h.transform.cameraToCenterDistance,me[3]),Ee=c.evaluateSizeForFeature(z,B,Q),Se=T?Ee/he:Ee*he,Oe=new c.pointGeometry(Q.anchorX,Q.anchorY),be=tn(Oe,$,L).point,qe={},Ne=gt(Q,Se,!1,P,l,$,x,_.glyphOffsetArray,Y,J,be,Oe,qe,se,w,L);ue=Ne.useVertical,(Ne.notEnoughRoom||ue||Ne.needsFlipping&&gt(Q,Se,!0,P,l,$,x,_.glyphOffsetArray,Y,J,be,Oe,qe,se,w,L).notEnoughRoom)&&li(Q.numGlyphs,J)}m?_.text.dynamicLayoutVertexBuffer.updateData(J):_.icon.dynamicLayoutVertexBuffer.updateData(J)}function Fe(_,l,h,m,$,x,T,P,w,L,z,B,j){const J=P.glyphStartIndex+P.numGlyphs,Y=P.lineStartIndex,Z=P.lineStartIndex+P.lineLength,se=l.getoffsetX(P.glyphStartIndex),ue=l.getoffsetX(J-1),de=qn(_*se,h,m,$,x,T,P.segment,Y,Z,w,L,z,B,j);if(!de)return null;const Q=qn(_*ue,h,m,$,x,T,P.segment,Y,Z,w,L,z,B,j);return Q?{first:de,last:Q}:null}function yt(_,l,h,m){return _===c.WritingMode.horizontal&&Math.abs(h.y-l.y)>Math.abs(h.x-l.x)*m?{useVertical:!0}:(_===c.WritingMode.vertical?l.y<h.y:l.x>h.x)?{needsFlipping:!0}:null}function gt(_,l,h,m,$,x,T,P,w,L,z,B,j,J,Y,Z){const se=l/24,ue=_.lineOffsetX*se,de=_.lineOffsetY*se;let Q;if(_.numGlyphs>1){const me=_.glyphStartIndex+_.numGlyphs,he=_.lineStartIndex,Ee=_.lineStartIndex+_.lineLength,Se=Fe(se,P,ue,de,h,z,B,_,w,x,j,Y,Z);if(!Se)return{notEnoughRoom:!0};const Oe=tn(Se.first.point,T,Z).point,be=tn(Se.last.point,T,Z).point;if(m&&!h){const qe=yt(_.writingMode,Oe,be,J);if(qe)return qe}Q=[Se.first];for(let qe=_.glyphStartIndex+1;qe<me-1;qe++)Q.push(qn(se*P.getoffsetX(qe),ue,de,h,z,B,_.segment,he,Ee,w,x,j,Y,Z));Q.push(Se.last)}else{if(m&&!h){const he=tn(B,$,Z).point,Ee=_.lineStartIndex+_.segment+1,Se=new c.pointGeometry(w.getx(Ee),w.gety(Ee)),Oe=tn(Se,$,Z),be=Oe.signedDistanceFromCamera>0?Oe.point:Dn(B,Se,he,1,$,Z),qe=yt(_.writingMode,he,be,J);if(qe)return qe}const me=qn(se*P.getoffsetX(_.glyphStartIndex),ue,de,h,z,B,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,w,x,j,Y,Z);if(!me)return{notEnoughRoom:!0};Q=[me]}for(const me of Q)c.addDynamicAttributes(L,me.point,me.angle);return{}}function Dn(_,l,h,m,$,x){const T=tn(_.add(_.sub(l)._unit()),$,x).point,P=h.sub(T);return h.add(P._mult(m/P.mag()))}function qn(_,l,h,m,$,x,T,P,w,L,z,B,j,J){const Y=m?_-l:_+l;let Z=Y>0?1:-1,se=0;m&&(Z*=-1,se=Math.PI),Z<0&&(se+=Math.PI);let ue=Z>0?P+T:P+T+1,de=$,Q=$,me=0,he=0;const Ee=Math.abs(Y),Se=[];for(;me+he<=Ee;){if(ue+=Z,ue<P||ue>=w)return null;if(Q=de,Se.push(de),de=B[ue],de===void 0){const Xe=new c.pointGeometry(L.getx(ue),L.gety(ue)),pt=tn(Xe,z,J);if(pt.signedDistanceFromCamera>0)de=B[ue]=pt.point;else{const vt=ue-Z;de=Dn(me===0?x:new c.pointGeometry(L.getx(vt),L.gety(vt)),Xe,Q,Ee-me+1,z,J)}}me+=he,he=Q.dist(de)}const Oe=(Ee-me)/he,be=de.sub(Q),qe=be.mult(Oe)._add(Q);qe._add(be._unit()._perp()._mult(h*Z));const Ne=se+Math.atan2(de.y-Q.y,de.x-Q.x);return Se.push(qe),{point:qe,angle:j?Ne:0,path:Se}}const ft=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function li(_,l){for(let h=0;h<_;h++){const m=l.length;l.resize(m+4),l.float32.set(ft,3*m)}}function bi(_,l,h){const m=l[0],$=l[1];return _[0]=h[0]*m+h[4]*$+h[12],_[1]=h[1]*m+h[5]*$+h[13],_[3]=h[3]*m+h[7]*$+h[15],_}const xn=100;class zi{constructor(l,h=new qi(l.width+200,l.height+200,25),m=new qi(l.width+200,l.height+200,25)){this.transform=l,this.grid=h,this.ignoredGrid=m,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+xn,this.screenBottomBoundary=l.height+xn,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(l,h,m,$,x,T){const P=this.projectAndGetPerspectiveRatio($,l.anchorPointX,l.anchorPointY,T),w=m*P.perspectiveRatio,L=l.x1*w+P.point.x,z=l.y1*w+P.point.y,B=l.x2*w+P.point.x,j=l.y2*w+P.point.y;return!this.isInsideGrid(L,z,B,j)||h!=="always"&&this.grid.hitTest(L,z,B,j,h,x)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[L,z,B,j],offscreen:this.isOffscreen(L,z,B,j)}}placeCollisionCircles(l,h,m,$,x,T,P,w,L,z,B,j,J,Y){const Z=[],se=new c.pointGeometry(h.anchorX,h.anchorY),ue=tn(se,T,Y),de=wn(this.transform.cameraToCenterDistance,ue.signedDistanceFromCamera),Q=(z?x/de:x*de)/c.ONE_EM,me=tn(se,P,Y).point,he=Fe(Q,$,h.lineOffsetX*Q,h.lineOffsetY*Q,!1,me,se,h,m,P,{},!1,Y);let Ee=!1,Se=!1,Oe=!0;if(he){const be=.5*j*de+J,qe=new c.pointGeometry(-100,-100),Ne=new c.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Xe=new Te,pt=he.first,vt=he.last;let at=[];for(let Tt=pt.path.length-1;Tt>=1;Tt--)at.push(pt.path[Tt]);for(let Tt=1;Tt<vt.path.length;Tt++)at.push(vt.path[Tt]);const Mt=2.5*be;if(w){const Tt=at.map(Ct=>tn(Ct,w,Y));at=Tt.some(Ct=>Ct.signedDistanceFromCamera<=0)?[]:Tt.map(Ct=>Ct.point)}let Nt=[];if(at.length>0){const Tt=at[0].clone(),Ct=at[0].clone();for(let It=1;It<at.length;It++)Tt.x=Math.min(Tt.x,at[It].x),Tt.y=Math.min(Tt.y,at[It].y),Ct.x=Math.max(Ct.x,at[It].x),Ct.y=Math.max(Ct.y,at[It].y);Nt=Tt.x>=qe.x&&Ct.x<=Ne.x&&Tt.y>=qe.y&&Ct.y<=Ne.y?[at]:Ct.x<qe.x||Tt.x>Ne.x||Ct.y<qe.y||Tt.y>Ne.y?[]:c.clipLine([at],qe.x,qe.y,Ne.x,Ne.y)}for(const Tt of Nt){Xe.reset(Tt,.25*be);let Ct=0;Ct=Xe.length<=.5*be?1:Math.ceil(Xe.paddedLength/Mt)+1;for(let It=0;It<Ct;It++){const Wn=It/Math.max(Ct-1,1),Si=Xe.lerp(Wn),ci=Si.x+xn,gi=Si.y+xn;Z.push(ci,gi,be,0);const eo=ci-be,vn=gi-be,di=ci+be,to=gi+be;if(Oe=Oe&&this.isOffscreen(eo,vn,di,to),Se=Se||this.isInsideGrid(eo,vn,di,to),l!=="always"&&this.grid.hitTestCircle(ci,gi,be,l,B)&&(Ee=!0,!L))return{circles:[],offscreen:!1,collisionDetected:Ee}}}}return{circles:!L&&Ee||!Se||de<this.perspectiveRatioCutoff?[]:Z,offscreen:Oe,collisionDetected:Ee}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let m=1/0,$=1/0,x=-1/0,T=-1/0;for(const z of l){const B=new c.pointGeometry(z.x+xn,z.y+xn);m=Math.min(m,B.x),$=Math.min($,B.y),x=Math.max(x,B.x),T=Math.max(T,B.y),h.push(B)}const P=this.grid.query(m,$,x,T).concat(this.ignoredGrid.query(m,$,x,T)),w={},L={};for(const z of P){const B=z.key;if(w[B.bucketInstanceId]===void 0&&(w[B.bucketInstanceId]={}),w[B.bucketInstanceId][B.featureIndex])continue;const j=[new c.pointGeometry(z.x1,z.y1),new c.pointGeometry(z.x2,z.y1),new c.pointGeometry(z.x2,z.y2),new c.pointGeometry(z.x1,z.y2)];c.polygonIntersectsPolygon(h,j)&&(w[B.bucketInstanceId][B.featureIndex]=!0,L[B.bucketInstanceId]===void 0&&(L[B.bucketInstanceId]=[]),L[B.bucketInstanceId].push(B.featureIndex))}return L}insertCollisionBox(l,h,m,$,x,T){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:x,collisionGroupID:T,overlapMode:h},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,h,m,$,x,T){const P=m?this.ignoredGrid:this.grid,w={bucketInstanceId:$,featureIndex:x,collisionGroupID:T,overlapMode:h};for(let L=0;L<l.length;L+=4)P.insertCircle(w,l[L],l[L+1],l[L+2])}projectAndGetPerspectiveRatio(l,h,m,$){let x;return $?(x=[h,m,$(h,m),1],c.transformMat4(x,x,l)):(x=[h,m,0,1],bi(x,x,l)),{point:new c.pointGeometry((x[0]/x[3]+1)/2*this.transform.width+xn,(-x[1]/x[3]+1)/2*this.transform.height+xn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(l,h,m,$){return m<xn||l>=this.screenRightBoundary||$<xn||h>this.screenBottomBoundary}isInsideGrid(l,h,m,$){return m>=0&&l<this.gridRightBoundary&&$>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const l=c.identity([]);return c.translate(l,l,[-100,-100,0]),l}}function kt(_,l,h){return l*(c.EXTENT/(_.tileSize*Math.pow(2,h-_.tileID.overscaledZ)))}class Bt{constructor(l,h,m,$){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?h:-h))):$&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Hi{constructor(l,h,m,$,x){this.text=new Bt(l?l.text:null,h,m,x),this.icon=new Bt(l?l.icon:null,h,$,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class xi{constructor(l,h,m){this.text=l,this.icon=h,this.skipFade=m}}class Fi{constructor(){this.invProjMatrix=c.create(),this.viewportMatrix=c.create(),this.circles=[]}}class Pi{constructor(l,h,m,$,x){this.bucketInstanceId=l,this.featureIndex=h,this.sourceLayerIndex=m,this.bucketIndex=$,this.tileID=x}}class Mo{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const h=++this.maxGroupID;this.collisionGroups[l]={ID:h,predicate:m=>m.collisionGroupID===h}}return this.collisionGroups[l]}}function No(_,l,h,m,$){const{horizontalAlign:x,verticalAlign:T}=c.getAnchorAlignment(_),P=-(x-.5)*l,w=-(T-.5)*h,L=c.evaluateVariableOffset(_,m);return new c.pointGeometry(P+L[0]*$,w+L[1]*$)}function wi(_,l,h,m,$,x){const{x1:T,x2:P,y1:w,y2:L,anchorPointX:z,anchorPointY:B}=_,j=new c.pointGeometry(l,h);return m&&j._rotate($?x:-x),{x1:T+j.x,y1:w+j.y,x2:P+j.x,y2:L+j.y,anchorPointX:z,anchorPointY:B}}class X{constructor(l,h,m,$,x){this.transform=l.clone(),this.terrain=h,this.collisionIndex=new zi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new Mo($),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,h,m,$){const x=m.getBucket(h),T=m.latestFeatureIndex;if(!x||!T||h.id!==x.layerIds[0])return;const P=m.collisionBoxArray,w=x.layers[0].layout,L=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),z=m.tileSize/c.EXTENT,B=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),j=w.get("text-pitch-alignment")==="map",J=w.get("text-rotation-alignment")==="map",Y=kt(m,1,this.transform.zoom),Z=si(B,j,J,this.transform,Y);let se=null;if(j){const de=jt(B,j,J,this.transform,Y);se=c.multiply([],this.transform.labelPlaneMatrix,de)}this.retainedQueryData[x.bucketInstanceId]=new Pi(x.bucketInstanceId,T,x.sourceLayerIndex,x.index,m.tileID);const ue={bucket:x,layout:w,posMatrix:B,textLabelPlaneMatrix:Z,labelToScreenMatrix:se,scale:L,textPixelRatio:z,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:c.evaluateSizeForZoom(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if($)for(const de of x.sortKeyRanges){const{sortKey:Q,symbolInstanceStart:me,symbolInstanceEnd:he}=de;l.push({sortKey:Q,symbolInstanceStart:me,symbolInstanceEnd:he,parameters:ue})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:ue})}attemptAnchorPlacement(l,h,m,$,x,T,P,w,L,z,B,j,J,Y,Z,se){const ue=[j.textOffset0,j.textOffset1],de=No(l,m,$,ue,x),Q=this.collisionIndex.placeCollisionBox(wi(h,de.x,de.y,T,P,this.transform.angle),B,w,L,z.predicate,se);if((!Z||this.collisionIndex.placeCollisionBox(wi(Z,de.x,de.y,T,P,this.transform.angle),B,w,L,z.predicate,se).box.length!==0)&&Q.box.length>0){let me;if(this.prevPlacement&&this.prevPlacement.variableOffsets[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID]&&this.prevPlacement.placements[j.crossTileID].text&&(me=this.prevPlacement.variableOffsets[j.crossTileID].anchor),j.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[j.crossTileID]={textOffset:ue,width:m,height:$,anchor:l,textBoxScale:x,prevAnchor:me},this.markUsedJustification(J,l,j,Y),J.allowVerticalPlacement&&(this.markUsedOrientation(J,Y,j),this.placedOrientations[j.crossTileID]=Y),{shift:de,placedGlyphBoxes:Q}}}placeLayerBucketPart(l,h,m){const{bucket:$,layout:x,posMatrix:T,textLabelPlaneMatrix:P,labelToScreenMatrix:w,textPixelRatio:L,holdingForFade:z,collisionBoxArray:B,partiallyEvaluatedTextSize:j,collisionGroup:J}=l.parameters,Y=x.get("text-optional"),Z=x.get("icon-optional"),se=c.getOverlapMode(x,"text-overlap","text-allow-overlap"),ue=se==="always",de=c.getOverlapMode(x,"icon-overlap","icon-allow-overlap"),Q=de==="always",me=x.get("text-rotation-alignment")==="map",he=x.get("text-pitch-alignment")==="map",Ee=x.get("icon-text-fit")!=="none",Se=x.get("symbol-z-order")==="viewport-y",Oe=ue&&(Q||!$.hasIconData()||Z),be=Q&&(ue||!$.hasTextData()||Y);!$.collisionArrays&&B&&$.deserializeCollisionBoxes(B);const qe=(Ne,Xe)=>{if(h[Ne.crossTileID])return;if(z)return void(this.placements[Ne.crossTileID]=new xi(!1,!1,!1));let pt=!1,vt=!1,at=!0,Mt=null,Nt={box:null,offscreen:null},Tt={box:null},Ct=null,It=null,Wn=null,Si=0,ci=0,gi=0;Xe.textFeatureIndex?Si=Xe.textFeatureIndex:Ne.useRuntimeCollisionCircles&&(Si=Ne.featureIndex),Xe.verticalTextFeatureIndex&&(ci=Xe.verticalTextFeatureIndex);const eo=this.retainedQueryData[$.bucketInstanceId].tileID,vn=this.terrain?(Pt,qt)=>this.terrain.getElevation(eo,Pt,qt):null;for(const Pt of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const qt=Xe[Pt];qt&&(qt.elevation=vn?vn(qt.anchorPointX,qt.anchorPointY):0)}const di=Xe.textBox;if(di){const Pt=Dt=>{let cn=c.WritingMode.horizontal;if($.allowVerticalPlacement&&!Dt&&this.prevPlacement){const Bn=this.prevPlacement.placedOrientations[Ne.crossTileID];Bn&&(this.placedOrientations[Ne.crossTileID]=Bn,cn=Bn,this.markUsedOrientation($,cn,Ne))}return cn},qt=(Dt,cn)=>{if($.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&Xe.verticalTextBox){for(const Bn of $.writingModes)if(Bn===c.WritingMode.vertical?(Nt=cn(),Tt=Nt):Nt=Dt(),Nt&&Nt.box&&Nt.box.length)break}else Nt=Dt()};if(x.get("text-variable-anchor")){let Dt=x.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ne.crossTileID]){const Wt=this.prevPlacement.variableOffsets[Ne.crossTileID];Dt.indexOf(Wt.anchor)>0&&(Dt=Dt.filter(ni=>ni!==Wt.anchor),Dt.unshift(Wt.anchor))}const cn=(Wt,ni,To)=>{const Ao=Wt.x2-Wt.x1,Br=Wt.y2-Wt.y1,La=Ne.textBoxScale,Ur=Ee&&de==="never"?ni:null;let hi={box:[],offscreen:!1};const jr=se!=="never"?2*Dt.length:Dt.length;for(let rr=0;rr<jr;++rr){const Vr=this.attemptAnchorPlacement(Dt[rr%Dt.length],Wt,Ao,Br,La,me,he,L,T,J,rr>=Dt.length?se:"never",Ne,$,To,Ur,vn);if(Vr&&(hi=Vr.placedGlyphBoxes,hi&&hi.box&&hi.box.length)){pt=!0,Mt=Vr.shift;break}}return hi};qt(()=>cn(di,Xe.iconBox,c.WritingMode.horizontal),()=>{const Wt=Xe.verticalTextBox;return $.allowVerticalPlacement&&!(Nt&&Nt.box&&Nt.box.length)&&Ne.numVerticalGlyphVertices>0&&Wt?cn(Wt,Xe.verticalIconBox,c.WritingMode.vertical):{box:null,offscreen:null}}),Nt&&(pt=Nt.box,at=Nt.offscreen);const Bn=Pt(Nt&&Nt.box);if(!pt&&this.prevPlacement){const Wt=this.prevPlacement.variableOffsets[Ne.crossTileID];Wt&&(this.variableOffsets[Ne.crossTileID]=Wt,this.markUsedJustification($,Wt.anchor,Ne,Bn))}}else{const Dt=(cn,Bn)=>{const Wt=this.collisionIndex.placeCollisionBox(cn,se,L,T,J.predicate,vn);return Wt&&Wt.box&&Wt.box.length&&(this.markUsedOrientation($,Bn,Ne),this.placedOrientations[Ne.crossTileID]=Bn),Wt};qt(()=>Dt(di,c.WritingMode.horizontal),()=>{const cn=Xe.verticalTextBox;return $.allowVerticalPlacement&&Ne.numVerticalGlyphVertices>0&&cn?Dt(cn,c.WritingMode.vertical):{box:null,offscreen:null}}),Pt(Nt&&Nt.box&&Nt.box.length)}}if(Ct=Nt,pt=Ct&&Ct.box&&Ct.box.length>0,at=Ct&&Ct.offscreen,Ne.useRuntimeCollisionCircles){const Pt=$.text.placedSymbolArray.get(Ne.centerJustifiedTextSymbolIndex),qt=c.evaluateSizeForFeature($.textSizeData,j,Pt),Dt=x.get("text-padding");It=this.collisionIndex.placeCollisionCircles(se,Pt,$.lineVertexArray,$.glyphOffsetArray,qt,T,P,w,m,he,J.predicate,Ne.collisionCircleDiameter,Dt,vn),It.circles.length&&It.collisionDetected&&!m&&c.warnOnce("Collisions detected, but collision boxes are not shown"),pt=ue||It.circles.length>0&&!It.collisionDetected,at=at&&It.offscreen}if(Xe.iconFeatureIndex&&(gi=Xe.iconFeatureIndex),Xe.iconBox){const Pt=qt=>{const Dt=Ee&&Mt?wi(qt,Mt.x,Mt.y,me,he,this.transform.angle):qt;return this.collisionIndex.placeCollisionBox(Dt,de,L,T,J.predicate,vn)};Tt&&Tt.box&&Tt.box.length&&Xe.verticalIconBox?(Wn=Pt(Xe.verticalIconBox),vt=Wn.box.length>0):(Wn=Pt(Xe.iconBox),vt=Wn.box.length>0),at=at&&Wn.offscreen}const to=Y||Ne.numHorizontalGlyphVertices===0&&Ne.numVerticalGlyphVertices===0,kr=Z||Ne.numIconVertices===0;if(to||kr?kr?to||(vt=vt&&pt):pt=vt&&pt:vt=pt=vt&&pt,pt&&Ct&&Ct.box&&this.collisionIndex.insertCollisionBox(Ct.box,se,x.get("text-ignore-placement"),$.bucketInstanceId,Tt&&Tt.box&&ci?ci:Si,J.ID),vt&&Wn&&this.collisionIndex.insertCollisionBox(Wn.box,de,x.get("icon-ignore-placement"),$.bucketInstanceId,gi,J.ID),It&&(pt&&this.collisionIndex.insertCollisionCircles(It.circles,se,x.get("text-ignore-placement"),$.bucketInstanceId,Si,J.ID),m)){const Pt=$.bucketInstanceId;let qt=this.collisionCircleArrays[Pt];qt===void 0&&(qt=this.collisionCircleArrays[Pt]=new Fi);for(let Dt=0;Dt<It.circles.length;Dt+=4)qt.circles.push(It.circles[Dt+0]),qt.circles.push(It.circles[Dt+1]),qt.circles.push(It.circles[Dt+2]),qt.circles.push(It.collisionDetected?1:0)}if(Ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if($.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ne.crossTileID]=new xi(pt||Oe,vt||be,at||$.justReloaded),h[Ne.crossTileID]=!0};if(Se){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ne=$.getSortedSymbolIndexes(this.transform.angle);for(let Xe=Ne.length-1;Xe>=0;--Xe){const pt=Ne[Xe];qe($.symbolInstances.get(pt),$.collisionArrays[pt])}}else for(let Ne=l.symbolInstanceStart;Ne<l.symbolInstanceEnd;Ne++)qe($.symbolInstances.get(Ne),$.collisionArrays[Ne]);if(m&&$.bucketInstanceId in this.collisionCircleArrays){const Ne=this.collisionCircleArrays[$.bucketInstanceId];c.invert(Ne.invProjMatrix,T),Ne.viewportMatrix=this.collisionIndex.getViewportMatrix()}$.justReloaded=!1}markUsedJustification(l,h,m,$){let x;x=$===c.WritingMode.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[c.getAnchorJustification(h)];const T=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const P of T)P>=0&&(l.text.placedSymbolArray.get(P).crossTileID=x>=0&&P!==x?0:m.crossTileID)}markUsedOrientation(l,h,m){const $=h===c.WritingMode.horizontal||h===c.WritingMode.horizontalOnly?h:0,x=h===c.WritingMode.vertical?h:0,T=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const P of T)l.text.placedSymbolArray.get(P).placedOrientation=$;m.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let m=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const $=h?h.symbolFadeChange(l):1,x=h?h.opacities:{},T=h?h.variableOffsets:{},P=h?h.placedOrientations:{};for(const w in this.placements){const L=this.placements[w],z=x[w];z?(this.opacities[w]=new Hi(z,$,L.text,L.icon),m=m||L.text!==z.text.placed||L.icon!==z.icon.placed):(this.opacities[w]=new Hi(null,$,L.text,L.icon,L.skipFade),m=m||L.text||L.icon)}for(const w in x){const L=x[w];if(!this.opacities[w]){const z=new Hi(L,$,!1,!1);z.isHidden()||(this.opacities[w]=z,m=m||L.text.placed||L.icon.placed)}}for(const w in T)this.variableOffsets[w]||!this.opacities[w]||this.opacities[w].isHidden()||(this.variableOffsets[w]=T[w]);for(const w in P)this.placedOrientations[w]||!this.opacities[w]||this.opacities[w].isHidden()||(this.placedOrientations[w]=P[w]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:l)}updateLayerOpacities(l,h){const m={};for(const $ of h){const x=$.getBucket(l);x&&$.latestFeatureIndex&&l.id===x.layerIds[0]&&this.updateBucketOpacities(x,m,$.collisionBoxArray)}}updateBucketOpacities(l,h,m){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const $=l.layers[0].layout,x=new Hi(null,0,!1,!1,!0),T=$.get("text-allow-overlap"),P=$.get("icon-allow-overlap"),w=$.get("text-variable-anchor"),L=$.get("text-rotation-alignment")==="map",z=$.get("text-pitch-alignment")==="map",B=$.get("icon-text-fit")!=="none",j=new Hi(null,0,T&&(P||!l.hasIconData()||$.get("icon-optional")),P&&(T||!l.hasTextData()||$.get("text-optional")),!0);!l.collisionArrays&&m&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(m);const J=(Y,Z,se)=>{for(let ue=0;ue<Z/4;ue++)Y.opacityVertexArray.emplaceBack(se)};for(let Y=0;Y<l.symbolInstances.length;Y++){const Z=l.symbolInstances.get(Y),{numHorizontalGlyphVertices:se,numVerticalGlyphVertices:ue,crossTileID:de}=Z;let Q=this.opacities[de];h[de]?Q=x:Q||(Q=j,this.opacities[de]=Q),h[de]=!0;const me=Z.numIconVertices>0,he=this.placedOrientations[Z.crossTileID],Ee=he===c.WritingMode.vertical,Se=he===c.WritingMode.horizontal||he===c.WritingMode.horizontalOnly;if(se>0||ue>0){const Oe=ce(Q.text);J(l.text,se,Ee?ve:Oe),J(l.text,ue,Se?ve:Oe);const be=Q.text.isHidden();[Z.rightJustifiedTextSymbolIndex,Z.centerJustifiedTextSymbolIndex,Z.leftJustifiedTextSymbolIndex].forEach(Xe=>{Xe>=0&&(l.text.placedSymbolArray.get(Xe).hidden=be||Ee?1:0)}),Z.verticalPlacedTextSymbolIndex>=0&&(l.text.placedSymbolArray.get(Z.verticalPlacedTextSymbolIndex).hidden=be||Se?1:0);const qe=this.variableOffsets[Z.crossTileID];qe&&this.markUsedJustification(l,qe.anchor,Z,he);const Ne=this.placedOrientations[Z.crossTileID];Ne&&(this.markUsedJustification(l,"left",Z,Ne),this.markUsedOrientation(l,Ne,Z))}if(me){const Oe=ce(Q.icon),be=!(B&&Z.verticalPlacedIconSymbolIndex&&Ee);Z.placedIconSymbolIndex>=0&&(J(l.icon,Z.numIconVertices,be?Oe:ve),l.icon.placedSymbolArray.get(Z.placedIconSymbolIndex).hidden=Q.icon.isHidden()),Z.verticalPlacedIconSymbolIndex>=0&&(J(l.icon,Z.numVerticalIconVertices,be?ve:Oe),l.icon.placedSymbolArray.get(Z.verticalPlacedIconSymbolIndex).hidden=Q.icon.isHidden())}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const Oe=l.collisionArrays[Y];if(Oe){let be=new c.pointGeometry(0,0);if(Oe.textBox||Oe.verticalTextBox){let Ne=!0;if(w){const Xe=this.variableOffsets[de];Xe?(be=No(Xe.anchor,Xe.width,Xe.height,Xe.textOffset,Xe.textBoxScale),L&&be._rotate(z?this.transform.angle:-this.transform.angle)):Ne=!1}Oe.textBox&&M(l.textCollisionBox.collisionVertexArray,Q.text.placed,!Ne||Ee,be.x,be.y),Oe.verticalTextBox&&M(l.textCollisionBox.collisionVertexArray,Q.text.placed,!Ne||Se,be.x,be.y)}const qe=!!(!Se&&Oe.verticalIconBox);Oe.iconBox&&M(l.iconCollisionBox.collisionVertexArray,Q.icon.placed,qe,B?be.x:0,B?be.y:0),Oe.verticalIconBox&&M(l.iconCollisionBox.collisionVertexArray,Q.icon.placed,!qe,B?be.x:0,B?be.y:0)}}}if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);if(l.bucketInstanceId in this.collisionCircleArrays){const Y=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=Y.invProjMatrix,l.placementViewportMatrix=Y.viewportMatrix,l.collisionCircleArray=Y.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,h){const m=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*m>l}setStale(){this.stale=!0}}function M(_,l,h,m,$){_.emplaceBack(l?1:0,h?1:0,m||0,$||0),_.emplaceBack(l?1:0,h?1:0,m||0,$||0),_.emplaceBack(l?1:0,h?1:0,m||0,$||0),_.emplaceBack(l?1:0,h?1:0,m||0,$||0)}const k=Math.pow(2,25),G=Math.pow(2,24),W=Math.pow(2,17),ie=Math.pow(2,16),ae=Math.pow(2,9),re=Math.pow(2,8),oe=Math.pow(2,1);function ce(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const l=_.placed?1:0,h=Math.floor(127*_.opacity);return h*k+l*G+h*W+l*ie+h*ae+l*re+h*oe+l}const ve=0;class Ce{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,h,m,$,x){const T=this._bucketParts;for(;this._currentTileIndex<l.length;)if(h.getBucketParts(T,$,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((P,w)=>P.sortKey-w.sortKey));this._currentPartIndex<T.length;)if(h.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,x())return!0;return!1}}class Ae{constructor(l,h,m,$,x,T,P,w){this.placement=new X(l,h,T,P,w),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(l,h,m){const $=c.exported.now(),x=()=>{const T=c.exported.now()-$;return!this._forceFullPlacement&&T>2};for(;this._currentPlacementIndex>=0;){const T=h[l[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=P)&&(!T.maxzoom||T.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Ce(T)),this._inProgressLayer.continuePlacement(m[T.source],this.placement,this._showCollisionBoxes,T,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Ye=512/c.EXTENT/2;class Ge{constructor(l,h,m){this.tileID=l,this.indexedSymbolInstances={},this.bucketInstanceId=m;for(let $=0;$<h.length;$++){const x=h.get($),T=x.key;this.indexedSymbolInstances[T]||(this.indexedSymbolInstances[T]=[]),this.indexedSymbolInstances[T].push({crossTileID:x.crossTileID,coord:this.getScaledCoordinates(x,l)})}}getScaledCoordinates(l,h){const m=Ye/Math.pow(2,h.canonical.z-this.tileID.canonical.z);return{x:Math.floor((h.canonical.x*c.EXTENT+l.anchorX)*m),y:Math.floor((h.canonical.y*c.EXTENT+l.anchorY)*m)}}findMatches(l,h,m){const $=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<l.length;x++){const T=l.get(x);if(T.crossTileID)continue;const P=this.indexedSymbolInstances[T.key];if(!P)continue;const w=this.getScaledCoordinates(T,h);for(const L of P)if(Math.abs(L.coord.x-w.x)<=$&&Math.abs(L.coord.y-w.y)<=$&&!m[L.crossTileID]){m[L.crossTileID]=!0,T.crossTileID=L.crossTileID;break}}}}class et{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class it{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const h=Math.round((l-this.lng)/360);if(h!==0)for(const m in this.indexes){const $=this.indexes[m],x={};for(const T in $){const P=$[T];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+h),x[P.tileID.key]=P}this.indexes[m]=x}this.lng=l}addBucket(l,h,m){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});const $=this.usedCrossTileIDs[l.overscaledZ];for(const x in this.indexes){const T=this.indexes[x];if(Number(x)>l.overscaledZ)for(const P in T){const w=T[P];w.tileID.isChildOf(l)&&w.findMatches(h.symbolInstances,l,$)}else{const P=T[l.scaledTo(Number(x)).key];P&&P.findMatches(h.symbolInstances,l,$)}}for(let x=0;x<h.symbolInstances.length;x++){const T=h.symbolInstances.get(x);T.crossTileID||(T.crossTileID=m.generate(),$[T.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Ge(l,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(l,h){for(const m in h.indexedSymbolInstances)for(const $ of h.indexedSymbolInstances[m])delete this.usedCrossTileIDs[l][$.crossTileID]}removeStaleBuckets(l){let h=!1;for(const m in this.indexes){const $=this.indexes[m];for(const x in $)l[$[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,$[x]),delete $[x],h=!0)}return h}}class mt{constructor(){this.layerIndexes={},this.crossTileIDs=new et,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,h,m){let $=this.layerIndexes[l.id];$===void 0&&($=this.layerIndexes[l.id]=new it);let x=!1;const T={};$.handleWrapJump(m);for(const P of h){const w=P.getBucket(l);w&&l.id===w.layerIds[0]&&(w.bucketInstanceId||(w.bucketInstanceId=++this.maxBucketInstanceId),$.addBucket(P.tileID,w,this.crossTileIDs)&&(x=!0),T[w.bucketInstanceId]=!0)}return $.removeStaleBuckets(T)&&(x=!0),x}pruneUnusedLayers(l){const h={};l.forEach(m=>{h[m]=!0});for(const m in this.layerIndexes)h[m]||delete this.layerIndexes[m]}}var xt=c.createLayout([{name:"a_pos",type:"Int16",components:2}]);class $t extends c.Evented{constructor(l){super(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=l._cache.max,l.usedForTerrain=!0,l.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const l in this._tiles){const h=this._tiles[l];h.textures.forEach(m=>m.destroy()),h.textures=[]}}update(l,h){this.sourceCache.update(l,h),this._renderableTilesKeys=[];for(const m of l.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))this._renderableTilesKeys.push(m.key),this._tiles[m.key]||(m.posMatrix=new Float64Array(16),c.ortho(m.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),this._tiles[m.key]=new $i(m,this.tileSize))}removeOutdated(l){const h={};this.renderHistory=this.renderHistory.filter((m,$)=>this.renderHistory.indexOf(m)===$).slice(0,this.renderHistorySize);for(const m of this._renderableTilesKeys)h[m]=!0;for(const m of this.renderHistory)h[m]=!0;for(const m in this._tiles)h[m]||(this._tiles[m].clearTextures(l),delete this._tiles[m])}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){const h={};for(const m of this._renderableTilesKeys){const $=this._tiles[m].tileID;if($.canonical.equals(l.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16),c.ortho(x.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),h[m]=x}else if($.canonical.isChildOf(l.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16);const T=$.canonical.z-l.canonical.z,P=$.canonical.x-($.canonical.x>>T<<T),w=$.canonical.y-($.canonical.y>>T<<T),L=c.EXTENT>>T;c.ortho(x.posMatrix,0,L,0,L,0,1),c.translate(x.posMatrix,x.posMatrix,[-P*L,-w*L,0]),h[m]=x}else if(l.canonical.isChildOf($.canonical)){const x=l.clone();x.posMatrix=new Float64Array(16);const T=l.canonical.z-$.canonical.z,P=l.canonical.x-(l.canonical.x>>T<<T),w=l.canonical.y-(l.canonical.y>>T<<T),L=c.EXTENT>>T;c.ortho(x.posMatrix,0,c.EXTENT,0,c.EXTENT,0,1),c.translate(x.posMatrix,x.posMatrix,[P*L,w*L,0]),c.scale(x.posMatrix,x.posMatrix,[1/2**T,1/2**T,0]),h[m]=x}}return h}getSourceTile(l,h){const m=this.sourceCache._source;let $=l.overscaledZ-this.deltaZoom;if($>m.maxzoom&&($=m.maxzoom),$<m.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo($).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!x||!x.dem)&&h)for(;$>=m.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(l.scaledTo($--).key);return x}tilesAfterTime(l=Date.now()){return Object.values(this._tiles).filter(h=>h.timeLoaded>=l)}}class _t{constructor(l,h,m){this.style=l,this.sourceCache=new $t(h),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.elevationOffset=typeof m.elevationOffset=="number"?m.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(l,h,m,$=c.EXTENT){if(!(h>=0&&h<$&&m>=0&&m<$))return this.elevationOffset;let x=0;const T=this.getTerrainData(l);if(T.tile&&T.tile.dem){const P=c.transformMat4$1([],[h/$*c.EXTENT,m/$*c.EXTENT],T.u_terrain_matrix),w=[P[0]*T.tile.dem.dim,P[1]*T.tile.dem.dim],L=[Math.floor(w[0]),Math.floor(w[1])],z=T.tile.dem.get(L[0],L[1]),B=T.tile.dem.get(L[0],L[1]+1),j=T.tile.dem.get(L[0]+1,L[1]),J=T.tile.dem.get(L[0]+1,L[1]+1);x=c.number(c.number(z,B,w[0]-L[0]),c.number(j,J,w[0]-L[0]),w[1]-L[1])}return x}rememberForRerender(l,h){for(const m in this.sourceCache._tiles){const $=this.sourceCache._tiles[m];($.tileID.equals(h)||$.tileID.isChildOf(h))&&(l===this.sourceCache.sourceCache.id&&($.timeLoaded=Date.now()),this._rerender[l]=this._rerender[l]||{},this._rerender[l][$.tileID.key]=!0)}}needsRerender(l,h){return this._rerender[l]&&this._rerender[l][h.key]}clearRerenderCache(){this._rerender={}}getElevation(l,h,m,$=c.EXTENT){return(this.getDEMElevation(l,h,m,$)+this.elevationOffset)*this.exaggeration}getTerrainData(l){if(!this._emptyDemTexture){const $=this.style.map.painter.context,x=new c.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new le($,x,$.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new le($,new c.RGBAImage({width:1,height:1}),$.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.identity([])}const h=this.sourceCache.getSourceTile(l,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const $=this.style.map.painter.context;h.demTexture=this.style.map.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new le($,h.dem.getPixels(),$.gl.RGBA,{premultiply:!1}),h.demTexture.bind($.gl.NEAREST,$.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const m=h&&h+h.tileID.key+l.key;if(m&&!this._demMatrixCache[m]){const $=this.sourceCache.sourceCache._source.maxzoom;let x=l.canonical.z-h.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=$?x=l.canonical.z-$:c.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=l.canonical.x-(l.canonical.x>>x<<x),P=l.canonical.y-(l.canonical.y>>x<<x),w=c.fromScaling(new Float64Array(16),[1/(c.EXTENT<<x),1/(c.EXTENT<<x),0]);c.translate(w,w,[T*c.EXTENT,P*c.EXTENT,0]),this._demMatrixCache[l.key]={matrix:w,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getRTTFramebuffer(){const l=this.style.map.painter;if(!this._rttFramebuffer){const h=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=l.context.createFramebuffer(h,h,!0),this._rttFramebuffer.depthAttachment.set(l.context.createRenderbuffer(l.context.gl.DEPTH_COMPONENT16,h,h))}return this._rttFramebuffer}getFramebuffer(l){const h=this.style.map.painter,m=h.width/devicePixelRatio,$=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===$||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new le(h.context,{width:m,height:$,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new le(h.context,{width:m,height:$,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(m,$,!0),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,m,$))),this._fbo.colorAttachment.set(l==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const l=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,T=0;x<this._coordsTextureSize;x++)for(let P=0;P<this._coordsTextureSize;P++,T+=4)h[T+0]=255&P,h[T+1]=255&x,h[T+2]=P>>8<<4|x>>8,h[T+3]=0;const m=new c.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),$=new le(l,m,l.gl.RGBA,{premultiply:!1});return $.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=$,$}pointCoordinate(l){const h=new Uint8Array(4),m=this.style.map.painter,$=m.context,x=$.gl;$.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),x.readPixels(l.x,m.height/devicePixelRatio-l.y-1,1,1,x.RGBA,x.UNSIGNED_BYTE,h),$.bindFramebuffer.set(null);const T=h[0]+(h[2]>>4<<8),P=h[1]+((15&h[2])<<8),w=this.coordsIndex[255-h[3]],L=w&&this.sourceCache.getTileByID(w);if(!L)return null;const z=this._coordsTextureSize,B=(1<<L.tileID.canonical.z)*z;return new c.MercatorCoordinate((L.tileID.canonical.x*z+T)/B,(L.tileID.canonical.y*z+P)/B,this.getElevation(L.tileID,T,P,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const l=this.style.map.painter.context,h=new c.PosArray,m=new c.TriangleIndexArray,$=this.meshSize,x=c.EXTENT/$,T=$*$;for(let P=0;P<=$;P++)for(let w=0;w<=$;w++)h.emplaceBack(w*x,P*x);for(let P=0;P<T;P+=$+1)for(let w=0;w<$;w++)m.emplaceBack(w+P,$+w+P+1,$+w+P+2),m.emplaceBack(w+P,$+w+P+2,w+P+1);return this._mesh={indexBuffer:l.createIndexBuffer(m),vertexBuffer:l.createVertexBuffer(h,xt.members),segments:c.SegmentVector.simpleSegment(0,0,h.length,m.length)},this._mesh}getMinMaxElevation(l){const h=this.getTerrainData(l).tile,m={minElevation:null,maxElevation:null};return h&&h.dem&&(m.minElevation=(h.dem.min+this.elevationOffset)*this.exaggeration,m.maxElevation=(h.dem.max+this.elevationOffset)*this.exaggeration),m}}const dt=(_,l)=>c.emitValidationErrors(_,l&&l.filter(h=>h.identifier!=="source.canvas")),an=c.pick(St,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),nn=c.pick(St,["setCenter","setZoom","setBearing","setPitch"]),ln=function(){const _={},l=c.spec.$version;for(const h in c.spec.$root){const m=c.spec.$root[h];if(m.required){let $=null;$=h==="version"?l:m.type==="array"?[]:{},$!=null&&(_[h]=$)}}return _}();class $n extends c.Evented{constructor(l,h={}){super(),this.map=l,this.dispatcher=new wt(uo(),this),this.imageManager=new ye,this.imageManager.setEventedParent(this),this.glyphManager=new Ze(l._requestManager,h.localIdeographFontFamily),this.lineAtlas=new ct(256,512),this.crossTileSymbolIndex=new mt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",c.getReferrer());const m=this;this._rtlTextPluginCallback=$n.registerForPluginStateChange($=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:$.pluginStatus,pluginURL:$.pluginURL},(x,T)=>{if(c.triggerPluginCompletionEvent(x),T&&T.every(P=>P))for(const P in m.sourceCaches)m.sourceCaches[P].reload()})}),this.on("data",$=>{if($.dataType!=="source"||$.sourceDataType!=="metadata")return;const x=this.sourceCaches[$.sourceId];if(!x)return;const T=x.getSource();if(T&&T.vectorLayerIds)for(const P in this._layers){const w=this._layers[P];w.source===T.id&&this._validateLayer(w)}})}loadURL(l,h={}){this.fire(new c.Event("dataloading",{dataType:"style"}));const m=typeof h.validate!="boolean"||h.validate,$=this.map._requestManager.transformRequest(l,c.ResourceType.Style);this._request=c.getJSON($,(x,T)=>{this._request=null,x?this.fire(new c.ErrorEvent(x)):T&&this._load(T,m)})}loadJSON(l,h={}){this.fire(new c.Event("dataloading",{dataType:"style"})),this._request=c.exported.frame(()=>{this._request=null,this._load(l,h.validate!==!1)})}loadEmpty(){this.fire(new c.Event("dataloading",{dataType:"style"})),this._load(ln,!1)}_load(l,h){if(h&&dt(this,c.validateStyle(l)))return;this._loaded=!0,this.stylesheet=l;for(const $ in l.sources)this.addSource($,l.sources[$],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);const m=co(this.stylesheet.layers);this._order=m.map($=>$.id),this._layers={},this._serializedLayers={};for(let $ of m)$=c.createStyleLayer($),$.setEventedParent(this,{layer:{id:$.id}}),this._layers[$.id]=$,this._serializedLayers[$.id]=$.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new lt(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new c.Event("data",{dataType:"style"})),this.fire(new c.Event("style.load"))}_loadSprite(l){this._spriteRequest=function(h,m,$,x){let T,P,w;const L=$>1?"@2x":"";let z=c.getJSON(m.transformRequest(m.normalizeSpriteURL(h,L,".json"),c.ResourceType.SpriteJSON),(J,Y)=>{z=null,w||(w=J,T=Y,j())}),B=c.getImage(m.transformRequest(m.normalizeSpriteURL(h,L,".png"),c.ResourceType.SpriteImage),(J,Y)=>{B=null,w||(w=J,P=Y,j())});function j(){if(w)x(w);else if(T&&P){const J=c.exported.getImageData(P),Y={};for(const Z in T){const{width:se,height:ue,x:de,y:Q,sdf:me,pixelRatio:he,stretchX:Ee,stretchY:Se,content:Oe}=T[Z],be=new c.RGBAImage({width:se,height:ue});c.RGBAImage.copy(J,be,{x:de,y:Q},{x:0,y:0},{width:se,height:ue}),Y[Z]={data:be,pixelRatio:he,sdf:me,stretchX:Ee,stretchY:Se,content:Oe}}x(null,Y)}}return{cancel(){z&&(z.cancel(),z=null),B&&(B.cancel(),B=null)}}}(l,this.map._requestManager,this.map.getPixelRatio(),(h,m)=>{if(this._spriteRequest=null,h)this.fire(new c.ErrorEvent(h));else if(m)for(const $ in m)this.imageManager.addImage($,m[$]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))})}_validateLayer(l){const h=this.sourceCaches[l.source];if(!h)return;const m=l.sourceLayer;if(!m)return;const $=h.getSource();($.type==="geojson"||$.vectorLayerIds&&$.vectorLayerIds.indexOf(m)===-1)&&this.fire(new c.ErrorEvent(new Error(`Source layer "${m}" does not exist on source "${$.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const h=[];for(const m of l){const $=this._layers[m];$.type!=="custom"&&h.push($.serialize())}return h}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(!this._loaded)return;const h=this._changed;if(this._changed){const $=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);($.length||x.length)&&this._updateWorkerLayers($,x);for(const T in this._updatedSources){const P=this._updatedSources[T];if(P==="reload")this._reloadSource(T);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(T)}}this._updateTilesForChangedImages();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}const m={};for(const $ in this.sourceCaches){const x=this.sourceCaches[$];m[$]=x.used,x.used=!1}for(const $ of this._order){const x=this._layers[$];x.recalculate(l,this._availableImages),!x.isHidden(l.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const $ in m){const x=this.sourceCaches[$];m[$]!==x.used&&x.fire(new c.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:$}))}this.light.recalculate(l),this.z=l.zoom,h&&this.fire(new c.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(l){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),l){const h=this.sourceCaches[l.source];if(!h)throw new Error(`cannot load terrain, because there exists no source with ID: ${l.source}`);this.terrain=new _t(this,h,l),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=m=>{m.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=m=>{m.tile&&(m.sourceId===l.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(m.sourceId,m.tile.tileID)):m.source.type==="geojson"&&this.terrain.rememberForRerender(m.sourceId,m.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new c.Event("terrain",{terrain:l}))}setState(l){if(this._checkLoaded(),dt(this,c.validateStyle(l)))return!1;(l=c.clone$1(l)).layers=co(l.layers);const h=function($,x){if(!$)return[{command:St.setStyle,args:[x]}];let T=[];try{if(!O($.version,x.version))return[{command:St.setStyle,args:[x]}];O($.center,x.center)||T.push({command:St.setCenter,args:[x.center]}),O($.zoom,x.zoom)||T.push({command:St.setZoom,args:[x.zoom]}),O($.bearing,x.bearing)||T.push({command:St.setBearing,args:[x.bearing]}),O($.pitch,x.pitch)||T.push({command:St.setPitch,args:[x.pitch]}),O($.sprite,x.sprite)||T.push({command:St.setSprite,args:[x.sprite]}),O($.glyphs,x.glyphs)||T.push({command:St.setGlyphs,args:[x.glyphs]}),O($.transition,x.transition)||T.push({command:St.setTransition,args:[x.transition]}),O($.light,x.light)||T.push({command:St.setLight,args:[x.light]});const P={},w=[];(function(z,B,j,J){let Y;for(Y in B=B||{},z=z||{})Object.prototype.hasOwnProperty.call(z,Y)&&(Object.prototype.hasOwnProperty.call(B,Y)||Lo(Y,j,J));for(Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(Object.prototype.hasOwnProperty.call(z,Y)?O(z[Y],B[Y])||(z[Y].type==="geojson"&&B[Y].type==="geojson"&&po(z,B,Y)?j.push({command:St.setGeoJSONSourceData,args:[Y,B[Y].data]}):Mi(Y,B,j,J)):ai(Y,B,j))})($.sources,x.sources,w,P);const L=[];$.layers&&$.layers.forEach(z=>{P[z.source]?T.push({command:St.removeLayer,args:[z.id]}):L.push(z)}),T=T.concat(w),function(z,B,j){B=B||[];const J=(z=z||[]).map(Ni),Y=B.map(Ni),Z=z.reduce(go,{}),se=B.reduce(go,{}),ue=J.slice(),de=Object.create(null);let Q,me,he,Ee,Se,Oe,be;for(Q=0,me=0;Q<J.length;Q++)he=J[Q],Object.prototype.hasOwnProperty.call(se,he)?me++:(j.push({command:St.removeLayer,args:[he]}),ue.splice(ue.indexOf(he,me),1));for(Q=0,me=0;Q<Y.length;Q++)he=Y[Y.length-1-Q],ue[ue.length-1-Q]!==he&&(Object.prototype.hasOwnProperty.call(Z,he)?(j.push({command:St.removeLayer,args:[he]}),ue.splice(ue.lastIndexOf(he,ue.length-me),1)):me++,Oe=ue[ue.length-Q],j.push({command:St.addLayer,args:[se[he],Oe]}),ue.splice(ue.length-Q,0,he),de[he]=!0);for(Q=0;Q<Y.length;Q++)if(he=Y[Q],Ee=Z[he],Se=se[he],!de[he]&&!O(Ee,Se))if(O(Ee.source,Se.source)&&O(Ee["source-layer"],Se["source-layer"])&&O(Ee.type,Se.type)){for(be in vi(Ee.layout,Se.layout,j,he,null,St.setLayoutProperty),vi(Ee.paint,Se.paint,j,he,null,St.setPaintProperty),O(Ee.filter,Se.filter)||j.push({command:St.setFilter,args:[he,Se.filter]}),O(Ee.minzoom,Se.minzoom)&&O(Ee.maxzoom,Se.maxzoom)||j.push({command:St.setLayerZoomRange,args:[he,Se.minzoom,Se.maxzoom]}),Ee)Object.prototype.hasOwnProperty.call(Ee,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?vi(Ee[be],Se[be],j,he,be.slice(6),St.setPaintProperty):O(Ee[be],Se[be])||j.push({command:St.setLayerProperty,args:[he,be,Se[be]]}));for(be in Se)Object.prototype.hasOwnProperty.call(Se,be)&&!Object.prototype.hasOwnProperty.call(Ee,be)&&be!=="layout"&&be!=="paint"&&be!=="filter"&&be!=="metadata"&&be!=="minzoom"&&be!=="maxzoom"&&(be.indexOf("paint.")===0?vi(Ee[be],Se[be],j,he,be.slice(6),St.setPaintProperty):O(Ee[be],Se[be])||j.push({command:St.setLayerProperty,args:[he,be,Se[be]]}))}else j.push({command:St.removeLayer,args:[he]}),Oe=ue[ue.lastIndexOf(he)+1],j.push({command:St.addLayer,args:[Se,Oe]})}(L,x.layers,T)}catch(P){console.warn("Unable to compute style diff:",P),T=[{command:St.setStyle,args:[x]}]}return T}(this.serialize(),l).filter($=>!($.command in nn));if(h.length===0)return!1;const m=h.filter($=>!($.command in an));if(m.length>0)throw new Error(`Unimplemented: ${m.map($=>$.command).join(", ")}.`);return h.forEach($=>{$.command!=="setTransition"&&this[$.command].apply(this,$.args)}),this.stylesheet=l,!0}addImage(l,h){if(this.getImage(l))return this.fire(new c.ErrorEvent(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,h),this._afterImageUpdated(l)}updateImage(l,h){this.imageManager.updateImage(l,h)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new c.ErrorEvent(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,h,m={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(c.validateStyle.source,`sources.${l}`,h,null,m))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const $=this.sourceCaches[l]=new Gn(l,h,this.dispatcher);$.style=this,$.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:$.serialize(),sourceId:l})),$.onAdd(this.map),this._changed=!0}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===l)return this.fire(new c.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${m}" is using it.`)));const h=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],h.fire(new c.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,h){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error(`There is no source with this ID=${l}`);const m=this.sourceCaches[l].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(h),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,h,m={}){this._checkLoaded();const $=l.id;if(this.getLayer($))return void this.fire(new c.ErrorEvent(new Error(`Layer "${$}" already exists on this map.`)));let x;if(l.type==="custom"){if(dt(this,c.validateCustomStyleLayer(l)))return;x=c.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource($,l.source),l=c.clone$1(l),l=c.extend(l,{source:$})),this._validate(c.validateStyle.layer,`layers.${$}`,l,{arrayIndex:-1},m))return;x=c.createStyleLayer(l),this._validateLayer(x),x.setEventedParent(this,{layer:{id:$}}),this._serializedLayers[x.id]=x.serialize()}const T=h?this._order.indexOf(h):this._order.length;if(h&&T===-1)this.fire(new c.ErrorEvent(new Error(`Cannot add layer "${$}" before non-existing layer "${h}".`)));else{if(this._order.splice(T,0,$),this._layerOrderChanged=!0,this._layers[$]=x,this._removedLayers[$]&&x.source&&x.type!=="custom"){const P=this._removedLayers[$];delete this._removedLayers[$],P.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(l,h){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new c.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===h)return;const m=this._order.indexOf(l);this._order.splice(m,1);const $=h?this._order.indexOf(h):this._order.length;h&&$===-1?this.fire(new c.ErrorEvent(new Error(`Cannot move layer "${l}" before non-existing layer "${h}".`))):(this._order.splice($,0,l),this._layerOrderChanged=!0)}removeLayer(l){this._checkLoaded();const h=this._layers[l];if(!h)return void this.fire(new c.ErrorEvent(new Error(`Cannot remove non-existing layer "${l}".`)));h.setEventedParent(null);const m=this._order.indexOf(l);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=h,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],h.onRemove&&h.onRemove(this.map)}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,h,m){this._checkLoaded();const $=this.getLayer(l);$?$.minzoom===h&&$.maxzoom===m||(h!=null&&($.minzoom=h),m!=null&&($.maxzoom=m),this._updateLayer($)):this.fire(new c.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,h,m={}){this._checkLoaded();const $=this.getLayer(l);if($){if(!O($.filter,h))return h==null?($.filter=void 0,void this._updateLayer($)):void(this._validate(c.validateStyle.filter,`layers.${$.id}.filter`,h,null,m)||($.filter=c.clone$1(h),this._updateLayer($)))}else this.fire(new c.ErrorEvent(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return c.clone$1(this.getLayer(l).filter)}setLayoutProperty(l,h,m,$={}){this._checkLoaded();const x=this.getLayer(l);x?O(x.getLayoutProperty(h),m)||(x.setLayoutProperty(h,m,$),this._updateLayer(x)):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,h){const m=this.getLayer(l);if(m)return m.getLayoutProperty(h);this.fire(new c.ErrorEvent(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,h,m,$={}){this._checkLoaded();const x=this.getLayer(l);x?O(x.getPaintProperty(h),m)||(x.setPaintProperty(h,m,$)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new c.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,h){return this.getLayer(l).getPaintProperty(h)}setFeatureState(l,h){this._checkLoaded();const m=l.source,$=l.sourceLayer,x=this.sourceCaches[m];if(x===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const T=x.getSource().type;T==="geojson"&&$?this.fire(new c.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||$?(l.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),x.setFeatureState($,l.id,h)):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,h){this._checkLoaded();const m=l.source,$=this.sourceCaches[m];if($===void 0)return void this.fire(new c.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const x=$.getSource().type,T=x==="vector"?l.sourceLayer:void 0;x!=="vector"||T?h&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new c.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):$.removeFeatureState(T,l.id,h):this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(l){this._checkLoaded();const h=l.source,m=l.sourceLayer,$=this.sourceCaches[h];if($!==void 0)return $.getSource().type!=="vector"||m?(l.id===void 0&&this.fire(new c.ErrorEvent(new Error("The feature id parameter must be provided."))),$.getFeatureState(m,l.id)):void this.fire(new c.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,l=>l.serialize()),layers:this._serializeLayers(this._order)},l=>l!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(l){const h=T=>this._layers[T].type==="fill-extrusion",m={},$=[];for(let T=this._order.length-1;T>=0;T--){const P=this._order[T];if(h(P)){m[P]=T;for(const w of l){const L=w[P];if(L)for(const z of L)$.push(z)}}}$.sort((T,P)=>P.intersectionZ-T.intersectionZ);const x=[];for(let T=this._order.length-1;T>=0;T--){const P=this._order[T];if(h(P))for(let w=$.length-1;w>=0;w--){const L=$[w].feature;if(m[L.layer.id]<T)break;x.push(L),$.pop()}else for(const w of l){const L=w[P];if(L)for(const z of L)x.push(z.feature)}}return x}queryRenderedFeatures(l,h,m){h&&h.filter&&this._validate(c.validateStyle.filter,"queryRenderedFeatures.filter",h.filter,null,h);const $={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new c.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const T of h.layers){const P=this._layers[T];if(!P)return this.fire(new c.ErrorEvent(new Error(`The layer '${T}' does not exist in the map's style and cannot be queried for features.`))),[];$[P.source]=!0}}const x=[];h.availableImages=this._availableImages;for(const T in this.sourceCaches)h.layers&&!$[T]||x.push(oi(this.sourceCaches[T],this._layers,this._serializedLayers,l,h,m));return this.placement&&x.push(function(T,P,w,L,z,B,j){const J={},Y=B.queryRenderedSymbols(L),Z=[];for(const se of Object.keys(Y).map(Number))Z.push(j[se]);Z.sort(yn);for(const se of Z){const ue=se.featureIndex.lookupSymbolFeatures(Y[se.bucketInstanceId],P,se.bucketIndex,se.sourceLayerIndex,z.filter,z.layers,z.availableImages,T);for(const de in ue){const Q=J[de]=J[de]||[],me=ue[de];me.sort((he,Ee)=>{const Se=se.featureSortOrder;if(Se){const Oe=Se.indexOf(he.featureIndex);return Se.indexOf(Ee.featureIndex)-Oe}return Ee.featureIndex-he.featureIndex});for(const he of me)Q.push(he)}}for(const se in J)J[se].forEach(ue=>{const de=ue.feature,Q=w[T[se].source].getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=Q});return J}(this._layers,this._serializedLayers,this.sourceCaches,l,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(l,h){h&&h.filter&&this._validate(c.validateStyle.filter,"querySourceFeatures.filter",h.filter,null,h);const m=this.sourceCaches[l];return m?function($,x){const T=$.getRenderableIds().map(L=>$.getTileByID(L)),P=[],w={};for(let L=0;L<T.length;L++){const z=T[L],B=z.tileID.canonical.key;w[B]||(w[B]=!0,z.querySourceFeatures(P,x))}return P}(m,h):[]}addSourceType(l,h,m){return $n.getSourceType(l)?m(new Error(`A source type called "${l}" already exists.`)):($n.setSourceType(l,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:h.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(l,h={}){this._checkLoaded();const m=this.light.getLight();let $=!1;for(const T in l)if(!O(l[T],m[T])){$=!0;break}if(!$)return;const x={now:c.exported.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,h),this.light.updateTransitions(x)}_validate(l,h,m,$,x={}){return(!x||x.validate!==!1)&&dt(this,l.call(c.validateStyle,c.extend({key:h,style:this.serialize(),value:m,styleSpec:c.spec},$)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this.sourceCaches){const h=this.sourceCaches[l];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const h in this.sourceCaches)this.sourceCaches[h].update(l,this.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,h,m,$,x=!1){let T=!1,P=!1;const w={};for(const L of this._order){const z=this._layers[L];if(z.type!=="symbol")continue;if(!w[z.source]){const j=this.sourceCaches[z.source];w[z.source]=j.getRenderableIds(!0).map(J=>j.getTileByID(J)).sort((J,Y)=>Y.tileID.overscaledZ-J.tileID.overscaledZ||(J.tileID.isLessThan(Y.tileID)?-1:1))}const B=this.crossTileSymbolIndex.addLayer(z,w[z.source],l.center.lng);T=T||B}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.exported.now(),l.zoom))&&(this.pauseablePlacement=new Ae(l,this.terrain,this._order,x,h,m,$,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,w),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.exported.now()),P=!0),T&&this.pauseablePlacement.placement.setStale()),P||T)for(const L of this._order){const z=this._layers[L];z.type==="symbol"&&this.placement.updateLayerOpacities(z,w[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.exported.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,h,m){this.imageManager.getImages(h.icons,m),this._updateTilesForChangedImages();const $=this.sourceCaches[h.source];$&&$.setDependencies(h.tileID.key,h.type,h.icons)}getGlyphs(l,h,m){this.glyphManager.getGlyphs(h.stacks,m)}getResource(l,h,m){return c.makeRequest(h,m)}}$n.getSourceType=function(_){return zn[_]},$n.setSourceType=function(_,l){zn[_]=l},$n.registerForPluginStateChange=c.registerForPluginStateChange;var Qr="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const zo={prelude:Lt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Lt(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Lt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Lt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Lt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Lt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Lt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Lt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Lt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Lt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Lt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Lt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Lt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Lt(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Lt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Lt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Lt(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Lt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Lt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Lt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Lt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Lt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Lt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Lt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Qr),terrainDepth:Lt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Qr),terrainCoords:Lt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Qr)};function Lt(_,l){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=l.match(/attribute ([\w]+) ([\w]+)/g),$=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=x?x.concat($):$,P={};return{fragmentSource:_=_.replace(h,(w,L,z,B,j)=>(P[j]=!0,L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
varying ${z} ${B} ${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:`
#ifdef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = u_${j};
#endif
`)),vertexSource:l=l.replace(h,(w,L,z,B,j)=>{const J=B==="float"?"vec2":"vec4",Y=j.match(/color/)?"color":J;return P[j]?L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${z} ${J} a_${j};
varying ${z} ${B} ${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = a_${j};
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = unpack_mix_${Y}(a_${j}, u_${j}_t);
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:L==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${z} ${J} a_${j};
#else
uniform ${z} ${B} u_${j};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = a_${j};
#else
    ${z} ${B} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${z} ${B} ${j} = unpack_mix_${Y}(a_${j}, u_${j}_t);
#else
    ${z} ${B} ${j} = u_${j};
#endif
`}),staticAttributes:m,staticUniforms:T}}class Qs{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,h,m,$,x,T,P,w,L){this.context=l;let z=this.boundPaintVertexBuffers.length!==$.length;for(let B=0;!z&&B<$.length;B++)this.boundPaintVertexBuffers[B]!==$[B]&&(z=!0);l.extVertexArrayObject&&this.vao&&this.boundProgram===h&&this.boundLayoutVertexBuffer===m&&!z&&this.boundIndexBuffer===x&&this.boundVertexOffset===T&&this.boundDynamicVertexBuffer===P&&this.boundDynamicVertexBuffer2===w&&this.boundDynamicVertexBuffer3===L?(l.bindVertexArrayOES.set(this.vao),P&&P.bind(),x&&x.dynamicDraw&&x.bind(),w&&w.bind(),L&&L.bind()):this.freshBind(h,m,$,x,T,P,w,L)}freshBind(l,h,m,$,x,T,P,w){let L;const z=l.numAttributes,B=this.context,j=B.gl;if(B.extVertexArrayObject)this.vao&&this.destroy(),this.vao=B.extVertexArrayObject.createVertexArrayOES(),B.bindVertexArrayOES.set(this.vao),L=0,this.boundProgram=l,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=$,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=w;else{L=B.currentNumAttributes||0;for(let J=z;J<L;J++)j.disableVertexAttribArray(J)}h.enableAttributes(j,l);for(const J of m)J.enableAttributes(j,l);T&&T.enableAttributes(j,l),P&&P.enableAttributes(j,l),w&&w.enableAttributes(j,l),h.bind(),h.setVertexAttribPointers(j,l,x);for(const J of m)J.bind(),J.setVertexAttribPointers(j,l,x);T&&(T.bind(),T.setVertexAttribPointers(j,l,x)),$&&$.bind(),P&&(P.bind(),P.setVertexAttribPointers(j,l,x)),w&&(w.bind(),w.setVertexAttribPointers(j,l,x)),B.currentNumAttributes=z}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function hr(_){const l=[];for(let h=0;h<_.length;h++){if(_[h]===null)continue;const m=_[h].split(" ");l.push(m.pop())}return l}class el{constructor(l,h,m,$,x,T,P){const w=l.gl;this.program=w.createProgram();const L=hr(m.staticAttributes),z=$?$.getBinderAttributes():[],B=L.concat(z),j=zo.prelude.staticUniforms?hr(zo.prelude.staticUniforms):[],J=m.staticUniforms?hr(m.staticUniforms):[],Y=$?$.getBinderUniforms():[],Z=j.concat(J).concat(Y),se=[];for(const Se of Z)se.indexOf(Se)<0&&se.push(Se);const ue=$?$.defines():[];T&&ue.push("#define OVERDRAW_INSPECTOR;"),P&&ue.push("#define TERRAIN3D;");const de=ue.concat(zo.prelude.fragmentSource,m.fragmentSource).join(`
`),Q=ue.concat(zo.prelude.vertexSource,m.vertexSource).join(`
`),me=w.createShader(w.FRAGMENT_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(me,de),w.compileShader(me),w.attachShader(this.program,me);const he=w.createShader(w.VERTEX_SHADER);if(w.isContextLost())return void(this.failedToCreate=!0);w.shaderSource(he,Q),w.compileShader(he),w.attachShader(this.program,he),this.attributes={};const Ee={};this.numAttributes=B.length;for(let Se=0;Se<this.numAttributes;Se++)B[Se]&&(w.bindAttribLocation(this.program,Se,B[Se]),this.attributes[B[Se]]=Se);w.linkProgram(this.program),w.deleteShader(he),w.deleteShader(me);for(let Se=0;Se<se.length;Se++){const Oe=se[Se];if(Oe&&!Ee[Oe]){const be=w.getUniformLocation(this.program,Oe);be&&(Ee[Oe]=be)}}this.fixedUniforms=x(l,Ee),this.terrainUniforms=((Se,Oe)=>({u_depth:new c.Uniform1i(Se,Oe.u_depth),u_terrain:new c.Uniform1i(Se,Oe.u_terrain),u_terrain_dim:new c.Uniform1f(Se,Oe.u_terrain_dim),u_terrain_matrix:new c.UniformMatrix4f(Se,Oe.u_terrain_matrix),u_terrain_unpack:new c.Uniform4f(Se,Oe.u_terrain_unpack),u_terrain_offset:new c.Uniform1f(Se,Oe.u_terrain_offset),u_terrain_exaggeration:new c.Uniform1f(Se,Oe.u_terrain_exaggeration)}))(l,Ee),this.binderUniforms=$?$.getUniforms(l,Ee):[]}draw(l,h,m,$,x,T,P,w,L,z,B,j,J,Y,Z,se,ue,de){const Q=l.gl;if(this.failedToCreate)return;if(l.program.set(this.program),l.setDepthMode(m),l.setStencilMode($),l.setColorMode(x),l.setCullFace(T),w){l.activeTexture.set(Q.TEXTURE2),Q.bindTexture(Q.TEXTURE_2D,w.depthTexture),l.activeTexture.set(Q.TEXTURE3),Q.bindTexture(Q.TEXTURE_2D,w.texture);for(const he in this.terrainUniforms)this.terrainUniforms[he].set(w[he])}for(const he in this.fixedUniforms)this.fixedUniforms[he].set(P[he]);Z&&Z.setUniforms(l,this.binderUniforms,J,{zoom:Y});let me=0;switch(h){case Q.LINES:me=2;break;case Q.TRIANGLES:me=3;break;case Q.LINE_STRIP:me=1}for(const he of j.get()){const Ee=he.vaos||(he.vaos={});(Ee[L]||(Ee[L]=new Qs)).bind(l,this,z,Z?Z.getPaintVertexBuffers():[],B,he.vertexOffset,se,ue,de),Q.drawElements(h,he.primitiveLength*me,Q.UNSIGNED_SHORT,he.primitiveOffset*me*2)}}}function ea(_,l,h){const m=1/kt(h,1,l.transform.tileZoom),$=Math.pow(2,h.tileID.overscaledZ),x=h.tileSize*Math.pow(2,l.transform.tileZoom)/$,T=x*(h.tileID.canonical.x+h.tileID.wrap*$),P=x*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[m,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[T>>16,P>>16],u_pixel_coord_lower:[65535&T,65535&P]}}const Ja=(_,l,h,m)=>{const $=l.style.light,x=$.properties.get("position"),T=[x.x,x.y,x.z],P=c.create$1();$.properties.get("anchor")==="viewport"&&c.fromRotation(P,-l.transform.angle),c.transformMat3(T,T,P);const w=$.properties.get("color");return{u_matrix:_,u_lightpos:T,u_lightintensity:$.properties.get("intensity"),u_lightcolor:[w.r,w.g,w.b],u_vertical_gradient:+h,u_opacity:m}},ta=(_,l,h,m,$,x,T)=>c.extend(Ja(_,l,h,m),ea(x,l,T),{u_height_factor:-Math.pow(2,$.overscaledZ)/T.tileSize/8}),na=_=>({u_matrix:_}),ia=(_,l,h,m)=>c.extend(na(_),ea(h,l,m)),Qa=(_,l)=>({u_matrix:_,u_world:l}),es=(_,l,h,m,$)=>c.extend(ia(_,l,h,m),{u_world:$}),Xi=(_,l,h,m)=>{const $=_.transform;let x,T;if(m.paint.get("circle-pitch-alignment")==="map"){const P=kt(h,1,$.zoom);x=!0,T=[P,P]}else x=!1,T=$.pixelsToGLUnits;return{u_camera_to_center_distance:$.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(l.posMatrix,h,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:T}},fr=(_,l,h)=>{const m=kt(h,1,l.zoom),$=Math.pow(2,l.zoom-h.tileID.overscaledZ),x=h.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:l.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[l.pixelsToGLUnits[0]/(m*$),l.pixelsToGLUnits[1]/(m*$)],u_overscale_factor:x}},fo=(_,l,h=1)=>({u_matrix:_,u_color:l,u_overlay:0,u_overlay_scale:h}),Fo=_=>({u_matrix:_}),mr=(_,l,h,m)=>({u_matrix:_,u_extrude_scale:kt(l,1,h),u_intensity:m});function _r(_,l){const h=Math.pow(2,l.canonical.z),m=l.canonical.y;return[new c.MercatorCoordinate(0,m/h).toLngLat().lat,new c.MercatorCoordinate(0,(m+1)/h).toLngLat().lat]}const ko=(_,l,h,m)=>{const $=_.transform;return{u_matrix:oa(_,l,h,m),u_ratio:1/kt(l,1,$.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},yr=(_,l,h,m,$)=>c.extend(ko(_,l,h,$),{u_image:0,u_image_height:m}),Bo=(_,l,h,m,$)=>{const x=_.transform,T=Uo(l,x);return{u_matrix:oa(_,l,h,$),u_texsize:l.imageAtlasTexture.size,u_ratio:1/kt(l,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[T,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Jt=(_,l,h,m,$,x)=>{const T=_.lineAtlas,P=Uo(l,_.transform),w=h.layout.get("line-cap")==="round",L=T.getDash(m.from,w),z=T.getDash(m.to,w),B=L.width*$.fromScale,j=z.width*$.toScale;return c.extend(ko(_,l,h,x),{u_patternscale_a:[P/B,-L.height/2],u_patternscale_b:[P/j,-z.height/2],u_sdfgamma:T.width/(256*Math.min(B,j)*_.pixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:z.y,u_mix:$.t})};function Uo(_,l){return 1/kt(_,1,l.tileZoom)}function oa(_,l,h,m){return _.translatePosMatrix(m?m.posMatrix:l.tileID.posMatrix,l,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const ts=(_,l,h,m,$)=>{return{u_matrix:_,u_tl_parent:l,u_scale_parent:h,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*$.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:$.paint.get("raster-brightness-min"),u_brightness_high:$.paint.get("raster-brightness-max"),u_saturation_factor:(T=$.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(x=$.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:ns($.paint.get("raster-hue-rotate"))};var x,T};function ns(_){_*=Math.PI/180;const l=Math.sin(_),h=Math.cos(_);return[(2*h+1)/3,(-Math.sqrt(3)*l-h+1)/3,(Math.sqrt(3)*l-h+1)/3]}const $r=(_,l,h,m,$,x,T,P,w,L)=>{const z=$.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:z.cameraToCenterDistance,u_pitch:z.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:z.width/z.height,u_fade_change:$.options.fadeDuration?$.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:T,u_coord_matrix:P,u_is_text:+w,u_pitch_with_map:+m,u_texsize:L,u_texture:0}},ra=(_,l,h,m,$,x,T,P,w,L,z)=>{const B=$.transform;return c.extend($r(_,l,h,m,$,x,T,P,w,L),{u_gamma_scale:m?Math.cos(B._pitch)*B.cameraToCenterDistance:1,u_device_pixel_ratio:$.pixelRatio,u_is_halo:1})},tl=(_,l,h,m,$,x,T,P,w,L)=>c.extend(ra(_,l,h,m,$,x,T,P,!0,w),{u_texsize_icon:L,u_texture_icon:1}),nl=(_,l,h)=>({u_matrix:_,u_opacity:l,u_color:h}),aa=(_,l,h,m,$,x)=>c.extend(function(T,P,w,L){const z=w.imageManager.getPattern(T.from.toString()),B=w.imageManager.getPattern(T.to.toString()),{width:j,height:J}=w.imageManager.getPixelSize(),Y=Math.pow(2,L.tileID.overscaledZ),Z=L.tileSize*Math.pow(2,w.transform.tileZoom)/Y,se=Z*(L.tileID.canonical.x+L.tileID.wrap*Y),ue=Z*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:B.tl,u_pattern_br_b:B.br,u_texsize:[j,J],u_mix:P.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:B.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/kt(L,1,w.transform.tileZoom),u_pixel_coord_upper:[se>>16,ue>>16],u_pixel_coord_lower:[65535&se,65535&ue]}}(m,x,h,$),{u_matrix:_,u_opacity:l}),sa={fillExtrusion:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_lightpos:new c.Uniform3f(_,l.u_lightpos),u_lightintensity:new c.Uniform1f(_,l.u_lightintensity),u_lightcolor:new c.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new c.Uniform1f(_,l.u_vertical_gradient),u_opacity:new c.Uniform1f(_,l.u_opacity)}),fillExtrusionPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_lightpos:new c.Uniform3f(_,l.u_lightpos),u_lightintensity:new c.Uniform1f(_,l.u_lightintensity),u_lightcolor:new c.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new c.Uniform1f(_,l.u_vertical_gradient),u_height_factor:new c.Uniform1f(_,l.u_height_factor),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade),u_opacity:new c.Uniform1f(_,l.u_opacity)}),fill:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),fillPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),fillOutline:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world)}),fillOutlinePattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world),u_image:new c.Uniform1i(_,l.u_image),u_texsize:new c.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),circle:(_,l)=>({u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_scale_with_map:new c.Uniform1i(_,l.u_scale_with_map),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_extrude_scale:new c.Uniform2f(_,l.u_extrude_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),collisionBox:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pixels_to_tile_units:new c.Uniform1f(_,l.u_pixels_to_tile_units),u_extrude_scale:new c.Uniform2f(_,l.u_extrude_scale),u_overscale_factor:new c.Uniform1f(_,l.u_overscale_factor)}),collisionCircle:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_inv_matrix:new c.UniformMatrix4f(_,l.u_inv_matrix),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_viewport_size:new c.Uniform2f(_,l.u_viewport_size)}),debug:(_,l)=>({u_color:new c.UniformColor(_,l.u_color),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_overlay:new c.Uniform1i(_,l.u_overlay),u_overlay_scale:new c.Uniform1f(_,l.u_overlay_scale)}),clippingMask:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),heatmap:(_,l)=>({u_extrude_scale:new c.Uniform1f(_,l.u_extrude_scale),u_intensity:new c.Uniform1f(_,l.u_intensity),u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),heatmapTexture:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_world:new c.Uniform2f(_,l.u_world),u_image:new c.Uniform1i(_,l.u_image),u_color_ramp:new c.Uniform1i(_,l.u_color_ramp),u_opacity:new c.Uniform1f(_,l.u_opacity)}),hillshade:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_latrange:new c.Uniform2f(_,l.u_latrange),u_light:new c.Uniform2f(_,l.u_light),u_shadow:new c.UniformColor(_,l.u_shadow),u_highlight:new c.UniformColor(_,l.u_highlight),u_accent:new c.UniformColor(_,l.u_accent)}),hillshadePrepare:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_image:new c.Uniform1i(_,l.u_image),u_dimension:new c.Uniform2f(_,l.u_dimension),u_zoom:new c.Uniform1f(_,l.u_zoom),u_unpack:new c.Uniform4f(_,l.u_unpack)}),line:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels)}),lineGradient:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_image:new c.Uniform1i(_,l.u_image),u_image_height:new c.Uniform1f(_,l.u_image_height)}),linePattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texsize:new c.Uniform2f(_,l.u_texsize),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_image:new c.Uniform1i(_,l.u_image),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_scale:new c.Uniform3f(_,l.u_scale),u_fade:new c.Uniform1f(_,l.u_fade)}),lineSDF:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_ratio:new c.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new c.Uniform2f(_,l.u_units_to_pixels),u_patternscale_a:new c.Uniform2f(_,l.u_patternscale_a),u_patternscale_b:new c.Uniform2f(_,l.u_patternscale_b),u_sdfgamma:new c.Uniform1f(_,l.u_sdfgamma),u_image:new c.Uniform1i(_,l.u_image),u_tex_y_a:new c.Uniform1f(_,l.u_tex_y_a),u_tex_y_b:new c.Uniform1f(_,l.u_tex_y_b),u_mix:new c.Uniform1f(_,l.u_mix)}),raster:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_tl_parent:new c.Uniform2f(_,l.u_tl_parent),u_scale_parent:new c.Uniform1f(_,l.u_scale_parent),u_buffer_scale:new c.Uniform1f(_,l.u_buffer_scale),u_fade_t:new c.Uniform1f(_,l.u_fade_t),u_opacity:new c.Uniform1f(_,l.u_opacity),u_image0:new c.Uniform1i(_,l.u_image0),u_image1:new c.Uniform1i(_,l.u_image1),u_brightness_low:new c.Uniform1f(_,l.u_brightness_low),u_brightness_high:new c.Uniform1f(_,l.u_brightness_high),u_saturation_factor:new c.Uniform1f(_,l.u_saturation_factor),u_contrast_factor:new c.Uniform1f(_,l.u_contrast_factor),u_spin_weights:new c.Uniform3f(_,l.u_spin_weights)}),symbolIcon:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texture:new c.Uniform1i(_,l.u_texture)}),symbolSDF:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texture:new c.Uniform1i(_,l.u_texture),u_gamma_scale:new c.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(_,l.u_is_halo)}),symbolTextAndIcon:(_,l)=>({u_is_size_zoom_constant:new c.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new c.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new c.Uniform1f(_,l.u_size_t),u_size:new c.Uniform1f(_,l.u_size),u_camera_to_center_distance:new c.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new c.Uniform1f(_,l.u_pitch),u_rotate_symbol:new c.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new c.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new c.Uniform1f(_,l.u_fade_change),u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new c.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new c.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new c.Uniform1i(_,l.u_is_text),u_pitch_with_map:new c.Uniform1i(_,l.u_pitch_with_map),u_texsize:new c.Uniform2f(_,l.u_texsize),u_texsize_icon:new c.Uniform2f(_,l.u_texsize_icon),u_texture:new c.Uniform1i(_,l.u_texture),u_texture_icon:new c.Uniform1i(_,l.u_texture_icon),u_gamma_scale:new c.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new c.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new c.Uniform1i(_,l.u_is_halo)}),background:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_opacity:new c.Uniform1f(_,l.u_opacity),u_color:new c.UniformColor(_,l.u_color)}),backgroundPattern:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_opacity:new c.Uniform1f(_,l.u_opacity),u_image:new c.Uniform1i(_,l.u_image),u_pattern_tl_a:new c.Uniform2f(_,l.u_pattern_tl_a),u_pattern_br_a:new c.Uniform2f(_,l.u_pattern_br_a),u_pattern_tl_b:new c.Uniform2f(_,l.u_pattern_tl_b),u_pattern_br_b:new c.Uniform2f(_,l.u_pattern_br_b),u_texsize:new c.Uniform2f(_,l.u_texsize),u_mix:new c.Uniform1f(_,l.u_mix),u_pattern_size_a:new c.Uniform2f(_,l.u_pattern_size_a),u_pattern_size_b:new c.Uniform2f(_,l.u_pattern_size_b),u_scale_a:new c.Uniform1f(_,l.u_scale_a),u_scale_b:new c.Uniform1f(_,l.u_scale_b),u_pixel_coord_upper:new c.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new c.Uniform2f(_,l.u_pixel_coord_lower),u_tile_units_to_pixels:new c.Uniform1f(_,l.u_tile_units_to_pixels)}),terrain:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texture:new c.Uniform1i(_,l.u_texture)}),terrainDepth:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix)}),terrainCoords:(_,l)=>({u_matrix:new c.UniformMatrix4f(_,l.u_matrix),u_texture:new c.Uniform1i(_,l.u_texture),u_terrain_coords_id:new c.Uniform1f(_,l.u_terrain_coords_id)})};class la{constructor(l,h,m){this.context=l;const $=l.gl;this.buffer=$.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),$.bufferData($.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?$.DYNAMIC_DRAW:$.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ua={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class is{constructor(l,h,m,$){this.length=h.length,this.attributes=m,this.itemSize=h.bytesPerElement,this.dynamicDraw=$,this.context=l;const x=l.gl;this.buffer=x.createBuffer(),l.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,h){for(let m=0;m<this.attributes.length;m++){const $=h.attributes[this.attributes[m].name];$!==void 0&&l.enableVertexAttribArray($)}}setVertexAttribPointers(l,h,m){for(let $=0;$<this.attributes.length;$++){const x=this.attributes[$],T=h.attributes[x.name];T!==void 0&&l.vertexAttribPointer(T,x.components,l[ua[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Rt{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class il extends Rt{getDefault(){return c.Color.transparent}set(l){const h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class jo extends Rt{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class Vo extends Rt{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class os extends Rt{getDefault(){return[!0,!0,!0,!0]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Hn extends Rt{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class ca extends Rt{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class vr extends Rt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const h=this.current;(l.func!==h.func||l.ref!==h.ref||l.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class br extends Rt{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class pa extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=l,this.dirty=!1}}class ga extends Rt{getDefault(){return[0,1]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class xr extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=l,this.dirty=!1}}class da extends Rt{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class ha extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.BLEND):h.disable(h.BLEND),this.current=l,this.dirty=!1}}class Er extends Rt{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class rs extends Rt{getDefault(){return c.Color.transparent}set(l){const h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class as extends Rt{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class mo extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;l?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=l,this.dirty=!1}}class ol extends Rt{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class rl extends Rt{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class al extends Rt{getDefault(){return null}set(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class sl extends Rt{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class ll extends Rt{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class ul extends Rt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class fa extends Rt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Sr extends Rt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class ma extends Rt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class _a extends Rt{getDefault(){return null}set(l){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class _o extends Rt{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class ss extends Rt{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class ls extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class ya extends Rt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class ki extends Rt{constructor(l,h){super(l),this.context=l,this.parent=h}getDefault(){return null}}class us extends ki{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class yo extends ki{set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class $o{constructor(l,h,m,$){this.context=l,this.width=h,this.height=m;const x=l.gl,T=this.framebuffer=x.createFramebuffer();if(this.colorAttachment=new us(l,T),$&&(this.depthAttachment=new yo(l,T)),x.checkFramebufferStatus(x.FRAMEBUFFER)!==x.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const l=this.context.gl,h=this.colorAttachment.get();if(h&&l.deleteTexture(h),this.depthAttachment){const m=this.depthAttachment.get();m&&l.deleteRenderbuffer(m)}l.deleteFramebuffer(this.framebuffer)}}class on{constructor(l,h,m){this.blendFunction=l,this.blendColor=h,this.mask=m}}on.Replace=[1,0],on.disabled=new on(on.Replace,c.Color.transparent,[!1,!1,!1,!1]),on.unblended=new on(on.Replace,c.Color.transparent,[!0,!0,!0,!0]),on.alphaBlended=new on([1,771],c.Color.transparent,[!0,!0,!0,!0]);class $a{constructor(l){this.gl=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new il(this),this.clearDepth=new jo(this),this.clearStencil=new Vo(this),this.colorMask=new os(this),this.depthMask=new Hn(this),this.stencilMask=new ca(this),this.stencilFunc=new vr(this),this.stencilOp=new br(this),this.stencilTest=new pa(this),this.depthRange=new ga(this),this.depthTest=new xr(this),this.depthFunc=new da(this),this.blend=new ha(this),this.blendFunc=new Er(this),this.blendColor=new rs(this),this.blendEquation=new as(this),this.cullFace=new mo(this),this.cullFaceSide=new ol(this),this.frontFace=new rl(this),this.program=new al(this),this.activeTexture=new sl(this),this.viewport=new ll(this),this.bindFramebuffer=new ul(this),this.bindRenderbuffer=new fa(this),this.bindTexture=new Sr(this),this.bindVertexBuffer=new ma(this),this.bindElementBuffer=new _a(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _o(this),this.pixelStoreUnpack=new ss(this),this.pixelStoreUnpackPremultiplyAlpha=new ls(this),this.pixelStoreUnpackFlipY=new ya(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=l.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(l.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,h){return new la(this,l,h)}createVertexBuffer(l,h,m){return new is(this,l,h,m)}createRenderbuffer(l,h,m){const $=this.gl,x=$.createRenderbuffer();return this.bindRenderbuffer.set(x),$.renderbufferStorage($.RENDERBUFFER,l,h,m),this.bindRenderbuffer.set(null),x}createFramebuffer(l,h,m){return new $o(this,l,h,m)}clear({color:l,depth:h}){const m=this.gl;let $=0;l&&($|=m.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&($|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),m.clear($)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){O(l.blendFunction,on.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Je{constructor(l,h,m){this.func=l,this.mask=h,this.range=m}}Je.ReadOnly=!1,Je.ReadWrite=!0,Je.disabled=new Je(519,Je.ReadOnly,[0,1]);const vo=7680;class Qt{constructor(l,h,m,$,x,T){this.test=l,this.ref=h,this.mask=m,this.fail=$,this.depthFail=x,this.pass=T}}Qt.disabled=new Qt({func:519,mask:0},0,0,vo,vo,vo);class Vt{constructor(l,h,m){this.enable=l,this.mode=h,this.frontFace=m}}let Bi;function cs(_,l,h,m,$,x,T){const P=_.context,w=P.gl,L=_.useProgram("collisionBox"),z=[];let B=0,j=0;for(let Q=0;Q<m.length;Q++){const me=m[Q],he=l.getTile(me),Ee=he.getBucket(h);if(!Ee)continue;let Se=me.posMatrix;$[0]===0&&$[1]===0||(Se=_.translatePosMatrix(me.posMatrix,he,$,x));const Oe=T?Ee.textCollisionBox:Ee.iconCollisionBox,be=Ee.collisionCircleArray;if(be.length>0){const qe=c.create(),Ne=Se;c.mul(qe,Ee.placementInvProjMatrix,_.transform.glCoordMatrix),c.mul(qe,qe,Ee.placementViewportMatrix),z.push({circleArray:be,circleOffset:j,transform:Ne,invTransform:qe,coord:me}),B+=be.length/4,j=B}Oe&&L.draw(P,w.LINES,Je.disabled,Qt.disabled,_.colorModeForRenderPass(),Vt.disabled,fr(Se,_.transform,he),_.style.terrain&&_.style.terrain.getTerrainData(me),h.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,null,_.transform.zoom,null,null,Oe.collisionVertexBuffer)}if(!T||!z.length)return;const J=_.useProgram("collisionCircle"),Y=new c.CollisionCircleLayoutArray;Y.resize(4*B),Y._trim();let Z=0;for(const Q of z)for(let me=0;me<Q.circleArray.length/4;me++){const he=4*me,Ee=Q.circleArray[he+0],Se=Q.circleArray[he+1],Oe=Q.circleArray[he+2],be=Q.circleArray[he+3];Y.emplace(Z++,Ee,Se,Oe,be,0),Y.emplace(Z++,Ee,Se,Oe,be,1),Y.emplace(Z++,Ee,Se,Oe,be,2),Y.emplace(Z++,Ee,Se,Oe,be,3)}(!Bi||Bi.length<2*B)&&(Bi=function(Q){const me=2*Q,he=new c.QuadTriangleArray;he.resize(me),he._trim();for(let Ee=0;Ee<me;Ee++){const Se=6*Ee;he.uint16[Se+0]=4*Ee+0,he.uint16[Se+1]=4*Ee+1,he.uint16[Se+2]=4*Ee+2,he.uint16[Se+3]=4*Ee+2,he.uint16[Se+4]=4*Ee+3,he.uint16[Se+5]=4*Ee+0}return he}(B));const se=P.createIndexBuffer(Bi,!0),ue=P.createVertexBuffer(Y,c.collisionCircleLayout.members,!0);for(const Q of z){const me={u_matrix:Q.transform,u_inv_matrix:Q.invTransform,u_camera_to_center_distance:(de=_.transform).cameraToCenterDistance,u_viewport_size:[de.width,de.height]};J.draw(P,w.TRIANGLES,Je.disabled,Qt.disabled,_.colorModeForRenderPass(),Vt.disabled,me,_.style.terrain&&_.style.terrain.getTerrainData(Q.coord),h.id,ue,se,c.SegmentVector.simpleSegment(0,2*Q.circleOffset,Q.circleArray.length,Q.circleArray.length/2),null,_.transform.zoom,null,null,null)}var de;ue.destroy(),se.destroy()}Vt.disabled=new Vt(!1,1029,2305),Vt.backCCW=new Vt(!0,1029,2305);const cl=c.identity(new Float32Array(16));function ps(_,l,h,m,$,x){const{horizontalAlign:T,verticalAlign:P}=c.getAnchorAlignment(_),w=-(T-.5)*l,L=-(P-.5)*h,z=c.evaluateVariableOffset(_,m);return new c.pointGeometry((w/$+z[0])*x,(L/$+z[1])*x)}function pl(_,l,h,m,$,x,T,P,w,L,z){const B=_.text.placedSymbolArray,j=_.text.dynamicLayoutVertexArray,J=_.icon.dynamicLayoutVertexArray,Y={};j.clear();for(let Z=0;Z<B.length;Z++){const se=B.get(Z),ue=_.allowVerticalPlacement&&!se.placedOrientation,de=se.hidden||!se.crossTileID||ue?null:m[se.crossTileID];if(de){const Q=new c.pointGeometry(se.anchorX,se.anchorY),me=tn(Q,h?T:x,z),he=wn($.cameraToCenterDistance,me.signedDistanceFromCamera);let Ee=c.evaluateSizeForFeature(_.textSizeData,w,se)*he/c.ONE_EM;h&&(Ee*=_.tilePixelRatio/P);const{width:Se,height:Oe,anchor:be,textOffset:qe,textBoxScale:Ne}=de,Xe=ps(be,Se,Oe,qe,Ne,Ee),pt=h?tn(Q.add(Xe),x,z).point:me.point.add(l?Xe.rotate(-$.angle):Xe),vt=_.allowVerticalPlacement&&se.placedOrientation===c.WritingMode.vertical?Math.PI/2:0;for(let at=0;at<se.numGlyphs;at++)c.addDynamicAttributes(j,pt,vt);L&&se.associatedIconIndex>=0&&(Y[se.associatedIconIndex]={shiftedAnchor:pt,angle:vt})}else li(se.numGlyphs,j)}if(L){J.clear();const Z=_.icon.placedSymbolArray;for(let se=0;se<Z.length;se++){const ue=Z.get(se);if(ue.hidden)li(ue.numGlyphs,J);else{const de=Y[se];if(de)for(let Q=0;Q<ue.numGlyphs;Q++)c.addDynamicAttributes(J,de.shiftedAnchor,de.angle);else li(ue.numGlyphs,J)}}_.icon.dynamicLayoutVertexBuffer.updateData(J)}_.text.dynamicLayoutVertexBuffer.updateData(j)}function va(_,l,h){return h.iconsInText&&l?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function Go(_,l,h,m,$,x,T,P,w,L,z,B){const j=_.context,J=j.gl,Y=_.transform,Z=P==="map",se=w==="map",ue=P!=="viewport"&&h.layout.get("symbol-placement")!=="point",de=Z&&!se&&!ue,Q=!h.layout.get("symbol-sort-key").isConstant();let me=!1;const he=_.depthModeForSublayer(0,Je.ReadOnly),Ee=h.layout.get("text-variable-anchor"),Se=[];for(const Oe of m){const be=l.getTile(Oe),qe=be.getBucket(h);if(!qe)continue;const Ne=$?qe.text:qe.icon;if(!Ne||!Ne.segments.get().length)continue;const Xe=Ne.programConfigurations.get(h.id),pt=$||qe.sdfIcons,vt=$?qe.textSizeData:qe.iconSizeData,at=se||Y.pitch!==0,Mt=_.useProgram(va(pt,$,qe),Xe),Nt=c.evaluateSizeForZoom(vt,Y.zoom),Tt=_.style.terrain&&_.style.terrain.getTerrainData(Oe);let Ct,It,Wn,Si,ci=[0,0],gi=null;if($){if(It=be.glyphAtlasTexture,Wn=J.LINEAR,Ct=be.glyphAtlasTexture.size,qe.iconsInText){ci=be.imageAtlasTexture.size,gi=be.imageAtlasTexture;const ni=vt.kind==="composite"||vt.kind==="camera";Si=at||_.options.rotating||_.options.zooming||ni?J.LINEAR:J.NEAREST}}else{const ni=h.layout.get("icon-size").constantOr(0)!==1||qe.iconsNeedLinear;It=be.imageAtlasTexture,Wn=pt||_.options.rotating||_.options.zooming||ni||at?J.LINEAR:J.NEAREST,Ct=be.imageAtlasTexture.size}const eo=kt(be,1,_.transform.zoom),vn=si(Oe.posMatrix,se,Z,_.transform,eo),di=jt(Oe.posMatrix,se,Z,_.transform,eo),to=Ee&&qe.hasTextData(),kr=h.layout.get("icon-text-fit")!=="none"&&to&&qe.hasIconData();if(ue){const ni=_.style.terrain?(Ao,Br)=>_.style.terrain.getElevation(Oe,Ao,Br):null,To=h.layout.get("text-rotation-alignment")==="map";On(qe,Oe.posMatrix,_,$,vn,di,se,L,To,ni)}const Pt=_.translatePosMatrix(Oe.posMatrix,be,x,T),qt=ue||$&&Ee||kr?cl:vn,Dt=_.translatePosMatrix(di,be,x,T,!0),cn=pt&&h.paint.get($?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Bn;Bn=pt?qe.iconsInText?tl(vt.kind,Nt,de,se,_,Pt,qt,Dt,Ct,ci):ra(vt.kind,Nt,de,se,_,Pt,qt,Dt,$,Ct):$r(vt.kind,Nt,de,se,_,Pt,qt,Dt,$,Ct);const Wt={program:Mt,buffers:Ne,uniformValues:Bn,atlasTexture:It,atlasTextureIcon:gi,atlasInterpolation:Wn,atlasInterpolationIcon:Si,isSDF:pt,hasHalo:cn};if(Q&&qe.canOverlap){me=!0;const ni=Ne.segments.get();for(const To of ni)Se.push({segments:new c.SegmentVector([To]),sortKey:To.sortKey,state:Wt,terrainData:Tt})}else Se.push({segments:Ne.segments,sortKey:0,state:Wt,terrainData:Tt})}me&&Se.sort((Oe,be)=>Oe.sortKey-be.sortKey);for(const Oe of Se){const be=Oe.state;if(j.activeTexture.set(J.TEXTURE0),be.atlasTexture.bind(be.atlasInterpolation,J.CLAMP_TO_EDGE),be.atlasTextureIcon&&(j.activeTexture.set(J.TEXTURE1),be.atlasTextureIcon&&be.atlasTextureIcon.bind(be.atlasInterpolationIcon,J.CLAMP_TO_EDGE)),be.isSDF){const qe=be.uniformValues;be.hasHalo&&(qe.u_is_halo=1,qo(be.buffers,Oe.segments,h,_,be.program,he,z,B,qe,Oe.terrainData)),qe.u_is_halo=0}qo(be.buffers,Oe.segments,h,_,be.program,he,z,B,be.uniformValues,Oe.terrainData)}}function qo(_,l,h,m,$,x,T,P,w,L){const z=m.context;$.draw(z,z.gl.TRIANGLES,x,T,P,Vt.disabled,w,L,h.id,_.layoutVertexBuffer,_.indexBuffer,l,h.paint,m.transform.zoom,_.programConfigurations.get(h.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Tr(_,l,h,m,$,x,T){const P=_.context.gl,w=h.paint.get("fill-pattern"),L=w&&w.constantOr(1),z=h.getCrossfadeParameters();let B,j,J,Y,Z;T?(j=L&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",B=P.LINES):(j=L?"fillPattern":"fill",B=P.TRIANGLES);for(const se of m){const ue=l.getTile(se);if(L&&!ue.patternsLoaded())continue;const de=ue.getBucket(h);if(!de)continue;const Q=de.programConfigurations.get(h.id),me=_.useProgram(j,Q),he=_.style.terrain&&_.style.terrain.getTerrainData(se);L&&(_.context.activeTexture.set(P.TEXTURE0),ue.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Q.updatePaintBuffers(z));const Ee=w.constantOr(null);if(Ee&&ue.imageAtlas){const be=ue.imageAtlas,qe=be.patternPositions[Ee.to.toString()],Ne=be.patternPositions[Ee.from.toString()];qe&&Ne&&Q.setConstantPatternPositions(qe,Ne)}const Se=he?se:null,Oe=_.translatePosMatrix(Se?Se.posMatrix:se.posMatrix,ue,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(T){Y=de.indexBuffer2,Z=de.segments2;const be=[P.drawingBufferWidth,P.drawingBufferHeight];J=j==="fillOutlinePattern"&&L?es(Oe,_,z,ue,be):Qa(Oe,be)}else Y=de.indexBuffer,Z=de.segments,J=L?ia(Oe,_,z,ue):na(Oe);me.draw(_.context,B,$,_.stencilModeForClipping(se),x,Vt.disabled,J,he,h.id,de.layoutVertexBuffer,Y,Z,h.paint,_.transform.zoom,Q)}}function Ho(_,l,h,m,$,x,T){const P=_.context,w=P.gl,L=h.paint.get("fill-extrusion-pattern"),z=L.constantOr(1),B=h.getCrossfadeParameters(),j=h.paint.get("fill-extrusion-opacity");for(const J of m){const Y=l.getTile(J),Z=Y.getBucket(h);if(!Z)continue;const se=_.style.terrain&&_.style.terrain.getTerrainData(J),ue=Z.programConfigurations.get(h.id),de=_.useProgram(z?"fillExtrusionPattern":"fillExtrusion",ue);z&&(_.context.activeTexture.set(w.TEXTURE0),Y.imageAtlasTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),ue.updatePaintBuffers(B));const Q=L.constantOr(null);if(Q&&Y.imageAtlas){const Se=Y.imageAtlas,Oe=Se.patternPositions[Q.to.toString()],be=Se.patternPositions[Q.from.toString()];Oe&&be&&ue.setConstantPatternPositions(Oe,be)}const me=_.translatePosMatrix(J.posMatrix,Y,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),he=h.paint.get("fill-extrusion-vertical-gradient"),Ee=z?ta(me,_,he,j,J,B,Y):Ja(me,_,he,j);de.draw(P,P.gl.TRIANGLES,$,x,T,Vt.backCCW,Ee,se,h.id,Z.layoutVertexBuffer,Z.indexBuffer,Z.segments,h.paint,_.transform.zoom,ue,_.style.terrain&&Z.centroidVertexBuffer)}}function gs(_,l,h,m,$,x,T){const P=_.context,w=P.gl,L=h.fbo;if(!L)return;const z=_.useProgram("hillshade"),B=_.style.terrain&&_.style.terrain.getTerrainData(l);P.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,L.colorAttachment.get()),z.draw(P,w.TRIANGLES,$,x,T,Vt.disabled,((j,J,Y,Z)=>{const se=Y.paint.get("hillshade-shadow-color"),ue=Y.paint.get("hillshade-highlight-color"),de=Y.paint.get("hillshade-accent-color");let Q=Y.paint.get("hillshade-illumination-direction")*(Math.PI/180);Y.paint.get("hillshade-illumination-anchor")==="viewport"&&(Q-=j.transform.angle);const me=!j.options.moving;return{u_matrix:Z?Z.posMatrix:j.transform.calculatePosMatrix(J.tileID.toUnwrapped(),me),u_image:0,u_latrange:_r(0,J.tileID),u_light:[Y.paint.get("hillshade-exaggeration"),Q],u_shadow:se,u_highlight:ue,u_accent:de}})(_,h,m,B?l:null),B,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function Ar(_,l,h,m,$,x){const T=_.context,P=T.gl,w=l.dem;if(w&&w.data){const L=w.dim,z=w.stride,B=w.getPixels();if(T.activeTexture.set(P.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||_.getTileTexture(z),l.demTexture){const J=l.demTexture;J.update(B,{premultiply:!1}),J.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else l.demTexture=new le(T,B,P.RGBA,{premultiply:!1}),l.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);T.activeTexture.set(P.TEXTURE0);let j=l.fbo;if(!j){const J=new le(T,{width:L,height:L,data:null},P.RGBA);J.bind(P.LINEAR,P.CLAMP_TO_EDGE),j=l.fbo=T.createFramebuffer(L,L,!0),j.colorAttachment.set(J.texture)}T.bindFramebuffer.set(j.framebuffer),T.viewport.set([0,0,L,L]),_.useProgram("hillshadePrepare").draw(T,P.TRIANGLES,m,$,x,Vt.disabled,((J,Y)=>{const Z=Y.stride,se=c.create();return c.ortho(se,0,c.EXTENT,-c.EXTENT,0,0,1),c.translate(se,se,[0,-c.EXTENT,0]),{u_matrix:se,u_image:1,u_dimension:[Z,Z],u_zoom:J.overscaledZ,u_unpack:Y.getUnpackVector()}})(l.tileID,w),null,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),l.needsHillshadePrepare=!1}}function Cr(_,l,h,m,$,x){const T=m.paint.get("raster-fade-duration");if(!x&&T>0){const P=c.exported.now(),w=(P-_.timeAdded)/T,L=l?(P-l.timeAdded)/T:-1,z=h.getSource(),B=$.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),j=!l||Math.abs(l.tileID.overscaledZ-B)>Math.abs(_.tileID.overscaledZ-B),J=j&&_.refreshedUponExpiration?1:c.clamp(j?w:1-L,0,1);return _.refreshedUponExpiration&&w>=1&&(_.refreshedUponExpiration=!1),l?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}const ui=new c.Color(1,0,0,1),ds=new c.Color(0,1,0,1),ba=new c.Color(0,0,1,1),hs=new c.Color(1,0,1,1),bo=new c.Color(0,1,1,1);function Xo(_,l,h,m){Pr(_,0,l+h/2,_.transform.width,h,m)}function Ir(_,l,h,m){Pr(_,l-h/2,0,h,_.transform.height,m)}function Pr(_,l,h,m,$,x){const T=_.context,P=T.gl;P.enable(P.SCISSOR_TEST),P.scissor(l*_.pixelRatio,h*_.pixelRatio,m*_.pixelRatio,$*_.pixelRatio),T.clear({color:x}),P.disable(P.SCISSOR_TEST)}function xa(_,l,h){const m=_.context,$=m.gl,x=h.posMatrix,T=_.useProgram("debug"),P=Je.disabled,w=Qt.disabled,L=_.colorModeForRenderPass(),z="$debug",B=_.style.terrain&&_.style.terrain.getTerrainData(h);m.activeTexture.set($.TEXTURE0),_.emptyTexture.bind($.LINEAR,$.CLAMP_TO_EDGE);const j=l.getTileByID(h.key).latestRawTileData,J=Math.floor((j&&j.byteLength||0)/1024),Y=l.getTile(h).tileSize,Z=512/Math.min(Y,512)*(h.overscaledZ/_.transform.zoom)*.5;let se=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(se+=` => ${h.overscaledZ}`),function(ue,de){ue.initDebugOverlayCanvas();const Q=ue.debugOverlayCanvas,me=ue.context.gl,he=ue.debugOverlayCanvas.getContext("2d");he.clearRect(0,0,Q.width,Q.height),he.shadowColor="white",he.shadowBlur=2,he.lineWidth=1.5,he.strokeStyle="white",he.textBaseline="top",he.font="bold 36px Open Sans, sans-serif",he.fillText(de,5,5),he.strokeText(de,5,5),ue.debugOverlayTexture.update(Q),ue.debugOverlayTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE)}(_,`${se} ${J}kB`),T.draw(m,$.TRIANGLES,P,w,on.alphaBlended,Vt.disabled,fo(x,c.Color.transparent,Z),null,z,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),T.draw(m,$.LINE_STRIP,P,w,L,Vt.disabled,fo(x,c.Color.red),B,z,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function fs(_,l,h){const m=_.context,$=m.gl,x=_.colorModeForRenderPass(),T=new Je($.LEQUAL,Je.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),w=l.getTerrainMesh(),L=l.getTerrainData(h.tileID);m.bindFramebuffer.set(null),m.viewport.set([0,0,_.width,_.height]),m.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,l.getRTTFramebuffer().colorAttachment.get());const z=_.transform.calculatePosMatrix(h.tileID.toUnwrapped());P.draw(m,$.TRIANGLES,T,Qt.disabled,x,Vt.backCCW,{u_matrix:z,u_texture:0},L,"terrain",w.vertexBuffer,w.indexBuffer,w.segments)}function Ea(_,l,h,m){const $=_.context,x=h.tileSize*l.qualityFactor;h.textures[m]||(h.textures[m]=_.getTileTexture(x)||new le($,{width:x,height:x,data:null},$.gl.RGBA),h.textures[m].bind($.gl.LINEAR,$.gl.CLAMP_TO_EDGE),m===0&&l.sourceCache.renderHistory.unshift(h.tileID.key));const T=l.getRTTFramebuffer();T.colorAttachment.set(h.textures[m].texture),$.bindFramebuffer.set(T.framebuffer),$.viewport.set([0,0,x,x])}class wr{constructor(l){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=l,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=l.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const l=this.painter.style,h=l.terrain;for(const m in l.sourceCaches){this._coordsDescendingInv[m]={};const $=l.sourceCaches[m].getVisibleCoordinates();for(const x of $){const T=h.sourceCache.getTerrainCoords(x);for(const P in T)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(T[P])}}for(const m of l._order){const $=l._layers[m],x=$.source;if(this._renderToTexture[$.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const T in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][T]=this._coordsDescendingInv[x][T].map(P=>P.key).sort().join()}}return this._renderableTiles.forEach(m=>{for(const $ in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[$][m.tileID.key];x&&x!==m.textureCoords[$]&&m.clearTextures(this.painter),h.needsRerender($,m.tileID)&&m.clearTextures(this.painter)}this._rerender[m.tileID.key]=!m.textures.length}),h.clearRerenderCache(),h.sourceCache.removeOutdated(this.painter),this}renderLayer(l){const h=l.type,m=this.painter,$=m.style._order,x=m.currentLayer,T=x+1===$.length;if(this._renderToTexture[h]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push($[x]),!T))return!0;if(this._renderToTexture[this._prevType]||h==="hillshade"||this._renderToTexture[h]&&T){this._prevType=h;const P=this._stacks.length-1,w=this._stacks[P]||[];for(const L of this._renderableTiles){if(Ea(m,m.style.terrain,L,P),this._rerender[L.tileID.key]){m.context.clear({color:c.Color.transparent});for(let z=0;z<w.length;z++){const B=m.style._layers[w[z]],j=B.source?this._coordsDescendingInv[B.source][L.tileID.key]:[L.tileID];m._renderTileClippingMasks(B,j),m.renderLayer(m,m.style.sourceCaches[B.source],B,j),B.source&&(L.textureCoords[B.source]=this._coordsDescendingInvStr[B.source][L.tileID.key])}}fs(m,m.style.terrain,L)}if(h==="hillshade"){this._stacks.push([$[x]]);for(const L of this._renderableTiles){const z=this._coordsDescendingInv[l.source][L.tileID.key];Ea(m,m.style.terrain,L,this._stacks.length-1),m.context.clear({color:c.Color.transparent}),m._renderTileClippingMasks(l,z),m.renderLayer(m,m.style.sourceCaches[l.source],l,z),fs(m,m.style.terrain,L)}return!0}return this._renderToTexture[h]}return!1}}const Or={symbol:function(_,l,h,m,$){if(_.renderPass!=="translucent")return;const x=Qt.disabled,T=_.colorModeForRenderPass();h.layout.get("text-variable-anchor")&&function(P,w,L,z,B,j,J){const Y=w.transform,Z=B==="map",se=j==="map";for(const ue of P){const de=z.getTile(ue),Q=de.getBucket(L);if(!Q||!Q.text||!Q.text.segments.get().length)continue;const me=c.evaluateSizeForZoom(Q.textSizeData,Y.zoom),he=kt(de,1,w.transform.zoom),Ee=si(ue.posMatrix,se,Z,w.transform,he),Se=L.layout.get("icon-text-fit")!=="none"&&Q.hasIconData();if(me){const Oe=Math.pow(2,Y.zoom-de.tileID.overscaledZ);pl(Q,Z,se,J,Y,Ee,ue.posMatrix,Oe,me,Se,w.style.terrain?(be,qe)=>w.style.terrain.getElevation(ue,be,qe):null)}}}(m,_,h,l,h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),$),h.paint.get("icon-opacity").constantOr(1)!==0&&Go(_,l,h,m,!1,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),h.layout.get("icon-rotation-alignment"),h.layout.get("icon-pitch-alignment"),h.layout.get("icon-keep-upright"),x,T),h.paint.get("text-opacity").constantOr(1)!==0&&Go(_,l,h,m,!0,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),h.layout.get("text-keep-upright"),x,T),l.map.showCollisionBoxes&&(cs(_,l,h,m,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),!0),cs(_,l,h,m,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),!1))},circle:function(_,l,h,m){if(_.renderPass!=="translucent")return;const $=h.paint.get("circle-opacity"),x=h.paint.get("circle-stroke-width"),T=h.paint.get("circle-stroke-opacity"),P=!h.layout.get("circle-sort-key").isConstant();if($.constantOr(1)===0&&(x.constantOr(1)===0||T.constantOr(1)===0))return;const w=_.context,L=w.gl,z=_.depthModeForSublayer(0,Je.ReadOnly),B=Qt.disabled,j=_.colorModeForRenderPass(),J=[];for(let Y=0;Y<m.length;Y++){const Z=m[Y],se=l.getTile(Z),ue=se.getBucket(h);if(!ue)continue;const de=ue.programConfigurations.get(h.id),Q=_.useProgram("circle",de),me=ue.layoutVertexBuffer,he=ue.indexBuffer,Ee=_.style.terrain&&_.style.terrain.getTerrainData(Z),Se={programConfiguration:de,program:Q,layoutVertexBuffer:me,indexBuffer:he,uniformValues:Xi(_,Z,se,h),terrainData:Ee};if(P){const Oe=ue.segments.get();for(const be of Oe)J.push({segments:new c.SegmentVector([be]),sortKey:be.sortKey,state:Se})}else J.push({segments:ue.segments,sortKey:0,state:Se})}P&&J.sort((Y,Z)=>Y.sortKey-Z.sortKey);for(const Y of J){const{programConfiguration:Z,program:se,layoutVertexBuffer:ue,indexBuffer:de,uniformValues:Q,terrainData:me}=Y.state;se.draw(w,L.TRIANGLES,z,B,j,Vt.disabled,Q,me,h.id,ue,de,Y.segments,h.paint,_.transform.zoom,Z)}},heatmap:function(_,l,h,m){if(h.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const $=_.context,x=$.gl,T=Qt.disabled,P=new on([x.ONE,x.ONE],c.Color.transparent,[!0,!0,!0,!0]);(function(w,L,z){const B=w.gl;w.activeTexture.set(B.TEXTURE1),w.viewport.set([0,0,L.width/4,L.height/4]);let j=z.heatmapFbo;if(j)B.bindTexture(B.TEXTURE_2D,j.colorAttachment.get()),w.bindFramebuffer.set(j.framebuffer);else{const J=B.createTexture();B.bindTexture(B.TEXTURE_2D,J),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR),j=z.heatmapFbo=w.createFramebuffer(L.width/4,L.height/4,!1),function(Y,Z,se,ue){const de=Y.gl;de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Z.width/4,Z.height/4,0,de.RGBA,Y.extRenderToTextureHalfFloat?Y.extTextureHalfFloat.HALF_FLOAT_OES:de.UNSIGNED_BYTE,null),ue.colorAttachment.set(se)}(w,L,J,j)}})($,_,h),$.clear({color:c.Color.transparent});for(let w=0;w<m.length;w++){const L=m[w];if(l.hasRenderableParent(L))continue;const z=l.getTile(L),B=z.getBucket(h);if(!B)continue;const j=B.programConfigurations.get(h.id),J=_.useProgram("heatmap",j),{zoom:Y}=_.transform;J.draw($,x.TRIANGLES,Je.disabled,T,P,Vt.disabled,mr(L.posMatrix,z,Y,h.paint.get("heatmap-intensity")),null,h.id,B.layoutVertexBuffer,B.indexBuffer,B.segments,h.paint,_.transform.zoom,j)}$.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function($,x){const T=$.context,P=T.gl,w=x.heatmapFbo;if(!w)return;T.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,w.colorAttachment.get()),T.activeTexture.set(P.TEXTURE1);let L=x.colorRampTexture;L||(L=x.colorRampTexture=new le(T,x.colorRamp,P.RGBA)),L.bind(P.LINEAR,P.CLAMP_TO_EDGE),$.useProgram("heatmapTexture").draw(T,P.TRIANGLES,Je.disabled,Qt.disabled,$.colorModeForRenderPass(),Vt.disabled,((z,B,j,J)=>{const Y=c.create();c.ortho(Y,0,z.width,z.height,0,0,1);const Z=z.context.gl;return{u_matrix:Y,u_world:[Z.drawingBufferWidth,Z.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:B.paint.get("heatmap-opacity")}})($,x),null,x.id,$.viewportBuffer,$.quadTriangleIndexBuffer,$.viewportSegments,x.paint,$.transform.zoom)}(_,h))},line:function(_,l,h,m){if(_.renderPass!=="translucent")return;const $=h.paint.get("line-opacity"),x=h.paint.get("line-width");if($.constantOr(1)===0||x.constantOr(1)===0)return;const T=_.depthModeForSublayer(0,Je.ReadOnly),P=_.colorModeForRenderPass(),w=h.paint.get("line-dasharray"),L=h.paint.get("line-pattern"),z=L.constantOr(1),B=h.paint.get("line-gradient"),j=h.getCrossfadeParameters(),J=z?"linePattern":w?"lineSDF":B?"lineGradient":"line",Y=_.context,Z=Y.gl;let se=!0;for(const ue of m){const de=l.getTile(ue);if(z&&!de.patternsLoaded())continue;const Q=de.getBucket(h);if(!Q)continue;const me=Q.programConfigurations.get(h.id),he=_.context.program.get(),Ee=_.useProgram(J,me),Se=se||Ee.program!==he,Oe=_.style.terrain&&_.style.terrain.getTerrainData(ue),be=L.constantOr(null);if(be&&de.imageAtlas){const Xe=de.imageAtlas,pt=Xe.patternPositions[be.to.toString()],vt=Xe.patternPositions[be.from.toString()];pt&&vt&&me.setConstantPatternPositions(pt,vt)}const qe=Oe?ue:null,Ne=z?Bo(_,de,h,j,qe):w?Jt(_,de,h,w,j,qe):B?yr(_,de,h,Q.lineClipsArray.length,qe):ko(_,de,h,qe);if(z)Y.activeTexture.set(Z.TEXTURE0),de.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),me.updatePaintBuffers(j);else if(w&&(Se||_.lineAtlas.dirty))Y.activeTexture.set(Z.TEXTURE0),_.lineAtlas.bind(Y);else if(B){const Xe=Q.gradients[h.id];let pt=Xe.texture;if(h.gradientVersion!==Xe.version){let vt=256;if(h.stepInterpolant){const at=l.getSource().maxzoom,Mt=ue.canonical.z===at?Math.ceil(1<<_.transform.maxZoom-ue.canonical.z):1;vt=c.clamp(c.nextPowerOfTwo(Q.maxLineLength/c.EXTENT*1024*Mt),256,Y.maxTextureSize)}Xe.gradient=c.renderColorRamp({expression:h.gradientExpression(),evaluationKey:"lineProgress",resolution:vt,image:Xe.gradient||void 0,clips:Q.lineClipsArray}),Xe.texture?Xe.texture.update(Xe.gradient):Xe.texture=new le(Y,Xe.gradient,Z.RGBA),Xe.version=h.gradientVersion,pt=Xe.texture}Y.activeTexture.set(Z.TEXTURE0),pt.bind(h.stepInterpolant?Z.NEAREST:Z.LINEAR,Z.CLAMP_TO_EDGE)}Ee.draw(Y,Z.TRIANGLES,T,_.stencilModeForClipping(ue),P,Vt.disabled,Ne,Oe,h.id,Q.layoutVertexBuffer,Q.indexBuffer,Q.segments,h.paint,_.transform.zoom,me,Q.layoutVertexBuffer2),se=!1}},fill:function(_,l,h,m){const $=h.paint.get("fill-color"),x=h.paint.get("fill-opacity");if(x.constantOr(1)===0)return;const T=_.colorModeForRenderPass(),P=h.paint.get("fill-pattern"),w=_.opaquePassEnabledForLayer()&&!P.constantOr(1)&&$.constantOr(c.Color.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===w){const L=_.depthModeForSublayer(1,_.renderPass==="opaque"?Je.ReadWrite:Je.ReadOnly);Tr(_,l,h,m,L,T,!1)}if(_.renderPass==="translucent"&&h.paint.get("fill-antialias")){const L=_.depthModeForSublayer(h.getPaintProperty("fill-outline-color")?2:0,Je.ReadOnly);Tr(_,l,h,m,L,T,!0)}},"fill-extrusion":function(_,l,h,m){const $=h.paint.get("fill-extrusion-opacity");if($!==0&&_.renderPass==="translucent"){const x=new Je(_.context.gl.LEQUAL,Je.ReadWrite,_.depthRangeFor3D);if($!==1||h.paint.get("fill-extrusion-pattern").constantOr(1))Ho(_,l,h,m,x,Qt.disabled,on.disabled),Ho(_,l,h,m,x,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const T=_.colorModeForRenderPass();Ho(_,l,h,m,x,Qt.disabled,T)}}},hillshade:function(_,l,h,m){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const $=_.context,x=_.depthModeForSublayer(0,Je.ReadOnly),T=_.colorModeForRenderPass(),[P,w]=_.renderPass==="translucent"?_.stencilConfigForOverlap(m):[{},m];for(const L of w){const z=l.getTile(L);z.needsHillshadePrepare!==void 0&&z.needsHillshadePrepare&&_.renderPass==="offscreen"?Ar(_,z,h,x,Qt.disabled,T):_.renderPass==="translucent"&&gs(_,L,z,h,x,P[L.overscaledZ],T)}$.viewport.set([0,0,_.width,_.height])},raster:function(_,l,h,m){if(_.renderPass!=="translucent"||h.paint.get("raster-opacity")===0||!m.length)return;const $=_.context,x=$.gl,T=l.getSource(),P=_.useProgram("raster"),w=_.colorModeForRenderPass(),[L,z]=T instanceof Zt?[{},m]:_.stencilConfigForOverlap(m),B=z[z.length-1].overscaledZ,j=!_.options.moving;for(const J of z){const Y=_.depthModeForSublayer(J.overscaledZ-B,h.paint.get("raster-opacity")===1?Je.ReadWrite:Je.ReadOnly,x.LESS),Z=l.getTile(J);Z.registerFadeDuration(h.paint.get("raster-fade-duration"));const se=l.findLoadedParent(J,0),ue=Cr(Z,se,l,h,_.transform,_.style.terrain);let de,Q;const me=h.paint.get("raster-resampling")==="nearest"?x.NEAREST:x.LINEAR;$.activeTexture.set(x.TEXTURE0),Z.texture.bind(me,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),$.activeTexture.set(x.TEXTURE1),se?(se.texture.bind(me,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST),de=Math.pow(2,se.tileID.overscaledZ-Z.tileID.overscaledZ),Q=[Z.tileID.canonical.x*de%1,Z.tileID.canonical.y*de%1]):Z.texture.bind(me,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST);const he=_.style.terrain&&_.style.terrain.getTerrainData(J),Ee=he?J:null,Se=Ee?Ee.posMatrix:_.transform.calculatePosMatrix(J.toUnwrapped(),j),Oe=ts(Se,Q||[0,0],de||1,ue,h);T instanceof Zt?P.draw($,x.TRIANGLES,Y,Qt.disabled,w,Vt.disabled,Oe,he,h.id,T.boundsBuffer,_.quadTriangleIndexBuffer,T.boundsSegments):P.draw($,x.TRIANGLES,Y,L[J.overscaledZ],w,Vt.disabled,Oe,he,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}},background:function(_,l,h,m){const $=h.paint.get("background-color"),x=h.paint.get("background-opacity");if(x===0)return;const T=_.context,P=T.gl,w=_.transform,L=w.tileSize,z=h.paint.get("background-pattern");if(_.isPatternMissing(z))return;const B=!z&&$.a===1&&x===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==B)return;const j=Qt.disabled,J=_.depthModeForSublayer(0,B==="opaque"?Je.ReadWrite:Je.ReadOnly),Y=_.colorModeForRenderPass(),Z=_.useProgram(z?"backgroundPattern":"background"),se=m||w.coveringTiles({tileSize:L,terrain:_.style.terrain});z&&(T.activeTexture.set(P.TEXTURE0),_.imageManager.bind(_.context));const ue=h.getCrossfadeParameters();for(const de of se){const Q=m?de.posMatrix:_.transform.calculatePosMatrix(de.toUnwrapped()),me=z?aa(Q,x,_,z,{tileID:de,tileSize:L},ue):nl(Q,x,$),he=_.style.terrain&&_.style.terrain.getTerrainData(de);Z.draw(T,P.TRIANGLES,J,j,Y,Vt.disabled,me,he,h.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}},debug:function(_,l,h){for(let m=0;m<h.length;m++)xa(_,l,h[m])},custom:function(_,l,h){const m=_.context,$=h.implementation;if(_.renderPass==="offscreen"){const x=$.prerender;x&&(_.setCustomLayerDefaults(),m.setColorMode(_.colorModeForRenderPass()),x.call($,m.gl,_.transform.customLayerMatrix()),m.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),m.setColorMode(_.colorModeForRenderPass()),m.setStencilMode(Qt.disabled);const x=$.renderingMode==="3d"?new Je(_.context.gl.LEQUAL,Je.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Je.ReadOnly);m.setDepthMode(x),$.render(m.gl,_.transform.customLayerMatrix()),m.setDirty(),_.setBaseState(),m.bindFramebuffer.set(null)}}};class ms{constructor(l,h){this.context=new $a(l),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.create(),renderTime:0},this.setup(),this.numSublayers=Gn.maxUnderzooming+Gn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mt,this.gpuTimers={}}resize(l,h,m){if(this.width=l*m,this.height=h*m,this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const $ of this.style._order)this.style._layers[$].resize()}setup(){const l=this.context,h=new c.PosArray;h.emplaceBack(0,0),h.emplaceBack(c.EXTENT,0),h.emplaceBack(0,c.EXTENT),h.emplaceBack(c.EXTENT,c.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(h,xt.members),this.tileExtentSegments=c.SegmentVector.simpleSegment(0,0,4,2);const m=new c.PosArray;m.emplaceBack(0,0),m.emplaceBack(c.EXTENT,0),m.emplaceBack(0,c.EXTENT),m.emplaceBack(c.EXTENT,c.EXTENT),this.debugBuffer=l.createVertexBuffer(m,xt.members),this.debugSegments=c.SegmentVector.simpleSegment(0,0,4,5);const $=new c.RasterBoundsArray;$.emplaceBack(0,0,0,0),$.emplaceBack(c.EXTENT,0,c.EXTENT,0),$.emplaceBack(0,c.EXTENT,0,c.EXTENT),$.emplaceBack(c.EXTENT,c.EXTENT,c.EXTENT,c.EXTENT),this.rasterBoundsBuffer=l.createVertexBuffer($,Kt.members),this.rasterBoundsSegments=c.SegmentVector.simpleSegment(0,0,4,2);const x=new c.PosArray;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(x,xt.members),this.viewportSegments=c.SegmentVector.simpleSegment(0,0,4,2);const T=new c.LineStripIndexArray;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=l.createIndexBuffer(T);const P=new c.TriangleIndexArray;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(P),this.emptyTexture=new le(l,{width:1,height:1,data:new Uint8Array([0,0,0,0])},l.gl.RGBA);const w=this.context.gl;this.stencilClearMode=new Qt({func:w.ALWAYS,mask:0},0,255,w.ZERO,w.ZERO,w.ZERO)}clearStencil(){const l=this.context,h=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=c.create();c.ortho(m,0,this.width,this.height,0,0,1),c.scale(m,m,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(l,h.TRIANGLES,Je.disabled,this.stencilClearMode,on.disabled,Vt.disabled,Fo(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,h){if(this.currentStencilSource===l.source||!l.isTileClipped()||!h||!h.length)return;this.currentStencilSource=l.source;const m=this.context,$=m.gl;this.nextStencilID+h.length>256&&this.clearStencil(),m.setColorMode(on.disabled),m.setDepthMode(Je.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of h){const P=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,w=this.style.terrain&&this.style.terrain.getTerrainData(T);x.draw(m,$.TRIANGLES,Je.disabled,new Qt({func:$.ALWAYS,mask:0},P,255,$.KEEP,$.KEEP,$.REPLACE),on.disabled,Vt.disabled,Fo(T.posMatrix),w,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,h=this.context.gl;return new Qt({func:h.NOTEQUAL,mask:255},l,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(l){const h=this.context.gl;return new Qt({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(l){const h=this.context.gl,m=l.sort((T,P)=>P.overscaledZ-T.overscaledZ),$=m[m.length-1].overscaledZ,x=m[0].overscaledZ-$+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const T={};for(let P=0;P<x;P++)T[P+$]=new Qt({func:h.GEQUAL,mask:255},P+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[T,m]}return[{[$]:Qt.disabled},m]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new on([l.CONSTANT_COLOR,l.ONE],new c.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?on.unblended:on.alphaBlended}depthModeForSublayer(l,h,m){if(!this.opaquePassEnabledForLayer())return Je.disabled;const $=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new Je(m||this.context.gl.LEQUAL,h,[$,$])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,h){this.style=l,this.options=h,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(c.exported.now()),this.imageManager.beginFrame();const m=this.style._order,$=this.style.sourceCaches,x=this.style.terrain&&new wr(this);for(const L in $){const z=$[L];z.used&&z.prepare(this.context)}const T={},P={},w={};for(const L in $){const z=$[L];T[L]=z.getVisibleCoordinates(),P[L]=T[L].slice().reverse(),w[L]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let L=0;L<m.length;L++)if(this.style._layers[m[L]].is3D()){this.opaquePassCutoff=L;break}if(x){this.opaquePassCutoff=0;const L=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!c.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||L.length)&&(c.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,B){const j=z.context,J=j.gl,Y=on.unblended,Z=new Je(J.LEQUAL,Je.ReadWrite,[0,1]),se=B.getTerrainMesh(),ue=B.sourceCache.getRenderableTiles(),de=z.useProgram("terrainDepth");j.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),j.clear({color:c.Color.transparent,depth:1});for(const Q of ue){const me=B.getTerrainData(Q.tileID),he=z.transform.calculatePosMatrix(Q.tileID.toUnwrapped());de.draw(j,J.TRIANGLES,Z,Qt.disabled,Y,Vt.backCCW,{u_matrix:he},me,"terrain",se.vertexBuffer,se.indexBuffer,se.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,z.width,z.height])}(this,this.style.terrain),function(z,B){const j=z.context,J=j.gl,Y=on.unblended,Z=new Je(J.LEQUAL,Je.ReadWrite,[0,1]),se=B.getTerrainMesh(),ue=B.getCoordsTexture(),de=B.sourceCache.getRenderableTiles(),Q=z.useProgram("terrainCoords");j.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),j.clear({color:c.Color.transparent,depth:1}),B.coordsIndex=[];for(const me of de){const he=B.getTerrainData(me.tileID);j.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,ue.texture);const Ee=z.transform.calculatePosMatrix(me.tileID.toUnwrapped());Q.draw(j,J.TRIANGLES,Z,Qt.disabled,Y,Vt.backCCW,{u_matrix:Ee,u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0},he,"terrain",se.vertexBuffer,se.indexBuffer,se.segments),B.coordsIndex.push(me.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,z.width,z.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const L of m){const z=this.style._layers[L];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const B=P[z.source];(z.type==="custom"||B.length)&&this.renderLayer(this,$[z.source],z,B)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?c.Color.black:c.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!x)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const L=this.style._layers[m[this.currentLayer]],z=$[L.source],B=T[L.source];this._renderTileClippingMasks(L,B),this.renderLayer(this,z,L,B)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const L=this.style._layers[m[this.currentLayer]],z=$[L.source];if(x&&x.renderLayer(L))continue;const B=(L.type==="symbol"?w:P)[L.source];this._renderTileClippingMasks(L,T[L.source]),this.renderLayer(this,z,L,B)}if(this.options.showTileBoundaries){let L,z;Object.values(this.style._layers).forEach(B=>{B.source&&!B.isHidden(this.transform.zoom)&&(B.source!==(z&&z.id)&&(z=this.style.sourceCaches[B.source]),(!L||L.getSource().maxzoom<z.getSource().maxzoom)&&(L=z))}),L&&Or.debug(this,L,L.getVisibleCoordinates())}this.options.showPadding&&function(L){const z=L.transform.padding;Xo(L,L.transform.height-(z.top||0),3,ui),Xo(L,z.bottom||0,3,ds),Ir(L,z.left||0,3,ba),Ir(L,L.transform.width-(z.right||0),3,hs);const B=L.transform.centerPoint;(function(j,J,Y,Z){Pr(j,J-1,Y-10,2,20,Z),Pr(j,J-10,Y-1,20,2,Z)})(L,B.x,L.transform.height-B.y,bo)}(this),this.context.setDefault()}renderLayer(l,h,m,$){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="custom"||($||[]).length)&&(this.id=m.id,this.gpuTimingStart(m),Or[m.type](l,h,m,$,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const h=this.context.extTimerQuery;let m=this.gpuTimers[l.id];m||(m=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),m.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,m.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}queryGpuTimers(l){const h={};for(const m in l){const $=l[m],x=this.context.extTimerQuery,T=x.getQueryObjectEXT($.query,x.QUERY_RESULT_EXT)/1e6;x.deleteQueryEXT($.query),h[m]=T}return h}translatePosMatrix(l,h,m,$,x){if(!m[0]&&!m[1])return l;const T=x?$==="map"?this.transform.angle:0:$==="viewport"?-this.transform.angle:0;if(T){const L=Math.sin(T),z=Math.cos(T);m=[m[0]*z-m[1]*L,m[0]*L+m[1]*z]}const P=[x?m[0]:kt(h,m[0],this.transform.zoom),x?m[1]:kt(h,m[1],this.transform.zoom),0],w=new Float32Array(16);return c.translate(w,l,P),w}saveTileTexture(l){const h=this._tileTextures[l.size[0]];h?h.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const h=this._tileTextures[l];return h&&h.length>0?h.pop():null}isPatternMissing(l){if(!l)return!1;if(!l.from||!l.to)return!0;const h=this.imageManager.getPattern(l.from.toString()),m=this.imageManager.getPattern(l.to.toString());return!h||!m}useProgram(l,h){this.cache=this.cache||{};const m=l+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new el(this.context,l,zo[l],h,sa[l],this._showOverdrawInspector,this.style.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new le(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Dr{constructor(l,h){this.points=l,this.planes=h}static fromInvProjectionMatrix(l,h,m){const $=Math.pow(2,m),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const w=1/(P=c.transformMat4([],P,l))[3]/h*$;return c.mul$1(P,P,[w,w,1/P[3],w])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const w=c.sub([],x[P[0]],x[P[1]]),L=c.sub([],x[P[2]],x[P[1]]),z=c.normalize([],c.cross([],w,L)),B=-c.dot(z,x[P[1]]);return z.concat(B)});return new Dr(x,T)}}class Wi{constructor(l,h){this.min=l,this.max=h,this.center=c.scale$1([],c.add([],this.min,this.max),.5)}quadrant(l){const h=[l%2==0,l<2],m=c.clone$2(this.min),$=c.clone$2(this.max);for(let x=0;x<h.length;x++)m[x]=h[x]?this.min[x]:this.center[x],$[x]=h[x]?this.center[x]:this.max[x];return $[2]=this.max[2],new Wi(m,$)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersects(l){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let $=0;$<l.planes.length;$++){const x=l.planes[$];let T=0;for(let P=0;P<h.length;P++)c.dot$1(x,h[P])>=0&&T++;if(T===0)return 0;T!==h.length&&(m=!1)}if(m)return 2;for(let $=0;$<3;$++){let x=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let P=0;P<l.points.length;P++){const w=l.points[P][$]-this.min[$];x=Math.min(x,w),T=Math.max(T,w)}if(T<0||x>this.max[$]-this.min[$])return 0}return 1}}class Wo{constructor(l=0,h=0,m=0,$=0){if(isNaN(l)||l<0||isNaN(h)||h<0||isNaN(m)||m<0||isNaN($)||$<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=h,this.left=m,this.right=$}interpolate(l,h,m){return h.top!=null&&l.top!=null&&(this.top=c.number(l.top,h.top,m)),h.bottom!=null&&l.bottom!=null&&(this.bottom=c.number(l.bottom,h.bottom,m)),h.left!=null&&l.left!=null&&(this.left=c.number(l.left,h.left,m)),h.right!=null&&l.right!=null&&(this.right=c.number(l.right,h.right,m)),this}getCenter(l,h){const m=c.clamp((this.left+l-this.right)/2,0,l),$=c.clamp((this.top+h-this.bottom)/2,0,h);return new c.pointGeometry(m,$)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Wo(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Rr{constructor(l,h,m,$,x){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=x===void 0||!!x,this._minZoom=l||0,this._maxZoom=h||22,this._minPitch=m??0,this._maxPitch=$??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Wo,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const l=new Rr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return l.tileSize=this.tileSize,l.latRange=this.latRange,l.width=this.width,l.height=this.height,l._center=this._center,l._elevation=this._elevation,l.zoom=this.zoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(l){const h=-c.wrap(l,-180,180)*Math.PI/180;var m;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(m=new c.ARRAY_TYPE(4),c.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m),function($,x,T){var P=x[0],w=x[1],L=x[2],z=x[3],B=Math.sin(T),j=Math.cos(T);$[0]=P*j+L*B,$[1]=w*j+z*B,$[2]=P*-B+L*j,$[3]=w*-B+z*j}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const h=c.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(l){const h=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.scale=this.zoomScale(h),this.tileZoom=Math.floor(h),this.zoomFraction=h-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,h,m){this._unmodified=!1,this._edgeInsets.interpolate(l,h,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const h=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(l){const h=[new c.UnwrappedTileID(0,l)];if(this._renderWorldCopies){const m=this.pointCoordinate(new c.pointGeometry(0,0)),$=this.pointCoordinate(new c.pointGeometry(this.width,0)),x=this.pointCoordinate(new c.pointGeometry(this.width,this.height)),T=this.pointCoordinate(new c.pointGeometry(0,this.height)),P=Math.floor(Math.min(m.x,$.x,x.x,T.x)),w=Math.floor(Math.max(m.x,$.x,x.x,T.x)),L=1;for(let z=P-L;z<=w+L;z++)z!==0&&h.push(new c.UnwrappedTileID(z,l))}return h}coveringTiles(l){var h,m;let $=this.coveringZoomLevel(l);const x=$;if(l.minzoom!==void 0&&$<l.minzoom)return[];l.maxzoom!==void 0&&$>l.maxzoom&&($=l.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),P=c.MercatorCoordinate.fromLngLat(this.center),w=Math.pow(2,$),L=[w*T.x,w*T.y,0],z=[w*P.x,w*P.y,0],B=Dr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$);let j=l.minzoom||0;!l.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(j=$);const J=l.terrain?2/Math.min(this.tileSize,l.tileSize)*this.tileSize:3,Y=Q=>({aabb:new Wi([Q*w,0,0],[(Q+1)*w,w,0]),zoom:0,x:0,y:0,wrap:Q,fullyVisible:!1}),Z=[],se=[],ue=$,de=l.reparseOverscaled?x:$;if(this._renderWorldCopies)for(let Q=1;Q<=3;Q++)Z.push(Y(-Q)),Z.push(Y(Q));for(Z.push(Y(0));Z.length>0;){const Q=Z.pop(),me=Q.x,he=Q.y;let Ee=Q.fullyVisible;if(!Ee){const Xe=Q.aabb.intersects(B);if(Xe===0)continue;Ee=Xe===2}const Se=l.terrain?L:z,Oe=Q.aabb.distanceX(Se),be=Q.aabb.distanceY(Se),qe=Math.max(Math.abs(Oe),Math.abs(be)),Ne=J+(1<<ue-Q.zoom)-2;if(Q.zoom===ue||qe>Ne&&Q.zoom>=j){const Xe=ue-Q.zoom,pt=L[0]-.5-(me<<Xe),vt=L[1]-.5-(he<<Xe);se.push({tileID:new c.OverscaledTileID(Q.zoom===ue?de:Q.zoom,Q.wrap,Q.zoom,me,he),distanceSq:c.sqrLen([z[0]-.5-me,z[1]-.5-he]),tileDistanceToCamera:Math.sqrt(pt*pt+vt*vt)})}else for(let Xe=0;Xe<4;Xe++){const pt=(me<<1)+Xe%2,vt=(he<<1)+(Xe>>1),at=Q.zoom+1;let Mt=Q.aabb.quadrant(Xe);if(l.terrain){const Nt=new c.OverscaledTileID(at,Q.wrap,at,pt,vt),Tt=l.terrain.getMinMaxElevation(Nt),Ct=(h=Tt.minElevation)!==null&&h!==void 0?h:this.elevation,It=(m=Tt.maxElevation)!==null&&m!==void 0?m:this.elevation;Mt=new Wi([Mt.min[0],Mt.min[1],Ct],[Mt.max[0],Mt.max[1],It])}Z.push({aabb:Mt,zoom:at,x:pt,y:vt,wrap:Q.wrap,fullyVisible:Ee})}}return se.sort((Q,me)=>Q.distanceSq-me.distanceSq).map(Q=>Q.tileID)}resize(l,h){this.width=l,this.height=h,this.pixelsToGLUnits=[2/l,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const h=c.clamp(l.lat,-this.maxValidLatitude,this.maxValidLatitude);return new c.pointGeometry(c.mercatorXfromLng(l.lng)*this.worldSize,c.mercatorYfromLat(h)*this.worldSize)}unproject(l){return new c.MercatorCoordinate(l.x/this.worldSize,l.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(l){this.freezeElevation||(this.elevation=l?this.getElevation(this._center,l):0)}getElevation(l,h){const m=c.MercatorCoordinate.fromLngLat(l),$=(1<<this.tileZoom)*c.EXTENT,x=m.x*$,T=m.y*$,P=Math.floor(x/c.EXTENT),w=Math.floor(T/c.EXTENT),L=new c.OverscaledTileID(this.tileZoom,0,this.tileZoom,P,w);return h.getElevation(L,x%c.EXTENT,T%c.EXTENT,c.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(l){const h=this.pointLocation(this.centerPoint,l),m=this.getElevation(h,l);if(!(this.elevation-m))return;const $=this.getCameraPosition(),x=c.MercatorCoordinate.fromLngLat($.lngLat,$.altitude),T=c.MercatorCoordinate.fromLngLat(h,m),P=x.x-T.x,w=x.y-T.y,L=x.z-T.z,z=Math.sqrt(P*P+w*w+L*L),B=this.scaleZoom(this.cameraToCenterDistance/z/this.tileSize);this._elevation=m,this._center=h,this.zoom=B}setLocationAtPoint(l,h){const m=this.pointCoordinate(h),$=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(l),T=new c.MercatorCoordinate(x.x-(m.x-$.x),x.y-(m.y-$.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(l,h){return h?this.coordinatePoint(this.locationCoordinate(l),this.getElevation(l,h),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(l))}pointLocation(l,h){return this.coordinateLocation(this.pointCoordinate(l,h))}locationCoordinate(l){return c.MercatorCoordinate.fromLngLat(l)}coordinateLocation(l){return l&&l.toLngLat()}pointCoordinate(l,h){if(h){const j=h.pointCoordinate(l);if(j!=null)return j}const m=[l.x,l.y,0,1],$=[l.x,l.y,1,1];c.transformMat4(m,m,this.pixelMatrixInverse),c.transformMat4($,$,this.pixelMatrixInverse);const x=m[3],T=$[3],P=m[1]/x,w=$[1]/T,L=m[2]/x,z=$[2]/T,B=L===z?0:(0-L)/(z-L);return new c.MercatorCoordinate(c.number(m[0]/x,$[0]/T,B)/this.worldSize,c.number(P,w,B)/this.worldSize)}coordinatePoint(l,h=0,m=this.pixelMatrix){const $=[l.x*this.worldSize,l.y*this.worldSize,h,1];return c.transformMat4($,$,m),new c.pointGeometry($[0]/$[3],$[1]/$[3])}getBounds(){const l=Math.max(0,this.height/2-this.getHorizon());return new c.LngLatBounds().extend(this.pointLocation(new c.pointGeometry(0,l))).extend(this.pointLocation(new c.pointGeometry(this.width,l))).extend(this.pointLocation(new c.pointGeometry(this.width,this.height))).extend(this.pointLocation(new c.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new c.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(l){l?(this.lngRange=[l.getWest(),l.getEast()],this.latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(l,h=!1){const m=l.key,$=h?this._alignedPosMatrixCache:this._posMatrixCache;if($[m])return $[m];const x=l.canonical,T=this.worldSize/this.zoomScale(x.z),P=x.x+Math.pow(2,x.z)*l.wrap,w=c.identity(new Float64Array(16));return c.translate(w,w,[P*T,x.y*T,0]),c.scale(w,w,[T/c.EXTENT,T/c.EXTENT,1]),c.multiply(w,h?this.alignedProjMatrix:this.projMatrix,w),$[m]=new Float32Array(w),$[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let l,h,m,$,x=-90,T=90,P=-180,w=180;const L=this.size,z=this._unmodified;if(this.latRange){const J=this.latRange;x=c.mercatorYfromLat(J[1])*this.worldSize,T=c.mercatorYfromLat(J[0])*this.worldSize,l=T-x<L.y?L.y/(T-x):0}if(this.lngRange){const J=this.lngRange;P=c.wrap(c.mercatorXfromLng(J[0])*this.worldSize,0,this.worldSize),w=c.wrap(c.mercatorXfromLng(J[1])*this.worldSize,0,this.worldSize),w<P&&(w+=this.worldSize),h=w-P<L.x?L.x/(w-P):0}const B=this.point,j=Math.max(h||0,l||0);if(j)return this.center=this.unproject(new c.pointGeometry(h?(w+P)/2:B.x,l?(T+x)/2:B.y)),this.zoom+=this.scaleZoom(j),this._unmodified=z,void(this._constraining=!1);if(this.latRange){const J=B.y,Y=L.y/2;J-Y<x&&($=x+Y),J+Y>T&&($=T-Y)}if(this.lngRange){const J=(P+w)/2,Y=c.wrap(B.x,J-this.worldSize/2,J+this.worldSize/2),Z=L.x/2;Y-Z<P&&(m=P+Z),Y+Z>w&&(m=w-Z)}m===void 0&&$===void 0||(this.center=this.unproject(new c.pointGeometry(m!==void 0?m:B.x,$!==void 0?$:B.y)).wrap()),this._unmodified=z,this._constraining=!1}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,h=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let $=c.identity(new Float64Array(16));c.scale($,$,[this.width/2,-this.height/2,1]),c.translate($,$,[1,-1,0]),this.labelPlaneMatrix=$,$=c.identity(new Float64Array(16)),c.scale($,$,[1,-1,1]),c.translate($,$,[-1,-1,0]),c.scale($,$,[2/this.width,2/this.height,1]),this.glCoordMatrix=$,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const x=Math.PI/2+this._pitch,T=this._fov*(.5+l.y/this.height),P=Math.sin(T)*this.cameraToSeaLevelDistance/Math.sin(c.clamp(Math.PI-x-T,.01,Math.PI-.01)),w=this.getHorizon(),L=2*Math.atan(w/this.cameraToCenterDistance)*(.5+l.y/(2*w)),z=Math.sin(L)*this.cameraToSeaLevelDistance/Math.sin(c.clamp(Math.PI-x-L,.01,Math.PI-.01)),B=Math.cos(Math.PI/2-this._pitch)*P+this.cameraToSeaLevelDistance,j=Math.cos(Math.PI/2-this._pitch)*z+this.cameraToSeaLevelDistance,J=1.01*Math.min(B,j),Y=this.height/50;$=new Float64Array(16),c.perspective($,this._fov,this.width/this.height,Y,J),$[8]=2*-l.x/this.width,$[9]=2*l.y/this.height,c.scale($,$,[1,-1,1]),c.translate($,$,[0,0,-this.cameraToCenterDistance]),c.rotateX($,$,this._pitch),c.rotateZ($,$,this.angle),c.translate($,$,[-h,-m,0]),this.mercatorMatrix=c.scale([],$,[this.worldSize,this.worldSize,this.worldSize]),c.scale($,$,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.multiply(new Float64Array(16),this.labelPlaneMatrix,$),c.translate($,$,[0,0,-this.elevation]),this.projMatrix=$,this.invProjMatrix=c.invert([],$),this.pixelMatrix3D=c.multiply(new Float64Array(16),this.labelPlaneMatrix,$);const Z=this.width%2/2,se=this.height%2/2,ue=Math.cos(this.angle),de=Math.sin(this.angle),Q=h-Math.round(h)+ue*Z+de*se,me=m-Math.round(m)+ue*se+de*Z,he=new Float64Array($);if(c.translate(he,he,[Q>.5?Q-1:Q,me>.5?me-1:me,0]),this.alignedProjMatrix=he,$=c.invert(new Float64Array(16),this.pixelMatrix),!$)throw new Error("failed to invert matrix");this.pixelMatrixInverse=$,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const l=this.pointCoordinate(new c.pointGeometry(0,0)),h=[l.x*this.worldSize,l.y*this.worldSize,0,1];return c.transformMat4(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.pointGeometry(0,l))}getCameraQueryGeometry(l){const h=this.getCameraPoint();if(l.length===1)return[l[0],h];{let m=h.x,$=h.y,x=h.x,T=h.y;for(const P of l)m=Math.min(m,P.x),$=Math.min($,P.y),x=Math.max(x,P.x),T=Math.max(T,P.y);return[new c.pointGeometry(m,$),new c.pointGeometry(x,$),new c.pointGeometry(x,T),new c.pointGeometry(m,T),new c.pointGeometry(m,$)]}}}class _s{constructor(l){this._hashName=l&&encodeURIComponent(l),c.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(h,m){let $=!1,x=null;const T=()=>{x=null,$&&(h(),x=setTimeout(T,300),$=!1)};return()=>($=!0,x||T(),x)}(this._updateHashUnthrottled.bind(this))}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(l){const h=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,$=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,$),T=Math.round(h.lng*x)/x,P=Math.round(h.lat*x)/x,w=this._map.getBearing(),L=this._map.getPitch();let z="";if(z+=l?`/${T}/${P}/${m}`:`${m}/${P}/${T}`,(w||L)&&(z+="/"+Math.round(10*w)/10),L&&(z+=`/${Math.round(L)}`),this._hashName){const B=this._hashName;let j=!1;const J=window.location.hash.slice(1).split("&").map(Y=>{const Z=Y.split("=")[0];return Z===B?(j=!0,`${Z}=${z}`):Y}).filter(Y=>Y);return j||J.push(`${B}=${z}`),`#${J.join("&")}`}return`#${z}`}_getCurrentHash(){const l=window.location.hash.replace("#","");if(this._hashName){let h;return l.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(h=m)}),(h&&h[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._getCurrentHash();if(l.length>=3&&!l.some(h=>isNaN(h))){const h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(l[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:h,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,l)}catch{}}}const Yo={linearity:.3,easing:c.bezier(0,0,.3,1)},ys=c.extend({deceleration:2500,maxSpeed:1400},Yo),$s=c.extend({deceleration:20,maxSpeed:1400},Yo),xo=c.extend({deceleration:1e3,maxSpeed:360},Yo),vs=c.extend({deceleration:1e3,maxSpeed:90},Yo);class bs{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,h=c.exported.now();for(;l.length>0&&h-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new c.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,$={};if(h.pan.mag()){const x=Zo(h.pan.mag(),m,c.extend({},ys,l||{}));$.offset=h.pan.mult(x.amount/h.pan.mag()),$.center=this._map.transform.center,Ko($,x)}if(h.zoom){const x=Zo(h.zoom,m,$s);$.zoom=this._map.transform.zoom+x.amount,Ko($,x)}if(h.bearing){const x=Zo(h.bearing,m,xo);$.bearing=this._map.transform.bearing+c.clamp(x.amount,-179,179),Ko($,x)}if(h.pitch){const x=Zo(h.pitch,m,vs);$.pitch=this._map.transform.pitch+x.amount,Ko($,x)}if($.zoom||$.bearing){const x=h.pinchAround===void 0?h.around:h.pinchAround;$.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),c.extend($,{noMoveStart:!0})}}function Ko(_,l){(!_.duration||_.duration<l.duration)&&(_.duration=l.duration,_.easing=l.easing)}function Zo(_,l,h){const{maxSpeed:m,linearity:$,deceleration:x}=h,T=c.clamp(_*$/(l/1e3),-m,m),P=Math.abs(T)/(x*$);return{easing:h.easing,duration:1e3*P,amount:T*(P/2)}}class Xn extends c.Event{constructor(l,h,m,$={}){const x=R.mousePos(h.getCanvasContainer(),m),T=h.unproject(x);super(l,c.extend({point:x,lngLat:T,originalEvent:m},$)),this._defaultPrevented=!1,this.target=h}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class En extends c.Event{constructor(l,h,m){const $=l==="touchend"?m.changedTouches:m.touches,x=R.touchPos(h.getCanvasContainer(),$),T=x.map(w=>h.unproject(w)),P=x.reduce((w,L,z,B)=>w.add(L.div(B.length)),new c.pointGeometry(0,0));super(l,{points:x,point:P,lngLats:T,lngLat:h.unproject(P),originalEvent:m}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class gl extends c.Event{constructor(l,h,m){super(l,{originalEvent:m}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class Ui{constructor(l,h){this._map=l,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new gl(l.type,this._map,l))}mousedown(l,h){return this._mousedownPos=h,this._firePreventable(new Xn(l.type,this._map,l))}mouseup(l){this._map.fire(new Xn(l.type,this._map,l))}click(l,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new Xn(l.type,this._map,l))}dblclick(l){return this._firePreventable(new Xn(l.type,this._map,l))}mouseover(l){this._map.fire(new Xn(l.type,this._map,l))}mouseout(l){this._map.fire(new Xn(l.type,this._map,l))}touchstart(l){return this._firePreventable(new En(l.type,this._map,l))}touchmove(l){this._map.fire(new En(l.type,this._map,l))}touchend(l){this._map.fire(new En(l.type,this._map,l))}touchcancel(l){this._map.fire(new En(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class xs{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new Xn(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Xn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new Xn(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Yi{constructor(l,h){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,h){this.isEnabled()&&l.shiftKey&&l.button===0&&(R.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(l,h){if(!this._active)return;const m=h;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const $=this._startPos;this._lastPos=m,this._box||(this._box=R.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const x=Math.min($.x,m.x),T=Math.max($.x,m.x),P=Math.min($.y,m.y),w=Math.max($.y,m.y);R.setTransform(this._box,`translate(${x}px,${P}px)`),this._box.style.width=T-x+"px",this._box.style.height=w-P+"px"}mouseupWindow(l,h){if(!this._active||l.button!==0)return;const m=this._startPos,$=h;if(this.reset(),R.suppressClick(),m.x!==$.x||m.y!==$.y)return this._map.fire(new c.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:x=>x.fitScreenCoordinates(m,$,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",l)}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(R.remove(this._box),this._box=null),R.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,h){return this._map.fire(new c.Event(l,{originalEvent:h}))}}function Ki(_,l){if(_.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${l.length}`);const h={};for(let m=0;m<_.length;m++)h[_[m].identifier]=l[m];return h}class dl{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,h,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),m.length===this.numTouches&&(this.centroid=function($){const x=new c.pointGeometry(0,0);for(const T of $)x._add(T);return x.div($.length)}(h),this.touches=Ki(m,h)))}touchmove(l,h,m){if(this.aborted||!this.centroid)return;const $=Ki(m,h);for(const x in this.touches){const T=this.touches[x],P=$[x];(!P||P.dist(T)>30)&&(this.aborted=!0)}}touchend(l,h,m){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const $=!this.aborted&&this.centroid;if(this.reset(),$)return $}}}class Sa{constructor(l){this.singleTap=new dl(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,h,m){this.singleTap.touchstart(l,h,m)}touchmove(l,h,m){this.singleTap.touchmove(l,h,m)}touchend(l,h,m){const $=this.singleTap.touchend(l,h,m);if($){const x=l.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist($)<30;if(x&&T||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=$,this.count===this.numTaps)return this.reset(),$}}}class hl{constructor(){this._zoomIn=new Sa({numTouches:1,numTaps:2}),this._zoomOut=new Sa({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,h,m){this._zoomIn.touchstart(l,h,m),this._zoomOut.touchstart(l,h,m)}touchmove(l,h,m){this._zoomIn.touchmove(l,h,m),this._zoomOut.touchmove(l,h,m)}touchend(l,h,m){const $=this._zoomIn.touchend(l,h,m),x=this._zoomOut.touchend(l,h,m);return $?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()+1,around:T.unproject($)},{originalEvent:l})}):x?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:T.getZoom()-1,around:T.unproject(x)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Es={0:1,2:2};class Zi{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(l,h){return!1}_move(l,h){return{}}mousedown(l,h){if(this._lastPoint)return;const m=R.mouseButton(l);this._correctButton(l,m)&&(this._lastPoint=h,this._eventButton=m)}mousemoveWindow(l,h){const m=this._lastPoint;if(m){if(l.preventDefault(),function($,x){const T=Es[x];return $.buttons===void 0||($.buttons&T)!==T}(l,this._eventButton))this.reset();else if(this._moved||!(h.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(m,h)}}mouseupWindow(l){this._lastPoint&&R.mouseButton(l)===this._eventButton&&(this._moved&&R.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ji extends Zi{mousedown(l,h){super.mousedown(l,h),this._lastPoint&&(this._active=!0)}_correctButton(l,h){return h===0&&!l.ctrlKey}_move(l,h){return{around:h,panDelta:h.sub(l)}}}class We extends Zi{_correctButton(l,h){return h===0&&l.ctrlKey||h===2}_move(l,h){const m=.8*(h.x-l.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(l){l.preventDefault()}}class Ta extends Zi{_correctButton(l,h){return h===0&&l.ctrlKey||h===2}_move(l,h){const m=-.5*(h.y-l.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(l){l.preventDefault()}}class Jo{constructor(l,h){this._minTouches=l.cooperativeGestures?2:1,this._clickTolerance=l.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(l,h,m){return this._calculateTransform(l,h,m)}touchmove(l,h,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(l,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return l.preventDefault(),this._calculateTransform(l,h,m)}touchend(l,h,m){this._calculateTransform(l,h,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,h,m){m.length>0&&(this._active=!0);const $=Ki(m,h),x=new c.pointGeometry(0,0),T=new c.pointGeometry(0,0);let P=0;for(const L in $){const z=$[L],B=this._touches[L];B&&(x._add(z),T._add(z.sub(B)),P++,$[L]=z)}if(this._touches=$,P<this._minTouches||!T.mag())return;const w=T.div(P);return this._sum._add(w),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:w}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ji{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(l){}_move(l,h,m){return{}}touchstart(l,h,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([h[0],h[1]]))}touchmove(l,h,m){if(!this._firstTwoTouches)return;l.preventDefault();const[$,x]=this._firstTwoTouches,T=Qo(m,h,$),P=Qo(m,h,x);if(!T||!P)return;const w=this._aroundCenter?null:T.add(P).div(2);return this._move([T,P],w,l)}touchend(l,h,m){if(!this._firstTwoTouches)return;const[$,x]=this._firstTwoTouches,T=Qo(m,h,$),P=Qo(m,h,x);T&&P||(this._active&&R.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Qo(_,l,h){for(let m=0;m<_.length;m++)if(_[m].identifier===h)return l[m]}function Be(_,l){return Math.log(_/l)/Math.LN2}class Aa extends Ji{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,h){const m=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Be(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Be(this._distance,m),pinchAround:h}}}function Ss(_,l){return 180*_.angleWith(l)/Math.PI}class fl extends Ji{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,h){const m=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ss(this._vector,m),pinchAround:h}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const h=25/(Math.PI*this._minDiameter)*360,m=Ss(l,this._startVector);return Math.abs(m)<h}}function er(_){return Math.abs(_.y)>Math.abs(_.x)}class Ts extends Ji{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,h,m){super.touchstart(l,h,m),this._currentTouchCount=m.length}_start(l){this._lastPoints=l,er(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,h,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const $=l[0].sub(this._lastPoints[0]),x=l[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically($,x,m.timeStamp),this._valid?(this._lastPoints=l,this._active=!0,{pitchDelta:($.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(l,h,m){if(this._valid!==void 0)return this._valid;const $=l.mag()>=2,x=h.mag()>=2;if(!$&&!x)return;if(!$||!x)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const T=l.y>0==h.y>0;return er(l)&&er(h)&&T}}const As={panStep:100,bearingStep:15,pitchStep:10};class ml{constructor(){const l=As;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let h=0,m=0,$=0,x=0,T=0;switch(l.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:l.shiftKey?m=-1:(l.preventDefault(),x=-1);break;case 39:l.shiftKey?m=1:(l.preventDefault(),x=1);break;case 38:l.shiftKey?$=1:(l.preventDefault(),T=-1);break;case 40:l.shiftKey?$=-1:(l.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(m=0,$=0),{cameraAnimation:P=>{const w=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:_l,zoom:h?Math.round(w)+h*(l.shiftKey?2:1):w,bearing:P.getBearing()+m*this._bearingStep,pitch:P.getPitch()+$*this._pitchStep,offset:[-x*this._panStep,-T*this._panStep],center:P.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function _l(_){return _*(2-_)}const Lr=4.000244140625;class Ca{constructor(l,h){this._map=l,this._el=l.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,c.bindAll(["_onTimeout"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;l.preventDefault()}let h=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const m=c.exported.now(),$=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,h!==0&&h%Lr==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":$>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs($*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),l.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=l,this._delta-=h,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=R.mousePos(this._el,l);this._around=c.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(h)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>Lr?this._wheelZoomRate:this._defaultZoomRate;let w=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&w!==0&&(w=1/w);const L=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):l.scale;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(L*w))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:l.zoom,m=this._startZoom,$=this._easing;let x,T=!1;if(this._type==="wheel"&&m&&$){const P=Math.min((c.exported.now()-this._lastWheelEventTime)/200,1),w=$(P);x=c.number(m,h,w),P<1?this._frameId||(this._frameId=!0):T=!0}else x=h,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:x-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let h=c.ease;if(this._prevEase){const m=this._prevEase,$=(c.exported.now()-m.start)/m.duration,x=m.easing($+.01)-m.easing($),T=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-T*T);h=c.bezier(T,P,.25,1)}return this._prevEase={start:c.exported.now(),duration:l,easing:h},h}reset(){this._active=!1}}class Ia{constructor(l,h){this._clickZoom=l,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Pa{constructor(){this.reset()}reset(){this._active=!1}dblclick(l,h){return l.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(l.shiftKey?-1:1),around:m.unproject(h)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fn{constructor(){this._tap=new Sa({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(l,h,m){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=h[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(l,h,m))}touchmove(l,h,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const $=h[0],x=$.y-this._swipePoint.y;return this._swipePoint=$,l.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(l,h,m)}touchend(l,h,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(l,h,m)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vi{constructor(l,h,m){this._el=l,this._mousePan=h,this._touchPan=m}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Cs{constructor(l,h,m){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=h,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wa{constructor(l,h,m,$){this._el=l,this._touchZoom=h,this._touchRotate=m,this._tapDragZoom=$,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Eo=_=>_.zoom||_.drag||_.pitch||_.rotate;class Oa extends c.Event{}function Mr(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class ti{constructor(l,h){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new bs(l),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h),c.bindAll(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[$,x,T]of this._listeners)R.addEventListener($,x,$===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[l,h,m]of this._listeners)R.removeEventListener(l,h,l===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(l){const h=this._map,m=h.getCanvasContainer();this._add("mapEvent",new Ui(h,l));const $=h.boxZoom=new Yi(h,l);this._add("boxZoom",$);const x=new hl,T=new Pa;h.doubleClickZoom=new Ia(T,x),this._add("tapZoom",x),this._add("clickZoom",T);const P=new Fn;this._add("tapDragZoom",P);const w=h.touchPitch=new Ts(h);this._add("touchPitch",w);const L=new We(l),z=new Ta(l);h.dragRotate=new Cs(l,L,z),this._add("mouseRotate",L,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]);const B=new ji(l),j=new Jo(l,h);h.dragPan=new Vi(m,B,j),this._add("mousePan",B),this._add("touchPan",j,["touchZoom","touchRotate"]);const J=new fl,Y=new Aa;h.touchZoomRotate=new wa(m,Y,J,P),this._add("touchRotate",J,["touchPan","touchZoom"]),this._add("touchZoom",Y,["touchPan","touchRotate"]);const Z=h.scrollZoom=new Ca(h,this);this._add("scrollZoom",Z,["mousePan"]);const se=h.keyboard=new ml;this._add("keyboard",se),this._add("blockableMapEvent",new xs(h));for(const ue of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[ue]&&h[ue].enable(l[ue])}_add(l,h,m){this._handlers.push({handlerName:l,handler:h,allowed:m}),this._handlersById[l]=h}stop(l){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Eo(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,h,m){for(const $ in l)if($!==m&&(!h||h.indexOf($)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const h=[];for(const m of l)this._el.contains(m.target)&&h.push(m);return h}handleEvent(l,h){if(l.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const m=l.type==="renderFrame"?void 0:l,$={needsRenderFrame:!1},x={},T={},P=l.touches,w=P?this._getMapTouches(P):void 0,L=w?R.touchPos(this._el,w):R.mousePos(this._el,l);for(const{handlerName:j,handler:J,allowed:Y}of this._handlers){if(!J.isEnabled())continue;let Z;this._blockedByActive(T,Y,j)?J.reset():J[h||l.type]&&(Z=J[h||l.type](l,L,w),this.mergeHandlerResult($,x,Z,j,m),Z&&Z.needsRenderFrame&&this._triggerRenderFrame()),(Z||J.isActive())&&(T[j]=J)}const z={};for(const j in this._previousActiveHandlers)T[j]||(z[j]=m);this._previousActiveHandlers=T,(Object.keys(z).length||Mr($))&&(this._changes.push([$,x,z]),this._triggerRenderFrame()),(Object.keys(T).length||Mr($))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:B}=$;B&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],B(this._map))}mergeHandlerResult(l,h,m,$,x){if(!m)return;c.extend(l,m);const T={handlerName:$,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(h.zoom=T),m.panDelta!==void 0&&(h.drag=T),m.pitchDelta!==void 0&&(h.pitch=T),m.bearingDelta!==void 0&&(h.rotate=T)}_applyChanges(){const l={},h={},m={};for(const[$,x,T]of this._changes)$.panDelta&&(l.panDelta=(l.panDelta||new c.pointGeometry(0,0))._add($.panDelta)),$.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+$.zoomDelta),$.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+$.bearingDelta),$.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+$.pitchDelta),$.around!==void 0&&(l.around=$.around),$.pinchAround!==void 0&&(l.pinchAround=$.pinchAround),$.noInertia&&(l.noInertia=$.noInertia),c.extend(h,x),c.extend(m,T);this._updateMapTransform(l,h,m),this._changes=[]}_updateMapTransform(l,h,m){const $=this._map,x=$.transform,T=$.style&&$.style.terrain;if(!(Mr(l)||T&&this._drag))return this._fireEvents(h,m,!0);let{panDelta:P,zoomDelta:w,bearingDelta:L,pitchDelta:z,around:B,pinchAround:j}=l;j!==void 0&&(B=j),$._stop(!0),B=B||$.transform.centerPoint;const J=x.pointLocation(P?B.sub(P):B);L&&(x.bearing+=L),z&&(x.pitch+=z),w&&(x.zoom+=w),T?h.drag&&!this._drag?(this._drag={center:x.centerPoint,lngLat:x.pointLocation(B),point:B,handlerName:h.drag.handlerName},$.fire(new c.Event("freezeElevation",{freeze:!0}))):this._drag&&m[this._drag.handlerName]?($.fire(new c.Event("freezeElevation",{freeze:!1})),this._drag=null):h.drag&&this._drag&&(x.center=x.pointLocation(x.centerPoint.sub(P))):x.setLocationAtPoint(J,B),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(h,m,!0)}_fireEvents(l,h,m){const $=Eo(this._eventsInProgress),x=Eo(l),T={};for(const z in l){const{originalEvent:B}=l[z];this._eventsInProgress[z]||(T[`${z}start`]=B),this._eventsInProgress[z]=l[z]}!$&&x&&this._fireEvent("movestart",x.originalEvent);for(const z in T)this._fireEvent(z,T[z]);x&&this._fireEvent("move",x.originalEvent);for(const z in l){const{originalEvent:B}=l[z];this._fireEvent(z,B)}const P={};let w;for(const z in this._eventsInProgress){const{handlerName:B,originalEvent:j}=this._eventsInProgress[z];this._handlersById[B].isActive()||(delete this._eventsInProgress[z],w=h[B]||j,P[`${z}end`]=w)}for(const z in P)this._fireEvent(z,P[z]);const L=Eo(this._eventsInProgress);if(m&&($||x)&&!L){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),B=j=>j!==0&&-this._bearingSnap<j&&j<this._bearingSnap;z?(B(z.bearing||this._map.getBearing())&&(z.bearing=0),this._map.easeTo(z,{originalEvent:w})):(this._map.fire(new c.Event("moveend",{originalEvent:w})),B(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,h){this._map.fire(new c.Event(l,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Oa("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Xt={extend:(_,...l)=>c.extend(_,...l),run(_){_()},logToElement(_,l=!1,h="log"){const m=window.document.getElementById(h);m&&(l&&(m.innerHTML=""),m.innerHTML+=`<br>${_}`)}};class Nr extends c.Evented{constructor(l,h){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=h.bearingSnap,c.bindAll(["_renderFrameCallback"],this)}getCenter(){return new c.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,h){return this.jumpTo({center:l},h)}panBy(l,h,m){return l=c.pointGeometry.convert(l).mult(-1),this.panTo(this.transform.center,c.extend({offset:l},h),m)}panTo(l,h,m){return this.easeTo(c.extend({center:l},h),m)}getZoom(){return this.transform.zoom}setZoom(l,h){return this.jumpTo({zoom:l},h),this}zoomTo(l,h,m){return this.easeTo(c.extend({zoom:l},h),m)}zoomIn(l,h){return this.zoomTo(this.getZoom()+1,l,h),this}zoomOut(l,h){return this.zoomTo(this.getZoom()-1,l,h),this}getBearing(){return this.transform.bearing}setBearing(l,h){return this.jumpTo({bearing:l},h),this}getPadding(){return this.transform.padding}setPadding(l,h){return this.jumpTo({padding:l},h),this}rotateTo(l,h,m){return this.easeTo(c.extend({bearing:l},h),m)}resetNorth(l,h){return this.rotateTo(0,c.extend({duration:1e3},l),h),this}resetNorthPitch(l,h){return this.easeTo(c.extend({bearing:0,pitch:0,duration:1e3},l),h),this}snapToNorth(l,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,h):this}getPitch(){return this.transform.pitch}setPitch(l,h){return this.jumpTo({pitch:l},h),this}cameraForBounds(l,h){l=c.LngLatBounds.convert(l);const m=h&&h.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),m,h)}_cameraForBoxAndBearing(l,h,m,$){const x={top:0,bottom:0,right:0,left:0};if(typeof($=c.extend({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},$)).padding=="number"){const he=$.padding;$.padding={top:he,bottom:he,right:he,left:he}}$.padding=c.extend(x,$.padding);const T=this.transform,P=T.padding,w=T.project(c.LngLat.convert(l)),L=T.project(c.LngLat.convert(h)),z=w.rotate(-m*Math.PI/180),B=L.rotate(-m*Math.PI/180),j=new c.pointGeometry(Math.max(z.x,B.x),Math.max(z.y,B.y)),J=new c.pointGeometry(Math.min(z.x,B.x),Math.min(z.y,B.y)),Y=j.sub(J),Z=(T.width-(P.left+P.right+$.padding.left+$.padding.right))/Y.x,se=(T.height-(P.top+P.bottom+$.padding.top+$.padding.bottom))/Y.y;if(se<0||Z<0)return void c.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ue=Math.min(T.scaleZoom(T.scale*Math.min(Z,se)),$.maxZoom),de=c.pointGeometry.convert($.offset),Q=new c.pointGeometry(($.padding.left-$.padding.right)/2,($.padding.top-$.padding.bottom)/2).rotate(m*Math.PI/180),me=de.add(Q).mult(T.scale/T.zoomScale(ue));return{center:T.unproject(w.add(L).div(2).sub(me)),zoom:ue,bearing:m}}fitBounds(l,h,m){return this._fitInternal(this.cameraForBounds(l,h),h,m)}fitScreenCoordinates(l,h,m,$,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.pointGeometry.convert(l)),this.transform.pointLocation(c.pointGeometry.convert(h)),m,$),$,x)}_fitInternal(l,h,m){return l?(delete(h=c.extend(l,h)).padding,h.linear?this.easeTo(h,m):this.flyTo(h,m)):this}jumpTo(l,h){this.stop();const m=this.transform;let $=!1,x=!1,T=!1;return"zoom"in l&&m.zoom!==+l.zoom&&($=!0,m.zoom=+l.zoom),l.center!==void 0&&(m.center=c.LngLat.convert(l.center)),"bearing"in l&&m.bearing!==+l.bearing&&(x=!0,m.bearing=+l.bearing),"pitch"in l&&m.pitch!==+l.pitch&&(T=!0,m.pitch=+l.pitch),l.padding==null||m.isPaddingEqual(l.padding)||(m.padding=l.padding),this.fire(new c.Event("movestart",h)).fire(new c.Event("move",h)),$&&this.fire(new c.Event("zoomstart",h)).fire(new c.Event("zoom",h)).fire(new c.Event("zoomend",h)),x&&this.fire(new c.Event("rotatestart",h)).fire(new c.Event("rotate",h)).fire(new c.Event("rotateend",h)),T&&this.fire(new c.Event("pitchstart",h)).fire(new c.Event("pitch",h)).fire(new c.Event("pitchend",h)),this.fire(new c.Event("moveend",h))}calculateCameraOptionsFromTo(l,h,m,$=0){const x=c.MercatorCoordinate.fromLngLat(l,h),T=c.MercatorCoordinate.fromLngLat(m,$),P=T.x-x.x,w=T.y-x.y,L=T.z-x.z,z=Math.hypot(P,w,L);if(z===0)throw new Error("Can't calculate camera options with same From and To");const B=Math.hypot(P,w),j=this.transform.scaleZoom(this.transform.cameraToCenterDistance/z/this.transform.tileSize),J=180*Math.atan2(P,-w)/Math.PI;let Y=180*Math.acos(B/z)/Math.PI;return Y=L<0?90-Y:90+Y,{center:T.toLngLat(),zoom:j,pitch:Y,bearing:J}}easeTo(l,h){this._stop(!1,l.easeId),((l=c.extend({offset:[0,0],duration:500,easing:c.ease},l)).animate===!1||!l.essential&&c.exported.prefersReducedMotion)&&(l.duration=0);const m=this.transform,$=this.getZoom(),x=this.getBearing(),T=this.getPitch(),P=this.getPadding(),w="zoom"in l?+l.zoom:$,L="bearing"in l?this._normalizeBearing(l.bearing,x):x,z="pitch"in l?+l.pitch:T,B="padding"in l?l.padding:m.padding,j=c.pointGeometry.convert(l.offset);let J=m.centerPoint.add(j);const Y=m.pointLocation(J),Z=c.LngLat.convert(l.center||Y);this._normalizeCenter(Z);const se=m.project(Y),ue=m.project(Z).sub(se),de=m.zoomScale(w-$);let Q,me;l.around&&(Q=c.LngLat.convert(l.around),me=m.locationPoint(Q));const he={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||w!==$,this._rotating=this._rotating||x!==L,this._pitching=this._pitching||z!==T,this._padding=!m.isPaddingEqual(B),this._easeId=l.easeId,this._prepareEase(h,l.noMoveStart,he),this._ease(Ee=>{if(this._zooming&&(m.zoom=c.number($,w,Ee)),this._rotating&&(m.bearing=c.number(x,L,Ee)),this._pitching&&(m.pitch=c.number(T,z,Ee)),this._padding&&(m.interpolatePadding(P,B,Ee),J=m.centerPoint.add(j)),Q)m.setLocationAtPoint(Q,me);else{const Se=m.zoomScale(m.zoom-$),Oe=w>$?Math.min(2,de):Math.max(.5,de),be=Math.pow(Oe,1-Ee),qe=m.unproject(se.add(ue.mult(Ee*be)).mult(Se));m.setLocationAtPoint(m.renderWorldCopies?qe.wrap():qe,J)}this._fireMoveEvents(h)},Ee=>{this._afterEase(h,Ee)},l),this}_prepareEase(l,h,m={}){this._moving=!0,this.fire(new c.Event("freezeElevation",{freeze:!0})),h||m.moving||this.fire(new c.Event("movestart",l)),this._zooming&&!m.zooming&&this.fire(new c.Event("zoomstart",l)),this._rotating&&!m.rotating&&this.fire(new c.Event("rotatestart",l)),this._pitching&&!m.pitching&&this.fire(new c.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new c.Event("move",l)),this._zooming&&this.fire(new c.Event("zoom",l)),this._rotating&&this.fire(new c.Event("rotate",l)),this._pitching&&this.fire(new c.Event("pitch",l))}_afterEase(l,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId,this.fire(new c.Event("freezeElevation",{freeze:!1}));const m=this._zooming,$=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new c.Event("zoomend",l)),$&&this.fire(new c.Event("rotateend",l)),x&&this.fire(new c.Event("pitchend",l)),this.fire(new c.Event("moveend",l))}flyTo(l,h){if(!l.essential&&c.exported.prefersReducedMotion){const at=c.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(at,h)}this.stop(),l=c.extend({offset:[0,0],speed:1.2,curve:1.42,easing:c.ease},l);const m=this.transform,$=this.getZoom(),x=this.getBearing(),T=this.getPitch(),P=this.getPadding(),w="zoom"in l?c.clamp(+l.zoom,m.minZoom,m.maxZoom):$,L="bearing"in l?this._normalizeBearing(l.bearing,x):x,z="pitch"in l?+l.pitch:T,B="padding"in l?l.padding:m.padding,j=m.zoomScale(w-$),J=c.pointGeometry.convert(l.offset);let Y=m.centerPoint.add(J);const Z=m.pointLocation(Y),se=c.LngLat.convert(l.center||Z);this._normalizeCenter(se);const ue=m.project(Z),de=m.project(se).sub(ue);let Q=l.curve;const me=Math.max(m.width,m.height),he=me/j,Ee=de.mag();if("minZoom"in l){const at=c.clamp(Math.min(l.minZoom,$,w),m.minZoom,m.maxZoom),Mt=me/m.zoomScale(at-$);Q=Math.sqrt(Mt/Ee*2)}const Se=Q*Q;function Oe(at){const Mt=(he*he-me*me+(at?-1:1)*Se*Se*Ee*Ee)/(2*(at?he:me)*Se*Ee);return Math.log(Math.sqrt(Mt*Mt+1)-Mt)}function be(at){return(Math.exp(at)-Math.exp(-at))/2}function qe(at){return(Math.exp(at)+Math.exp(-at))/2}const Ne=Oe(0);let Xe=function(at){return qe(Ne)/qe(Ne+Q*at)},pt=function(at){return me*((qe(Ne)*(be(Mt=Ne+Q*at)/qe(Mt))-be(Ne))/Se)/Ee;var Mt},vt=(Oe(1)-Ne)/Q;if(Math.abs(Ee)<1e-6||!isFinite(vt)){if(Math.abs(me-he)<1e-6)return this.easeTo(l,h);const at=he<me?-1:1;vt=Math.abs(Math.log(he/me))/Q,pt=function(){return 0},Xe=function(Mt){return Math.exp(at*Q*Mt)}}return l.duration="duration"in l?+l.duration:1e3*vt/("screenSpeed"in l?+l.screenSpeed/Q:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=x!==L,this._pitching=z!==T,this._padding=!m.isPaddingEqual(B),this._prepareEase(h,!1),this._ease(at=>{const Mt=at*vt,Nt=1/Xe(Mt);m.zoom=at===1?w:$+m.scaleZoom(Nt),this._rotating&&(m.bearing=c.number(x,L,at)),this._pitching&&(m.pitch=c.number(T,z,at)),this._padding&&(m.interpolatePadding(P,B,at),Y=m.centerPoint.add(J));const Tt=at===1?se:m.unproject(ue.add(de.mult(pt(Mt))).mult(Nt));m.setLocationAtPoint(m.renderWorldCopies?Tt.wrap():Tt,Y),this._fireMoveEvents(h)},()=>this._afterEase(h),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,h)}if(!l){const m=this.handlers;m&&m.stop(!1)}return this}_ease(l,h,m){m.animate===!1||m.duration===0?(l(1),h()):(this._easeStart=c.exported.now(),this._easeOptions=m,this._onEaseFrame=l,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((c.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,h){l=c.wrap(l,-180,180);const m=Math.abs(l-h);return Math.abs(l-360-h)<m&&(l-=360),Math.abs(l+360-h)<m&&(l+=360),l}_normalizeCenter(l){const h=this.transform;if(!h.renderWorldCopies||h.lngRange)return;const m=l.lng-h.center.lng;l.lng+=m>180?-360:m<-180?360:0}}class zr{constructor(l={}){this.options=l,c.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options&&this.options.compact,this._container=R.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=R.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=R.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){R.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(l,h){const m=this._map._getUIString(`AttributionControl.${h}`);l.title=m,l.setAttribute("aria-label",m)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"&&l.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let l=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=l.concat(this.options.customAttribution.map($=>typeof $!="string"?"":$)):typeof this.options.customAttribution=="string"&&l.push(this.options.customAttribution)),this._map.style.stylesheet){const $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}const h=this._map.style.sourceCaches;for(const $ in h){const x=h[$];if(x.used||x.usedForTerrain){const T=x.getSource();T.attribution&&l.indexOf(T.attribution)<0&&l.push(T.attribution)}}l=l.filter($=>String($).trim()),l.sort(($,x)=>$.length-x.length),l=l.filter(($,x)=>{for(let T=x+1;T<l.length;T++)if(l[T].indexOf($)>=0)return!1;return!0});const m=l.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,l.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Da{constructor(l={}){this.options=l,c.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(l){this._map=l,this._compact=this.options&&this.options.compact,this._container=R.create("div","maplibregl-ctrl mapboxgl-ctrl");const h=R.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){R.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const l=this._container.children;if(l.length){const h=l[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact","mapboxgl-compact"):h.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class Is{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const h=++this._id;return this._queue.push({callback:l,id:h,cancelled:!1}),h}remove(l){const h=this._currentlyRunning,m=h?this._queue.concat(h):this._queue;for(const $ of m)if($.id===l)return void($.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const m of h)if(!m.cancelled&&(m.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Ps={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},yl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Ei={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fr{constructor(l,h,m=!1){this._clickTolerance=10,this.element=h,this.mouseRotate=new We({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,m&&(this.mousePitch=new Ta({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),c.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),R.addEventListener(h,"mousedown",this.mousedown),R.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),R.addEventListener(h,"touchmove",this.touchmove),R.addEventListener(h,"touchend",this.touchend),R.addEventListener(h,"touchcancel",this.reset)}down(l,h){this.mouseRotate.mousedown(l,h),this.mousePitch&&this.mousePitch.mousedown(l,h),R.disableDrag()}move(l,h){const m=this.map,$=this.mouseRotate.mousemoveWindow(l,h);if($&&$.bearingDelta&&m.setBearing(m.getBearing()+$.bearingDelta),this.mousePitch){const x=this.mousePitch.mousemoveWindow(l,h);x&&x.pitchDelta&&m.setPitch(m.getPitch()+x.pitchDelta)}}off(){const l=this.element;R.removeEventListener(l,"mousedown",this.mousedown),R.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),R.removeEventListener(l,"touchmove",this.touchmove),R.removeEventListener(l,"touchend",this.touchend),R.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){R.enableDrag(),R.removeEventListener(window,"mousemove",this.mousemove),R.removeEventListener(window,"mouseup",this.mouseup)}mousedown(l){this.down(c.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),R.mousePos(this.element,l)),R.addEventListener(window,"mousemove",this.mousemove),R.addEventListener(window,"mouseup",this.mouseup)}mousemove(l){this.move(l,R.mousePos(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=R.touchPos(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=R.touchPos(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function tt(_,l,h){if(_=new c.LngLat(_.lng,_.lat),l){const m=new c.LngLat(_.lng-360,_.lat),$=new c.LngLat(_.lng+360,_.lat),x=h.locationPoint(_).distSqr(l);h.locationPoint(m).distSqr(l)<x?_=m:h.locationPoint($).distSqr(l)<x&&(_=$)}for(;Math.abs(_.lng-h.center.lng)>180;){const m=h.locationPoint(_);if(m.x>=0&&m.y>=0&&m.x<=h.width&&m.y<=h.height)break;_.lng>h.center.lng?_.lng-=360:_.lng+=360}return _}const st={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tr(_,l,h){const m=_.classList;for(const $ in st)m.remove(`maplibregl-${h}-anchor-${$}`,`mapboxgl-${h}-anchor-${$}`);m.add(`maplibregl-${h}-anchor-${l}`,`mapboxgl-${h}-anchor-${l}`)}class nr extends c.Evented{constructor(l,h){if(super(),(l instanceof HTMLElement||h)&&(l=c.extend({element:l},h)),c.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=c.pointGeometry.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=R.create("div"),this._element.setAttribute("aria-label","Map marker");const m=R.createNS("http://www.w3.org/2000/svg","svg"),$=41,x=27;m.setAttributeNS(null,"display","block"),m.setAttributeNS(null,"height",`${$}px`),m.setAttributeNS(null,"width",`${x}px`),m.setAttributeNS(null,"viewBox",`0 0 ${x} ${$}`);const T=R.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"stroke","none"),T.setAttributeNS(null,"stroke-width","1"),T.setAttributeNS(null,"fill","none"),T.setAttributeNS(null,"fill-rule","evenodd");const P=R.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"fill-rule","nonzero");const w=R.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"transform","translate(3.0, 29.0)"),w.setAttributeNS(null,"fill","#000000");const L=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const de of L){const Q=R.createNS("http://www.w3.org/2000/svg","ellipse");Q.setAttributeNS(null,"opacity","0.04"),Q.setAttributeNS(null,"cx","10.5"),Q.setAttributeNS(null,"cy","5.80029008"),Q.setAttributeNS(null,"rx",de.rx),Q.setAttributeNS(null,"ry",de.ry),w.appendChild(Q)}const z=R.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const B=R.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(B);const j=R.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");const J=R.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(J);const Y=R.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Y.setAttributeNS(null,"fill","#FFFFFF");const Z=R.createNS("http://www.w3.org/2000/svg","g");Z.setAttributeNS(null,"transform","translate(8.0, 8.0)");const se=R.createNS("http://www.w3.org/2000/svg","circle");se.setAttributeNS(null,"fill","#000000"),se.setAttributeNS(null,"opacity","0.25"),se.setAttributeNS(null,"cx","5.5"),se.setAttributeNS(null,"cy","5.5"),se.setAttributeNS(null,"r","5.4999962");const ue=R.createNS("http://www.w3.org/2000/svg","circle");ue.setAttributeNS(null,"fill","#FFFFFF"),ue.setAttributeNS(null,"cx","5.5"),ue.setAttributeNS(null,"cy","5.5"),ue.setAttributeNS(null,"r","5.4999962"),Z.appendChild(se),Z.appendChild(ue),P.appendChild(w),P.appendChild(z),P.appendChild(j),P.appendChild(Y),P.appendChild(Z),m.appendChild(P),m.setAttributeNS(null,"height",$*this._scale+"px"),m.setAttributeNS(null,"width",x*this._scale+"px"),this._element.appendChild(m),this._offset=c.pointGeometry.convert(l&&l.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",m=>{m.preventDefault()}),this._element.addEventListener("mousedown",m=>{m.preventDefault()}),tr(this._element,this._anchor,"marker"),this._popup=null}addTo(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),R.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=c.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const $=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[$,-1*(38.1-13.5+$)],"bottom-right":[-$,-1*(38.1-13.5+$)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(l){const h=l.code,m=l.charCode||l.keyCode;h!=="Space"&&h!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(l){const h=l.originalEvent.target,m=this._element;this._popup&&(h===m||m.contains(h))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this}_update(l){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=tt(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let h="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?h=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(h=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let m="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?m="rotateX(0deg)":this._pitchAlignment==="map"&&(m=`rotateX(${this._map.getPitch()}deg)`),l&&l.type!=="moveend"||(this._pos=this._pos.round()),R.setTransform(this._element,`${st[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${m} ${h}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const $=this._map.unproject(this._pos),x=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=$.distanceTo(this._lngLat)>20*x?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(l){return this._offset=c.pointGeometry.convert(l),this._update(),this}_onMove(l){if(!this._isDragging){const h=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.Event("dragstart"))),this.fire(new c.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.Event("dragend")),this._state="inactive"}_addDragHandler(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Ra={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let dn,Qi=0,kn=!1;const $l={maxWidth:100,unit:"metric"};function ir(_,l,h){const m=h&&h.maxWidth||100,$=_._container.clientHeight/2,x=_.unproject([0,$]),T=_.unproject([m,$]),P=x.distanceTo(T);if(h&&h.unit==="imperial"){const w=3.2808*P;w>5280?Gt(l,m,w/5280,_._getUIString("ScaleControl.Miles")):Gt(l,m,w,_._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?Gt(l,m,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Gt(l,m,P/1e3,_._getUIString("ScaleControl.Kilometers")):Gt(l,m,P,_._getUIString("ScaleControl.Meters"))}function Gt(_,l,h,m){const $=function(x){const T=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/T;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(w){const L=Math.pow(10,Math.ceil(-Math.log(w)/Math.LN10));return Math.round(w*L)/L}(P),T*P}(h);_.style.width=l*($/h)+"px",_.innerHTML=`${$}&nbsp;${m}`}const un={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ws=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function So(_){if(_){if(typeof _=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(_,2)));return{center:new c.pointGeometry(0,0),top:new c.pointGeometry(0,_),"top-left":new c.pointGeometry(l,l),"top-right":new c.pointGeometry(-l,l),bottom:new c.pointGeometry(0,-_),"bottom-left":new c.pointGeometry(l,-l),"bottom-right":new c.pointGeometry(-l,-l),left:new c.pointGeometry(_,0),right:new c.pointGeometry(-_,0)}}if(_ instanceof c.pointGeometry||Array.isArray(_)){const l=c.pointGeometry.convert(_);return{center:l,top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}}return{center:c.pointGeometry.convert(_.center||[0,0]),top:c.pointGeometry.convert(_.top||[0,0]),"top-left":c.pointGeometry.convert(_["top-left"]||[0,0]),"top-right":c.pointGeometry.convert(_["top-right"]||[0,0]),bottom:c.pointGeometry.convert(_.bottom||[0,0]),"bottom-left":c.pointGeometry.convert(_["bottom-left"]||[0,0]),"bottom-right":c.pointGeometry.convert(_["bottom-right"]||[0,0]),left:c.pointGeometry.convert(_.left||[0,0]),right:c.pointGeometry.convert(_.right||[0,0])}}return So(new c.pointGeometry(0,0))}const or={supported:v,setRTLTextPlugin:c.setRTLTextPlugin,getRTLTextPluginStatus:c.getRTLTextPluginStatus,Map:class extends Nr{constructor(_){var l;if(c.PerformanceUtils.mark(c.PerformanceMarkers.create),(_=c.extend({},yl,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Rr(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._maxTileCacheSize=_.maxTileCacheSize,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Is,this._controls=[],this._mapId=c.uniqueId(),this._locale=c.extend({},Ps,_.locale),this._clickTolerance=_.clickTolerance,this._pixelRatio=(l=_.pixelRatio)!==null&&l!==void 0?l:devicePixelRatio,this._requestManager=new H(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),c.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ti(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new _s(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,c.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new zr({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new Da,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",h=>{this._update(h.dataType==="style"),this.fire(new c.Event(`${h.dataType}data`,h))}),this.on("dataloading",h=>{this.fire(new c.Event(`${h.dataType}dataloading`,h))}),this.on("dataabort",h=>{this.fire(new c.Event("sourcedataabort",h))})}_getMapId(){return this._mapId}addControl(_,l){if(l===void 0&&(l=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=_.onAdd(this);this._controls.push(_);const m=this._controlPositions[l];return l.indexOf("bottom")!==-1?m.insertBefore(h,m.firstChild):m.appendChild(h),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new c.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(_);return l>-1&&this._controls.splice(l,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,l,h,m){return m==null&&this.style.terrain&&(m=this.transform.getElevation(h,this.style.terrain)),super.calculateCameraOptionsFromTo(_,l,h,m)}resize(_){const l=this._containerDimensions(),h=l[0],m=l[1];this._resizeCanvas(h,m,this.getPixelRatio()),this.transform.resize(h,m),this.painter.resize(h,m,this.getPixelRatio());const $=!this._moving;return $&&(this.stop(),this.fire(new c.Event("movestart",_)).fire(new c.Event("move",_))),this.fire(new c.Event("resize",_)),$&&this.fire(new c.Event("moveend",_)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(_){const[l,h]=this._containerDimensions();this._pixelRatio=_,this._resizeCanvas(l,h,_),this.painter.resize(l,h,_)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(c.LngLatBounds.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(c.LngLat.convert(_),this.style&&this.style.terrain)}unproject(_){return this.transform.pointLocation(c.pointGeometry.convert(_),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(_,l,h){if(_==="mouseenter"||_==="mouseover"){let m=!1;return{layer:l,listener:h,delegates:{mousemove:x=>{const T=this.getLayer(l)?this.queryRenderedFeatures(x.point,{layers:[l]}):[];T.length?m||(m=!0,h.call(this,new Xn(_,this,x.originalEvent,{features:T}))):m=!1},mouseout:()=>{m=!1}}}}if(_==="mouseleave"||_==="mouseout"){let m=!1;return{layer:l,listener:h,delegates:{mousemove:T=>{(this.getLayer(l)?this.queryRenderedFeatures(T.point,{layers:[l]}):[]).length?m=!0:m&&(m=!1,h.call(this,new Xn(_,this,T.originalEvent)))},mouseout:T=>{m&&(m=!1,h.call(this,new Xn(_,this,T.originalEvent)))}}}}{const m=$=>{const x=this.getLayer(l)?this.queryRenderedFeatures($.point,{layers:[l]}):[];x.length&&($.features=x,h.call(this,$),delete $.features)};return{layer:l,listener:h,delegates:{[_]:m}}}}on(_,l,h){if(h===void 0)return super.on(_,l);const m=this._createDelegatedListener(_,l,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(m);for(const $ in m.delegates)this.on($,m.delegates[$]);return this}once(_,l,h){if(h===void 0)return super.once(_,l);const m=this._createDelegatedListener(_,l,h);for(const $ in m.delegates)this.once($,m.delegates[$]);return this}off(_,l,h){return h===void 0?super.off(_,l):(this._delegatedListeners&&this._delegatedListeners[_]&&(m=>{const $=this._delegatedListeners[_];for(let x=0;x<$.length;x++){const T=$[x];if(T.layer===l&&T.listener===h){for(const P in T.delegates)this.off(P,T.delegates[P]);return $.splice(x,1),this}}})(),this)}queryRenderedFeatures(_,l){if(!this.style)return[];let h;if(l!==void 0||_===void 0||_ instanceof c.pointGeometry||Array.isArray(_)||(l=_,_=void 0),l=l||{},(_=_||[[0,0],[this.transform.width,this.transform.height]])instanceof c.pointGeometry||typeof _[0]=="number")h=[c.pointGeometry.convert(_)];else{const m=c.pointGeometry.convert(_[0]),$=c.pointGeometry.convert(_[1]);h=[m,new c.pointGeometry($.x,m.y),$,new c.pointGeometry(m.x,$.y),m]}return this.style.queryRenderedFeatures(h,l,this.transform)}querySourceFeatures(_,l){return this.style.querySourceFeatures(_,l)}setStyle(_,l){return(l=c.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(_,l))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const l=this._locale[_];if(l==null)throw new Error(`Missing UI string '${_}'`);return l}_updateStyle(_,l){return this.style&&(this.style.setEventedParent(null),this.style._remove()),_?(this.style=new $n(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_):this.style.loadJSON(_),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new $n(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,l){if(typeof _=="string"){const h=this._requestManager.transformRequest(_,c.ResourceType.Style);c.getJSON(h,(m,$)=>{m?this.fire(new c.ErrorEvent(m)):$&&this._updateDiff($,l)})}else typeof _=="object"&&this._updateDiff(_,l)}_updateDiff(_,l){try{this.style.setState(_)&&this._update(!0)}catch(h){c.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(_,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.warnOnce("There is no style added to the map.")}addSource(_,l){return this._lazyInitEmptyStyle(),this.style.addSource(_,l),this._update(!0)}isSourceLoaded(_){const l=this.style&&this.style.sourceCaches[_];if(l!==void 0)return l.loaded();this.fire(new c.ErrorEvent(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){return this.style.setTerrain(_),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const l in _){const h=_[l]._tiles;for(const m in h){const $=h[m];if($.state!=="loaded"&&$.state!=="errored")return!1}}return!0}addSourceType(_,l,h){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,l,h)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,l,{pixelRatio:h=1,sdf:m=!1,stretchX:$,stretchY:x,content:T}={}){if(this._lazyInitEmptyStyle(),l instanceof HTMLImageElement||c.isImageBitmap(l)){const{width:P,height:w,data:L}=c.exported.getImageData(l);this.style.addImage(_,{data:new c.RGBAImage({width:P,height:w},L),pixelRatio:h,stretchX:$,stretchY:x,content:T,sdf:m,version:0})}else{if(l.width===void 0||l.height===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:P,height:w,data:L}=l,z=l;this.style.addImage(_,{data:new c.RGBAImage({width:P,height:w},new Uint8Array(L)),pixelRatio:h,stretchX:$,stretchY:x,content:T,sdf:m,version:0,userImage:z}),z.onAdd&&z.onAdd(this,_)}}}updateImage(_,l){const h=this.style.getImage(_);if(!h)return this.fire(new c.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=l instanceof HTMLImageElement||c.isImageBitmap(l)?c.exported.getImageData(l):l,{width:$,height:x,data:T}=m;if($===void 0||x===void 0)return this.fire(new c.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if($!==h.data.width||x!==h.data.height)return this.fire(new c.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(l instanceof HTMLImageElement||c.isImageBitmap(l));h.data.replace(T,P),this.style.updateImage(_,h)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new c.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,l){c.getImage(this._requestManager.transformRequest(_,c.ResourceType.Image),l)}listImages(){return this.style.listImages()}addLayer(_,l){return this._lazyInitEmptyStyle(),this.style.addLayer(_,l),this._update(!0)}moveLayer(_,l){return this.style.moveLayer(_,l),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}setLayerZoomRange(_,l,h){return this.style.setLayerZoomRange(_,l,h),this._update(!0)}setFilter(_,l,h={}){return this.style.setFilter(_,l,h),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,l,h,m={}){return this.style.setPaintProperty(_,l,h,m),this._update(!0)}getPaintProperty(_,l){return this.style.getPaintProperty(_,l)}setLayoutProperty(_,l,h,m={}){return this.style.setLayoutProperty(_,l,h,m),this._update(!0)}getLayoutProperty(_,l){return this.style.getLayoutProperty(_,l)}setLight(_,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,l),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,l){return this.style.setFeatureState(_,l),this._update()}removeFeatureState(_,l){return this.style.removeFeatureState(_,l),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,l=0;return this._container&&(_=this._container.clientWidth||400,l=this._container.clientHeight||300),[_,l]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map","mapboxgl-map");const l=this._canvasContainer=R.create("div","maplibregl-canvas-container mapboxgl-canvas-container",_);this._interactive&&l.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=R.create("canvas","maplibregl-canvas mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const h=this._containerDimensions();this._resizeCanvas(h[0],h[1],this.getPixelRatio());const m=this._controlContainer=R.create("div","maplibregl-control-container mapboxgl-control-container",_),$=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{$[x]=R.create("div",`maplibregl-ctrl-${x} mapboxgl-ctrl-${x}`,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const _=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=R.create("div","maplibregl-cooperative-gesture-screen",_);let l="Control",h=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(h=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",l="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${h}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",m=>{m.key===l&&(this._metaPress=!0)}),document.addEventListener("keyup",m=>{m.key===l&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",m=>{this._onCooperativeGesture(m,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(_,l,h){this._canvas.width=h*_,this._canvas.height=h*l,this._canvas.style.width=`${_}px`,this._canvas.style.height=`${l}px`}_setupPainter(){const _=c.extend({},v.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._canvas.getContext("webgl",_)||this._canvas.getContext("experimental-webgl",_);l?(this.painter=new ms(l,this.transform),c.exported$1.testSupport(l)):this.fire(new c.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(_){_.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.Event("webglcontextlost",{originalEvent:_}))}_contextRestored(_){this._setupPainter(),this.resize(),this._update(),this.fire(new c.Event("webglcontextrestored",{originalEvent:_}))}_onMapScroll(_){if(_.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(_,l,h){return!l&&h<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){let l,h=0;const m=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(l=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,l),h=c.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let $=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const T=this.transform.zoom,P=c.exported.now();this.style.zoomHistory.update(T,P);const w=new c.EvaluationParameters(T,{now:P,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),L=w.crossFadingFactor();L===1&&L===this._crossFadingFactor||($=!0,this._crossFadingFactor=L),this.style.update(w)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new c.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.load),this.fire(new c.Event("load"))),this.style&&(this.style.hasTransitions()||$)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const T=c.exported.now()-h;m.endQueryEXT(m.TIME_ELAPSED_EXT,l),setTimeout(()=>{const P=m.getQueryObjectEXT(l,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(l),this.fire(new c.Event("gpu-timing-frame",{cpuTime:T,gpuTime:P}))},50)}if(this.listens("gpu-timing-layer")){const T=this.painter.collectGpuTimers();setTimeout(()=>{const P=this.painter.queryGpuTimers(T);this.fire(new c.Event("gpu-timing-layer",{layerTimes:P}))},50)}const x=this._sourcesDirty||this._styleDirty||this._placementDirty;return x||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.Event("idle")),!this._loaded||this._fullyLoaded||x||(this._fullyLoaded=!0,c.PerformanceUtils.mark(c.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),R.remove(this._canvasContainer),R.remove(this._controlContainer),this._cooperativeGestures&&R.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),c.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new c.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=c.exported.frame(_=>{c.PerformanceUtils.frame(_),this._frame=null,this._render(_)}))}_onWindowOnline(){this._update()}_onWindowResize(_){this._trackResize&&this.resize({originalEvent:_})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}_setCacheLimits(_,l){c.setCacheLimits(_,l)}get version(){return"2.4.0"}},NavigationControl:class{constructor(_){this.options=c.extend({},Ei,_),this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(c.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const _=this._map.getZoom(),l=_===this._map.getMaxZoom(),h=_===this._map.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())}_rotateCompassArrow(){const _=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=_}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){R.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,l){const h=R.create("button",_,this._container);return h.type="button",h.addEventListener("click",l),h}_setButtonTitle(_,l){const h=this._map._getUIString(`NavigationControl.${l}`);_.title=h,_.setAttribute("aria-label",h)}},GeolocateControl:class extends c.Evented{constructor(_){super(),this.options=c.extend({},Ra,_),c.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(_){var l;return this._map=_,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),l=this._setupUI,dn!==void 0?l(dn):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(h=>{dn=h.state!=="denied",l(dn)}):(dn=!!window.navigator.geolocation,l(dn)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),R.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Qi=0,kn=!1}_isOutOfMapMaxBounds(_){const l=this._map.getMaxBounds(),h=_.coords;return l&&(h.longitude<l.getWest()||h.longitude>l.getEast()||h.latitude<l.getSouth()||h.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(_){if(this._map){if(this._isOutOfMapMaxBounds(_))return this._setErrorState(),this.fire(new c.Event("outofmaxbounds",_)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=_,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(_),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(_),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new c.Event("geolocate",_)),this._finish()}}_updateCamera(_){const l=new c.LngLat(_.coords.longitude,_.coords.latitude),h=_.coords.accuracy,m=this._map.getBearing(),$=c.extend({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(h),$,{geolocateSource:!0})}_updateMarker(_){if(_){const l=new c.LngLat(_.coords.longitude,_.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=_.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const _=this._map._container.clientHeight/2,l=this._map.unproject([0,_]),h=this._map.unproject([1,_]),m=l.distanceTo(h),$=Math.ceil(2*this._accuracy/m);this._circleElement.style.width=`${$}px`,this._circleElement.style.height=`${$}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(_){if(this._map){if(this.options.trackUserLocation)if(_.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(_.code===3&&kn)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new c.Event("error",_)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(_){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=R.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",_===!1){c.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=l,this._geolocateButton.setAttribute("aria-label",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=R.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new nr(this._dotElement),this._circleElement=R.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new nr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new c.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return c.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Qi--,kn=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Qi++,Qi>1?(_={maximumAge:6e5,timeout:0},kn=!0):(_=this.options.positionOptions,kn=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:zr,LogoControl:Da,ScaleControl:class{constructor(_){this.options=c.extend({},$l,_),c.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){ir(this._map,this._container,this.options)}onAdd(_){return this._map=_,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){R.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(_){this.options.unit=_,ir(this._map,this._container,this.options)}},FullscreenControl:class{constructor(_){this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:c.warnOnce("Full screen control 'container' must be a DOM element.")),c.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=R.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){R.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const _=this._fullscreenButton=R.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(_){this.options=_,c.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(_){return this._map=_,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=R.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),R.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){R.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends c.Evented{constructor(_){super(),this.options=c.extend(Object.create(un),_),c.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new c.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&R.remove(this._content),this._container&&(R.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new c.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=c.LngLat.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const l=document.createDocumentFragment(),h=document.createElement("body");let m;for(h.innerHTML=_;m=h.firstChild,m;)l.appendChild(m);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=R.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=R.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(_){this._update(_.point)}_onMouseMove(_){this._update(_.point)}_onDrag(_){this._update(_.point)}_update(_){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=R.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=R.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(x=>this._container.classList.add(x)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=tt(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!_))return;const l=this._pos=this._trackPointer&&_?_:this._map.project(this._lngLat);let h=this.options.anchor;const m=So(this.options.offset);if(!h){const x=this._container.offsetWidth,T=this._container.offsetHeight;let P;P=l.y+m.bottom.y<T?["top"]:l.y>this._map.transform.height-T?["bottom"]:[],l.x<x/2?P.push("left"):l.x>this._map.transform.width-x/2&&P.push("right"),h=P.length===0?"bottom":P.join("-")}const $=l.add(m[h]).round();R.setTransform(this._container,`${st[h]} translate(${$.x}px,${$.y}px)`),tr(this._container,h,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(ws);_&&_.focus()}_onClose(){this.remove()}},Marker:nr,Style:$n,LngLat:c.LngLat,LngLatBounds:c.LngLatBounds,Point:c.pointGeometry,MercatorCoordinate:c.MercatorCoordinate,Evented:c.Evented,AJAXError:c.AJAXError,config:c.config,CanvasSource:In,GeoJSONSource:Ft,ImageSource:Zt,RasterDEMTileSource:He,RasterTileSource:Ve,VectorTileSource:Ut,VideoSource:Nn,prewarm:function(){uo().acquire(ri)},clearPrewarmedResources:function(){const _=Ii;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(ri),Ii=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return ei.workerCount},set workerCount(_){ei.workerCount=_},get maxParallelImageRequests(){return c.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(_){c.config.MAX_PARALLEL_IMAGE_REQUESTS=_},clearStorage(_){c.clearTileCache(_)},workerUrl:"",addProtocol(_,l){c.config.REGISTERED_PROTOCOLS[_]=l},removeProtocol(_){delete c.config.REGISTERED_PROTOCOLS[_]}};return Xt.extend(or,{isSafari:c.isSafari,getPerformanceMetrics:c.PerformanceUtils.getPerformanceMetrics}),or});var d=r;return d})})(maplibreGl);const getBufferGeometry=({geometry:e},t)=>(e.type==="Point"?circle(e,t):buffer(e,t)).geometry;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const FEATURE_STYLE={color:"FFA500",strokeWidth:2},DEFAULT_TILE_SCALE=1;class EarthEngineWorker{constructor(t={}){this.options=t}setOptions(t){return this.options=t,this.eeFeatureCollection=null,this.eeImage=null,this.eeImageBands=null,this.eeScale=null,this}getFeatureCollection(){const{data:t,buffer:n}=this.options;return Array.isArray(t)&&!this.eeFeatureCollection&&(this.eeFeatureCollection=ee$1.FeatureCollection(t.map(i=>_objectSpread(_objectSpread({},i),{},{id:i.properties.id,geometry:n&&i.geometry.type==="Point"?getBufferGeometry(i,n/1e3):i.geometry})))),this.eeFeatureCollection}getImage(){if(this.eeImage)return this.eeImage;const{datasetId:t,filter:n,mosaic:i,band:r,bandReducer:u,mask:d,methods:c}=this.options;let v;if(!n)v=ee$1.Image(t),this.eeScale=getScale(v);else{let S=ee$1.ImageCollection(t);this.eeScale=getScale(S.first()),n.forEach(C=>{S=S.filter(ee$1.Filter[C.type].apply(this,C.arguments))}),v=i?S.mosaic():ee$1.Image(S.first())}return r&&(v=v.select(r),Array.isArray(r)&&u&&(this.eeImageBands=v,v=v.reduce(ee$1.Reducer[u]()))),d&&(v=v.updateMask(v.gt(0))),c&&Object.keys(c).forEach(S=>{v[S]&&(v=v[S].apply(v,c[S]))}),this.eeImage=v,v}getTileUrl(){const{format:t,data:n}=this.options;return new Promise(i=>{if(t==="FeatureCollection"){const{datasetId:r}=this.options;let u=ee$1.FeatureCollection(r).draw(FEATURE_STYLE);n&&(u=u.clipToCollection(this.getFeatureCollection())),u.getMap(null,d=>i(d.urlFormat))}else{let{eeImage:r,params:u}=getClassifiedImage(this.getImage(),this.options);n&&(r=r.clipToCollection(this.getFeatureCollection())),r.visualize(u).getMap(null,d=>i(d.urlFormat))}})}async getValue(t){const{lng:n,lat:i}=t,r=await this.getImage(),u=ee$1.Geometry.Point(n,i),d=ee$1.Reducer.mean();return getInfo(r.reduceRegion(d,u,1))}getPeriods(t){const n=ee$1.ImageCollection(t).distinct("system:time_start").sort("system:time_start",!1),i=ee$1.FeatureCollection(n).select(["system:time_start","system:time_end"],null,!1);return getInfo(i)}async getAggregations(t){t&&this.setOptions(t);const{format:n,aggregationType:i,band:r,legend:u,tileScale:d=DEFAULT_TILE_SCALE}=this.options,c=!Array.isArray(i),v=c&&hasClasses(i)&&u,S=await this.getImage(),C=this.eeScale,O=this.getFeatureCollection();if(O)if(n==="FeatureCollection"){const{datasetId:R}=this.options,H=ee$1.FeatureCollection(R),K=O.map(le=>{le=ee$1.Feature(le);const fe=H.filterBounds(le.geometry()).size();return le.set("count",fe)}).select(["count"],null,!1);return getInfo(K).then(getFeatureCollectionProperties)}else if(v){const R=ee$1.Reducer.frequencyHistogram(),H=await getInfo(C);return getInfo(S.reduceRegions({collection:O,reducer:R,scale:C,tileScale:d}).select(["histogram"],null,!1)).then(K=>getHistogramStatistics({data:K,scale:H,aggregationType:i,legend:u}))}else if(!c&&i.length){const R=combineReducers(ee$1)(i),H=[...i];let K=S.reduceRegions({collection:O,reducer:R,scale:C,tileScale:d});return this.eeImageBands&&(K=this.eeImageBands.reduceRegions({collection:K,reducer:R,scale:C,tileScale:d}),r.forEach(le=>i.forEach(fe=>H.push(i.length===1?le:`${le}_${fe}`)))),K=K.select(H,null,!1),getInfo(K).then(getFeatureCollectionProperties)}else throw new Error("Aggregation type is not valid");else throw new Error("Missing org unit features")}}_defineProperty(EarthEngineWorker,"setAuthToken",e=>new Promise((t,n)=>{ee$1.data.getAuthToken()?ee$1.initialize(null,null,t,n):e().then(i=>{const{client_id:r,tokenType:u="Bearer",access_token:d,expires_in:c}=i;ee$1.data.setAuthToken(r,u,d,c,null,()=>ee$1.initialize(null,null,t,n),!1),ee$1.data.setAuthTokenRefresher(async(C,O)=>O(_objectSpread(_objectSpread({},await e()),{},{state:C.scope})))}).catch(n)})),typeof onconnect<"u"?onconnect=e=>expose(EarthEngineWorker,e.ports[0]):expose(EarthEngineWorker)})();
//# sourceMappingURL=ee_worker-BYBkZD9e.js.map
