{"version":3,"sources":["../webpack/bootstrap","../../../node_modules/workbox-core/_version.js","../../../node_modules/workbox-precaching/_version.js","../../../node_modules/workbox-routing/_version.js","../../../node_modules/workbox-strategies/_version.js","../../../node_modules/node-libs-browser/node_modules/events/events.js","../../../node_modules/workbox-core/_private/logger.js","../../../node_modules/workbox-core/models/messages/messageGenerator.js","../../../node_modules/workbox-core/_private/WorkboxError.js","../../../node_modules/workbox-core/_private/assert.js","../../../node_modules/workbox-core/models/quotaErrorCallbacks.js","../../../node_modules/workbox-core/_private/cacheNames.js","../../../node_modules/workbox-core/_private/cacheMatchIgnoreParams.js","../../../node_modules/workbox-core/_private/canConstructReadableStream.js","../../../node_modules/workbox-core/_private/canConstructResponseFromBodyStream.js","../../../node_modules/workbox-core/_private/Deferred.js","../../../node_modules/workbox-core/_private/getFriendlyURL.js","../../../node_modules/workbox-core/_private/timeout.js","../../../node_modules/workbox-core/_private/waitUntil.js","../../../node_modules/workbox-core/copyResponse.js","../../../node_modules/workbox-precaching/utils/createCacheKey.js","../../../node_modules/workbox-precaching/utils/PrecacheInstallReportPlugin.js","../../../node_modules/workbox-precaching/utils/PrecacheCacheKeyPlugin.js","../../../node_modules/workbox-strategies/StrategyHandler.js","../../../node_modules/workbox-core/_private/executeQuotaErrorCallbacks.js","../../../node_modules/workbox-strategies/Strategy.js","../../../node_modules/workbox-precaching/PrecacheStrategy.js","../../../node_modules/workbox-precaching/PrecacheController.js","../../../node_modules/workbox-precaching/utils/getOrCreatePrecacheController.js","../../../node_modules/workbox-routing/utils/constants.js","../../../node_modules/workbox-routing/utils/normalizeHandler.js","../../../node_modules/workbox-routing/Route.js","../../../node_modules/workbox-routing/RegExpRoute.js","../../../node_modules/workbox-routing/Router.js","../../../node_modules/workbox-routing/utils/getOrCreateDefaultRouter.js","../../../node_modules/workbox-routing/registerRoute.js","../../../node_modules/workbox-precaching/PrecacheRoute.js","../../../node_modules/workbox-precaching/utils/generateURLVariations.js","../../../node_modules/workbox-precaching/utils/removeIgnoredSearchParams.js","../../../node_modules/workbox-precaching/precacheAndRoute.js","../../../node_modules/workbox-precaching/precache.js","../../../node_modules/workbox-precaching/addRoute.js","../../../node_modules/workbox-strategies/plugins/cacheOkAndOpaquePlugin.js","../../../node_modules/workbox-strategies/NetworkFirst.js","../../../node_modules/workbox-strategies/StaleWhileRevalidate.js","../../../node_modules/@dhis2/pwa/build/es/lib/constants.js","../../../node_modules/idb/build/esm/wrap-idb-value.js","../../../node_modules/idb/build/esm/index.js","../../../node_modules/@dhis2/pwa/build/es/lib/sections-db.js","../../../node_modules/@dhis2/pwa/build/es/service-worker/recording-mode.js","../../../node_modules/@dhis2/pwa/build/es/service-worker/utils.js","../../../node_modules/i18next/dist/es/logger.js","../../../node_modules/i18next/dist/es/EventEmitter.js","../../../node_modules/i18next/dist/es/utils.js","../../../node_modules/i18next/dist/es/ResourceStore.js","../../../node_modules/i18next/dist/es/postProcessor.js","../../../node_modules/i18next/dist/es/Translator.js","../../../node_modules/i18next/dist/es/LanguageUtils.js","../../../node_modules/i18next/dist/es/PluralResolver.js","../../../node_modules/i18next/dist/es/Interpolator.js","../../../node_modules/i18next/dist/es/BackendConnector.js","../../../node_modules/i18next/dist/es/CacheConnector.js","../../../node_modules/i18next/dist/es/defaults.js","../../../node_modules/i18next/dist/es/i18next.js","../../../node_modules/i18next/dist/es/index.js","../../../node_modules/@dhis2/d2-i18n/build/es/index.js","../../../node_modules/@dhis2/pwa/build/es/service-worker/service-worker.js","../../../node_modules/workbox-core/clientsClaim.js","../../../node_modules/workbox-precaching/createHandlerBoundToURL.js","../../../node_modules/workbox-routing/setDefaultHandler.js","service-worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","self","_","e","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","this","once","emitter","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","events","existing","warning","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","messageGenerator","code","msg","JSON","stringify","WorkboxError","constructor","errorCode","details","super","quotaErrorCallbacks","Set","_cacheNameDetails","googleAnalytics","precache","prefix","runtime","suffix","registration","scope","_createCacheName","cacheName","filter","join","cacheNames","userCacheName","stripParams","fullURL","ignoreParams","strippedURL","URL","param","searchParams","delete","href","supportStatus","Deferred","promise","getFriendlyURL","url","location","replace","RegExp","origin","timeout","ms","setTimeout","waitUntil","event","asyncFn","returnPromise","async","copyResponse","response","modifier","clonedResponse","clone","responseInit","headers","Headers","status","statusText","modifiedResponseInit","body","testResponse","Response","canConstructResponseFromBodyStream","blob","createCacheKey","entry","urlObject","cacheKey","revision","cacheKeyURL","originalURL","PrecacheInstallReportPlugin","updatedURLs","notUpdatedURLs","handlerWillStart","request","originalRequest","cachedResponseWillBeUsed","cachedResponse","Request","PrecacheCacheKeyPlugin","precacheController","cacheKeyWillBeUsed","params","_precacheController","getCacheKeyForURL","toRequest","input","StrategyHandler","strategy","options","_cacheKeys","assign","_strategy","_handlerDeferred","_extendLifetimePromises","_plugins","plugins","_pluginStateMap","Map","plugin","FetchEvent","preloadResponse","possiblePreloadResponse","hasCallback","cb","iterateCallbacks","thrownErrorMessage","pluginFilteredRequest","fetchResponse","fetch","fetchOptions","callback","runCallbacks","responseClone","cachePut","matchOptions","effectiveRequest","getCacheKey","multiMatchOptions","caches","match","responseToCache","_ensureResponseSafeToCache","cache","open","hasCacheUpdateCallback","oldResponse","strippedRequestURL","keysOptions","ignoreSearch","cacheKeys","cacheMatchIgnoreParams","put","executeQuotaErrorCallbacks","newResponse","statefulCallback","statefulParam","destroy","pluginsUsed","Strategy","handle","responseDone","handleAll","_getResponse","_awaitComplete","_handle","doneWaiting","waitUntilError","PrecacheStrategy","_fallbackToNetwork","fallbackToNetwork","copyRedirectedCacheableResponsesPlugin","cacheMatch","_handleInstall","_handleFetch","_useDefaultCacheabilityPluginIfNeeded","defaultPluginIndex","cacheWillUpdatePluginCount","entries","defaultPrecacheCacheabilityPlugin","cacheWillUpdate","splice","redirected","PrecacheController","_urlsToCacheKeys","_urlsToCacheModes","_cacheKeysToIntegrities","install","activate","addToCacheList","_installAndActiveListenersAdded","addEventListener","urlsToWarnAbout","cacheMode","has","firstEntry","secondEntry","integrity","warningMessage","installReportPlugin","credentials","all","currentlyCachedRequests","expectedCacheKeys","values","deletedURLs","getURLsToCacheKeys","getCachedURLs","createHandlerBoundToURL","getOrCreatePrecacheController","normalizeHandler","Route","method","setCatchHandler","catchHandler","RegExpRoute","regExp","result","exec","Router","_routes","_defaultHandlerMap","addFetchListener","responsePromise","handleRequest","respondWith","addCacheListener","data","payload","process","requestPromises","urlsToCache","map","ports","then","postMessage","protocol","startsWith","sameOrigin","route","findMatchingRoute","_catchHandler","catch","catchErr","routes","matchResult","isArray","setDefaultHandler","registerRoute","unregisterRoute","routeIndex","indexOf","defaultRouter","getOrCreateDefaultRouter","capture","captureUrl","moduleName","funcName","paramName","PrecacheRoute","urlsToCacheKeys","possibleURL","ignoreURLParametersMatching","directoryIndex","cleanURLs","urlManipulation","hash","urlWithoutIgnoredParams","some","test","removeIgnoredSearchParams","pathname","endsWith","directoryURL","cleanURL","additionalURLs","urlToAttempt","generateURLVariations","precacheAndRoute","addRoute","cacheOkAndOpaquePlugin","NetworkFirst","_networkTimeoutSeconds","networkTimeoutSeconds","logs","promises","timeoutId","id","_getTimeoutPromise","networkPromise","_getNetworkPromise","race","fetchAndCachePut","fetchError","clearTimeout","StaleWhileRevalidate","fetchAndCachePromise","swMsgs","freeze","skipWaiting","startRecording","recordingStarted","recordingError","confirmRecordingCompletion","completeRecording","recordingCompleted","idbProxyableTypes","cursorAdvanceMethods","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","idbProxyTraps","prop","IDBTransaction","objectStoreNames","objectStore","wrap","wrapFunction","func","IDBDatabase","transaction","IDBCursor","advance","continue","continuePrimaryKey","includes","storeNames","tx","sort","transformCachableValue","done","unlisten","removeEventListener","complete","DOMException","cacheDonePromiseForTransaction","IDBObjectStore","IDBIndex","Proxy","IDBRequest","success","promisifyRequest","newValue","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","storeName","store","oldTraps","SECTIONS_DB","SECTIONS_STORE","openSectionsDB","version","blocked","upgrade","blocking","terminated","indexedDB","openPromise","oldVersion","newVersion","db","openDB","createObjectStore","keyPath","debug","deleteSectionsDB","deleteDatabase","deleteDB","isClientRecording","clientId","clientRecordingStates","handleRecordedRequest","recordingState","recordingTimeout","pendingRequests","add","ok","addToCache","fulfilledRequests","size","stopRecording","recordingTimeoutDelay","startRecordingTimeout","handleRecordedResponse","clients","client","removeRecording","confirmationTimeout","startConfirmationTimeout","requestCompletionConfirmation","CACHE_KEEP_LIST","URL_FILTER_PATTERNS","parse","REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT","pattern","OMIT_EXTERNAL_REQUESTS","REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS","urlMeetsDefaultCachingCriteria","removeUnusedCaches","isWorkboxKey","isInKeepList","find","keepKey","dbPromise","isASavedSection","_extends","source","_classCallCheck","instance","Constructor","consoleLogger","log","output","_console","arr2","from","_toConsumableArray","Logger","concreteLogger","logger","setDebug","bool","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","observers","_this","split","forEach","_this2","cloned","observer","_cloned","_ref","makeString","a","getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","stack","obj","k","setPath","_getLastOfPath","getPath","_getLastOfPath3","deepExtend","overwrite","regexEscape","str","_entityMap","escape","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","writable","configurable","setPrototypeOf","defaults","getOwnPropertyDescriptor","_defaults","ResourceStore","_EventEmitter","defaultNS","addNamespaces","removeNamespaces","getResource","lng","keySeparator","utils","addResource","silent","addResources","resources","addResourceBundle","deep","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","toJSON","processors","addPostProcessor","translator","processor","_typeof","iterator","Translator","services","baseLogger","changeLanguage","language","exists","interpolation","resolved","res","extractFromKey","nsSeparator","namespaces","parts","translate","overloadTranslationOptionHandler","_extractFromKey","namespace","appendNamespaceToCIMode","toLowerCase","resUsedKey","usedKey","resType","toString","noObject","joinArrays","handleAsObject","returnObjects","returnedObjectHandler","deepKey","extendTranslation","usedDefault","isValidLookup","defaultValue","updateMissing","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","pluralResolver","getPluralFormsOfKey","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","interpolator","defaultVariables","interpolate","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessor","_this4","found","extracted","fallbackNS","needsPluralHandling","needsContextHandling","codes","finalKey","finalKeys","pluralSuffix","getSuffix","contextSeparator","possibleKey","returnNull","returnEmptyString","resourceStore","capitalize","string","charAt","toUpperCase","LanguageUtil","whitelist","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isWhitelisted","load","nonExplicitWhitelist","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","createRules","rules","numbers","plurals","PluralResolver","addRule","getRule","needsPlural","rule","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","compatibilityJSON","Interpolator","format","escapeValue","iOpts","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","maxReplaces","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","replaces","regexSafe","val","handleFormat","trim","f","lastIndex","missingInterpolationHandler","temp","clonedOptions","handleHasOptions","inheritedOptions","optionsString","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","sliceIterator","Connector","backend","queue","queueLoad","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","loaded","errors","_name$split","_name$split2","q","_getLastOfPath2","what","remove","read","fcName","tried","wait","_this5","allowMultiLoading","readMulti","_name$split3","_name$split4","bundle","loadOne","reload","_this6","_this7","_name$split5","_name$split6","fallbackValue","isUpdate","loadLngs","enabled","save","transformOptions","noop","I18n","external","isInitialized","isClone","_ret","initImmediate","createClassOnDemand","ClassOrObject","preload","pluralSeparator","tDescription","_format","lu","LanguageUtils","cacheConnector","BackendConnector","CacheConnector","languageDetector","detection","storeApi","_store","loadResources","append","reloadResources","use","setLng","cacheUserLanguage","detect","getFixedT","fixedT","opts","rest","_translator","_translator2","setDefaultNamespace","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","mergedOptions","membersToCopy","_len5","_key5","i18next","react","REACT_APP_DHIS2_APP_PWA_ENABLED","unregister","matchAll","navigate","claim","__WB_DISABLE_DEV_LOGS","fileExtensionRegexp","__WB_MANIFEST","__WB_BUILD_MANIFEST","isClientRecordingRequests","fetchErr","_event$data$payload","_event$data$payload2","_event$data$payload3","sectionId","newClientRecordingState","lastUpdated","Date","requests","sectionCache","tempCache","createDB","setUpServiceWorker"],"mappings":"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","file":"service-worker.js","sourceRoot":"","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:core:6.2.4'] && _();\n}\ncatch (e) { }\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:precaching:6.2.4'] && _();\n}\ncatch (e) { }\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:routing:6.2.4'] && _();\n}\ncatch (e) { }\n","\"use strict\";\n// @ts-ignore\ntry {\n    self['workbox:strategies:6.2.4'] && _();\n}\ncatch (e) { }\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst logger = (process.env.NODE_ENV === 'production' ? null : (() => {\n    // Don't overwrite this value if it's already set.\n    // See https://github.com/GoogleChrome/workbox/pull/2284#issuecomment-560470923\n    if (!('__WB_DISABLE_DEV_LOGS' in self)) {\n        self.__WB_DISABLE_DEV_LOGS = false;\n    }\n    let inGroup = false;\n    const methodToColorMap = {\n        debug: `#7f8c8d`,\n        log: `#2ecc71`,\n        warn: `#f39c12`,\n        error: `#c0392b`,\n        groupCollapsed: `#3498db`,\n        groupEnd: null,\n    };\n    const print = function (method, args) {\n        if (self.__WB_DISABLE_DEV_LOGS) {\n            return;\n        }\n        if (method === 'groupCollapsed') {\n            // Safari doesn't print all console.groupCollapsed() arguments:\n            // https://bugs.webkit.org/show_bug.cgi?id=182754\n            if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n                console[method](...args);\n                return;\n            }\n        }\n        const styles = [\n            `background: ${methodToColorMap[method]}`,\n            `border-radius: 0.5em`,\n            `color: white`,\n            `font-weight: bold`,\n            `padding: 2px 0.5em`,\n        ];\n        // When in a group, the workbox prefix is not displayed.\n        const logPrefix = inGroup ? [] : ['%cworkbox', styles.join(';')];\n        console[method](...logPrefix, ...args);\n        if (method === 'groupCollapsed') {\n            inGroup = true;\n        }\n        if (method === 'groupEnd') {\n            inGroup = false;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    const api = {};\n    const loggerMethods = Object.keys(methodToColorMap);\n    for (const key of loggerMethods) {\n        const method = key;\n        api[method] = (...args) => {\n            print(method, args);\n        };\n    }\n    return api;\n})());\nexport { logger };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { messages } from './messages.js';\nimport '../../_version.js';\nconst fallback = (code, ...args) => {\n    let msg = code;\n    if (args.length > 0) {\n        msg += ` :: ${JSON.stringify(args)}`;\n    }\n    return msg;\n};\nconst generatorFunction = (code, details = {}) => {\n    const message = messages[code];\n    if (!message) {\n        throw new Error(`Unable to find message for code '${code}'.`);\n    }\n    return message(details);\n};\nexport const messageGenerator = (process.env.NODE_ENV === 'production') ?\n    fallback : generatorFunction;\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { messageGenerator } from '../models/messages/messageGenerator.js';\nimport '../_version.js';\n/**\n * Workbox errors should be thrown with this class.\n * This allows use to ensure the type easily in tests,\n * helps developers identify errors from workbox\n * easily and allows use to optimise error\n * messages correctly.\n *\n * @private\n */\nclass WorkboxError extends Error {\n    /**\n     *\n     * @param {string} errorCode The error code that\n     * identifies this particular error.\n     * @param {Object=} details Any relevant arguments\n     * that will help developers identify issues should\n     * be added as a key on the context object.\n     */\n    constructor(errorCode, details) {\n        const message = messageGenerator(errorCode, details);\n        super(message);\n        this.name = errorCode;\n        this.details = details;\n    }\n}\nexport { WorkboxError };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { WorkboxError } from '../_private/WorkboxError.js';\nimport '../_version.js';\n/*\n * This method throws if the supplied value is not an array.\n * The destructed values are required to produce a meaningful error for users.\n * The destructed and restructured object is so it's clear what is\n * needed.\n */\nconst isArray = (value, details) => {\n    if (!Array.isArray(value)) {\n        throw new WorkboxError('not-an-array', details);\n    }\n};\nconst hasMethod = (object, expectedMethod, details) => {\n    const type = typeof object[expectedMethod];\n    if (type !== 'function') {\n        details['expectedMethod'] = expectedMethod;\n        throw new WorkboxError('missing-a-method', details);\n    }\n};\nconst isType = (object, expectedType, details) => {\n    if (typeof object !== expectedType) {\n        details['expectedType'] = expectedType;\n        throw new WorkboxError('incorrect-type', details);\n    }\n};\nconst isInstance = (object, \n// Need the general type to do the check later.\n// eslint-disable-next-line @typescript-eslint/ban-types\nexpectedClass, details) => {\n    if (!(object instanceof expectedClass)) {\n        details['expectedClassName'] = expectedClass.name;\n        throw new WorkboxError('incorrect-class', details);\n    }\n};\nconst isOneOf = (value, validValues, details) => {\n    if (!validValues.includes(value)) {\n        details['validValueDescription'] =\n            `Valid values are ${JSON.stringify(validValues)}.`;\n        throw new WorkboxError('invalid-value', details);\n    }\n};\nconst isArrayOfClass = (value, \n// Need general type to do check later.\nexpectedClass, // eslint-disable-line\ndetails) => {\n    const error = new WorkboxError('not-array-of-class', details);\n    if (!Array.isArray(value)) {\n        throw error;\n    }\n    for (const item of value) {\n        if (!(item instanceof expectedClass)) {\n            throw error;\n        }\n    }\n};\nconst finalAssertExports = process.env.NODE_ENV === 'production' ? null : {\n    hasMethod,\n    isArray,\n    isInstance,\n    isOneOf,\n    isType,\n    isArrayOfClass,\n};\nexport { finalAssertExports as assert };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n// Callbacks to be executed whenever there's a quota error.\n// Can't change Function type right now.\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst quotaErrorCallbacks = new Set();\nexport { quotaErrorCallbacks };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst _cacheNameDetails = {\n    googleAnalytics: 'googleAnalytics',\n    precache: 'precache-v2',\n    prefix: 'workbox',\n    runtime: 'runtime',\n    suffix: typeof registration !== 'undefined' ? registration.scope : '',\n};\nconst _createCacheName = (cacheName) => {\n    return [_cacheNameDetails.prefix, cacheName, _cacheNameDetails.suffix]\n        .filter((value) => value && value.length > 0)\n        .join('-');\n};\nconst eachCacheNameDetail = (fn) => {\n    for (const key of Object.keys(_cacheNameDetails)) {\n        fn(key);\n    }\n};\nexport const cacheNames = {\n    updateDetails: (details) => {\n        eachCacheNameDetail((key) => {\n            if (typeof details[key] === 'string') {\n                _cacheNameDetails[key] = details[key];\n            }\n        });\n    },\n    getGoogleAnalyticsName: (userCacheName) => {\n        return userCacheName || _createCacheName(_cacheNameDetails.googleAnalytics);\n    },\n    getPrecacheName: (userCacheName) => {\n        return userCacheName || _createCacheName(_cacheNameDetails.precache);\n    },\n    getPrefix: () => {\n        return _cacheNameDetails.prefix;\n    },\n    getRuntimeName: (userCacheName) => {\n        return userCacheName || _createCacheName(_cacheNameDetails.runtime);\n    },\n    getSuffix: () => {\n        return _cacheNameDetails.suffix;\n    },\n};\n","/*\n  Copyright 2020 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nfunction stripParams(fullURL, ignoreParams) {\n    const strippedURL = new URL(fullURL);\n    for (const param of ignoreParams) {\n        strippedURL.searchParams.delete(param);\n    }\n    return strippedURL.href;\n}\n/**\n * Matches an item in the cache, ignoring specific URL params. This is similar\n * to the `ignoreSearch` option, but it allows you to ignore just specific\n * params (while continuing to match on the others).\n *\n * @private\n * @param {Cache} cache\n * @param {Request} request\n * @param {Object} matchOptions\n * @param {Array<string>} ignoreParams\n * @return {Promise<Response|undefined>}\n */\nasync function cacheMatchIgnoreParams(cache, request, ignoreParams, matchOptions) {\n    const strippedRequestURL = stripParams(request.url, ignoreParams);\n    // If the request doesn't include any ignored params, match as normal.\n    if (request.url === strippedRequestURL) {\n        return cache.match(request, matchOptions);\n    }\n    // Otherwise, match by comparing keys\n    const keysOptions = Object.assign(Object.assign({}, matchOptions), { ignoreSearch: true });\n    const cacheKeys = await cache.keys(request, keysOptions);\n    for (const cacheKey of cacheKeys) {\n        const strippedCacheKeyURL = stripParams(cacheKey.url, ignoreParams);\n        if (strippedRequestURL === strippedCacheKeyURL) {\n            return cache.match(cacheKey, matchOptions);\n        }\n    }\n    return;\n}\nexport { cacheMatchIgnoreParams };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nlet supportStatus;\n/**\n * A utility function that determines whether the current browser supports\n * constructing a [`ReadableStream`](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/ReadableStream)\n * object.\n *\n * @return {boolean} `true`, if the current browser can successfully\n *     construct a `ReadableStream`, `false` otherwise.\n *\n * @private\n */\nfunction canConstructReadableStream() {\n    if (supportStatus === undefined) {\n        // See https://github.com/GoogleChrome/workbox/issues/1473\n        try {\n            new ReadableStream({ start() { } });\n            supportStatus = true;\n        }\n        catch (error) {\n            supportStatus = false;\n        }\n    }\n    return supportStatus;\n}\nexport { canConstructReadableStream };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nlet supportStatus;\n/**\n * A utility function that determines whether the current browser supports\n * constructing a new `Response` from a `response.body` stream.\n *\n * @return {boolean} `true`, if the current browser can successfully\n *     construct a `Response` from a `response.body` stream, `false` otherwise.\n *\n * @private\n */\nfunction canConstructResponseFromBodyStream() {\n    if (supportStatus === undefined) {\n        const testResponse = new Response('');\n        if ('body' in testResponse) {\n            try {\n                new Response(testResponse.body);\n                supportStatus = true;\n            }\n            catch (error) {\n                supportStatus = false;\n            }\n        }\n        supportStatus = false;\n    }\n    return supportStatus;\n}\nexport { canConstructResponseFromBodyStream };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * The Deferred class composes Promises in a way that allows for them to be\n * resolved or rejected from outside the constructor. In most cases promises\n * should be used directly, but Deferreds can be necessary when the logic to\n * resolve a promise must be separate.\n *\n * @private\n */\nclass Deferred {\n    /**\n     * Creates a promise and exposes its resolve and reject functions as methods.\n     */\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\nexport { Deferred };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst getFriendlyURL = (url) => {\n    const urlObj = new URL(String(url), location.href);\n    // See https://github.com/GoogleChrome/workbox/issues/2323\n    // We want to include everything, except for the origin if it's same-origin.\n    return urlObj.href.replace(new RegExp(`^${location.origin}`), '');\n};\nexport { getFriendlyURL };\n","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * Returns a promise that resolves and the passed number of milliseconds.\n * This utility is an async/await-friendly version of `setTimeout`.\n *\n * @param {number} ms\n * @return {Promise}\n * @private\n */\nexport function timeout(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","/*\n  Copyright 2020 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A utility method that makes it easier to use `event.waitUntil` with\n * async functions and return the result.\n *\n * @param {ExtendableEvent} event\n * @param {Function} asyncFn\n * @return {Function}\n * @private\n */\nfunction waitUntil(event, asyncFn) {\n    const returnPromise = asyncFn();\n    event.waitUntil(returnPromise);\n    return returnPromise;\n}\nexport { waitUntil };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { canConstructResponseFromBodyStream } from './_private/canConstructResponseFromBodyStream.js';\nimport { WorkboxError } from './_private/WorkboxError.js';\nimport './_version.js';\n/**\n * Allows developers to copy a response and modify its `headers`, `status`,\n * or `statusText` values (the values settable via a\n * [`ResponseInit`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#Syntax}\n * object in the constructor).\n * To modify these values, pass a function as the second argument. That\n * function will be invoked with a single object with the response properties\n * `{headers, status, statusText}`. The return value of this function will\n * be used as the `ResponseInit` for the new `Response`. To change the values\n * either modify the passed parameter(s) and return it, or return a totally\n * new object.\n *\n * This method is intentionally limited to same-origin responses, regardless of\n * whether CORS was used or not.\n *\n * @param {Response} response\n * @param {Function} modifier\n * @memberof module:workbox-core\n */\nasync function copyResponse(response, modifier) {\n    let origin = null;\n    // If response.url isn't set, assume it's cross-origin and keep origin null.\n    if (response.url) {\n        const responseURL = new URL(response.url);\n        origin = responseURL.origin;\n    }\n    if (origin !== self.location.origin) {\n        throw new WorkboxError('cross-origin-copy-response', { origin });\n    }\n    const clonedResponse = response.clone();\n    // Create a fresh `ResponseInit` object by cloning the headers.\n    const responseInit = {\n        headers: new Headers(clonedResponse.headers),\n        status: clonedResponse.status,\n        statusText: clonedResponse.statusText,\n    };\n    // Apply any user modifications.\n    const modifiedResponseInit = modifier ? modifier(responseInit) : responseInit;\n    // Create the new response from the body stream and `ResponseInit`\n    // modifications. Note: not all browsers support the Response.body stream,\n    // so fall back to reading the entire body into memory as a blob.\n    const body = canConstructResponseFromBodyStream() ?\n        clonedResponse.body : await clonedResponse.blob();\n    return new Response(body, modifiedResponseInit);\n}\nexport { copyResponse };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport '../_version.js';\n// Name of the search parameter used to store revision info.\nconst REVISION_SEARCH_PARAM = '__WB_REVISION__';\n/**\n * Converts a manifest entry into a versioned URL suitable for precaching.\n *\n * @param {Object|string} entry\n * @return {string} A URL with versioning info.\n *\n * @private\n * @memberof module:workbox-precaching\n */\nexport function createCacheKey(entry) {\n    if (!entry) {\n        throw new WorkboxError('add-to-cache-list-unexpected-type', { entry });\n    }\n    // If a precache manifest entry is a string, it's assumed to be a versioned\n    // URL, like '/app.abcd1234.js'. Return as-is.\n    if (typeof entry === 'string') {\n        const urlObject = new URL(entry, location.href);\n        return {\n            cacheKey: urlObject.href,\n            url: urlObject.href,\n        };\n    }\n    const { revision, url } = entry;\n    if (!url) {\n        throw new WorkboxError('add-to-cache-list-unexpected-type', { entry });\n    }\n    // If there's just a URL and no revision, then it's also assumed to be a\n    // versioned URL.\n    if (!revision) {\n        const urlObject = new URL(url, location.href);\n        return {\n            cacheKey: urlObject.href,\n            url: urlObject.href,\n        };\n    }\n    // Otherwise, construct a properly versioned URL using the custom Workbox\n    // search parameter along with the revision info.\n    const cacheKeyURL = new URL(url, location.href);\n    const originalURL = new URL(url, location.href);\n    cacheKeyURL.searchParams.set(REVISION_SEARCH_PARAM, revision);\n    return {\n        cacheKey: cacheKeyURL.href,\n        url: originalURL.href,\n    };\n}\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A plugin, designed to be used with PrecacheController, to determine the\n * of assets that were updated (or not updated) during the install event.\n *\n * @private\n */\nclass PrecacheInstallReportPlugin {\n    constructor() {\n        this.updatedURLs = [];\n        this.notUpdatedURLs = [];\n        this.handlerWillStart = async ({ request, state, }) => {\n            // TODO: `state` should never be undefined...\n            if (state) {\n                state.originalRequest = request;\n            }\n        };\n        this.cachedResponseWillBeUsed = async ({ event, state, cachedResponse, }) => {\n            if (event.type === 'install') {\n                if (state && state.originalRequest\n                    && state.originalRequest instanceof Request) {\n                    // TODO: `state` should never be undefined...\n                    const url = state.originalRequest.url;\n                    if (cachedResponse) {\n                        this.notUpdatedURLs.push(url);\n                    }\n                    else {\n                        this.updatedURLs.push(url);\n                    }\n                }\n            }\n            return cachedResponse;\n        };\n    }\n}\nexport { PrecacheInstallReportPlugin };\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A plugin, designed to be used with PrecacheController, to translate URLs into\n * the corresponding cache key, based on the current revision info.\n *\n * @private\n */\nclass PrecacheCacheKeyPlugin {\n    constructor({ precacheController }) {\n        this.cacheKeyWillBeUsed = async ({ request, params, }) => {\n            // Params is type any, can't change right now.\n            // eslint-disable-next-line\n            const cacheKey = params && params.cacheKey ||\n                this._precacheController.getCacheKeyForURL(request.url);\n            return cacheKey ? new Request(cacheKey) : request;\n        };\n        this._precacheController = precacheController;\n    }\n}\nexport { PrecacheCacheKeyPlugin };\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { cacheMatchIgnoreParams } from 'workbox-core/_private/cacheMatchIgnoreParams.js';\nimport { Deferred } from 'workbox-core/_private/Deferred.js';\nimport { executeQuotaErrorCallbacks } from 'workbox-core/_private/executeQuotaErrorCallbacks.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { timeout } from 'workbox-core/_private/timeout.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport './_version.js';\nfunction toRequest(input) {\n    return (typeof input === 'string') ? new Request(input) : input;\n}\n/**\n * A class created every time a Strategy instance instance calls\n * [handle()]{@link module:workbox-strategies.Strategy~handle} or\n * [handleAll()]{@link module:workbox-strategies.Strategy~handleAll} that wraps all fetch and\n * cache actions around plugin callbacks and keeps track of when the strategy\n * is \"done\" (i.e. all added `event.waitUntil()` promises have resolved).\n *\n * @memberof module:workbox-strategies\n */\nclass StrategyHandler {\n    /**\n     * Creates a new instance associated with the passed strategy and event\n     * that's handling the request.\n     *\n     * The constructor also initializes the state that will be passed to each of\n     * the plugins handling this request.\n     *\n     * @param {module:workbox-strategies.Strategy} strategy\n     * @param {Object} options\n     * @param {Request|string} options.request A request to run this strategy for.\n     * @param {ExtendableEvent} options.event The event associated with the\n     *     request.\n     * @param {URL} [options.url]\n     * @param {*} [options.params]\n     *     [match callback]{@link module:workbox-routing~matchCallback},\n     *     (if applicable).\n     */\n    constructor(strategy, options) {\n        this._cacheKeys = {};\n        /**\n         * The request the strategy is performing (passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * @name request\n         * @instance\n         * @type {Request}\n         * @memberof module:workbox-strategies.StrategyHandler\n         */\n        /**\n         * The event associated with this request.\n         * @name event\n         * @instance\n         * @type {ExtendableEvent}\n         * @memberof module:workbox-strategies.StrategyHandler\n         */\n        /**\n         * A `URL` instance of `request.url` (if passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * Note: the `url` param will be present if the strategy was invoked\n         * from a workbox `Route` object.\n         * @name url\n         * @instance\n         * @type {URL|undefined}\n         * @memberof module:workbox-strategies.StrategyHandler\n         */\n        /**\n         * A `param` value (if passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * Note: the `param` param will be present if the strategy was invoked\n         * from a workbox `Route` object and the\n         * [match callback]{@link module:workbox-routing~matchCallback} returned\n         * a truthy value (it will be that value).\n         * @name params\n         * @instance\n         * @type {*|undefined}\n         * @memberof module:workbox-strategies.StrategyHandler\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isInstance(options.event, ExtendableEvent, {\n                moduleName: 'workbox-strategies',\n                className: 'StrategyHandler',\n                funcName: 'constructor',\n                paramName: 'options.event',\n            });\n        }\n        Object.assign(this, options);\n        this.event = options.event;\n        this._strategy = strategy;\n        this._handlerDeferred = new Deferred();\n        this._extendLifetimePromises = [];\n        // Copy the plugins list (since it's mutable on the strategy),\n        // so any mutations don't affect this handler instance.\n        this._plugins = [...strategy.plugins];\n        this._pluginStateMap = new Map();\n        for (const plugin of this._plugins) {\n            this._pluginStateMap.set(plugin, {});\n        }\n        this.event.waitUntil(this._handlerDeferred.promise);\n    }\n    /**\n     * Fetches a given request (and invokes any applicable plugin callback\n     * methods) using the `fetchOptions` (for non-navigation requests) and\n     * `plugins` defined on the `Strategy` object.\n     *\n     * The following plugin lifecycle methods are invoked when using this method:\n     * - `requestWillFetch()`\n     * - `fetchDidSucceed()`\n     * - `fetchDidFail()`\n     *\n     * @param {Request|string} input The URL or request to fetch.\n     * @return {Promise<Response>}\n     */\n    async fetch(input) {\n        const { event } = this;\n        let request = toRequest(input);\n        if (request.mode === 'navigate' &&\n            event instanceof FetchEvent &&\n            event.preloadResponse) {\n            const possiblePreloadResponse = await event.preloadResponse;\n            if (possiblePreloadResponse) {\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.log(`Using a preloaded navigation response for ` +\n                        `'${getFriendlyURL(request.url)}'`);\n                }\n                return possiblePreloadResponse;\n            }\n        }\n        // If there is a fetchDidFail plugin, we need to save a clone of the\n        // original request before it's either modified by a requestWillFetch\n        // plugin or before the original request's body is consumed via fetch().\n        const originalRequest = this.hasCallback('fetchDidFail') ?\n            request.clone() : null;\n        try {\n            for (const cb of this.iterateCallbacks('requestWillFetch')) {\n                request = await cb({ request: request.clone(), event });\n            }\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                throw new WorkboxError('plugin-error-request-will-fetch', { thrownErrorMessage: err.message });\n            }\n        }\n        // The request can be altered by plugins with `requestWillFetch` making\n        // the original request (most likely from a `fetch` event) different\n        // from the Request we make. Pass both to `fetchDidFail` to aid debugging.\n        const pluginFilteredRequest = request.clone();\n        try {\n            let fetchResponse;\n            // See https://github.com/GoogleChrome/workbox/issues/1796\n            fetchResponse = await fetch(request, request.mode === 'navigate' ?\n                undefined : this._strategy.fetchOptions);\n            if (process.env.NODE_ENV !== 'production') {\n                logger.debug(`Network request for ` +\n                    `'${getFriendlyURL(request.url)}' returned a response with ` +\n                    `status '${fetchResponse.status}'.`);\n            }\n            for (const callback of this.iterateCallbacks('fetchDidSucceed')) {\n                fetchResponse = await callback({\n                    event,\n                    request: pluginFilteredRequest,\n                    response: fetchResponse,\n                });\n            }\n            return fetchResponse;\n        }\n        catch (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.log(`Network request for ` +\n                    `'${getFriendlyURL(request.url)}' threw an error.`, error);\n            }\n            // `originalRequest` will only exist if a `fetchDidFail` callback\n            // is being used (see above).\n            if (originalRequest) {\n                await this.runCallbacks('fetchDidFail', {\n                    error: error,\n                    event,\n                    originalRequest: originalRequest.clone(),\n                    request: pluginFilteredRequest.clone(),\n                });\n            }\n            throw error;\n        }\n    }\n    /**\n     * Calls `this.fetch()` and (in the background) runs `this.cachePut()` on\n     * the response generated by `this.fetch()`.\n     *\n     * The call to `this.cachePut()` automatically invokes `this.waitUntil()`,\n     * so you do not have to manually call `waitUntil()` on the event.\n     *\n     * @param {Request|string} input The request or URL to fetch and cache.\n     * @return {Promise<Response>}\n     */\n    async fetchAndCachePut(input) {\n        const response = await this.fetch(input);\n        const responseClone = response.clone();\n        void this.waitUntil(this.cachePut(input, responseClone));\n        return response;\n    }\n    /**\n     * Matches a request from the cache (and invokes any applicable plugin\n     * callback methods) using the `cacheName`, `matchOptions`, and `plugins`\n     * defined on the strategy object.\n     *\n     * The following plugin lifecycle methods are invoked when using this method:\n     * - cacheKeyWillByUsed()\n     * - cachedResponseWillByUsed()\n     *\n     * @param {Request|string} key The Request or URL to use as the cache key.\n     * @return {Promise<Response|undefined>} A matching response, if found.\n     */\n    async cacheMatch(key) {\n        const request = toRequest(key);\n        let cachedResponse;\n        const { cacheName, matchOptions } = this._strategy;\n        const effectiveRequest = await this.getCacheKey(request, 'read');\n        const multiMatchOptions = Object.assign(Object.assign({}, matchOptions), { cacheName });\n        cachedResponse = await caches.match(effectiveRequest, multiMatchOptions);\n        if (process.env.NODE_ENV !== 'production') {\n            if (cachedResponse) {\n                logger.debug(`Found a cached response in '${cacheName}'.`);\n            }\n            else {\n                logger.debug(`No cached response found in '${cacheName}'.`);\n            }\n        }\n        for (const callback of this.iterateCallbacks('cachedResponseWillBeUsed')) {\n            cachedResponse = (await callback({\n                cacheName,\n                matchOptions,\n                cachedResponse,\n                request: effectiveRequest,\n                event: this.event,\n            })) || undefined;\n        }\n        return cachedResponse;\n    }\n    /**\n     * Puts a request/response pair in the cache (and invokes any applicable\n     * plugin callback methods) using the `cacheName` and `plugins` defined on\n     * the strategy object.\n     *\n     * The following plugin lifecycle methods are invoked when using this method:\n     * - cacheKeyWillByUsed()\n     * - cacheWillUpdate()\n     * - cacheDidUpdate()\n     *\n     * @param {Request|string} key The request or URL to use as the cache key.\n     * @param {Response} response The response to cache.\n     * @return {Promise<boolean>} `false` if a cacheWillUpdate caused the response\n     * not be cached, and `true` otherwise.\n     */\n    async cachePut(key, response) {\n        const request = toRequest(key);\n        // Run in the next task to avoid blocking other cache reads.\n        // https://github.com/w3c/ServiceWorker/issues/1397\n        await timeout(0);\n        const effectiveRequest = await this.getCacheKey(request, 'write');\n        if (process.env.NODE_ENV !== 'production') {\n            if (effectiveRequest.method && effectiveRequest.method !== 'GET') {\n                throw new WorkboxError('attempt-to-cache-non-get-request', {\n                    url: getFriendlyURL(effectiveRequest.url),\n                    method: effectiveRequest.method,\n                });\n            }\n        }\n        if (!response) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.error(`Cannot cache non-existent response for ` +\n                    `'${getFriendlyURL(effectiveRequest.url)}'.`);\n            }\n            throw new WorkboxError('cache-put-with-no-response', {\n                url: getFriendlyURL(effectiveRequest.url),\n            });\n        }\n        const responseToCache = await this._ensureResponseSafeToCache(response);\n        if (!responseToCache) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.debug(`Response '${getFriendlyURL(effectiveRequest.url)}' ` +\n                    `will not be cached.`, responseToCache);\n            }\n            return false;\n        }\n        const { cacheName, matchOptions } = this._strategy;\n        const cache = await self.caches.open(cacheName);\n        const hasCacheUpdateCallback = this.hasCallback('cacheDidUpdate');\n        const oldResponse = hasCacheUpdateCallback ? await cacheMatchIgnoreParams(\n        // TODO(philipwalton): the `__WB_REVISION__` param is a precaching\n        // feature. Consider into ways to only add this behavior if using\n        // precaching.\n        cache, effectiveRequest.clone(), ['__WB_REVISION__'], matchOptions) :\n            null;\n        if (process.env.NODE_ENV !== 'production') {\n            logger.debug(`Updating the '${cacheName}' cache with a new Response ` +\n                `for ${getFriendlyURL(effectiveRequest.url)}.`);\n        }\n        try {\n            await cache.put(effectiveRequest, hasCacheUpdateCallback ?\n                responseToCache.clone() : responseToCache);\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                // See https://developer.mozilla.org/en-US/docs/Web/API/DOMException#exception-QuotaExceededError\n                if (error.name === 'QuotaExceededError') {\n                    await executeQuotaErrorCallbacks();\n                }\n                throw error;\n            }\n        }\n        for (const callback of this.iterateCallbacks('cacheDidUpdate')) {\n            await callback({\n                cacheName,\n                oldResponse,\n                newResponse: responseToCache.clone(),\n                request: effectiveRequest,\n                event: this.event,\n            });\n        }\n        return true;\n    }\n    /**\n     * Checks the list of plugins for the `cacheKeyWillBeUsed` callback, and\n     * executes any of those callbacks found in sequence. The final `Request`\n     * object returned by the last plugin is treated as the cache key for cache\n     * reads and/or writes. If no `cacheKeyWillBeUsed` plugin callbacks have\n     * been registered, the passed request is returned unmodified\n     *\n     * @param {Request} request\n     * @param {string} mode\n     * @return {Promise<Request>}\n     */\n    async getCacheKey(request, mode) {\n        if (!this._cacheKeys[mode]) {\n            let effectiveRequest = request;\n            for (const callback of this.iterateCallbacks('cacheKeyWillBeUsed')) {\n                effectiveRequest = toRequest(await callback({\n                    mode,\n                    request: effectiveRequest,\n                    event: this.event,\n                    // params has a type any can't change right now.\n                    params: this.params,\n                }));\n            }\n            this._cacheKeys[mode] = effectiveRequest;\n        }\n        return this._cacheKeys[mode];\n    }\n    /**\n     * Returns true if the strategy has at least one plugin with the given\n     * callback.\n     *\n     * @param {string} name The name of the callback to check for.\n     * @return {boolean}\n     */\n    hasCallback(name) {\n        for (const plugin of this._strategy.plugins) {\n            if (name in plugin) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Runs all plugin callbacks matching the given name, in order, passing the\n     * given param object (merged ith the current plugin state) as the only\n     * argument.\n     *\n     * Note: since this method runs all plugins, it's not suitable for cases\n     * where the return value of a callback needs to be applied prior to calling\n     * the next callback. See\n     * [`iterateCallbacks()`]{@link module:workbox-strategies.StrategyHandler#iterateCallbacks}\n     * below for how to handle that case.\n     *\n     * @param {string} name The name of the callback to run within each plugin.\n     * @param {Object} param The object to pass as the first (and only) param\n     *     when executing each callback. This object will be merged with the\n     *     current plugin state prior to callback execution.\n     */\n    async runCallbacks(name, param) {\n        for (const callback of this.iterateCallbacks(name)) {\n            // TODO(philipwalton): not sure why `any` is needed. It seems like\n            // this should work with `as WorkboxPluginCallbackParam[C]`.\n            await callback(param);\n        }\n    }\n    /**\n     * Accepts a callback and returns an iterable of matching plugin callbacks,\n     * where each callback is wrapped with the current handler state (i.e. when\n     * you call each callback, whatever object parameter you pass it will\n     * be merged with the plugin's current state).\n     *\n     * @param {string} name The name fo the callback to run\n     * @return {Array<Function>}\n     */\n    *iterateCallbacks(name) {\n        for (const plugin of this._strategy.plugins) {\n            if (typeof plugin[name] === 'function') {\n                const state = this._pluginStateMap.get(plugin);\n                const statefulCallback = (param) => {\n                    const statefulParam = Object.assign(Object.assign({}, param), { state });\n                    // TODO(philipwalton): not sure why `any` is needed. It seems like\n                    // this should work with `as WorkboxPluginCallbackParam[C]`.\n                    return plugin[name](statefulParam);\n                };\n                yield statefulCallback;\n            }\n        }\n    }\n    /**\n     * Adds a promise to the\n     * [extend lifetime promises]{@link https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises}\n     * of the event event associated with the request being handled (usually a\n     * `FetchEvent`).\n     *\n     * Note: you can await\n     * [`doneWaiting()`]{@link module:workbox-strategies.StrategyHandler~doneWaiting}\n     * to know when all added promises have settled.\n     *\n     * @param {Promise} promise A promise to add to the extend lifetime promises\n     *     of the event that triggered the request.\n     */\n    waitUntil(promise) {\n        this._extendLifetimePromises.push(promise);\n        return promise;\n    }\n    /**\n     * Returns a promise that resolves once all promises passed to\n     * [`waitUntil()`]{@link module:workbox-strategies.StrategyHandler~waitUntil}\n     * have settled.\n     *\n     * Note: any work done after `doneWaiting()` settles should be manually\n     * passed to an event's `waitUntil()` method (not this handler's\n     * `waitUntil()` method), otherwise the service worker thread my be killed\n     * prior to your work completing.\n     */\n    async doneWaiting() {\n        let promise;\n        while (promise = this._extendLifetimePromises.shift()) {\n            await promise;\n        }\n    }\n    /**\n     * Stops running the strategy and immediately resolves any pending\n     * `waitUntil()` promises.\n     */\n    destroy() {\n        this._handlerDeferred.resolve(null);\n    }\n    /**\n     * This method will call cacheWillUpdate on the available plugins (or use\n     * status === 200) to determine if the Response is safe and valid to cache.\n     *\n     * @param {Request} options.request\n     * @param {Response} options.response\n     * @return {Promise<Response|undefined>}\n     *\n     * @private\n     */\n    async _ensureResponseSafeToCache(response) {\n        let responseToCache = response;\n        let pluginsUsed = false;\n        for (const callback of this.iterateCallbacks('cacheWillUpdate')) {\n            responseToCache = (await callback({\n                request: this.request,\n                response: responseToCache,\n                event: this.event,\n            })) || undefined;\n            pluginsUsed = true;\n            if (!responseToCache) {\n                break;\n            }\n        }\n        if (!pluginsUsed) {\n            if (responseToCache && responseToCache.status !== 200) {\n                responseToCache = undefined;\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                if (responseToCache) {\n                    if (responseToCache.status !== 200) {\n                        if (responseToCache.status === 0) {\n                            logger.warn(`The response for '${this.request.url}' ` +\n                                `is an opaque response. The caching strategy that you're ` +\n                                `using will not cache opaque responses by default.`);\n                        }\n                        else {\n                            logger.debug(`The response for '${this.request.url}' ` +\n                                `returned a status code of '${response.status}' and won't ` +\n                                `be cached as a result.`);\n                        }\n                    }\n                }\n            }\n        }\n        return responseToCache;\n    }\n}\nexport { StrategyHandler };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from '../_private/logger.js';\nimport { quotaErrorCallbacks } from '../models/quotaErrorCallbacks.js';\nimport '../_version.js';\n/**\n * Runs all of the callback functions, one at a time sequentially, in the order\n * in which they were registered.\n *\n * @memberof module:workbox-core\n * @private\n */\nasync function executeQuotaErrorCallbacks() {\n    if (process.env.NODE_ENV !== 'production') {\n        logger.log(`About to run ${quotaErrorCallbacks.size} ` +\n            `callbacks to clean up caches.`);\n    }\n    for (const callback of quotaErrorCallbacks) {\n        await callback();\n        if (process.env.NODE_ENV !== 'production') {\n            logger.log(callback, 'is complete.');\n        }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        logger.log('Finished running callbacks.');\n    }\n}\nexport { executeQuotaErrorCallbacks };\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { StrategyHandler } from './StrategyHandler.js';\nimport './_version.js';\n/**\n * An abstract base class that all other strategy classes must extend from:\n *\n * @memberof module:workbox-strategies\n */\nclass Strategy {\n    /**\n     * Creates a new instance of the strategy and sets all documented option\n     * properties as public instance properties.\n     *\n     * Note: if a custom strategy class extends the base Strategy class and does\n     * not need more than these properties, it does not need to define its own\n     * constructor.\n     *\n     * @param {Object} [options]\n     * @param {string} [options.cacheName] Cache name to store and retrieve\n     * requests. Defaults to the cache names provided by\n     * [workbox-core]{@link module:workbox-core.cacheNames}.\n     * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n     * to use in conjunction with this caching strategy.\n     * @param {Object} [options.fetchOptions] Values passed along to the\n     * [`init`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters)\n     * of [non-navigation](https://github.com/GoogleChrome/workbox/issues/1796)\n     * `fetch()` requests made by this strategy.\n     * @param {Object} [options.matchOptions] The\n     * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n     * for any `cache.match()` or `cache.put()` calls made by this strategy.\n     */\n    constructor(options = {}) {\n        /**\n         * Cache name to store and retrieve\n         * requests. Defaults to the cache names provided by\n         * [workbox-core]{@link module:workbox-core.cacheNames}.\n         *\n         * @type {string}\n         */\n        this.cacheName = cacheNames.getRuntimeName(options.cacheName);\n        /**\n         * The list\n         * [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n         * used by this strategy.\n         *\n         * @type {Array<Object>}\n         */\n        this.plugins = options.plugins || [];\n        /**\n         * Values passed along to the\n         * [`init`]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters}\n         * of all fetch() requests made by this strategy.\n         *\n         * @type {Object}\n         */\n        this.fetchOptions = options.fetchOptions;\n        /**\n         * The\n         * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n         * for any `cache.match()` or `cache.put()` calls made by this strategy.\n         *\n         * @type {Object}\n         */\n        this.matchOptions = options.matchOptions;\n    }\n    /**\n     * Perform a request strategy and returns a `Promise` that will resolve with\n     * a `Response`, invoking all relevant plugin callbacks.\n     *\n     * When a strategy instance is registered with a Workbox\n     * [route]{@link module:workbox-routing.Route}, this method is automatically\n     * called when the route matches.\n     *\n     * Alternatively, this method can be used in a standalone `FetchEvent`\n     * listener by passing it to `event.respondWith()`.\n     *\n     * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n     *     properties listed below.\n     * @param {Request|string} options.request A request to run this strategy for.\n     * @param {ExtendableEvent} options.event The event associated with the\n     *     request.\n     * @param {URL} [options.url]\n     * @param {*} [options.params]\n     */\n    handle(options) {\n        const [responseDone] = this.handleAll(options);\n        return responseDone;\n    }\n    /**\n     * Similar to [`handle()`]{@link module:workbox-strategies.Strategy~handle}, but\n     * instead of just returning a `Promise` that resolves to a `Response` it\n     * it will return an tuple of [response, done] promises, where the former\n     * (`response`) is equivalent to what `handle()` returns, and the latter is a\n     * Promise that will resolve once any promises that were added to\n     * `event.waitUntil()` as part of performing the strategy have completed.\n     *\n     * You can await the `done` promise to ensure any extra work performed by\n     * the strategy (usually caching responses) completes successfully.\n     *\n     * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n     *     properties listed below.\n     * @param {Request|string} options.request A request to run this strategy for.\n     * @param {ExtendableEvent} options.event The event associated with the\n     *     request.\n     * @param {URL} [options.url]\n     * @param {*} [options.params]\n     * @return {Array<Promise>} A tuple of [response, done]\n     *     promises that can be used to determine when the response resolves as\n     *     well as when the handler has completed all its work.\n     */\n    handleAll(options) {\n        // Allow for flexible options to be passed.\n        if (options instanceof FetchEvent) {\n            options = {\n                event: options,\n                request: options.request,\n            };\n        }\n        const event = options.event;\n        const request = typeof options.request === 'string' ?\n            new Request(options.request) :\n            options.request;\n        const params = 'params' in options ? options.params : undefined;\n        const handler = new StrategyHandler(this, { event, request, params });\n        const responseDone = this._getResponse(handler, request, event);\n        const handlerDone = this._awaitComplete(responseDone, handler, request, event);\n        // Return an array of promises, suitable for use with Promise.all().\n        return [responseDone, handlerDone];\n    }\n    async _getResponse(handler, request, event) {\n        await handler.runCallbacks('handlerWillStart', { event, request });\n        let response = undefined;\n        try {\n            response = await this._handle(request, handler);\n            // The \"official\" Strategy subclasses all throw this error automatically,\n            // but in case a third-party Strategy doesn't, ensure that we have a\n            // consistent failure when there's no response or an error response.\n            if (!response || response.type === 'error') {\n                throw new WorkboxError('no-response', { url: request.url });\n            }\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                for (const callback of handler.iterateCallbacks('handlerDidError')) {\n                    response = await callback({ error, event, request });\n                    if (response) {\n                        break;\n                    }\n                }\n            }\n            if (!response) {\n                throw error;\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                logger.log(`While responding to '${getFriendlyURL(request.url)}', ` +\n                    `an ${error instanceof Error ? error.toString() : ''} error occurred. Using a fallback response provided by ` +\n                    `a handlerDidError plugin.`);\n            }\n        }\n        for (const callback of handler.iterateCallbacks('handlerWillRespond')) {\n            response = await callback({ event, request, response });\n        }\n        return response;\n    }\n    async _awaitComplete(responseDone, handler, request, event) {\n        let response;\n        let error;\n        try {\n            response = await responseDone;\n        }\n        catch (error) {\n            // Ignore errors, as response errors should be caught via the `response`\n            // promise above. The `done` promise will only throw for errors in\n            // promises passed to `handler.waitUntil()`.\n        }\n        try {\n            await handler.runCallbacks('handlerDidRespond', {\n                event,\n                request,\n                response,\n            });\n            await handler.doneWaiting();\n        }\n        catch (waitUntilError) {\n            if (waitUntilError instanceof Error) {\n                error = waitUntilError;\n            }\n        }\n        await handler.runCallbacks('handlerDidComplete', {\n            event,\n            request,\n            response,\n            error: error,\n        });\n        handler.destroy();\n        if (error) {\n            throw error;\n        }\n    }\n}\nexport { Strategy };\n/**\n * Classes extending the `Strategy` based class should implement this method,\n * and leverage the [`handler`]{@link module:workbox-strategies.StrategyHandler}\n * arg to perform all fetching and cache logic, which will ensure all relevant\n * cache, cache options, fetch options and plugins are used (per the current\n * strategy instance).\n *\n * @name _handle\n * @instance\n * @abstract\n * @function\n * @param {Request} request\n * @param {module:workbox-strategies.StrategyHandler} handler\n * @return {Promise<Response>}\n *\n * @memberof module:workbox-strategies.Strategy\n */\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { copyResponse } from 'workbox-core/copyResponse.js';\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { Strategy } from 'workbox-strategies/Strategy.js';\nimport './_version.js';\n/**\n * A [Strategy]{@link module:workbox-strategies.Strategy} implementation\n * specifically designed to work with\n * [PrecacheController]{@link module:workbox-precaching.PrecacheController}\n * to both cache and fetch precached assets.\n *\n * Note: an instance of this class is created automatically when creating a\n * `PrecacheController`; it's generally not necessary to create this yourself.\n *\n * @extends module:workbox-strategies.Strategy\n * @memberof module:workbox-precaching\n */\nclass PrecacheStrategy extends Strategy {\n    /**\n     *\n     * @param {Object} [options]\n     * @param {string} [options.cacheName] Cache name to store and retrieve\n     * requests. Defaults to the cache names provided by\n     * [workbox-core]{@link module:workbox-core.cacheNames}.\n     * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n     * to use in conjunction with this caching strategy.\n     * @param {Object} [options.fetchOptions] Values passed along to the\n     * [`init`]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters}\n     * of all fetch() requests made by this strategy.\n     * @param {Object} [options.matchOptions] The\n     * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n     * for any `cache.match()` or `cache.put()` calls made by this strategy.\n     * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n     * get the response from the network if there's a precache miss.\n     */\n    constructor(options = {}) {\n        options.cacheName = cacheNames.getPrecacheName(options.cacheName);\n        super(options);\n        this._fallbackToNetwork = options.fallbackToNetwork === false ? false : true;\n        // Redirected responses cannot be used to satisfy a navigation request, so\n        // any redirected response must be \"copied\" rather than cloned, so the new\n        // response doesn't contain the `redirected` flag. See:\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=669363&desc=2#c1\n        this.plugins.push(PrecacheStrategy.copyRedirectedCacheableResponsesPlugin);\n    }\n    /**\n     * @private\n     * @param {Request|string} request A request to run this strategy for.\n     * @param {module:workbox-strategies.StrategyHandler} handler The event that\n     *     triggered the request.\n     * @return {Promise<Response>}\n     */\n    async _handle(request, handler) {\n        const response = await handler.cacheMatch(request);\n        if (!response) {\n            // If this is an `install` event then populate the cache. If this is a\n            // `fetch` event (or any other event) then respond with the cached\n            // response.\n            if (handler.event && handler.event.type === 'install') {\n                return await this._handleInstall(request, handler);\n            }\n            return await this._handleFetch(request, handler);\n        }\n        return response;\n    }\n    async _handleFetch(request, handler) {\n        let response;\n        // Fall back to the network if we don't have a cached response\n        // (perhaps due to manual cache cleanup).\n        if (this._fallbackToNetwork) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.warn(`The precached response for ` +\n                    `${getFriendlyURL(request.url)} in ${this.cacheName} was not ` +\n                    `found. Falling back to the network instead.`);\n            }\n            response = await handler.fetch(request);\n        }\n        else {\n            // This shouldn't normally happen, but there are edge cases:\n            // https://github.com/GoogleChrome/workbox/issues/1441\n            throw new WorkboxError('missing-precache-entry', {\n                cacheName: this.cacheName,\n                url: request.url,\n            });\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            // Params in handlers is type any, can't change right now.\n            // eslint-disable-next-line\n            const cacheKey = handler.params && handler.params.cacheKey ||\n                await handler.getCacheKey(request, 'read');\n            // Workbox is going to handle the route.\n            // print the routing details to the console.\n            logger.groupCollapsed(`Precaching is responding to: ` +\n                getFriendlyURL(request.url));\n            // cacheKey is type any, can't change right now.\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            logger.log(`Serving the precached url: ${getFriendlyURL(cacheKey.url)}`);\n            logger.groupCollapsed(`View request details here.`);\n            logger.log(request);\n            logger.groupEnd();\n            logger.groupCollapsed(`View response details here.`);\n            logger.log(response);\n            logger.groupEnd();\n            logger.groupEnd();\n        }\n        return response;\n    }\n    async _handleInstall(request, handler) {\n        this._useDefaultCacheabilityPluginIfNeeded();\n        const response = await handler.fetch(request);\n        // Make sure we defer cachePut() until after we know the response\n        // should be cached; see https://github.com/GoogleChrome/workbox/issues/2737\n        const wasCached = await handler.cachePut(request, response.clone());\n        if (!wasCached) {\n            // Throwing here will lead to the `install` handler failing, which\n            // we want to do if *any* of the responses aren't safe to cache.\n            throw new WorkboxError('bad-precaching-response', {\n                url: request.url,\n                status: response.status,\n            });\n        }\n        return response;\n    }\n    /**\n     * This method is complex, as there a number of things to account for:\n     *\n     * The `plugins` array can be set at construction, and/or it might be added to\n     * to at any time before the strategy is used.\n     *\n     * At the time the strategy is used (i.e. during an `install` event), there\n     * needs to be at least one plugin that implements `cacheWillUpdate` in the\n     * array, other than `copyRedirectedCacheableResponsesPlugin`.\n     *\n     * - If this method is called and there are no suitable `cacheWillUpdate`\n     * plugins, we need to add `defaultPrecacheCacheabilityPlugin`.\n     *\n     * - If this method is called and there is exactly one `cacheWillUpdate`, then\n     * we don't have to do anything (this might be a previously added\n     * `defaultPrecacheCacheabilityPlugin`, or it might be a custom plugin).\n     *\n     * - If this method is called and there is more than one `cacheWillUpdate`,\n     * then we need to check if one is `defaultPrecacheCacheabilityPlugin`. If so,\n     * we need to remove it. (This situation is unlikely, but it could happen if\n     * the strategy is used multiple times, the first without a `cacheWillUpdate`,\n     * and then later on after manually adding a custom `cacheWillUpdate`.)\n     *\n     * See https://github.com/GoogleChrome/workbox/issues/2737 for more context.\n     *\n     * @private\n     */\n    _useDefaultCacheabilityPluginIfNeeded() {\n        let defaultPluginIndex = null;\n        let cacheWillUpdatePluginCount = 0;\n        for (const [index, plugin] of this.plugins.entries()) {\n            // Ignore the copy redirected plugin when determining what to do.\n            if (plugin === PrecacheStrategy.copyRedirectedCacheableResponsesPlugin) {\n                continue;\n            }\n            // Save the default plugin's index, in case it needs to be removed.\n            if (plugin === PrecacheStrategy.defaultPrecacheCacheabilityPlugin) {\n                defaultPluginIndex = index;\n            }\n            if (plugin.cacheWillUpdate) {\n                cacheWillUpdatePluginCount++;\n            }\n        }\n        if (cacheWillUpdatePluginCount === 0) {\n            this.plugins.push(PrecacheStrategy.defaultPrecacheCacheabilityPlugin);\n        }\n        else if (cacheWillUpdatePluginCount > 1 && defaultPluginIndex !== null) {\n            // Only remove the default plugin; multiple custom plugins are allowed.\n            this.plugins.splice(defaultPluginIndex, 1);\n        }\n        // Nothing needs to be done if cacheWillUpdatePluginCount is 1\n    }\n}\nPrecacheStrategy.defaultPrecacheCacheabilityPlugin = {\n    async cacheWillUpdate({ response }) {\n        if (!response || response.status >= 400) {\n            return null;\n        }\n        return response;\n    }\n};\nPrecacheStrategy.copyRedirectedCacheableResponsesPlugin = {\n    async cacheWillUpdate({ response }) {\n        return response.redirected ? await copyResponse(response) : response;\n    }\n};\nexport { PrecacheStrategy };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { waitUntil } from 'workbox-core/_private/waitUntil.js';\nimport { createCacheKey } from './utils/createCacheKey.js';\nimport { PrecacheInstallReportPlugin } from './utils/PrecacheInstallReportPlugin.js';\nimport { PrecacheCacheKeyPlugin } from './utils/PrecacheCacheKeyPlugin.js';\nimport { printCleanupDetails } from './utils/printCleanupDetails.js';\nimport { printInstallDetails } from './utils/printInstallDetails.js';\nimport { PrecacheStrategy } from './PrecacheStrategy.js';\nimport './_version.js';\n/**\n * Performs efficient precaching of assets.\n *\n * @memberof module:workbox-precaching\n */\nclass PrecacheController {\n    /**\n     * Create a new PrecacheController.\n     *\n     * @param {Object} [options]\n     * @param {string} [options.cacheName] The cache to use for precaching.\n     * @param {string} [options.plugins] Plugins to use when precaching as well\n     * as responding to fetch events for precached assets.\n     * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n     * get the response from the network if there's a precache miss.\n     */\n    constructor({ cacheName, plugins = [], fallbackToNetwork = true } = {}) {\n        this._urlsToCacheKeys = new Map();\n        this._urlsToCacheModes = new Map();\n        this._cacheKeysToIntegrities = new Map();\n        this._strategy = new PrecacheStrategy({\n            cacheName: cacheNames.getPrecacheName(cacheName),\n            plugins: [\n                ...plugins,\n                new PrecacheCacheKeyPlugin({ precacheController: this }),\n            ],\n            fallbackToNetwork,\n        });\n        // Bind the install and activate methods to the instance.\n        this.install = this.install.bind(this);\n        this.activate = this.activate.bind(this);\n    }\n    /**\n     * @type {module:workbox-precaching.PrecacheStrategy} The strategy created by this controller and\n     * used to cache assets and respond to fetch events.\n     */\n    get strategy() {\n        return this._strategy;\n    }\n    /**\n     * Adds items to the precache list, removing any duplicates and\n     * stores the files in the\n     * [\"precache cache\"]{@link module:workbox-core.cacheNames} when the service\n     * worker installs.\n     *\n     * This method can be called multiple times.\n     *\n     * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n     */\n    precache(entries) {\n        this.addToCacheList(entries);\n        if (!this._installAndActiveListenersAdded) {\n            self.addEventListener('install', this.install);\n            self.addEventListener('activate', this.activate);\n            this._installAndActiveListenersAdded = true;\n        }\n    }\n    /**\n     * This method will add items to the precache list, removing duplicates\n     * and ensuring the information is valid.\n     *\n     * @param {Array<module:workbox-precaching.PrecacheController.PrecacheEntry|string>} entries\n     *     Array of entries to precache.\n     */\n    addToCacheList(entries) {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isArray(entries, {\n                moduleName: 'workbox-precaching',\n                className: 'PrecacheController',\n                funcName: 'addToCacheList',\n                paramName: 'entries',\n            });\n        }\n        const urlsToWarnAbout = [];\n        for (const entry of entries) {\n            // See https://github.com/GoogleChrome/workbox/issues/2259\n            if (typeof entry === 'string') {\n                urlsToWarnAbout.push(entry);\n            }\n            else if (entry && entry.revision === undefined) {\n                urlsToWarnAbout.push(entry.url);\n            }\n            const { cacheKey, url } = createCacheKey(entry);\n            const cacheMode = (typeof entry !== 'string' && entry.revision) ?\n                'reload' : 'default';\n            if (this._urlsToCacheKeys.has(url) &&\n                this._urlsToCacheKeys.get(url) !== cacheKey) {\n                throw new WorkboxError('add-to-cache-list-conflicting-entries', {\n                    firstEntry: this._urlsToCacheKeys.get(url),\n                    secondEntry: cacheKey,\n                });\n            }\n            if (typeof entry !== 'string' && entry.integrity) {\n                if (this._cacheKeysToIntegrities.has(cacheKey) &&\n                    this._cacheKeysToIntegrities.get(cacheKey) !== entry.integrity) {\n                    throw new WorkboxError('add-to-cache-list-conflicting-integrities', {\n                        url,\n                    });\n                }\n                this._cacheKeysToIntegrities.set(cacheKey, entry.integrity);\n            }\n            this._urlsToCacheKeys.set(url, cacheKey);\n            this._urlsToCacheModes.set(url, cacheMode);\n            if (urlsToWarnAbout.length > 0) {\n                const warningMessage = `Workbox is precaching URLs without revision ` +\n                    `info: ${urlsToWarnAbout.join(', ')}\\nThis is generally NOT safe. ` +\n                    `Learn more at https://bit.ly/wb-precache`;\n                if (process.env.NODE_ENV === 'production') {\n                    // Use console directly to display this warning without bloating\n                    // bundle sizes by pulling in all of the logger codebase in prod.\n                    console.warn(warningMessage);\n                }\n                else {\n                    logger.warn(warningMessage);\n                }\n            }\n        }\n    }\n    /**\n     * Precaches new and updated assets. Call this method from the service worker\n     * install event.\n     *\n     * Note: this method calls `event.waitUntil()` for you, so you do not need\n     * to call it yourself in your event handlers.\n     *\n     * @param {ExtendableEvent} event\n     * @return {Promise<module:workbox-precaching.InstallResult>}\n     */\n    install(event) {\n        // waitUntil returns Promise<any>\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return waitUntil(event, async () => {\n            const installReportPlugin = new PrecacheInstallReportPlugin();\n            this.strategy.plugins.push(installReportPlugin);\n            // Cache entries one at a time.\n            // See https://github.com/GoogleChrome/workbox/issues/2528\n            for (const [url, cacheKey] of this._urlsToCacheKeys) {\n                const integrity = this._cacheKeysToIntegrities.get(cacheKey);\n                const cacheMode = this._urlsToCacheModes.get(url);\n                const request = new Request(url, {\n                    integrity,\n                    cache: cacheMode,\n                    credentials: 'same-origin',\n                });\n                await Promise.all(this.strategy.handleAll({\n                    params: { cacheKey },\n                    request,\n                    event,\n                }));\n            }\n            const { updatedURLs, notUpdatedURLs } = installReportPlugin;\n            if (process.env.NODE_ENV !== 'production') {\n                printInstallDetails(updatedURLs, notUpdatedURLs);\n            }\n            return { updatedURLs, notUpdatedURLs };\n        });\n    }\n    /**\n     * Deletes assets that are no longer present in the current precache manifest.\n     * Call this method from the service worker activate event.\n     *\n     * Note: this method calls `event.waitUntil()` for you, so you do not need\n     * to call it yourself in your event handlers.\n     *\n     * @param {ExtendableEvent} event\n     * @return {Promise<module:workbox-precaching.CleanupResult>}\n     */\n    activate(event) {\n        // waitUntil returns Promise<any>\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return waitUntil(event, async () => {\n            const cache = await self.caches.open(this.strategy.cacheName);\n            const currentlyCachedRequests = await cache.keys();\n            const expectedCacheKeys = new Set(this._urlsToCacheKeys.values());\n            const deletedURLs = [];\n            for (const request of currentlyCachedRequests) {\n                if (!expectedCacheKeys.has(request.url)) {\n                    await cache.delete(request);\n                    deletedURLs.push(request.url);\n                }\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                printCleanupDetails(deletedURLs);\n            }\n            return { deletedURLs };\n        });\n    }\n    /**\n     * Returns a mapping of a precached URL to the corresponding cache key, taking\n     * into account the revision information for the URL.\n     *\n     * @return {Map<string, string>} A URL to cache key mapping.\n     */\n    getURLsToCacheKeys() {\n        return this._urlsToCacheKeys;\n    }\n    /**\n     * Returns a list of all the URLs that have been precached by the current\n     * service worker.\n     *\n     * @return {Array<string>} The precached URLs.\n     */\n    getCachedURLs() {\n        return [...this._urlsToCacheKeys.keys()];\n    }\n    /**\n     * Returns the cache key used for storing a given URL. If that URL is\n     * unversioned, like `/index.html', then the cache key will be the original\n     * URL with a search parameter appended to it.\n     *\n     * @param {string} url A URL whose cache key you want to look up.\n     * @return {string} The versioned URL that corresponds to a cache key\n     * for the original URL, or undefined if that URL isn't precached.\n     */\n    getCacheKeyForURL(url) {\n        const urlObject = new URL(url, location.href);\n        return this._urlsToCacheKeys.get(urlObject.href);\n    }\n    /**\n     * This acts as a drop-in replacement for\n     * [`cache.match()`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/match)\n     * with the following differences:\n     *\n     * - It knows what the name of the precache is, and only checks in that cache.\n     * - It allows you to pass in an \"original\" URL without versioning parameters,\n     * and it will automatically look up the correct cache key for the currently\n     * active revision of that URL.\n     *\n     * E.g., `matchPrecache('index.html')` will find the correct precached\n     * response for the currently active service worker, even if the actual cache\n     * key is `'/index.html?__WB_REVISION__=1234abcd'`.\n     *\n     * @param {string|Request} request The key (without revisioning parameters)\n     * to look up in the precache.\n     * @return {Promise<Response|undefined>}\n     */\n    async matchPrecache(request) {\n        const url = request instanceof Request ? request.url : request;\n        const cacheKey = this.getCacheKeyForURL(url);\n        if (cacheKey) {\n            const cache = await self.caches.open(this.strategy.cacheName);\n            return cache.match(cacheKey);\n        }\n        return undefined;\n    }\n    /**\n     * Returns a function that looks up `url` in the precache (taking into\n     * account revision information), and returns the corresponding `Response`.\n     *\n     * @param {string} url The precached URL which will be used to lookup the\n     * `Response`.\n     * @return {module:workbox-routing~handlerCallback}\n     */\n    createHandlerBoundToURL(url) {\n        const cacheKey = this.getCacheKeyForURL(url);\n        if (!cacheKey) {\n            throw new WorkboxError('non-precached-url', { url });\n        }\n        return (options) => {\n            options.request = new Request(url);\n            options.params = Object.assign({ cacheKey }, options.params);\n            return this.strategy.handle(options);\n        };\n    }\n}\nexport { PrecacheController };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { PrecacheController } from '../PrecacheController.js';\nimport '../_version.js';\nlet precacheController;\n/**\n * @return {PrecacheController}\n * @private\n */\nexport const getOrCreatePrecacheController = () => {\n    if (!precacheController) {\n        precacheController = new PrecacheController();\n    }\n    return precacheController;\n};\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * The default HTTP method, 'GET', used when there's no specific method\n * configured for a route.\n *\n * @type {string}\n *\n * @private\n */\nexport const defaultMethod = 'GET';\n/**\n * The list of valid HTTP methods associated with requests that could be routed.\n *\n * @type {Array<string>}\n *\n * @private\n */\nexport const validMethods = [\n    'DELETE',\n    'GET',\n    'HEAD',\n    'PATCH',\n    'POST',\n    'PUT',\n];\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport '../_version.js';\n/**\n * @param {function()|Object} handler Either a function, or an object with a\n * 'handle' method.\n * @return {Object} An object with a handle method.\n *\n * @private\n */\nexport const normalizeHandler = (handler) => {\n    if (handler && typeof handler === 'object') {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.hasMethod(handler, 'handle', {\n                moduleName: 'workbox-routing',\n                className: 'Route',\n                funcName: 'constructor',\n                paramName: 'handler',\n            });\n        }\n        return handler;\n    }\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isType(handler, 'function', {\n                moduleName: 'workbox-routing',\n                className: 'Route',\n                funcName: 'constructor',\n                paramName: 'handler',\n            });\n        }\n        return { handle: handler };\n    }\n};\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { defaultMethod, validMethods } from './utils/constants.js';\nimport { normalizeHandler } from './utils/normalizeHandler.js';\nimport './_version.js';\n/**\n * A `Route` consists of a pair of callback functions, \"match\" and \"handler\".\n * The \"match\" callback determine if a route should be used to \"handle\" a\n * request by returning a non-falsy value if it can. The \"handler\" callback\n * is called when there is a match and should return a Promise that resolves\n * to a `Response`.\n *\n * @memberof module:workbox-routing\n */\nclass Route {\n    /**\n     * Constructor for Route class.\n     *\n     * @param {module:workbox-routing~matchCallback} match\n     * A callback function that determines whether the route matches a given\n     * `fetch` event by returning a non-falsy value.\n     * @param {module:workbox-routing~handlerCallback} handler A callback\n     * function that returns a Promise resolving to a Response.\n     * @param {string} [method='GET'] The HTTP method to match the Route\n     * against.\n     */\n    constructor(match, handler, method = defaultMethod) {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isType(match, 'function', {\n                moduleName: 'workbox-routing',\n                className: 'Route',\n                funcName: 'constructor',\n                paramName: 'match',\n            });\n            if (method) {\n                assert.isOneOf(method, validMethods, { paramName: 'method' });\n            }\n        }\n        // These values are referenced directly by Router so cannot be\n        // altered by minificaton.\n        this.handler = normalizeHandler(handler);\n        this.match = match;\n        this.method = method;\n    }\n    /**\n     *\n     * @param {module:workbox-routing-handlerCallback} handler A callback\n     * function that returns a Promise resolving to a Response\n     */\n    setCatchHandler(handler) {\n        this.catchHandler = normalizeHandler(handler);\n    }\n}\nexport { Route };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { Route } from './Route.js';\nimport './_version.js';\n/**\n * RegExpRoute makes it easy to create a regular expression based\n * [Route]{@link module:workbox-routing.Route}.\n *\n * For same-origin requests the RegExp only needs to match part of the URL. For\n * requests against third-party servers, you must define a RegExp that matches\n * the start of the URL.\n *\n * [See the module docs for info.]{@link https://developers.google.com/web/tools/workbox/modules/workbox-routing}\n *\n * @memberof module:workbox-routing\n * @extends module:workbox-routing.Route\n */\nclass RegExpRoute extends Route {\n    /**\n     * If the regular expression contains\n     * [capture groups]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#grouping-back-references},\n     * the captured values will be passed to the\n     * [handler's]{@link module:workbox-routing~handlerCallback} `params`\n     * argument.\n     *\n     * @param {RegExp} regExp The regular expression to match against URLs.\n     * @param {module:workbox-routing~handlerCallback} handler A callback\n     * function that returns a Promise resulting in a Response.\n     * @param {string} [method='GET'] The HTTP method to match the Route\n     * against.\n     */\n    constructor(regExp, handler, method) {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isInstance(regExp, RegExp, {\n                moduleName: 'workbox-routing',\n                className: 'RegExpRoute',\n                funcName: 'constructor',\n                paramName: 'pattern',\n            });\n        }\n        const match = ({ url }) => {\n            const result = regExp.exec(url.href);\n            // Return immediately if there's no match.\n            if (!result) {\n                return;\n            }\n            // Require that the match start at the first character in the URL string\n            // if it's a cross-origin request.\n            // See https://github.com/GoogleChrome/workbox/issues/281 for the context\n            // behind this behavior.\n            if ((url.origin !== location.origin) && (result.index !== 0)) {\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.debug(`The regular expression '${regExp.toString()}' only partially matched ` +\n                        `against the cross-origin URL '${url.toString()}'. RegExpRoute's will only ` +\n                        `handle cross-origin requests if they match the entire URL.`);\n                }\n                return;\n            }\n            // If the route matches, but there aren't any capture groups defined, then\n            // this will return [], which is truthy and therefore sufficient to\n            // indicate a match.\n            // If there are capture groups, then it will return their values.\n            return result.slice(1);\n        };\n        super(match, handler, method);\n    }\n}\nexport { RegExpRoute };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { defaultMethod } from './utils/constants.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { normalizeHandler } from './utils/normalizeHandler.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport './_version.js';\n/**\n * The Router can be used to process a FetchEvent through one or more\n * [Routes]{@link module:workbox-routing.Route} responding  with a Request if\n * a matching route exists.\n *\n * If no route matches a given a request, the Router will use a \"default\"\n * handler if one is defined.\n *\n * Should the matching Route throw an error, the Router will use a \"catch\"\n * handler if one is defined to gracefully deal with issues and respond with a\n * Request.\n *\n * If a request matches multiple routes, the **earliest** registered route will\n * be used to respond to the request.\n *\n * @memberof module:workbox-routing\n */\nclass Router {\n    /**\n     * Initializes a new Router.\n     */\n    constructor() {\n        this._routes = new Map();\n        this._defaultHandlerMap = new Map();\n    }\n    /**\n     * @return {Map<string, Array<module:workbox-routing.Route>>} routes A `Map` of HTTP\n     * method name ('GET', etc.) to an array of all the corresponding `Route`\n     * instances that are registered.\n     */\n    get routes() {\n        return this._routes;\n    }\n    /**\n     * Adds a fetch event listener to respond to events when a route matches\n     * the event's request.\n     */\n    addFetchListener() {\n        // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n        self.addEventListener('fetch', ((event) => {\n            const { request } = event;\n            const responsePromise = this.handleRequest({ request, event });\n            if (responsePromise) {\n                event.respondWith(responsePromise);\n            }\n        }));\n    }\n    /**\n     * Adds a message event listener for URLs to cache from the window.\n     * This is useful to cache resources loaded on the page prior to when the\n     * service worker started controlling it.\n     *\n     * The format of the message data sent from the window should be as follows.\n     * Where the `urlsToCache` array may consist of URL strings or an array of\n     * URL string + `requestInit` object (the same as you'd pass to `fetch()`).\n     *\n     * ```\n     * {\n     *   type: 'CACHE_URLS',\n     *   payload: {\n     *     urlsToCache: [\n     *       './script1.js',\n     *       './script2.js',\n     *       ['./script3.js', {mode: 'no-cors'}],\n     *     ],\n     *   },\n     * }\n     * ```\n     */\n    addCacheListener() {\n        // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n        self.addEventListener('message', ((event) => {\n            // event.data is type 'any'\n            if (event.data && event.data.type === 'CACHE_URLS') { // eslint-disable-line\n                const { payload } = event.data; // eslint-disable-line\n                if (process.env.NODE_ENV !== 'production') {\n                    logger.debug(`Caching URLs from the window`, payload.urlsToCache);\n                }\n                const requestPromises = Promise.all(payload.urlsToCache.map((entry) => {\n                    if (typeof entry === 'string') {\n                        entry = [entry];\n                    }\n                    const request = new Request(...entry);\n                    return this.handleRequest({ request, event });\n                    // TODO(philipwalton): TypeScript errors without this typecast for\n                    // some reason (probably a bug). The real type here should work but\n                    // doesn't: `Array<Promise<Response> | undefined>`.\n                })); // TypeScript\n                event.waitUntil(requestPromises);\n                // If a MessageChannel was used, reply to the message on success.\n                if (event.ports && event.ports[0]) {\n                    void requestPromises.then(() => event.ports[0].postMessage(true));\n                }\n            }\n        }));\n    }\n    /**\n     * Apply the routing rules to a FetchEvent object to get a Response from an\n     * appropriate Route's handler.\n     *\n     * @param {Object} options\n     * @param {Request} options.request The request to handle.\n     * @param {ExtendableEvent} options.event The event that triggered the\n     *     request.\n     * @return {Promise<Response>|undefined} A promise is returned if a\n     *     registered route can handle the request. If there is no matching\n     *     route and there's no `defaultHandler`, `undefined` is returned.\n     */\n    handleRequest({ request, event }) {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isInstance(request, Request, {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'handleRequest',\n                paramName: 'options.request',\n            });\n        }\n        const url = new URL(request.url, location.href);\n        if (!url.protocol.startsWith('http')) {\n            if (process.env.NODE_ENV !== 'production') {\n                logger.debug(`Workbox Router only supports URLs that start with 'http'.`);\n            }\n            return;\n        }\n        const sameOrigin = url.origin === location.origin;\n        const { params, route } = this.findMatchingRoute({\n            event,\n            request,\n            sameOrigin,\n            url,\n        });\n        let handler = route && route.handler;\n        const debugMessages = [];\n        if (process.env.NODE_ENV !== 'production') {\n            if (handler) {\n                debugMessages.push([\n                    `Found a route to handle this request:`, route,\n                ]);\n                if (params) {\n                    debugMessages.push([\n                        `Passing the following params to the route's handler:`, params,\n                    ]);\n                }\n            }\n        }\n        // If we don't have a handler because there was no matching route, then\n        // fall back to defaultHandler if that's defined.\n        const method = request.method;\n        if (!handler && this._defaultHandlerMap.has(method)) {\n            if (process.env.NODE_ENV !== 'production') {\n                debugMessages.push(`Failed to find a matching route. Falling ` +\n                    `back to the default handler for ${method}.`);\n            }\n            handler = this._defaultHandlerMap.get(method);\n        }\n        if (!handler) {\n            if (process.env.NODE_ENV !== 'production') {\n                // No handler so Workbox will do nothing. If logs is set of debug\n                // i.e. verbose, we should print out this information.\n                logger.debug(`No route found for: ${getFriendlyURL(url)}`);\n            }\n            return;\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            // We have a handler, meaning Workbox is going to handle the route.\n            // print the routing details to the console.\n            logger.groupCollapsed(`Router is responding to: ${getFriendlyURL(url)}`);\n            debugMessages.forEach((msg) => {\n                if (Array.isArray(msg)) {\n                    logger.log(...msg);\n                }\n                else {\n                    logger.log(msg);\n                }\n            });\n            logger.groupEnd();\n        }\n        // Wrap in try and catch in case the handle method throws a synchronous\n        // error. It should still callback to the catch handler.\n        let responsePromise;\n        try {\n            responsePromise = handler.handle({ url, request, event, params });\n        }\n        catch (err) {\n            responsePromise = Promise.reject(err);\n        }\n        // Get route's catch handler, if it exists\n        const catchHandler = route && route.catchHandler;\n        if (responsePromise instanceof Promise && (this._catchHandler || catchHandler)) {\n            responsePromise = responsePromise.catch(async (err) => {\n                // If there's a route catch handler, process that first\n                if (catchHandler) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        // Still include URL here as it will be async from the console group\n                        // and may not make sense without the URL\n                        logger.groupCollapsed(`Error thrown when responding to: ` +\n                            ` ${getFriendlyURL(url)}. Falling back to route's Catch Handler.`);\n                        logger.error(`Error thrown by:`, route);\n                        logger.error(err);\n                        logger.groupEnd();\n                    }\n                    try {\n                        return await catchHandler.handle({ url, request, event, params });\n                    }\n                    catch (catchErr) {\n                        if (catchErr instanceof Error) {\n                            err = catchErr;\n                        }\n                    }\n                }\n                if (this._catchHandler) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        // Still include URL here as it will be async from the console group\n                        // and may not make sense without the URL\n                        logger.groupCollapsed(`Error thrown when responding to: ` +\n                            ` ${getFriendlyURL(url)}. Falling back to global Catch Handler.`);\n                        logger.error(`Error thrown by:`, route);\n                        logger.error(err);\n                        logger.groupEnd();\n                    }\n                    return this._catchHandler.handle({ url, request, event });\n                }\n                throw err;\n            });\n        }\n        return responsePromise;\n    }\n    /**\n     * Checks a request and URL (and optionally an event) against the list of\n     * registered routes, and if there's a match, returns the corresponding\n     * route along with any params generated by the match.\n     *\n     * @param {Object} options\n     * @param {URL} options.url\n     * @param {boolean} options.sameOrigin The result of comparing `url.origin`\n     *     against the current origin.\n     * @param {Request} options.request The request to match.\n     * @param {Event} options.event The corresponding event.\n     * @return {Object} An object with `route` and `params` properties.\n     *     They are populated if a matching route was found or `undefined`\n     *     otherwise.\n     */\n    findMatchingRoute({ url, sameOrigin, request, event }) {\n        const routes = this._routes.get(request.method) || [];\n        for (const route of routes) {\n            let params;\n            // route.match returns type any, not possible to change right now.\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            const matchResult = route.match({ url, sameOrigin, request, event });\n            if (matchResult) {\n                if (process.env.NODE_ENV !== 'production') {\n                    // Warn developers that using an async matchCallback is almost always\n                    // not the right thing to do.\n                    if (matchResult instanceof Promise) {\n                        logger.warn(`While routing ${getFriendlyURL(url)}, an async ` +\n                            `matchCallback function was used. Please convert the ` +\n                            `following route to use a synchronous matchCallback function:`, route);\n                    }\n                }\n                // See https://github.com/GoogleChrome/workbox/issues/2079\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                params = matchResult;\n                if (Array.isArray(params) && params.length === 0) {\n                    // Instead of passing an empty array in as params, use undefined.\n                    params = undefined;\n                }\n                else if ((matchResult.constructor === Object && // eslint-disable-line\n                    Object.keys(matchResult).length === 0)) {\n                    // Instead of passing an empty object in as params, use undefined.\n                    params = undefined;\n                }\n                else if (typeof matchResult === 'boolean') {\n                    // For the boolean value true (rather than just something truth-y),\n                    // don't set params.\n                    // See https://github.com/GoogleChrome/workbox/pull/2134#issuecomment-513924353\n                    params = undefined;\n                }\n                // Return early if have a match.\n                return { route, params };\n            }\n        }\n        // If no match was found above, return and empty object.\n        return {};\n    }\n    /**\n     * Define a default `handler` that's called when no routes explicitly\n     * match the incoming request.\n     *\n     * Each HTTP method ('GET', 'POST', etc.) gets its own default handler.\n     *\n     * Without a default handler, unmatched requests will go against the\n     * network as if there were no service worker present.\n     *\n     * @param {module:workbox-routing~handlerCallback} handler A callback\n     * function that returns a Promise resulting in a Response.\n     * @param {string} [method='GET'] The HTTP method to associate with this\n     * default handler. Each method has its own default.\n     */\n    setDefaultHandler(handler, method = defaultMethod) {\n        this._defaultHandlerMap.set(method, normalizeHandler(handler));\n    }\n    /**\n     * If a Route throws an error while handling a request, this `handler`\n     * will be called and given a chance to provide a response.\n     *\n     * @param {module:workbox-routing~handlerCallback} handler A callback\n     * function that returns a Promise resulting in a Response.\n     */\n    setCatchHandler(handler) {\n        this._catchHandler = normalizeHandler(handler);\n    }\n    /**\n     * Registers a route with the router.\n     *\n     * @param {module:workbox-routing.Route} route The route to register.\n     */\n    registerRoute(route) {\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isType(route, 'object', {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'registerRoute',\n                paramName: 'route',\n            });\n            assert.hasMethod(route, 'match', {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'registerRoute',\n                paramName: 'route',\n            });\n            assert.isType(route.handler, 'object', {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'registerRoute',\n                paramName: 'route',\n            });\n            assert.hasMethod(route.handler, 'handle', {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'registerRoute',\n                paramName: 'route.handler',\n            });\n            assert.isType(route.method, 'string', {\n                moduleName: 'workbox-routing',\n                className: 'Router',\n                funcName: 'registerRoute',\n                paramName: 'route.method',\n            });\n        }\n        if (!this._routes.has(route.method)) {\n            this._routes.set(route.method, []);\n        }\n        // Give precedence to all of the earlier routes by adding this additional\n        // route to the end of the array.\n        this._routes.get(route.method).push(route);\n    }\n    /**\n     * Unregisters a route with the router.\n     *\n     * @param {module:workbox-routing.Route} route The route to unregister.\n     */\n    unregisterRoute(route) {\n        if (!this._routes.has(route.method)) {\n            throw new WorkboxError('unregister-route-but-not-found-with-method', {\n                method: route.method,\n            });\n        }\n        const routeIndex = this._routes.get(route.method).indexOf(route);\n        if (routeIndex > -1) {\n            this._routes.get(route.method).splice(routeIndex, 1);\n        }\n        else {\n            throw new WorkboxError('unregister-route-route-not-registered');\n        }\n    }\n}\nexport { Router };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { Router } from '../Router.js';\nimport '../_version.js';\nlet defaultRouter;\n/**\n * Creates a new, singleton Router instance if one does not exist. If one\n * does already exist, that instance is returned.\n *\n * @private\n * @return {Router}\n */\nexport const getOrCreateDefaultRouter = () => {\n    if (!defaultRouter) {\n        defaultRouter = new Router();\n        // The helpers that use the default Router assume these listeners exist.\n        defaultRouter.addFetchListener();\n        defaultRouter.addCacheListener();\n    }\n    return defaultRouter;\n};\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { Route } from './Route.js';\nimport { RegExpRoute } from './RegExpRoute.js';\nimport { getOrCreateDefaultRouter } from './utils/getOrCreateDefaultRouter.js';\nimport './_version.js';\n/**\n * Easily register a RegExp, string, or function with a caching\n * strategy to a singleton Router instance.\n *\n * This method will generate a Route for you if needed and\n * call [registerRoute()]{@link module:workbox-routing.Router#registerRoute}.\n *\n * @param {RegExp|string|module:workbox-routing.Route~matchCallback|module:workbox-routing.Route} capture\n * If the capture param is a `Route`, all other arguments will be ignored.\n * @param {module:workbox-routing~handlerCallback} [handler] A callback\n * function that returns a Promise resulting in a Response. This parameter\n * is required if `capture` is not a `Route` object.\n * @param {string} [method='GET'] The HTTP method to match the Route\n * against.\n * @return {module:workbox-routing.Route} The generated `Route`(Useful for\n * unregistering).\n *\n * @memberof module:workbox-routing\n */\nfunction registerRoute(capture, handler, method) {\n    let route;\n    if (typeof capture === 'string') {\n        const captureUrl = new URL(capture, location.href);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!(capture.startsWith('/') || capture.startsWith('http'))) {\n                throw new WorkboxError('invalid-string', {\n                    moduleName: 'workbox-routing',\n                    funcName: 'registerRoute',\n                    paramName: 'capture',\n                });\n            }\n            // We want to check if Express-style wildcards are in the pathname only.\n            // TODO: Remove this log message in v4.\n            const valueToCheck = capture.startsWith('http') ?\n                captureUrl.pathname : capture;\n            // See https://github.com/pillarjs/path-to-regexp#parameters\n            const wildcards = '[*:?+]';\n            if ((new RegExp(`${wildcards}`)).exec(valueToCheck)) {\n                logger.debug(`The '$capture' parameter contains an Express-style wildcard ` +\n                    `character (${wildcards}). Strings are now always interpreted as ` +\n                    `exact matches; use a RegExp for partial or wildcard matches.`);\n            }\n        }\n        const matchCallback = ({ url }) => {\n            if (process.env.NODE_ENV !== 'production') {\n                if ((url.pathname === captureUrl.pathname) &&\n                    (url.origin !== captureUrl.origin)) {\n                    logger.debug(`${capture} only partially matches the cross-origin URL ` +\n                        `${url.toString()}. This route will only handle cross-origin requests ` +\n                        `if they match the entire URL.`);\n                }\n            }\n            return url.href === captureUrl.href;\n        };\n        // If `capture` is a string then `handler` and `method` must be present.\n        route = new Route(matchCallback, handler, method);\n    }\n    else if (capture instanceof RegExp) {\n        // If `capture` is a `RegExp` then `handler` and `method` must be present.\n        route = new RegExpRoute(capture, handler, method);\n    }\n    else if (typeof capture === 'function') {\n        // If `capture` is a function then `handler` and `method` must be present.\n        route = new Route(capture, handler, method);\n    }\n    else if (capture instanceof Route) {\n        route = capture;\n    }\n    else {\n        throw new WorkboxError('unsupported-route-type', {\n            moduleName: 'workbox-routing',\n            funcName: 'registerRoute',\n            paramName: 'capture',\n        });\n    }\n    const defaultRouter = getOrCreateDefaultRouter();\n    defaultRouter.registerRoute(route);\n    return route;\n}\nexport { registerRoute };\n","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { Route } from 'workbox-routing/Route.js';\nimport { generateURLVariations } from './utils/generateURLVariations.js';\nimport './_version.js';\n/**\n * A subclass of [Route]{@link module:workbox-routing.Route} that takes a\n * [PrecacheController]{@link module:workbox-precaching.PrecacheController}\n * instance and uses it to match incoming requests and handle fetching\n * responses from the precache.\n *\n * @memberof module:workbox-precaching\n * @extends module:workbox-routing.Route\n */\nclass PrecacheRoute extends Route {\n    /**\n     * @param {PrecacheController} precacheController A `PrecacheController`\n     * instance used to both match requests and respond to fetch events.\n     * @param {Object} [options] Options to control how requests are matched\n     * against the list of precached URLs.\n     * @param {string} [options.directoryIndex=index.html] The `directoryIndex` will\n     * check cache entries for a URLs ending with '/' to see if there is a hit when\n     * appending the `directoryIndex` value.\n     * @param {Array<RegExp>} [options.ignoreURLParametersMatching=[/^utm_/, /^fbclid$/]] An\n     * array of regex's to remove search params when looking for a cache match.\n     * @param {boolean} [options.cleanURLs=true] The `cleanURLs` option will\n     * check the cache for the URL with a `.html` added to the end of the end.\n     * @param {module:workbox-precaching~urlManipulation} [options.urlManipulation]\n     * This is a function that should take a URL and return an array of\n     * alternative URLs that should be checked for precache matches.\n     */\n    constructor(precacheController, options) {\n        const match = ({ request }) => {\n            const urlsToCacheKeys = precacheController.getURLsToCacheKeys();\n            for (const possibleURL of generateURLVariations(request.url, options)) {\n                const cacheKey = urlsToCacheKeys.get(possibleURL);\n                if (cacheKey) {\n                    return { cacheKey };\n                }\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                logger.debug(`Precaching did not find a match for ` +\n                    getFriendlyURL(request.url));\n            }\n            return;\n        };\n        super(match, precacheController.strategy);\n    }\n}\nexport { PrecacheRoute };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { removeIgnoredSearchParams } from './removeIgnoredSearchParams.js';\nimport '../_version.js';\n/**\n * Generator function that yields possible variations on the original URL to\n * check, one at a time.\n *\n * @param {string} url\n * @param {Object} options\n *\n * @private\n * @memberof module:workbox-precaching\n */\nexport function* generateURLVariations(url, { ignoreURLParametersMatching = [/^utm_/, /^fbclid$/], directoryIndex = 'index.html', cleanURLs = true, urlManipulation, } = {}) {\n    const urlObject = new URL(url, location.href);\n    urlObject.hash = '';\n    yield urlObject.href;\n    const urlWithoutIgnoredParams = removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching);\n    yield urlWithoutIgnoredParams.href;\n    if (directoryIndex && urlWithoutIgnoredParams.pathname.endsWith('/')) {\n        const directoryURL = new URL(urlWithoutIgnoredParams.href);\n        directoryURL.pathname += directoryIndex;\n        yield directoryURL.href;\n    }\n    if (cleanURLs) {\n        const cleanURL = new URL(urlWithoutIgnoredParams.href);\n        cleanURL.pathname += '.html';\n        yield cleanURL.href;\n    }\n    if (urlManipulation) {\n        const additionalURLs = urlManipulation({ url: urlObject });\n        for (const urlToAttempt of additionalURLs) {\n            yield urlToAttempt.href;\n        }\n    }\n}\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * Removes any URL search parameters that should be ignored.\n *\n * @param {URL} urlObject The original URL.\n * @param {Array<RegExp>} ignoreURLParametersMatching RegExps to test against\n * each search parameter name. Matches mean that the search parameter should be\n * ignored.\n * @return {URL} The URL with any ignored search parameters removed.\n *\n * @private\n * @memberof module:workbox-precaching\n */\nexport function removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching = []) {\n    // Convert the iterable into an array at the start of the loop to make sure\n    // deletion doesn't mess up iteration.\n    for (const paramName of [...urlObject.searchParams.keys()]) {\n        if (ignoreURLParametersMatching.some((regExp) => regExp.test(paramName))) {\n            urlObject.searchParams.delete(paramName);\n        }\n    }\n    return urlObject;\n}\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { addRoute } from './addRoute.js';\nimport { precache } from './precache.js';\nimport './_version.js';\n/**\n * This method will add entries to the precache list and add a route to\n * respond to fetch events.\n *\n * This is a convenience method that will call\n * [precache()]{@link module:workbox-precaching.precache} and\n * [addRoute()]{@link module:workbox-precaching.addRoute} in a single call.\n *\n * @param {Array<Object|string>} entries Array of entries to precache.\n * @param {Object} [options] See\n * [PrecacheRoute options]{@link module:workbox-precaching.PrecacheRoute}.\n *\n * @memberof module:workbox-precaching\n */\nfunction precacheAndRoute(entries, options) {\n    precache(entries);\n    addRoute(options);\n}\nexport { precacheAndRoute };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { getOrCreatePrecacheController } from './utils/getOrCreatePrecacheController.js';\nimport './_version.js';\n/**\n * Adds items to the precache list, removing any duplicates and\n * stores the files in the\n * [\"precache cache\"]{@link module:workbox-core.cacheNames} when the service\n * worker installs.\n *\n * This method can be called multiple times.\n *\n * Please note: This method **will not** serve any of the cached files for you.\n * It only precaches files. To respond to a network request you call\n * [addRoute()]{@link module:workbox-precaching.addRoute}.\n *\n * If you have a single array of files to precache, you can just call\n * [precacheAndRoute()]{@link module:workbox-precaching.precacheAndRoute}.\n *\n * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n *\n * @memberof module:workbox-precaching\n */\nfunction precache(entries) {\n    const precacheController = getOrCreatePrecacheController();\n    precacheController.precache(entries);\n}\nexport { precache };\n","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { registerRoute } from 'workbox-routing/registerRoute.js';\nimport { getOrCreatePrecacheController } from './utils/getOrCreatePrecacheController.js';\nimport { PrecacheRoute } from './PrecacheRoute.js';\nimport './_version.js';\n/**\n * Add a `fetch` listener to the service worker that will\n * respond to\n * [network requests]{@link https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers#Custom_responses_to_requests}\n * with precached assets.\n *\n * Requests for assets that aren't precached, the `FetchEvent` will not be\n * responded to, allowing the event to fall through to other `fetch` event\n * listeners.\n *\n * @param {Object} [options] See\n * [PrecacheRoute options]{@link module:workbox-precaching.PrecacheRoute}.\n *\n * @memberof module:workbox-precaching\n */\nfunction addRoute(options) {\n    const precacheController = getOrCreatePrecacheController();\n    const precacheRoute = new PrecacheRoute(precacheController, options);\n    registerRoute(precacheRoute);\n}\nexport { addRoute };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nexport const cacheOkAndOpaquePlugin = {\n    /**\n     * Returns a valid response (to allow caching) if the status is 200 (OK) or\n     * 0 (opaque).\n     *\n     * @param {Object} options\n     * @param {Response} options.response\n     * @return {Response|null}\n     *\n     * @private\n     */\n    cacheWillUpdate: async ({ response }) => {\n        if (response.status === 200 || response.status === 0) {\n            return response;\n        }\n        return null;\n    },\n};\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { cacheOkAndOpaquePlugin } from './plugins/cacheOkAndOpaquePlugin.js';\nimport { Strategy } from './Strategy.js';\nimport { messages } from './utils/messages.js';\nimport './_version.js';\n/**\n * An implementation of a\n * [network first]{@link https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#network-falling-back-to-cache}\n * request strategy.\n *\n * By default, this strategy will cache responses with a 200 status code as\n * well as [opaque responses]{@link https://developers.google.com/web/tools/workbox/guides/handle-third-party-requests}.\n * Opaque responses are are cross-origin requests where the response doesn't\n * support [CORS]{@link https://enable-cors.org/}.\n *\n * If the network request fails, and there is no cache match, this will throw\n * a `WorkboxError` exception.\n *\n * @extends module:workbox-strategies.Strategy\n * @memberof module:workbox-strategies\n */\nclass NetworkFirst extends Strategy {\n    /**\n     * @param {Object} [options]\n     * @param {string} [options.cacheName] Cache name to store and retrieve\n     * requests. Defaults to cache names provided by\n     * [workbox-core]{@link module:workbox-core.cacheNames}.\n     * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n     * to use in conjunction with this caching strategy.\n     * @param {Object} [options.fetchOptions] Values passed along to the\n     * [`init`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters)\n     * of [non-navigation](https://github.com/GoogleChrome/workbox/issues/1796)\n     * `fetch()` requests made by this strategy.\n     * @param {Object} [options.matchOptions] [`CacheQueryOptions`](https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions)\n     * @param {number} [options.networkTimeoutSeconds] If set, any network requests\n     * that fail to respond within the timeout will fallback to the cache.\n     *\n     * This option can be used to combat\n     * \"[lie-fi]{@link https://developers.google.com/web/fundamentals/performance/poor-connectivity/#lie-fi}\"\n     * scenarios.\n     */\n    constructor(options = {}) {\n        super(options);\n        // If this instance contains no plugins with a 'cacheWillUpdate' callback,\n        // prepend the `cacheOkAndOpaquePlugin` plugin to the plugins list.\n        if (!this.plugins.some((p) => 'cacheWillUpdate' in p)) {\n            this.plugins.unshift(cacheOkAndOpaquePlugin);\n        }\n        this._networkTimeoutSeconds = options.networkTimeoutSeconds || 0;\n        if (process.env.NODE_ENV !== 'production') {\n            if (this._networkTimeoutSeconds) {\n                assert.isType(this._networkTimeoutSeconds, 'number', {\n                    moduleName: 'workbox-strategies',\n                    className: this.constructor.name,\n                    funcName: 'constructor',\n                    paramName: 'networkTimeoutSeconds',\n                });\n            }\n        }\n    }\n    /**\n     * @private\n     * @param {Request|string} request A request to run this strategy for.\n     * @param {module:workbox-strategies.StrategyHandler} handler The event that\n     *     triggered the request.\n     * @return {Promise<Response>}\n     */\n    async _handle(request, handler) {\n        const logs = [];\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isInstance(request, Request, {\n                moduleName: 'workbox-strategies',\n                className: this.constructor.name,\n                funcName: 'handle',\n                paramName: 'makeRequest',\n            });\n        }\n        const promises = [];\n        let timeoutId;\n        if (this._networkTimeoutSeconds) {\n            const { id, promise } = this._getTimeoutPromise({ request, logs, handler });\n            timeoutId = id;\n            promises.push(promise);\n        }\n        const networkPromise = this._getNetworkPromise({ timeoutId, request, logs, handler });\n        promises.push(networkPromise);\n        const response = await handler.waitUntil((async () => {\n            // Promise.race() will resolve as soon as the first promise resolves.\n            return await handler.waitUntil(Promise.race(promises)) ||\n                // If Promise.race() resolved with null, it might be due to a network\n                // timeout + a cache miss. If that were to happen, we'd rather wait until\n                // the networkPromise resolves instead of returning null.\n                // Note that it's fine to await an already-resolved promise, so we don't\n                // have to check to see if it's still \"in flight\".\n                await networkPromise;\n        })());\n        if (process.env.NODE_ENV !== 'production') {\n            logger.groupCollapsed(messages.strategyStart(this.constructor.name, request));\n            for (const log of logs) {\n                logger.log(log);\n            }\n            messages.printFinalResponse(response);\n            logger.groupEnd();\n        }\n        if (!response) {\n            throw new WorkboxError('no-response', { url: request.url });\n        }\n        return response;\n    }\n    /**\n     * @param {Object} options\n     * @param {Request} options.request\n     * @param {Array} options.logs A reference to the logs array\n     * @param {Event} options.event\n     * @return {Promise<Response>}\n     *\n     * @private\n     */\n    _getTimeoutPromise({ request, logs, handler }) {\n        let timeoutId;\n        const timeoutPromise = new Promise((resolve) => {\n            const onNetworkTimeout = async () => {\n                if (process.env.NODE_ENV !== 'production') {\n                    logs.push(`Timing out the network response at ` +\n                        `${this._networkTimeoutSeconds} seconds.`);\n                }\n                resolve(await handler.cacheMatch(request));\n            };\n            timeoutId = setTimeout(onNetworkTimeout, this._networkTimeoutSeconds * 1000);\n        });\n        return {\n            promise: timeoutPromise,\n            id: timeoutId,\n        };\n    }\n    /**\n     * @param {Object} options\n     * @param {number|undefined} options.timeoutId\n     * @param {Request} options.request\n     * @param {Array} options.logs A reference to the logs Array.\n     * @param {Event} options.event\n     * @return {Promise<Response>}\n     *\n     * @private\n     */\n    async _getNetworkPromise({ timeoutId, request, logs, handler }) {\n        let error;\n        let response;\n        try {\n            response = await handler.fetchAndCachePut(request);\n        }\n        catch (fetchError) {\n            if (fetchError instanceof Error) {\n                error = fetchError;\n            }\n        }\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (response) {\n                logs.push(`Got response from network.`);\n            }\n            else {\n                logs.push(`Unable to get a response from the network. Will respond ` +\n                    `with a cached response.`);\n            }\n        }\n        if (error || !response) {\n            response = await handler.cacheMatch(request);\n            if (process.env.NODE_ENV !== 'production') {\n                if (response) {\n                    logs.push(`Found a cached response in the '${this.cacheName}'` +\n                        ` cache.`);\n                }\n                else {\n                    logs.push(`No response found in the '${this.cacheName}' cache.`);\n                }\n            }\n        }\n        return response;\n    }\n}\nexport { NetworkFirst };\n","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { cacheOkAndOpaquePlugin } from './plugins/cacheOkAndOpaquePlugin.js';\nimport { Strategy } from './Strategy.js';\nimport { messages } from './utils/messages.js';\nimport './_version.js';\n/**\n * An implementation of a\n * [stale-while-revalidate]{@link https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#stale-while-revalidate}\n * request strategy.\n *\n * Resources are requested from both the cache and the network in parallel.\n * The strategy will respond with the cached version if available, otherwise\n * wait for the network response. The cache is updated with the network response\n * with each successful request.\n *\n * By default, this strategy will cache responses with a 200 status code as\n * well as [opaque responses]{@link https://developers.google.com/web/tools/workbox/guides/handle-third-party-requests}.\n * Opaque responses are cross-origin requests where the response doesn't\n * support [CORS]{@link https://enable-cors.org/}.\n *\n * If the network request fails, and there is no cache match, this will throw\n * a `WorkboxError` exception.\n *\n * @extends module:workbox-strategies.Strategy\n * @memberof module:workbox-strategies\n */\nclass StaleWhileRevalidate extends Strategy {\n    /**\n     * @param {Object} [options]\n     * @param {string} [options.cacheName] Cache name to store and retrieve\n     * requests. Defaults to cache names provided by\n     * [workbox-core]{@link module:workbox-core.cacheNames}.\n     * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n     * to use in conjunction with this caching strategy.\n     * @param {Object} [options.fetchOptions] Values passed along to the\n     * [`init`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters)\n     * of [non-navigation](https://github.com/GoogleChrome/workbox/issues/1796)\n     * `fetch()` requests made by this strategy.\n     * @param {Object} [options.matchOptions] [`CacheQueryOptions`](https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions)\n     */\n    constructor(options = {}) {\n        super(options);\n        // If this instance contains no plugins with a 'cacheWillUpdate' callback,\n        // prepend the `cacheOkAndOpaquePlugin` plugin to the plugins list.\n        if (!this.plugins.some((p) => 'cacheWillUpdate' in p)) {\n            this.plugins.unshift(cacheOkAndOpaquePlugin);\n        }\n    }\n    /**\n     * @private\n     * @param {Request|string} request A request to run this strategy for.\n     * @param {module:workbox-strategies.StrategyHandler} handler The event that\n     *     triggered the request.\n     * @return {Promise<Response>}\n     */\n    async _handle(request, handler) {\n        const logs = [];\n        if (process.env.NODE_ENV !== 'production') {\n            assert.isInstance(request, Request, {\n                moduleName: 'workbox-strategies',\n                className: this.constructor.name,\n                funcName: 'handle',\n                paramName: 'request',\n            });\n        }\n        const fetchAndCachePromise = handler\n            .fetchAndCachePut(request)\n            .catch(() => {\n            // Swallow this error because a 'no-response' error will be thrown in\n            // main handler return flow. This will be in the `waitUntil()` flow.\n        });\n        let response = await handler.cacheMatch(request);\n        let error;\n        if (response) {\n            if (process.env.NODE_ENV !== 'production') {\n                logs.push(`Found a cached response in the '${this.cacheName}'` +\n                    ` cache. Will update with the network response in the background.`);\n            }\n        }\n        else {\n            if (process.env.NODE_ENV !== 'production') {\n                logs.push(`No response found in the '${this.cacheName}' cache. ` +\n                    `Will wait for the network response.`);\n            }\n            try {\n                // NOTE(philipwalton): Really annoying that we have to type cast here.\n                // https://github.com/microsoft/TypeScript/issues/20006\n                response = await fetchAndCachePromise;\n            }\n            catch (err) {\n                if (err instanceof Error) {\n                    error = err;\n                }\n            }\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            logger.groupCollapsed(messages.strategyStart(this.constructor.name, request));\n            for (const log of logs) {\n                logger.log(log);\n            }\n            messages.printFinalResponse(response);\n            logger.groupEnd();\n        }\n        if (!response) {\n            throw new WorkboxError('no-response', { url: request.url, error });\n        }\n        return response;\n    }\n}\nexport { StaleWhileRevalidate };\n","export const swMsgs = Object.freeze({\n  skipWaiting: 'SKIP_WAITING',\n  startRecording: 'START_RECORDING',\n  recordingStarted: 'RECORDING_STARTED',\n  recordingError: 'RECORDING_ERROR',\n  confirmRecordingCompletion: 'CONFIRM_RECORDING_COMPLETION',\n  completeRecording: 'COMPLETE_RECORDING',\n  recordingCompleted: 'RECORDING_COMPLETED'\n});","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n","import { openDB, deleteDB } from 'idb';\nexport const SECTIONS_DB = 'sections-db';\nexport const SECTIONS_STORE = 'sections-store';\nconst DB_VERSION = 1;\n/**\n * Opens indexed DB and object store for recorded sections. Should be used any\n * time the DB is accessed to make sure object stores are set up correctly and\n * avoid DB-access race condition on first installation.\n *\n * @returns {Promise} dbPromise. Usage: `const db = await dbPromise`\n */\n\nexport function openSectionsDB() {\n  return openDB(SECTIONS_DB, DB_VERSION, {\n    upgrade(db, oldVersion\n    /* newVersion, transaction */\n    ) {\n      // DB versioning trick that can iteratively apply upgrades\n      // https://developers.google.com/web/ilt/pwa/working-with-indexeddb#using_database_versioning\n      switch (oldVersion) {\n        case 0:\n          {\n            db.createObjectStore(SECTIONS_STORE, {\n              keyPath: 'sectionId'\n            });\n          }\n        // falls through (this comment satisfies eslint)\n\n        default:\n          {\n            console.debug('[sections-db] Done upgrading DB');\n          }\n      }\n    }\n\n  });\n}\n/** Deletes the DB */\n\nexport function deleteSectionsDB() {\n  return deleteDB(SECTIONS_DB);\n}","import { swMsgs } from '../lib/constants';\nimport { openSectionsDB, SECTIONS_STORE } from '../lib/sections-db'; // Triggered on 'START_RECORDING' message\n\nexport function startRecording(event) {\n  var _event$data$payload, _event$data$payload2, _event$data$payload3;\n\n  console.debug('[SW] Starting recording');\n\n  if (!((_event$data$payload = event.data.payload) !== null && _event$data$payload !== void 0 && _event$data$payload.sectionId)) {\n    throw new Error('[SW] No section ID specified to record');\n  }\n\n  const clientId = event.source.id; // clientId from MessageEvent\n  // Throw error if another recording is in process\n\n  if (isClientRecording(clientId)) {\n    throw new Error(\"[SW] Can't start a new recording; a recording is already in process\");\n  }\n\n  const newClientRecordingState = {\n    sectionId: (_event$data$payload2 = event.data.payload) === null || _event$data$payload2 === void 0 ? void 0 : _event$data$payload2.sectionId,\n    pendingRequests: new Set(),\n    // `fulfilledRequests` can later hold useful data for normalization.\n    // Until then, it's just a count\n    fulfilledRequests: 0,\n    recordingTimeout: undefined,\n    recordingTimeoutDelay: ((_event$data$payload3 = event.data.payload) === null || _event$data$payload3 === void 0 ? void 0 : _event$data$payload3.recordingTimeoutDelay) || 1000,\n    confirmationTimeout: undefined\n  };\n  self.clientRecordingStates[clientId] = newClientRecordingState; // Send confirmation message to client\n\n  self.clients.get(clientId).then(client => {\n    client.postMessage({\n      type: swMsgs.recordingStarted\n    });\n  });\n}\n/** Used to check if a new recording can begin */\n\nfunction isClientRecording(clientId) {\n  return clientId in self.clientRecordingStates;\n}\n/** Used to check if requests should be handled by recording handler */\n\n\nexport function isClientRecordingRequests(clientId) {\n  // Don't record requests when waiting for completion confirmation\n  return isClientRecording(clientId) && self.clientRecordingStates[clientId].confirmationTimeout === undefined;\n}\n/** Request handler during recording mode */\n\nexport function handleRecordedRequest({\n  request,\n  event\n}) {\n  const recordingState = self.clientRecordingStates[event.clientId];\n  clearTimeout(recordingState.recordingTimeout);\n  recordingState.pendingRequests.add(request);\n  fetch(request).then(response => {\n    return handleRecordedResponse(request, response, event.clientId);\n  }).catch(error => {\n    stopRecording(error, event.clientId);\n  });\n}\n/** Response handler during recording mode */\n\nfunction handleRecordedResponse(request, response, clientId) {\n  const recordingState = self.clientRecordingStates[clientId];\n\n  if (!recordingState) {\n    // It's likely that the recording was stopped due to an error.\n    // There will be plenty of error messages logged; no need for another\n    // one here\n    return response;\n  } // add response to temp cache - when recording is successful, move to permanent cache\n\n\n  const tempCacheKey = getCacheKey('temp', clientId);\n  addToCache(tempCacheKey, request, response); // normalizing data could happen here; until then, increment counter\n\n  recordingState.fulfilledRequests += 1; // remove request from pending requests\n\n  recordingState.pendingRequests.delete(request); // start timer if pending requests are all complete\n\n  if (recordingState.pendingRequests.size === 0) {\n    startRecordingTimeout(clientId);\n  }\n\n  return response;\n}\n/**\n * Starts a timer that stops recording when finished. The timer will\n * be cleared if a new request is handled and start again when there are\n * no more pending requests.\n */\n\n\nfunction startRecordingTimeout(clientId) {\n  const recordingState = self.clientRecordingStates[clientId];\n  recordingState.recordingTimeout = setTimeout(() => stopRecording(null, clientId), recordingState.recordingTimeoutDelay);\n}\n/** Called on recording success or failure */\n\n\nfunction stopRecording(error, clientId) {\n  const recordingState = self.clientRecordingStates[clientId];\n\n  if (recordingState) {\n    console.debug('[SW] Stopping recording', {\n      clientId,\n      recordingState\n    });\n    clearTimeout(recordingState.recordingTimeout);\n  } // In case of error, notify client and remove recording.\n  // Post message even if !recordingState to ensure client stops.\n\n\n  if (error) {\n    self.clients.get(clientId).then(client => {\n      // use plain object instead of Error for firefox compatibility\n      client.postMessage({\n        type: swMsgs.recordingError,\n        payload: {\n          msg: error.message\n        }\n      });\n    });\n    removeRecording(clientId);\n    return;\n  } // On success, prompt client to confirm saving recording\n\n\n  requestCompletionConfirmation(clientId);\n}\n\nfunction getCacheKey(...args) {\n  return args.join('-');\n}\n\nfunction addToCache(cacheKey, request, response) {\n  if (response.ok) {\n    const responseClone = response.clone();\n    caches.open(cacheKey).then(cache => cache.put(request, responseClone));\n  }\n}\n\nfunction removeRecording(clientId) {\n  // Remove recording state\n  delete self.clientRecordingStates[clientId]; // Delete temp cache\n\n  const cacheKey = getCacheKey('temp', clientId);\n  return caches.delete(cacheKey);\n}\n/**\n * To validate a completed recording, request an acknowledgement from\n * the client before finishing and saving the recording. This prevents\n * saving faulty recordings due to navigation or other problems and\n * avoids overwriting a good recording\n */\n\n\nasync function requestCompletionConfirmation(clientId) {\n  const client = await self.clients.get(clientId);\n\n  if (!client) {\n    console.debug('[SW] Client not found for ID', clientId);\n    removeRecording(clientId);\n    return;\n  }\n\n  client.postMessage({\n    type: swMsgs.confirmRecordingCompletion\n  });\n  startConfirmationTimeout(clientId);\n}\n/**\n * Wait 10 seconds for client acknowledgement to save recording. If timer\n * runs out, the recording is scrapped.\n */\n\n\nfunction startConfirmationTimeout(clientId) {\n  const recordingState = self.clientRecordingStates[clientId];\n  recordingState.confirmationTimeout = setTimeout(() => {\n    console.warn('[SW] Completion confirmation timed out. Clearing recording for client', clientId);\n    removeRecording(clientId);\n  }, 10000);\n}\n/** Triggered by 'COMPLETE_RECORDING' message; saves recording */\n\n\nexport async function completeRecording(clientId) {\n  try {\n    const recordingState = self.clientRecordingStates[clientId];\n    console.debug('[SW] Completing recording', {\n      clientId,\n      recordingState\n    });\n    clearTimeout(recordingState.confirmationTimeout); // If global state has reset, reopen IndexedDB\n\n    if (self.dbPromise === undefined) {\n      self.dbPromise = openSectionsDB();\n    } // Add content to DB\n\n\n    const db = await self.dbPromise;\n    db.put(SECTIONS_STORE, {\n      // Note that request objects can't be stored in the IDB\n      // https://stackoverflow.com/questions/32880073/whats-the-best-option-for-structured-cloning-of-a-fetch-api-request-object\n      sectionId: recordingState.sectionId,\n      // the key path\n      lastUpdated: new Date(),\n      // 'requests' can later hold data for normalization\n      requests: recordingState.fulfilledRequests\n    }).catch(console.error); // Move requests from temp cache to section-<ID> cache\n\n    const sectionCache = await caches.open(recordingState.sectionId);\n    const tempCache = await caches.open(getCacheKey('temp', clientId));\n    const tempCacheItemKeys = await tempCache.keys();\n    tempCacheItemKeys.forEach(async request => {\n      const response = await tempCache.match(request);\n      sectionCache.put(request, response);\n    }); // Clean up\n\n    removeRecording(clientId); // Send confirmation message to client\n\n    self.clients.get(clientId).then(client => {\n      client.postMessage({\n        type: swMsgs.recordingCompleted\n      });\n    });\n  } catch (err) {\n    stopRecording(err, clientId);\n  }\n}","import { deleteSectionsDB, openSectionsDB, SECTIONS_STORE } from '../lib/sections-db';\nconst CACHE_KEEP_LIST = ['other-assets', 'app-shell']; // Fallback prevents error when switching from pwa enabled to disabled\n\nconst URL_FILTER_PATTERNS = JSON.parse(process.env.REACT_APP_DHIS2_APP_PWA_CACHING_PATTERNS_TO_OMIT || '[]').map(pattern => new RegExp(pattern));\nconst OMIT_EXTERNAL_REQUESTS = process.env.REACT_APP_DHIS2_APP_PWA_CACHING_OMIT_EXTERNAL_REQUESTS === 'true';\n/** Called if the `pwaEnabled` env var is not `true` */\n\nexport function setUpKillSwitchServiceWorker() {\n  // A simple, no-op service worker that takes immediate control and tears\n  // everything down. Has no fetch handler.\n  self.addEventListener('install', () => {\n    self.skipWaiting();\n  });\n  self.addEventListener('activate', async () => {\n    console.log('Removing previous service worker'); // Unregister, in case app doesn't\n\n    self.registration.unregister(); // Delete all caches\n\n    const keys = await self.caches.keys();\n    await Promise.all(keys.map(key => self.caches.delete(key))); // Delete DB\n\n    await deleteSectionsDB(); // Force refresh all windows\n\n    const clients = await self.clients.matchAll({\n      type: 'window'\n    });\n    clients.forEach(client => client.navigate(client.url));\n  });\n}\nexport function urlMeetsDefaultCachingCriteria(url) {\n  // Don't cache if pwa.caching.omitExternalRequests in d2.config is true\n  if (OMIT_EXTERNAL_REQUESTS && url.origin !== self.location.origin) {\n    return false;\n  } // Don't cache if url matches filter in pattern list from d2.config.js\n\n\n  const urlMatchesFilter = URL_FILTER_PATTERNS.some(pattern => pattern.test(url.href));\n\n  if (urlMatchesFilter) {\n    return false;\n  }\n\n  return true;\n}\n/** Called upon SW activation */\n\nexport function createDB() {\n  const dbPromise = openSectionsDB();\n  self.dbPromise = dbPromise;\n  return dbPromise;\n}\n/** Called upon SW activation */\n\nexport async function removeUnusedCaches() {\n  const cacheKeys = await caches.keys();\n  return Promise.all(cacheKeys.map(async key => {\n    const isWorkboxKey = /workbox/.test(key);\n    const isInKeepList = !!CACHE_KEEP_LIST.find(keepKey => keepKey === key);\n    const db = await self.dbPromise;\n    const isASavedSection = !!(await db.get(SECTIONS_STORE, key));\n\n    if (!isWorkboxKey && !isInKeepList && !isASavedSection) {\n      console.debug(`[SW] Cache with key ${key} is unused and will be deleted`);\n      return caches.delete(key);\n    }\n  }));\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar consoleLogger = {\n  type: 'logger',\n\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    var _console;\n\n    /* eslint no-console: 0 */\n    if (console && console[type]) (_console = console)[type].apply(_console, _toConsumableArray(args));\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  Logger.prototype.init = function init(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  };\n\n  Logger.prototype.setDebug = function setDebug(bool) {\n    this.debug = bool;\n  };\n\n  Logger.prototype.log = function log() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return this.forward(args, 'log', '', true);\n  };\n\n  Logger.prototype.warn = function warn() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return this.forward(args, 'warn', '', true);\n  };\n\n  Logger.prototype.error = function error() {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return this.forward(args, 'error', '');\n  };\n\n  Logger.prototype.deprecate = function deprecate() {\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  };\n\n  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = '' + prefix + this.prefix + ' ' + args[0];\n    return this.logger[lvl](args);\n  };\n\n  Logger.prototype.create = function create(moduleName) {\n    return new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));\n  };\n\n  return Logger;\n}();\n\nexport default new Logger();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  EventEmitter.prototype.on = function on(events, listener) {\n    var _this = this;\n\n    events.split(' ').forEach(function (event) {\n      _this.observers[event] = _this.observers[event] || [];\n      _this.observers[event].push(listener);\n    });\n  };\n\n  EventEmitter.prototype.off = function off(event, listener) {\n    var _this2 = this;\n\n    if (!this.observers[event]) {\n      return;\n    }\n\n    this.observers[event].forEach(function () {\n      if (!listener) {\n        delete _this2.observers[event];\n      } else {\n        var index = _this2.observers[event].indexOf(listener);\n        if (index > -1) {\n          _this2.observers[event].splice(index, 1);\n        }\n      }\n    });\n  };\n\n  EventEmitter.prototype.emit = function emit(event) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (this.observers[event]) {\n      var cloned = [].concat(this.observers[event]);\n      cloned.forEach(function (observer) {\n        observer.apply(undefined, args);\n      });\n    }\n\n    if (this.observers['*']) {\n      var _cloned = [].concat(this.observers['*']);\n      _cloned.forEach(function (observer) {\n        var _ref;\n\n        observer.apply(observer, (_ref = [event]).concat.apply(_ref, args));\n      });\n    }\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;","export function makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n  return '' + object;\n}\n\nexport function copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nexport function setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nexport function pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nexport function getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nexport function deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n  return target;\n}\n\nexport function regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n/* eslint-enable */\n\nexport function escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport EventEmitter from './EventEmitter.js';\nimport * as utils from './utils.js';\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data || {};\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    utils.setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { silent: false };\n\n    /* eslint no-restricted-syntax: 0 */\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { silent: false };\n\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(EventEmitter);\n\nexport default ResourceStore;","export default {\n\n  processors: {},\n\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  }\n};","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport postProcessor from './postProcessor.js';\nimport * as utils from './utils.js';\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    utils.copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);\n\n    _this.options = options;\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  Translator.prototype.changeLanguage = function changeLanguage(lng) {\n    if (lng) this.language = lng;\n  };\n\n  Translator.prototype.exists = function exists(key) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { interpolation: {} };\n\n    var resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  };\n\n  Translator.prototype.extractFromKey = function extractFromKey(key, options) {\n    var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    var namespaces = options.ns || this.options.defaultNS;\n    if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n      var parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key: key,\n      namespaces: namespaces\n    };\n  };\n\n  Translator.prototype.translate = function translate(keys, options) {\n    var _this2 = this;\n\n    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object' && this.options.overloadTranslationOptionHandler) {\n      /* eslint prefer-rest-params: 0 */\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (!options) options = {};\n\n    // non valid keys handling\n    if (keys === undefined || keys === null || keys === '') return '';\n    if (typeof keys === 'number') keys = String(keys);\n    if (typeof keys === 'string') keys = [keys];\n\n    // separators\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    // get namespace(s)\n\n    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n        key = _extractFromKey.key,\n        namespaces = _extractFromKey.namespaces;\n\n    var namespace = namespaces[namespaces.length - 1];\n\n    // return key on CIMode\n    var lng = options.lng || this.language;\n    var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        return namespace + nsSeparator + key;\n      }\n\n      return key;\n    }\n\n    // resolve from store\n    var resolved = this.resolve(keys, options);\n    var res = resolved && resolved.res;\n    var resUsedKey = resolved && resolved.usedKey || key;\n\n    var resType = Object.prototype.toString.apply(res);\n    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (res && handleAsObject && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : 'key \\'' + key + ' (' + this.language + ')\\' returned an object instead of string.';\n      }\n\n      // if we got a separator we loop over children - else we just return object as is\n      // as having it set to false means no hierarchy so no lookup for nested values\n      if (options.keySeparator || this.options.keySeparator) {\n        var copy = resType === '[object Array]' ? [] : {}; // apply child translation on a copy\n\n        /* eslint no-restricted-syntax: 0 */\n        for (var m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            var deepKey = '' + resUsedKey + keySeparator + m;\n            copy[m] = this.translate(deepKey, _extends({}, options, { joinArrays: false, ns: namespaces }));\n            if (copy[m] === deepKey) copy[m] = res[m]; // if nothing found use orginal value as fallback\n          }\n        }\n        res = copy;\n      }\n    } else if (joinArrays && resType === '[object Array]') {\n      // array special treatment\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options);\n    } else {\n      // string, empty or null\n      var usedDefault = false;\n      var usedKey = false;\n\n      // fallback value\n      if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n        usedDefault = true;\n        res = options.defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n\n      // save missing\n      var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n\n        var lngs = [];\n        var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (var i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n\n        var send = function send(l, k) {\n          if (_this2.options.missingKeyHandler) {\n            _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n          } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n            _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n          }\n          _this2.emit('missingKey', l, namespace, k, res);\n        };\n\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && options.count) {\n            lngs.forEach(function (l) {\n              var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n              plurals.forEach(function (p) {\n                return send([l], p);\n              });\n            });\n          } else {\n            send(lngs, key);\n          }\n        }\n      }\n\n      // extend\n      res = this.extendTranslation(res, keys, options);\n\n      // append namespace if still key\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;\n\n      // parseMissingKeyHandler\n      if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n    }\n\n    // return\n    return res;\n  };\n\n  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {\n    var _this3 = this;\n\n    if (options.interpolation) this.interpolator.init(_extends({}, options, { interpolation: _extends({}, this.options.interpolation, options.interpolation) }));\n\n    // interpolate\n    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);\n    res = this.interpolator.interpolate(res, data, options.lng || this.language);\n\n    // nesting\n    if (options.nest !== false) res = this.interpolator.nest(res, function () {\n      return _this3.translate.apply(_this3, arguments);\n    }, options);\n\n    if (options.interpolation) this.interpolator.reset();\n\n    // post process\n    var postProcess = options.postProcess || this.options.postProcess;\n    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, options, this);\n    }\n\n    return res;\n  };\n\n  Translator.prototype.resolve = function resolve(keys) {\n    var _this4 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var found = void 0;\n    var usedKey = void 0;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach(function (k) {\n      if (_this4.isValidLookup(found)) return;\n      var extracted = _this4.extractFromKey(k, options);\n      var key = extracted.key;\n      usedKey = key;\n      var namespaces = extracted.namespaces;\n      if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n\n      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n\n      var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language);\n\n      namespaces.forEach(function (ns) {\n        if (_this4.isValidLookup(found)) return;\n\n        codes.forEach(function (code) {\n          if (_this4.isValidLookup(found)) return;\n\n          var finalKey = key;\n          var finalKeys = [finalKey];\n\n          var pluralSuffix = void 0;\n          if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n\n          // fallback for plural if context not found\n          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n\n          // get key for context if needed\n          if (needsContextHandling) finalKeys.push(finalKey += '' + _this4.options.contextSeparator + options.context);\n\n          // get key for plural if needed\n          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          var possibleKey = void 0;\n          /* eslint no-cond-assign: 0 */\n          while (possibleKey = finalKeys.pop()) {\n            if (!_this4.isValidLookup(found)) {\n              found = _this4.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n\n    return { res: found, usedKey: usedKey };\n  };\n\n  Translator.prototype.isValidLookup = function isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  };\n\n  Translator.prototype.getResource = function getResource(code, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    return this.resourceStore.getResource(code, ns, key, options);\n  };\n\n  return Translator;\n}(EventEmitter);\n\nexport default Translator;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport baseLogger from './logger.js';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n\n    this.whitelist = this.options.whitelist || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  LanguageUtil.prototype.getScriptPartFromCode = function getScriptPartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return null;\n\n    var p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    return this.formatLanguageCode(p.join('-'));\n  };\n\n  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return code;\n\n    var p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  };\n\n  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      var p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map(function (part) {\n          return part.toLowerCase();\n        });\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if lenght 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    }\n\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  };\n\n  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;\n  };\n\n  LanguageUtil.prototype.getFallbackCodes = function getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n\n    if (!code) return fallbacks.default || [];\n\n    // asume we have an object defining fallbacks\n    var found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks.default;\n\n    return found || [];\n  };\n\n  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {\n    var _this = this;\n\n    var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n\n    var codes = [];\n    var addCode = function addCode(c) {\n      if (!c) return;\n      if (_this.isWhitelisted(c)) {\n        codes.push(c);\n      } else {\n        _this.logger.warn('rejecting non-whitelisted language code: ' + c);\n      }\n    };\n\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCodes.forEach(function (fc) {\n      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  };\n\n  return LanguageUtil;\n}();\n\nexport default LanguageUtil;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport baseLogger from './logger.js';\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nvar sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];\n\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = baseLogger.create('pluralResolver');\n\n    this.rules = createRules();\n  }\n\n  PluralResolver.prototype.addRule = function addRule(lng, obj) {\n    this.rules[lng] = obj;\n  };\n\n  PluralResolver.prototype.getRule = function getRule(code) {\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  };\n\n  PluralResolver.prototype.needsPlural = function needsPlural(code) {\n    var rule = this.getRule(code);\n\n    return rule && rule.numbers.length > 1;\n  };\n\n  PluralResolver.prototype.getPluralFormsOfKey = function getPluralFormsOfKey(code, key) {\n    var _this = this;\n\n    var ret = [];\n\n    var rule = this.getRule(code);\n\n    if (!rule) return ret;\n\n    rule.numbers.forEach(function (n) {\n      var suffix = _this.getSuffix(code, n);\n      ret.push('' + key + suffix);\n    });\n\n    return ret;\n  };\n\n  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {\n    var _this2 = this;\n\n    var rule = this.getRule(code);\n\n    if (rule) {\n      // if (rule.numbers.length === 1) return ''; // only singular\n\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n\n      // special treatment for lngs only having singular and plural\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n\n      // COMPATIBILITY JSON\n      // v1\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return '_plural_' + suffix.toString();\n        return returnSuffix();\n      } else if ( /* v2 */this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      } else if ( /* v3 - gettext index */rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n\n    this.logger.warn('no plural rule found for: ' + code);\n    return '';\n  };\n\n  return PluralResolver;\n}();\n\nexport default PluralResolver;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport * as utils from './utils.js';\nimport baseLogger from './logger.js';\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n\n    this.init(options, true);\n  }\n\n  /* eslint no-param-reassign: 0 */\n\n\n  Interpolator.prototype.init = function init() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var reset = arguments[1];\n\n    if (reset) {\n      this.options = options;\n      this.format = options.interpolation && options.interpolation.format || function (value) {\n        return value;\n      };\n      this.escape = options.interpolation && options.interpolation.escape || utils.escape;\n    }\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    var iOpts = options.interpolation;\n\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n\n    this.prefix = iOpts.prefix ? utils.regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? utils.regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n\n    this.nestingPrefix = iOpts.nestingPrefix ? utils.regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || utils.regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? utils.regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || utils.regexEscape(')');\n\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n\n    // the regexp\n    this.resetRegExp();\n  };\n\n  Interpolator.prototype.reset = function reset() {\n    if (this.options) this.init(this.options);\n  };\n\n  Interpolator.prototype.resetRegExp = function resetRegExp() {\n    // the regexp\n    var regexpStr = this.prefix + '(.+?)' + this.suffix;\n    this.regexp = new RegExp(regexpStr, 'g');\n\n    var regexpUnescapeStr = '' + this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n\n    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  };\n\n  Interpolator.prototype.interpolate = function interpolate(str, data, lng) {\n    var _this = this;\n\n    var match = void 0;\n    var value = void 0;\n    var replaces = void 0;\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    var handleFormat = function handleFormat(key) {\n      if (key.indexOf(_this.formatSeparator) < 0) return utils.getPath(data, key);\n\n      var p = key.split(_this.formatSeparator);\n      var k = p.shift().trim();\n      var f = p.join(_this.formatSeparator).trim();\n\n      return _this.format(utils.getPath(data, k), f, lng);\n    };\n\n    this.resetRegExp();\n\n    replaces = 0;\n    // unescape if has unescapePrefix/Suffix\n    /* eslint no-cond-assign: 0 */\n    while (match = this.regexpUnescape.exec(str)) {\n      value = handleFormat(match[1].trim());\n      str = str.replace(match[0], value);\n      this.regexpUnescape.lastIndex = 0;\n      replaces++;\n      if (replaces >= this.maxReplaces) {\n        break;\n      }\n    }\n\n    replaces = 0;\n    // regular escape on demand\n    while (match = this.regexp.exec(str)) {\n      value = handleFormat(match[1].trim());\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        if (typeof this.options.missingInterpolationHandler === 'function') {\n          var temp = this.options.missingInterpolationHandler(str, match);\n          value = typeof temp === 'string' ? temp : '';\n        } else {\n          this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n          value = '';\n        }\n      }\n      value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n      replaces++;\n      if (replaces >= this.maxReplaces) {\n        break;\n      }\n    }\n    return str;\n  };\n\n  Interpolator.prototype.nest = function nest(str, fc) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var match = void 0;\n    var value = void 0;\n\n    var clonedOptions = _extends({}, options);\n    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key, inheritedOptions) {\n      if (key.indexOf(',') < 0) return key;\n\n      var p = key.split(',');\n      key = p.shift();\n      var optionsString = p.join(',');\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      optionsString = optionsString.replace(/'/g, '\"');\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n\n        if (inheritedOptions) clonedOptions = _extends({}, inheritedOptions, clonedOptions);\n      } catch (e) {\n        this.logger.error('failed parsing options string in nesting for key ' + key, e);\n      }\n\n      return key;\n    }\n\n    // regular escape on demand\n    while (match = this.nestingRegexp.exec(str)) {\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n\n      // is only the nesting key (key1 = '$(key2)') return the value without stringify\n      if (value && match[0] === str && typeof value !== 'string') return value;\n\n      // no string to include or empty\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to resolve ' + match[1] + ' for nesting ' + str);\n        value = '';\n      }\n      // Nested keys should not be escaped by default #854\n      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  return Interpolator;\n}();\n\nexport default Interpolator;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport * as utils from './utils.js';\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [];\n    var pending = [];\n    var toLoadLanguages = [];\n    var toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (_this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n          // nothing to do for err\n        } else if (_this2.state[name] === 1) {\n          if (pending.indexOf(name) < 0) pending.push(name);\n        } else {\n          _this2.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending.indexOf(name) < 0) pending.push(name);\n          if (toLoad.indexOf(name) < 0) toLoad.push(name);\n          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _this3 = this;\n\n    var _name$split = name.split('|'),\n        _name$split2 = _slicedToArray(_name$split, 2),\n        lng = _name$split2[0],\n        ns = _name$split2[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // callback if ready\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        _this3.emit('loaded', q.loaded);\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName) {\n    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _this4 = this;\n\n    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var callback = arguments[5];\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    return this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this4.read.call(_this4, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this5 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this5.logger.log('successfully loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);\n\n        toLoad.toLoad.forEach(function (name) {\n          var _name$split3 = name.split('|'),\n              _name$split4 = _slicedToArray(_name$split3, 2),\n              l = _name$split4[0],\n              n = _name$split4[1];\n\n          var bundle = utils.getPath(data, [l, n]);\n          if (bundle) {\n            _this5.loaded(name, err, bundle);\n          } else {\n            var error = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n            _this5.loaded(name, error);\n            _this5.logger.error(error);\n          }\n        });\n      });\n    } else {\n      toLoad.toLoad.forEach(function (name) {\n        _this5.loadOne(name);\n      });\n    }\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces) {\n    var _this6 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this6.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this6.logger.log('successfully reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);\n\n        languages.forEach(function (l) {\n          namespaces.forEach(function (n) {\n            var bundle = utils.getPath(data, [l, n]);\n            if (bundle) {\n              _this6.loaded(l + '|' + n, err, bundle);\n            } else {\n              var error = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n              _this6.loaded(l + '|' + n, error);\n              _this6.logger.error(error);\n            }\n          });\n        });\n      });\n    } else {\n      languages.forEach(function (l) {\n        namespaces.forEach(function (n) {\n          _this6.loadOne(l + '|' + n, 're');\n        });\n      });\n    }\n  };\n\n  Connector.prototype.loadOne = function loadOne(name) {\n    var _this7 = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var _name$split5 = name.split('|'),\n        _name$split6 = _slicedToArray(_name$split5, 2),\n        lng = _name$split6[0],\n        ns = _name$split6[1];\n\n    this.read(lng, ns, 'read', null, null, function (err, data) {\n      if (err) _this7.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n      if (!err && data) _this7.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);\n\n      _this7.loaded(name, err, data);\n    });\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n    if (this.backend && this.backend.create) {\n      this.backend.create(languages, namespace, key, fallbackValue, null /* unused callback */, _extends({}, options, { isUpdate: isUpdate }));\n    }\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(cache, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.cache = cache;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = baseLogger.create('cacheConnector');\n\n    if (_this.cache && _this.cache.init) _this.cache.init(services, options.cache, options);\n    return _this;\n  }\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this2 = this;\n\n    if (!this.cache) return callback && callback();\n    var options = _extends({}, this.cache.options, this.options.cache);\n\n    var loadLngs = typeof languages === 'string' ? this.services.languageUtils.toResolveHierarchy(languages) : languages;\n\n    if (options.enabled) {\n      this.cache.load(loadLngs, function (err, data) {\n        if (err) _this2.logger.error('loading languages ' + loadLngs.join(', ') + ' from cache failed', err);\n        if (data) {\n          /* eslint no-restricted-syntax: 0 */\n          for (var l in data) {\n            if (Object.prototype.hasOwnProperty.call(data, l)) {\n              for (var n in data[l]) {\n                if (Object.prototype.hasOwnProperty.call(data[l], n)) {\n                  if (n !== 'i18nStamp') {\n                    var bundle = data[l][n];\n                    if (bundle) _this2.store.addResourceBundle(l, n, bundle);\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (callback) callback();\n      });\n    } else if (callback) {\n      callback();\n    }\n  };\n\n  Connector.prototype.save = function save() {\n    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nexport default Connector;","export { get };\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    whitelist: false, // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    saveMissing: false, // enable to send missing values\n    updateMissing: false, // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    saveMissingPlurals: true, // will save all forms not only singular key\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n    missingInterpolationHandler: false, // function(str, match)\n\n    postProcess: false, // string or array of postProcessor names\n    returnNull: true, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (args[1]) ret.defaultValue = args[1];\n      if (args[2]) ret.tDescription = args[2];\n      return ret;\n    },\n\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000 // max replaces to prevent endless loop\n    }\n  };\n}\n\n/* eslint no-param-reassign: 0 */\nexport function transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend whitelist with cimode\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n    options.whitelist = options.whitelist.concat(['cimode']);\n  }\n\n  return options;\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport ResourceStore from './ResourceStore.js';\nimport Translator from './Translator.js';\nimport LanguageUtils from './LanguageUtils.js';\nimport PluralResolver from './PluralResolver.js';\nimport Interpolator from './Interpolator.js';\nimport BackendConnector from './BackendConnector.js';\nimport CacheConnector from './CacheConnector.js';\nimport { get as getDefaults, transformOptions } from './defaults.js';\nimport postProcessor from './postProcessor.js';\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = { external: [] };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      var _ret;\n\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) return _ret = _this.init(options, callback), _possibleConstructorReturn(_this, _ret);\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n\n  I18n.prototype.init = function init() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    this.options = _extends({}, getDefaults(), this.options, transformOptions(options));\n\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      var lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n\n      var s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.resourceStore.on('added removed', function (lng, ns) {\n        s.cacheConnector.save();\n      });\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, { prepend: this.options.pluralSeparator, compatibilityJSON: this.options.compatibilityJSON, simplifyPluralSuffix: this.options.simplifyPluralSuffix });\n      s.interpolator = new Interpolator(this.options);\n\n      s.backendConnector = new BackendConnector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      s.backendConnector.on('loaded', function (loaded) {\n        s.cacheConnector.save();\n      });\n\n      s.cacheConnector = new CacheConnector(createClassOnDemand(this.modules.cache), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.cacheConnector.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      this.translator = new Translator(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', function (event) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      this.modules.external.forEach(function (m) {\n        if (m.init) m.init(_this2);\n      });\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        var _store;\n\n        return (_store = _this2.store)[fcName].apply(_store, arguments);\n      };\n    });\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.isInitialized = true;\n        _this2.logger.log('initialized', _this2.options);\n        _this2.emit('initialized', _this2.options);\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return this;\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  I18n.prototype.loadResources = function loadResources() {\n    var _this3 = this;\n\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n    if (!this.options.resources) {\n      if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n      var toLoad = [];\n\n      var append = function append(lng) {\n        if (!lng) return;\n        var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!this.language) {\n        // at least load fallbacks in this case\n        var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(function (l) {\n          return append(l);\n        });\n      } else {\n        append(this.language);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(function (l) {\n          return append(l);\n        });\n      }\n\n      this.services.cacheConnector.load(toLoad, this.options.ns, function () {\n        _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);\n      });\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    this.services.backendConnector.reload(lngs, ns);\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'cache') {\n      this.modules.cache = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var done = function done(err, l) {\n      _this4.translator.changeLanguage(l);\n\n      if (l) {\n        _this4.emit('languageChanged', l);\n        _this4.logger.log('languageChanged', l);\n      }\n\n      if (callback) callback(err, function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n    };\n\n    var setLng = function setLng(l) {\n      if (l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n\n        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      _this4.loadResources(function (err) {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      this.services.languageDetector.detect(setLng);\n    } else {\n      setLng(lng);\n    }\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key, opts) {\n      for (var _len4 = arguments.length, rest = Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        rest[_key4 - 2] = arguments[_key4];\n      }\n\n      var options = _extends({}, opts);\n      if ((typeof opts === 'undefined' ? 'undefined' : _typeof(opts)) !== 'object') {\n        options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      }\n\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    var _translator;\n\n    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    var _translator2;\n\n    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    if (!this.options.ns) return callback && callback();\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) return callback();\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n    if (!lng) return 'rtl';\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  /* eslint class-methods-use-this: 0 */\n\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    var mergedOptions = _extends({}, this.options, options, { isClone: true });\n    var clone = new I18n(mergedOptions);\n    var membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n    clone.translator = new Translator(clone.services, clone.options);\n    clone.translator.on('*', function (event) {\n      for (var _len5 = arguments.length, args = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n        args[_key5 - 1] = arguments[_key5];\n      }\n\n      clone.emit.apply(clone, [event].concat(args));\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = clone.options; // sync options\n\n    return clone;\n  };\n\n  return I18n;\n}(EventEmitter);\n\nexport default new I18n();","import i18next from './i18next.js';\n\nexport default i18next;\n\nexport var changeLanguage = i18next.changeLanguage.bind(i18next);\nexport var cloneInstance = i18next.cloneInstance.bind(i18next);\nexport var createInstance = i18next.createInstance.bind(i18next);\nexport var dir = i18next.dir.bind(i18next);\nexport var exists = i18next.exists.bind(i18next);\nexport var getFixedT = i18next.getFixedT.bind(i18next);\nexport var init = i18next.init.bind(i18next);\nexport var loadLanguages = i18next.loadLanguages.bind(i18next);\nexport var loadNamespaces = i18next.loadNamespaces.bind(i18next);\nexport var loadResources = i18next.loadResources.bind(i18next);\nexport var off = i18next.off.bind(i18next);\nexport var on = i18next.on.bind(i18next);\nexport var setDefaultNamespace = i18next.setDefaultNamespace.bind(i18next);\nexport var t = i18next.t.bind(i18next);\nexport var use = i18next.use.bind(i18next);","import i18next from 'i18next';\ni18next.init({\n  resources: undefined,\n  lng: 'en',\n  fallbackLng: 'en',\n  debug: false,\n  ns: ['translation'],\n  defaultNS: 'translation',\n  fallbackNS: false,\n  nsSeparator: false,\n  returnEmptyString: false,\n  returnObjects: false,\n  keySeparator: false,\n  react: {\n    wait: true\n  }\n});\nexport default i18next;","import { clientsClaim } from 'workbox-core';\nimport { precacheAndRoute, createHandlerBoundToURL } from 'workbox-precaching';\nimport { registerRoute, setDefaultHandler } from 'workbox-routing';\nimport { NetworkFirst, StaleWhileRevalidate, Strategy } from 'workbox-strategies';\nimport { swMsgs } from '../lib/constants';\nimport { startRecording, completeRecording, handleRecordedRequest, isClientRecordingRequests } from './recording-mode';\nimport { urlMeetsDefaultCachingCriteria, createDB, removeUnusedCaches, setUpKillSwitchServiceWorker } from './utils';\nexport function setUpServiceWorker() {\n  const pwaEnabled = process.env.REACT_APP_DHIS2_APP_PWA_ENABLED === 'true';\n\n  if (!pwaEnabled) {\n    // Install 'killswitch' service worker and refresh page to clear\n    // rogue service workers. App should then unregister SW\n    setUpKillSwitchServiceWorker();\n    return;\n  } // Misc setup\n  // Makes sure to take control of available clients when the SW is activated\n\n\n  clientsClaim(); // Disable verbose logs\n  // TODO: control with env var\n\n  self.__WB_DISABLE_DEV_LOGS = true; // Globals (Note: global state resets each time SW goes idle)\n  // Tracks recording states for multiple clients to handle multiple windows\n  // recording simultaneously\n\n  self.clientRecordingStates = {}; // Local constants\n\n  const PRODUCTION_ENV = process.env.NODE_ENV === 'production';\n  const fileExtensionRegexp = new RegExp('/[^/?]+\\\\.[^/]+$'); // Workbox routes\n  // Only precache in production mode to enable easier app development.\n  // In development, static assets are handled by 'network first' strategy\n  // and will be kept up-to-date.\n\n  if (PRODUCTION_ENV) {\n    // Precache all of the assets generated by your build process.\n    // Their URLs are injected into the manifest variable below.\n    // This variable must be present somewhere in your service worker file,\n    // even if you decide not to use precaching. See https://cra.link/PWA\n    precacheAndRoute(self.__WB_MANIFEST || []); // Similar to above; manifest injection from `workbox-build`\n    // Precaches all assets in the shell's build folder except in `static`\n    // (which CRA's workbox-webpack-plugin handle smartly).\n    // Additional files to precache can be added using the\n    // `additionalManifestEntries` option in d2.config.js; see the docs\n    // '[]' fallback prevents an error when switching pwa enabled to disabled\n\n    precacheAndRoute(self.__WB_BUILD_MANIFEST || []); // From CRA Boilerplate:\n    // Set up App Shell-style routing, so that all navigation requests\n    // are fulfilled with your index.html shell. Learn more at\n    // https://developers.google.com/web/fundamentals/architecture/app-shell\n\n    registerRoute( // Return false to exempt requests from being fulfilled by index.html.\n    ({\n      request,\n      url\n    }) => {\n      // If this isn't a navigation, skip.\n      if (request.mode !== 'navigate') {\n        return false;\n      } // If this is a URL that starts with /_, skip.\n\n\n      if (url.pathname.startsWith('/_')) {\n        return false;\n      } // If this looks like a URL for a resource, because it contains\n      // a file extension, skip.\n\n\n      if (url.pathname.match(fileExtensionRegexp)) {\n        return false;\n      } // Return true to signal that we want to use the handler.\n\n\n      return true;\n    }, createHandlerBoundToURL(process.env.PUBLIC_URL + '/index.html'));\n  } // Request handler during recording mode: ALL requests are cached\n  // Handling routing: https://developers.google.com/web/tools/workbox/modules/workbox-routing#matching_and_handling_in_routes\n\n\n  registerRoute(({\n    event\n  }) => isClientRecordingRequests(event.clientId), handleRecordedRequest); // If not recording, fall through to default caching strategies\n  // SWR strategy for static assets that can't be precached.\n  // Skip in development environments\n\n  registerRoute(({\n    url\n  }) => PRODUCTION_ENV && urlMeetsDefaultCachingCriteria(url) && fileExtensionRegexp.test(url.pathname), new StaleWhileRevalidate({\n    cacheName: 'other-assets'\n  })); // Network-first caching by default\n\n  registerRoute(({\n    url\n  }) => urlMeetsDefaultCachingCriteria(url), new NetworkFirst({\n    cacheName: 'app-shell'\n  })); // Strategy for all other requests: try cache if network fails,\n  // but don't add anything to cache\n\n  class NetworkAndTryCache extends Strategy {\n    _handle(request, handler) {\n      return handler.fetch(request).catch(fetchErr => {\n        // handler.cacheMatch doesn't work b/c it doesn't check all caches\n        return caches.match(request).then(res => {\n          // If not found in cache, throw original fetchErr\n          // (if there's a cache err, that will be returned)\n          if (!res) {\n            throw fetchErr;\n          }\n\n          return res;\n        });\n      });\n    }\n\n  } // Use fallback strategy as default\n\n\n  setDefaultHandler(new NetworkAndTryCache()); // Service Worker event handlers\n\n  self.addEventListener('message', event => {\n    if (!event.data) {\n      return;\n    } // This allows the web app to trigger skipWaiting via\n    // registration.waiting.postMessage({type: 'SKIP_WAITING'})\n    // Paired with `clientsClaim()` at top of file.\n\n\n    if (event.data.type === swMsgs.skipWaiting) {\n      self.skipWaiting();\n    }\n\n    if (event.data.type === swMsgs.startRecording) {\n      startRecording(event);\n    }\n\n    if (event.data.type === swMsgs.completeRecording) {\n      completeRecording(event.source.id); // same as FetchEvent.clientId\n    }\n  }); // Open DB on activation\n\n  self.addEventListener('activate', event => {\n    event.waitUntil(createDB().then(removeUnusedCaches));\n  });\n}","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport './_version.js';\n/**\n * Claim any currently available clients once the service worker\n * becomes active. This is normally used in conjunction with `skipWaiting()`.\n *\n * @memberof module:workbox-core\n */\nfunction clientsClaim() {\n    self.addEventListener('activate', () => self.clients.claim());\n}\nexport { clientsClaim };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { getOrCreatePrecacheController } from './utils/getOrCreatePrecacheController.js';\nimport './_version.js';\n/**\n * Helper function that calls\n * {@link PrecacheController#createHandlerBoundToURL} on the default\n * {@link PrecacheController} instance.\n *\n * If you are creating your own {@link PrecacheController}, then call the\n * {@link PrecacheController#createHandlerBoundToURL} on that instance,\n * instead of using this function.\n *\n * @param {string} url The precached URL which will be used to lookup the\n * `Response`.\n * @param {boolean} [fallbackToNetwork=true] Whether to attempt to get the\n * response from the network if there's a precache miss.\n * @return {module:workbox-routing~handlerCallback}\n *\n * @memberof module:workbox-precaching\n */\nfunction createHandlerBoundToURL(url) {\n    const precacheController = getOrCreatePrecacheController();\n    return precacheController.createHandlerBoundToURL(url);\n}\nexport { createHandlerBoundToURL };\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { getOrCreateDefaultRouter } from './utils/getOrCreateDefaultRouter.js';\nimport './_version.js';\n/**\n * Define a default `handler` that's called when no routes explicitly\n * match the incoming request.\n *\n * Without a default handler, unmatched requests will go against the\n * network as if there were no service worker present.\n *\n * @param {module:workbox-routing~handlerCallback} handler A callback\n * function that returns a Promise resulting in a Response.\n *\n * @memberof module:workbox-routing\n */\nfunction setDefaultHandler(handler) {\n    const defaultRouter = getOrCreateDefaultRouter();\n    defaultRouter.setDefaultHandler(handler);\n}\nexport { setDefaultHandler };\n","import { setUpServiceWorker } from '@dhis2/pwa'\n\nsetUpServiceWorker()\n"]}